/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function I0(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Xt={},ai=[],Ma=()=>{},Wp=()=>!1,vc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),R0=t=>t.startsWith("onUpdate:"),zr=Object.assign,O0=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},L2=Object.prototype.hasOwnProperty,qt=(t,e)=>L2.call(t,e),xt=Array.isArray,ni=t=>Fl(t)==="[object Map]",ki=t=>Fl(t)==="[object Set]",ah=t=>Fl(t)==="[object Date]",Lt=t=>typeof t=="function",hr=t=>typeof t=="string",da=t=>typeof t=="symbol",Qt=t=>t!==null&&typeof t=="object",Vp=t=>(Qt(t)||Lt(t))&&Lt(t.then)&&Lt(t.catch),Gp=Object.prototype.toString,Fl=t=>Gp.call(t),$2=t=>Fl(t).slice(8,-1),Kp=t=>Fl(t)==="[object Object]",F0=t=>hr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,cl=I0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bc=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},E2=/-\w/g,Zs=bc(t=>t.replace(E2,e=>e.slice(1).toUpperCase())),M2=/\B([A-Z])/g,Hn=bc(t=>t.replace(M2,"-$1").toLowerCase()),yc=bc(t=>t.charAt(0).toUpperCase()+t.slice(1)),pu=bc(t=>t?`on${yc(t)}`:""),On=(t,e)=>!Object.is(t,e),Rd=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Yp=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},Zd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},T2=t=>{const e=hr(t)?Number(t):NaN;return isNaN(e)?t:e};let nh;const xc=()=>nh||(nh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ta(t){if(xt(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=hr(s)?O2(s):Ta(s);if(n)for(const o in n)e[o]=n[o]}return e}else if(hr(t)||Qt(t))return t}const D2=/;(?![^(]*\))/g,I2=/:([^]+)/,R2=/\/\*[^]*?\*\//g;function O2(t){const e={};return t.replace(R2,"").split(D2).forEach(r=>{if(r){const s=r.split(I2);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function at(t){let e="";if(hr(t))e=t;else if(xt(t))for(let r=0;r<t.length;r++){const s=at(t[r]);s&&(e+=s+" ")}else if(Qt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const F2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",j2=I0(F2);function Jp(t){return!!t||t===""}function U2(t,e){if(t.length!==e.length)return!1;let r=!0;for(let s=0;r&&s<t.length;s++)r=_o(t[s],e[s]);return r}function _o(t,e){if(t===e)return!0;let r=ah(t),s=ah(e);if(r||s)return r&&s?t.getTime()===e.getTime():!1;if(r=da(t),s=da(e),r||s)return t===e;if(r=xt(t),s=xt(e),r||s)return r&&s?U2(t,e):!1;if(r=Qt(t),s=Qt(e),r||s){if(!r||!s)return!1;const n=Object.keys(t).length,o=Object.keys(e).length;if(n!==o)return!1;for(const i in t){const l=t.hasOwnProperty(i),d=e.hasOwnProperty(i);if(l&&!d||!l&&d||!_o(t[i],e[i]))return!1}}return String(t)===String(e)}function j0(t,e){return t.findIndex(r=>_o(r,e))}const Zp=t=>!!(t&&t.__v_isRef===!0),F=t=>hr(t)?t:t==null?"":xt(t)||Qt(t)&&(t.toString===Gp||!Lt(t.toString))?Zp(t)?F(t.value):JSON.stringify(t,Xp,2):String(t),Xp=(t,e)=>Zp(e)?Xp(t,e.value):ni(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],o)=>(r[mu(s,o)+" =>"]=n,r),{})}:ki(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>mu(r))}:da(e)?mu(e):Qt(e)&&!xt(e)&&!Kp(e)?String(e):e,mu=(t,e="")=>{var r;return da(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let as;class Qp{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=as,!e&&as&&(this.index=(as.scopes||(as.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=as;try{return as=this,e()}finally{as=r}}}on(){++this._on===1&&(this.prevScope=as,as=this)}off(){this._on>0&&--this._on===0&&(as=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function e1(t){return new Qp(t)}function t1(){return as}function B2(t,e=!1){as&&as.cleanups.push(t)}let sr;const vu=new WeakSet;class r1{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,as&&as.active&&as.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vu.has(this)&&(vu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||a1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oh(this),n1(this);const e=sr,r=la;sr=this,la=!0;try{return this.fn()}finally{o1(this),sr=e,la=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)z0(e);this.deps=this.depsTail=void 0,oh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){r0(this)&&this.run()}get dirty(){return r0(this)}}let s1=0,ul,fl;function a1(t,e=!1){if(t.flags|=8,e){t.next=fl,fl=t;return}t.next=ul,ul=t}function U0(){s1++}function B0(){if(--s1>0)return;if(fl){let e=fl;for(fl=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;ul;){let e=ul;for(ul=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function n1(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function o1(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),z0(s),z2(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function r0(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(i1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function i1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===_l)||(t.globalVersion=_l,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!r0(t))))return;t.flags|=2;const e=t.dep,r=sr,s=la;sr=t,la=!0;try{n1(t);const n=t.fn(t._value);(e.version===0||On(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{sr=r,la=s,o1(t),t.flags&=-3}}function z0(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)z0(o,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function z2(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let la=!0;const l1=[];function dn(){l1.push(la),la=!1}function cn(){const t=l1.pop();la=t===void 0?!0:t}function oh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=sr;sr=void 0;try{e()}finally{sr=r}}}let _l=0;class q2{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class q0{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!sr||!la||sr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==sr)r=this.activeLink=new q2(sr,this),sr.deps?(r.prevDep=sr.depsTail,sr.depsTail.nextDep=r,sr.depsTail=r):sr.deps=sr.depsTail=r,d1(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=sr.depsTail,r.nextDep=void 0,sr.depsTail.nextDep=r,sr.depsTail=r,sr.deps===r&&(sr.deps=s)}return r}trigger(e){this.version++,_l++,this.notify(e)}notify(e){U0();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{B0()}}}function d1(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)d1(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Xd=new WeakMap,xo=Symbol(""),s0=Symbol(""),Sl=Symbol("");function ns(t,e,r){if(la&&sr){let s=Xd.get(t);s||Xd.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new q0),n.map=s,n.key=r),n.track()}}function sn(t,e,r,s,n,o){const i=Xd.get(t);if(!i){_l++;return}const l=d=>{d&&d.trigger()};if(U0(),e==="clear")i.forEach(l);else{const d=xt(t),c=d&&F0(r);if(d&&r==="length"){const u=Number(s);i.forEach((m,y)=>{(y==="length"||y===Sl||!da(y)&&y>=u)&&l(m)})}else switch((r!==void 0||i.has(void 0))&&l(i.get(r)),c&&l(i.get(Sl)),e){case"add":d?c&&l(i.get("length")):(l(i.get(xo)),ni(t)&&l(i.get(s0)));break;case"delete":d||(l(i.get(xo)),ni(t)&&l(i.get(s0)));break;case"set":ni(t)&&l(i.get(xo));break}}B0()}function H2(t,e){const r=Xd.get(t);return r&&r.get(e)}function Go(t){const e=jt(t);return e===t?e:(ns(e,"iterate",Sl),Gs(t)?e:e.map(Jr))}function kc(t){return ns(t=jt(t),"iterate",Sl),t}const W2={__proto__:null,[Symbol.iterator](){return bu(this,Symbol.iterator,Jr)},concat(...t){return Go(this).concat(...t.map(e=>xt(e)?Go(e):e))},entries(){return bu(this,"entries",t=>(t[1]=Jr(t[1]),t))},every(t,e){return Ya(this,"every",t,e,void 0,arguments)},filter(t,e){return Ya(this,"filter",t,e,r=>r.map(Jr),arguments)},find(t,e){return Ya(this,"find",t,e,Jr,arguments)},findIndex(t,e){return Ya(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ya(this,"findLast",t,e,Jr,arguments)},findLastIndex(t,e){return Ya(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ya(this,"forEach",t,e,void 0,arguments)},includes(...t){return yu(this,"includes",t)},indexOf(...t){return yu(this,"indexOf",t)},join(t){return Go(this).join(t)},lastIndexOf(...t){return yu(this,"lastIndexOf",t)},map(t,e){return Ya(this,"map",t,e,void 0,arguments)},pop(){return tl(this,"pop")},push(...t){return tl(this,"push",t)},reduce(t,...e){return ih(this,"reduce",t,e)},reduceRight(t,...e){return ih(this,"reduceRight",t,e)},shift(){return tl(this,"shift")},some(t,e){return Ya(this,"some",t,e,void 0,arguments)},splice(...t){return tl(this,"splice",t)},toReversed(){return Go(this).toReversed()},toSorted(t){return Go(this).toSorted(t)},toSpliced(...t){return Go(this).toSpliced(...t)},unshift(...t){return tl(this,"unshift",t)},values(){return bu(this,"values",Jr)}};function bu(t,e,r){const s=kc(t),n=s[e]();return s!==t&&!Gs(t)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=r(o.value)),o}),n}const V2=Array.prototype;function Ya(t,e,r,s,n,o){const i=kc(t),l=i!==t&&!Gs(t),d=i[e];if(d!==V2[e]){const m=d.apply(t,o);return l?Jr(m):m}let c=r;i!==t&&(l?c=function(m,y){return r.call(this,Jr(m),y,t)}:r.length>2&&(c=function(m,y){return r.call(this,m,y,t)}));const u=d.call(i,c,s);return l&&n?n(u):u}function ih(t,e,r,s){const n=kc(t);let o=r;return n!==t&&(Gs(t)?r.length>3&&(o=function(i,l,d){return r.call(this,i,l,d,t)}):o=function(i,l,d){return r.call(this,i,Jr(l),d,t)}),n[e](o,...s)}function yu(t,e,r){const s=jt(t);ns(s,"iterate",Sl);const n=s[e](...r);return(n===-1||n===!1)&&V0(r[0])?(r[0]=jt(r[0]),s[e](...r)):n}function tl(t,e,r=[]){dn(),U0();const s=jt(t)[e].apply(t,r);return B0(),cn(),s}const G2=I0("__proto__,__v_isRef,__isVue"),c1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(da));function K2(t){da(t)||(t=String(t));const e=jt(this);return ns(e,"has",t),e.hasOwnProperty(t)}class u1{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return o;if(r==="__v_raw")return s===(n?o?ab:p1:o?g1:h1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const i=xt(e);if(!n){let d;if(i&&(d=W2[r]))return d;if(r==="hasOwnProperty")return K2}const l=Reflect.get(e,r,_r(e)?e:s);return(da(r)?c1.has(r):G2(r))||(n||ns(e,"get",r),o)?l:_r(l)?i&&F0(r)?l:l.value:Qt(l)?n?v1(l):jn(l):l}}class f1 extends u1{constructor(e=!1){super(!1,e)}set(e,r,s,n){let o=e[r];if(!this._isShallow){const d=Un(o);if(!Gs(s)&&!Un(s)&&(o=jt(o),s=jt(s)),!xt(e)&&_r(o)&&!_r(s))return d||(o.value=s),!0}const i=xt(e)&&F0(r)?Number(r)<e.length:qt(e,r),l=Reflect.set(e,r,s,_r(e)?e:n);return e===jt(n)&&(i?On(s,o)&&sn(e,"set",r,s):sn(e,"add",r,s)),l}deleteProperty(e,r){const s=qt(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&sn(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!da(r)||!c1.has(r))&&ns(e,"has",r),s}ownKeys(e){return ns(e,"iterate",xt(e)?"length":xo),Reflect.ownKeys(e)}}class Y2 extends u1{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const J2=new f1,Z2=new Y2,X2=new f1(!0);const a0=t=>t,kd=t=>Reflect.getPrototypeOf(t);function Q2(t,e,r){return function(...s){const n=this.__v_raw,o=jt(n),i=ni(o),l=t==="entries"||t===Symbol.iterator&&i,d=t==="keys"&&i,c=n[t](...s),u=r?a0:e?Qd:Jr;return!e&&ns(o,"iterate",d?s0:xo),{next(){const{value:m,done:y}=c.next();return y?{value:m,done:y}:{value:l?[u(m[0]),u(m[1])]:u(m),done:y}},[Symbol.iterator](){return this}}}}function wd(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function eb(t,e){const r={get(n){const o=this.__v_raw,i=jt(o),l=jt(n);t||(On(n,l)&&ns(i,"get",n),ns(i,"get",l));const{has:d}=kd(i),c=e?a0:t?Qd:Jr;if(d.call(i,n))return c(o.get(n));if(d.call(i,l))return c(o.get(l));o!==i&&o.get(n)},get size(){const n=this.__v_raw;return!t&&ns(jt(n),"iterate",xo),n.size},has(n){const o=this.__v_raw,i=jt(o),l=jt(n);return t||(On(n,l)&&ns(i,"has",n),ns(i,"has",l)),n===l?o.has(n):o.has(n)||o.has(l)},forEach(n,o){const i=this,l=i.__v_raw,d=jt(l),c=e?a0:t?Qd:Jr;return!t&&ns(d,"iterate",xo),l.forEach((u,m)=>n.call(o,c(u),c(m),i))}};return zr(r,t?{add:wd("add"),set:wd("set"),delete:wd("delete"),clear:wd("clear")}:{add(n){!e&&!Gs(n)&&!Un(n)&&(n=jt(n));const o=jt(this);return kd(o).has.call(o,n)||(o.add(n),sn(o,"add",n,n)),this},set(n,o){!e&&!Gs(o)&&!Un(o)&&(o=jt(o));const i=jt(this),{has:l,get:d}=kd(i);let c=l.call(i,n);c||(n=jt(n),c=l.call(i,n));const u=d.call(i,n);return i.set(n,o),c?On(o,u)&&sn(i,"set",n,o):sn(i,"add",n,o),this},delete(n){const o=jt(this),{has:i,get:l}=kd(o);let d=i.call(o,n);d||(n=jt(n),d=i.call(o,n)),l&&l.call(o,n);const c=o.delete(n);return d&&sn(o,"delete",n,void 0),c},clear(){const n=jt(this),o=n.size!==0,i=n.clear();return o&&sn(n,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=Q2(n,t,e)}),r}function H0(t,e){const r=eb(t,e);return(s,n,o)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(qt(r,n)&&n in s?r:s,n,o)}const tb={get:H0(!1,!1)},rb={get:H0(!1,!0)},sb={get:H0(!0,!1)};const h1=new WeakMap,g1=new WeakMap,p1=new WeakMap,ab=new WeakMap;function nb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ob(t){return t.__v_skip||!Object.isExtensible(t)?0:nb($2(t))}function jn(t){return Un(t)?t:W0(t,!1,J2,tb,h1)}function m1(t){return W0(t,!1,X2,rb,g1)}function v1(t){return W0(t,!0,Z2,sb,p1)}function W0(t,e,r,s,n){if(!Qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=ob(t);if(o===0)return t;const i=n.get(t);if(i)return i;const l=new Proxy(t,o===2?s:r);return n.set(t,l),l}function Fn(t){return Un(t)?Fn(t.__v_raw):!!(t&&t.__v_isReactive)}function Un(t){return!!(t&&t.__v_isReadonly)}function Gs(t){return!!(t&&t.__v_isShallow)}function V0(t){return t?!!t.__v_raw:!1}function jt(t){const e=t&&t.__v_raw;return e?jt(e):t}function G0(t){return!qt(t,"__v_skip")&&Object.isExtensible(t)&&Yp(t,"__v_skip",!0),t}const Jr=t=>Qt(t)?jn(t):t,Qd=t=>Qt(t)?v1(t):t;function _r(t){return t?t.__v_isRef===!0:!1}function ye(t){return b1(t,!1)}function ib(t){return b1(t,!0)}function b1(t,e){return _r(t)?t:new lb(t,e)}class lb{constructor(e,r){this.dep=new q0,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:jt(e),this._value=r?e:Jr(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||Gs(e)||Un(e);e=s?e:jt(e),On(e,r)&&(this._rawValue=e,this._value=s?e:Jr(e),this.dep.trigger())}}function Le(t){return _r(t)?t.value:t}const db={get:(t,e,r)=>e==="__v_raw"?t:Le(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return _r(n)&&!_r(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function y1(t){return Fn(t)?t:new Proxy(t,db)}function cb(t){const e=xt(t)?new Array(t.length):{};for(const r in t)e[r]=fb(t,r);return e}class ub{constructor(e,r,s){this._object=e,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return H2(jt(this._object),this._key)}}function fb(t,e,r){const s=t[e];return _r(s)?s:new ub(t,e,r)}class hb{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new q0(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_l-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&sr!==this)return a1(this,!0),!0}get value(){const e=this.dep.track();return i1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function gb(t,e,r=!1){let s,n;return Lt(t)?s=t:(s=t.get,n=t.set),new hb(s,n,r)}const _d={},ec=new WeakMap;let po;function pb(t,e=!1,r=po){if(r){let s=ec.get(r);s||ec.set(r,s=[]),s.push(t)}}function mb(t,e,r=Xt){const{immediate:s,deep:n,once:o,scheduler:i,augmentJob:l,call:d}=r,c=$=>n?$:Gs($)||n===!1||n===0?an($,1):an($);let u,m,y,h,w=!1,E=!1;if(_r(t)?(m=()=>t.value,w=Gs(t)):Fn(t)?(m=()=>c(t),w=!0):xt(t)?(E=!0,w=t.some($=>Fn($)||Gs($)),m=()=>t.map($=>{if(_r($))return $.value;if(Fn($))return c($);if(Lt($))return d?d($,2):$()})):Lt(t)?e?m=d?()=>d(t,2):t:m=()=>{if(y){dn();try{y()}finally{cn()}}const $=po;po=u;try{return d?d(t,3,[h]):t(h)}finally{po=$}}:m=Ma,e&&n){const $=m,I=n===!0?1/0:n;m=()=>an($(),I)}const R=t1(),T=()=>{u.stop(),R&&R.active&&O0(R.effects,u)};if(o&&e){const $=e;e=(...I)=>{$(...I),T()}}let G=E?new Array(t.length).fill(_d):_d;const z=$=>{if(!(!(u.flags&1)||!u.dirty&&!$))if(e){const I=u.run();if(n||w||(E?I.some((K,L)=>On(K,G[L])):On(I,G))){y&&y();const K=po;po=u;try{const L=[I,G===_d?void 0:E&&G[0]===_d?[]:G,h];G=I,d?d(e,3,L):e(...L)}finally{po=K}}}else u.run()};return l&&l(z),u=new r1(m),u.scheduler=i?()=>i(z,!1):z,h=$=>pb($,!1,u),y=u.onStop=()=>{const $=ec.get(u);if($){if(d)d($,4);else for(const I of $)I();ec.delete(u)}},e?s?z(!0):G=u.run():i?i(z.bind(null,!0),!0):u.run(),T.pause=u.pause.bind(u),T.resume=u.resume.bind(u),T.stop=T,T}function an(t,e=1/0,r){if(e<=0||!Qt(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,_r(t))an(t.value,e,r);else if(xt(t))for(let s=0;s<t.length;s++)an(t[s],e,r);else if(ki(t)||ni(t))t.forEach(s=>{an(s,e,r)});else if(Kp(t)){for(const s in t)an(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&an(t[s],e,r)}return t}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function jl(t,e,r,s){try{return s?t(...s):t()}catch(n){wc(n,e,r)}}function ca(t,e,r,s){if(Lt(t)){const n=jl(t,e,r,s);return n&&Vp(n)&&n.catch(o=>{wc(o,e,r)}),n}if(xt(t)){const n=[];for(let o=0;o<t.length;o++)n.push(ca(t[o],e,r,s));return n}}function wc(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Xt;if(e){let l=e.parent;const d=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;l;){const u=l.ec;if(u){for(let m=0;m<u.length;m++)if(u[m](t,d,c)===!1)return}l=l.parent}if(o){dn(),jl(o,null,10,[t,d,c]),cn();return}}vb(t,r,n,s,i)}function vb(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const gs=[];let La=-1;const oi=[];let Mn=null,Xo=0;const x1=Promise.resolve();let tc=null;function Ul(t){const e=tc||x1;return t?e.then(this?t.bind(this):t):e}function bb(t){let e=La+1,r=gs.length;for(;e<r;){const s=e+r>>>1,n=gs[s],o=Al(n);o<t||o===t&&n.flags&2?e=s+1:r=s}return e}function K0(t){if(!(t.flags&1)){const e=Al(t),r=gs[gs.length-1];!r||!(t.flags&2)&&e>=Al(r)?gs.push(t):gs.splice(bb(e),0,t),t.flags|=1,k1()}}function k1(){tc||(tc=x1.then(_1))}function yb(t){xt(t)?oi.push(...t):Mn&&t.id===-1?Mn.splice(Xo+1,0,t):t.flags&1||(oi.push(t),t.flags|=1),k1()}function lh(t,e,r=La+1){for(;r<gs.length;r++){const s=gs[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;gs.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function w1(t){if(oi.length){const e=[...new Set(oi)].sort((r,s)=>Al(r)-Al(s));if(oi.length=0,Mn){Mn.push(...e);return}for(Mn=e,Xo=0;Xo<Mn.length;Xo++){const r=Mn[Xo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Mn=null,Xo=0}}const Al=t=>t.id==null?t.flags&2?-1:1/0:t.id;function _1(t){try{for(La=0;La<gs.length;La++){const e=gs[La];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),jl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;La<gs.length;La++){const e=gs[La];e&&(e.flags&=-2)}La=-1,gs.length=0,w1(),tc=null,(gs.length||oi.length)&&_1()}}let Zr=null,S1=null;function rc(t){const e=Zr;return Zr=t,S1=t&&t.type.__scopeId||null,e}function Nr(t,e=Zr,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&nc(-1);const o=rc(e);let i;try{i=t(...n)}finally{rc(o),s._d&&nc(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Oe(t,e){if(Zr===null)return t;const r=Pc(Zr),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[o,i,l,d=Xt]=e[n];o&&(Lt(o)&&(o={mounted:o,updated:o}),o.deep&&an(i),s.push({dir:o,instance:r,value:i,oldValue:void 0,arg:l,modifiers:d}))}return t}function uo(t,e,r,s){const n=t.dirs,o=e&&e.dirs;for(let i=0;i<n.length;i++){const l=n[i];o&&(l.oldValue=o[i].value);let d=l.dir[s];d&&(dn(),ca(d,r,8,[t.el,l,t,e]),cn())}}const xb=Symbol("_vte"),A1=t=>t.__isTeleport,tn=Symbol("_leaveCb"),Sd=Symbol("_enterCb");function kb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qr(()=>{t.isMounted=!0}),T1(()=>{t.isUnmounting=!0}),t}const qs=[Function,Array],C1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qs,onEnter:qs,onAfterEnter:qs,onEnterCancelled:qs,onBeforeLeave:qs,onLeave:qs,onAfterLeave:qs,onLeaveCancelled:qs,onBeforeAppear:qs,onAppear:qs,onAfterAppear:qs,onAppearCancelled:qs},P1=t=>{const e=t.subTree;return e.component?P1(e.component):e},wb={name:"BaseTransition",props:C1,setup(t,{slots:e}){const r=X0(),s=kb();return()=>{const n=e.default&&$1(e.default(),!0);if(!n||!n.length)return;const o=N1(n),i=jt(t),{mode:l}=i;if(s.isLeaving)return xu(o);const d=dh(o);if(!d)return xu(o);let c=n0(d,i,s,r,m=>c=m);d.type!==os&&Cl(d,c);let u=r.subTree&&dh(r.subTree);if(u&&u.type!==os&&!vo(u,d)&&P1(r).type!==os){let m=n0(u,i,s,r);if(Cl(u,m),l==="out-in"&&d.type!==os)return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete m.afterLeave,u=void 0},xu(o);l==="in-out"&&d.type!==os?m.delayLeave=(y,h,w)=>{const E=L1(s,u);E[String(u.key)]=u,y[tn]=()=>{h(),y[tn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{w(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function N1(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==os){e=r;break}}return e}const _b=wb;function L1(t,e){const{leavingVNodes:r}=t;let s=r.get(e.type);return s||(s=Object.create(null),r.set(e.type,s)),s}function n0(t,e,r,s,n){const{appear:o,mode:i,persisted:l=!1,onBeforeEnter:d,onEnter:c,onAfterEnter:u,onEnterCancelled:m,onBeforeLeave:y,onLeave:h,onAfterLeave:w,onLeaveCancelled:E,onBeforeAppear:R,onAppear:T,onAfterAppear:G,onAppearCancelled:z}=e,$=String(t.key),I=L1(r,t),K=(v,C)=>{v&&ca(v,s,9,C)},L=(v,C)=>{const S=C[1];K(v,C),xt(v)?v.every(N=>N.length<=1)&&S():v.length<=1&&S()},b={mode:i,persisted:l,beforeEnter(v){let C=d;if(!r.isMounted)if(o)C=R||d;else return;v[tn]&&v[tn](!0);const S=I[$];S&&vo(t,S)&&S.el[tn]&&S.el[tn](),K(C,[v])},enter(v){let C=c,S=u,N=m;if(!r.isMounted)if(o)C=T||c,S=G||u,N=z||m;else return;let A=!1;const p=v[Sd]=P=>{A||(A=!0,P?K(N,[v]):K(S,[v]),b.delayedLeave&&b.delayedLeave(),v[Sd]=void 0)};C?L(C,[v,p]):p()},leave(v,C){const S=String(t.key);if(v[Sd]&&v[Sd](!0),r.isUnmounting)return C();K(y,[v]);let N=!1;const A=v[tn]=p=>{N||(N=!0,C(),p?K(E,[v]):K(w,[v]),v[tn]=void 0,I[S]===t&&delete I[S])};I[S]=t,h?L(h,[v,A]):A()},clone(v){const C=n0(v,e,r,s,n);return n&&n(C),C}};return b}function xu(t){if(_c(t))return t=Bn(t),t.children=null,t}function dh(t){if(!_c(t))return A1(t.type)&&t.children?N1(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&Lt(r.default))return r.default()}}function Cl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Cl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function $1(t,e=!1,r){let s=[],n=0;for(let o=0;o<t.length;o++){let i=t[o];const l=r==null?i.key:String(r)+String(i.key!=null?i.key:o);i.type===rt?(i.patchFlag&128&&n++,s=s.concat($1(i.children,e,l))):(e||i.type!==os)&&s.push(l!=null?Bn(i,{key:l}):i)}if(n>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function Dt(t,e){return Lt(t)?zr({name:t.name},e,{setup:t}):t}function E1(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const sc=new WeakMap;function hl(t,e,r,s,n=!1){if(xt(t)){t.forEach((w,E)=>hl(w,e&&(xt(e)?e[E]:e),r,s,n));return}if(ii(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&hl(t,e,r,s.component.subTree);return}const o=s.shapeFlag&4?Pc(s.component):s.el,i=n?null:o,{i:l,r:d}=t,c=e&&e.r,u=l.refs===Xt?l.refs={}:l.refs,m=l.setupState,y=jt(m),h=m===Xt?Wp:w=>qt(y,w);if(c!=null&&c!==d){if(ch(e),hr(c))u[c]=null,h(c)&&(m[c]=null);else if(_r(c)){c.value=null;const w=e;w.k&&(u[w.k]=null)}}if(Lt(d))jl(d,l,12,[i,u]);else{const w=hr(d),E=_r(d);if(w||E){const R=()=>{if(t.f){const T=w?h(d)?m[d]:u[d]:d.value;if(n)xt(T)&&O0(T,o);else if(xt(T))T.includes(o)||T.push(o);else if(w)u[d]=[o],h(d)&&(m[d]=u[d]);else{const G=[o];d.value=G,t.k&&(u[t.k]=G)}}else w?(u[d]=i,h(d)&&(m[d]=i)):E&&(d.value=i,t.k&&(u[t.k]=i))};if(i){const T=()=>{R(),sc.delete(t)};T.id=-1,sc.set(t,T),$s(T,r)}else ch(t),R()}}}function ch(t){const e=sc.get(t);e&&(e.flags|=8,sc.delete(t))}xc().requestIdleCallback;xc().cancelIdleCallback;const ii=t=>!!t.type.__asyncLoader,_c=t=>t.type.__isKeepAlive;function Sb(t,e){M1(t,"a",e)}function Ab(t,e){M1(t,"da",e)}function M1(t,e,r=is){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Sc(e,s,r),r){let n=r.parent;for(;n&&n.parent;)_c(n.parent.vnode)&&Cb(s,e,r,n),n=n.parent}}function Cb(t,e,r,s){const n=Sc(e,t,s,!0);Bl(()=>{O0(s[e],n)},r)}function Sc(t,e,r=is,s=!1){if(r){const n=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...i)=>{dn();const l=zl(r),d=ca(e,r,t,i);return l(),cn(),d});return s?n.unshift(o):n.push(o),o}}const fn=t=>(e,r=is)=>{(!Ll||t==="sp")&&Sc(t,(...s)=>e(...s),r)},Pb=fn("bm"),qr=fn("m"),Nb=fn("bu"),Lb=fn("u"),T1=fn("bum"),Bl=fn("um"),$b=fn("sp"),Eb=fn("rtg"),Mb=fn("rtc");function Tb(t,e=is){Sc("ec",t,e)}const D1="components";function Db(t,e){return R1(D1,t,!0,e)||t}const I1=Symbol.for("v-ndc");function ls(t){return hr(t)?R1(D1,t,!1)||t:t||I1}function R1(t,e,r=!0,s=!1){const n=Zr||is;if(n){const o=n.type;{const l=_y(o,!1);if(l&&(l===e||l===Zs(e)||l===yc(Zs(e))))return o}const i=uh(n[t]||o[t],e)||uh(n.appContext[t],e);return!i&&s?o:i}}function uh(t,e){return t&&(t[e]||t[Zs(e)]||t[yc(Zs(e))])}function it(t,e,r,s){let n;const o=r,i=xt(t);if(i||hr(t)){const l=i&&Fn(t);let d=!1,c=!1;l&&(d=!Gs(t),c=Un(t),t=kc(t)),n=new Array(t.length);for(let u=0,m=t.length;u<m;u++)n[u]=e(d?c?Qd(Jr(t[u])):Jr(t[u]):t[u],u,void 0,o)}else if(typeof t=="number"){n=new Array(t);for(let l=0;l<t;l++)n[l]=e(l+1,l,void 0,o)}else if(Qt(t))if(t[Symbol.iterator])n=Array.from(t,(l,d)=>e(l,d,void 0,o));else{const l=Object.keys(t);n=new Array(l.length);for(let d=0,c=l.length;d<c;d++){const u=l[d];n[d]=e(t[u],u,d,o)}}else n=[];return n}function Ib(t,e,r={},s,n){if(Zr.ce||Zr.parent&&ii(Zr.parent)&&Zr.parent.ce)return r.name=e,W(),It(rt,null,[Me("slot",r,s&&s())],64);let o=t[e];o&&o._c&&(o._d=!1),W();const i=o&&O1(o(r)),l=r.key||i&&i.key,d=It(rt,{key:(l&&!da(l)?l:`_${e}`)+(!i&&s?"_fb":"")},i||(s?s():[]),i&&t._===1?64:-2);return d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),o&&o._c&&(o._d=!0),d}function O1(t){return t.some(e=>Nl(e)?!(e.type===os||e.type===rt&&!O1(e.children)):!0)?t:null}const o0=t=>t?sm(t)?Pc(t):o0(t.parent):null,gl=zr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>o0(t.parent),$root:t=>o0(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>j1(t),$forceUpdate:t=>t.f||(t.f=()=>{K0(t.update)}),$nextTick:t=>t.n||(t.n=Ul.bind(t.proxy)),$watch:t=>sy.bind(t)}),ku=(t,e)=>t!==Xt&&!t.__isScriptSetup&&qt(t,e),Rb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:o,accessCache:i,type:l,appContext:d}=t;let c;if(e[0]!=="$"){const h=i[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return o[e]}else{if(ku(s,e))return i[e]=1,s[e];if(n!==Xt&&qt(n,e))return i[e]=2,n[e];if((c=t.propsOptions[0])&&qt(c,e))return i[e]=3,o[e];if(r!==Xt&&qt(r,e))return i[e]=4,r[e];i0&&(i[e]=0)}}const u=gl[e];let m,y;if(u)return e==="$attrs"&&ns(t.attrs,"get",""),u(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(r!==Xt&&qt(r,e))return i[e]=4,r[e];if(y=d.config.globalProperties,qt(y,e))return y[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:o}=t;return ku(n,e)?(n[e]=r,!0):s!==Xt&&qt(s,e)?(s[e]=r,!0):qt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,propsOptions:o,type:i}},l){let d,c;return!!(r[l]||t!==Xt&&l[0]!=="$"&&qt(t,l)||ku(e,l)||(d=o[0])&&qt(d,l)||qt(s,l)||qt(gl,l)||qt(n.config.globalProperties,l)||(c=i.__cssModules)&&c[l])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:qt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function fh(t){return xt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let i0=!0;function Ob(t){const e=j1(t),r=t.proxy,s=t.ctx;i0=!1,e.beforeCreate&&hh(e.beforeCreate,t,"bc");const{data:n,computed:o,methods:i,watch:l,provide:d,inject:c,created:u,beforeMount:m,mounted:y,beforeUpdate:h,updated:w,activated:E,deactivated:R,beforeDestroy:T,beforeUnmount:G,destroyed:z,unmounted:$,render:I,renderTracked:K,renderTriggered:L,errorCaptured:b,serverPrefetch:v,expose:C,inheritAttrs:S,components:N,directives:A,filters:p}=e;if(c&&Fb(c,s,null),i)for(const H in i){const q=i[H];Lt(q)&&(s[H]=q.bind(r))}if(n){const H=n.call(r,r);Qt(H)&&(t.data=jn(H))}if(i0=!0,o)for(const H in o){const q=o[H],M=Lt(q)?q.bind(r,r):Lt(q.get)?q.get.bind(r,r):Ma,ae=!Lt(q)&&Lt(q.set)?q.set.bind(r):Ma,ee=Pe({get:M,set:ae});Object.defineProperty(s,H,{enumerable:!0,configurable:!0,get:()=>ee.value,set:k=>ee.value=k})}if(l)for(const H in l)F1(l[H],s,r,H);if(d){const H=Lt(d)?d.call(r):d;Reflect.ownKeys(H).forEach(q=>{Od(q,H[q])})}u&&hh(u,t,"c");function Q(H,q){xt(q)?q.forEach(M=>H(M.bind(r))):q&&H(q.bind(r))}if(Q(Pb,m),Q(qr,y),Q(Nb,h),Q(Lb,w),Q(Sb,E),Q(Ab,R),Q(Tb,b),Q(Mb,K),Q(Eb,L),Q(T1,G),Q(Bl,$),Q($b,v),xt(C))if(C.length){const H=t.exposed||(t.exposed={});C.forEach(q=>{Object.defineProperty(H,q,{get:()=>r[q],set:M=>r[q]=M,enumerable:!0})})}else t.exposed||(t.exposed={});I&&t.render===Ma&&(t.render=I),S!=null&&(t.inheritAttrs=S),N&&(t.components=N),A&&(t.directives=A),v&&E1(t)}function Fb(t,e,r=Ma){xt(t)&&(t=l0(t));for(const s in t){const n=t[s];let o;Qt(n)?"default"in n?o=Ks(n.from||s,n.default,!0):o=Ks(n.from||s):o=Ks(n),_r(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[s]=o}}function hh(t,e,r){ca(xt(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function F1(t,e,r,s){let n=s.includes(".")?X1(r,s):()=>r[s];if(hr(t)){const o=e[t];Lt(o)&&Sr(n,o)}else if(Lt(t))Sr(n,t.bind(r));else if(Qt(t))if(xt(t))t.forEach(o=>F1(o,e,r,s));else{const o=Lt(t.handler)?t.handler.bind(r):e[t.handler];Lt(o)&&Sr(n,o,t)}}function j1(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,l=o.get(e);let d;return l?d=l:!n.length&&!r&&!s?d=e:(d={},n.length&&n.forEach(c=>ac(d,c,i,!0)),ac(d,e,i)),Qt(e)&&o.set(e,d),d}function ac(t,e,r,s=!1){const{mixins:n,extends:o}=e;o&&ac(t,o,r,!0),n&&n.forEach(i=>ac(t,i,r,!0));for(const i in e)if(!(s&&i==="expose")){const l=jb[i]||r&&r[i];t[i]=l?l(t[i],e[i]):e[i]}return t}const jb={data:gh,props:ph,emits:ph,methods:ll,computed:ll,beforeCreate:hs,created:hs,beforeMount:hs,mounted:hs,beforeUpdate:hs,updated:hs,beforeDestroy:hs,beforeUnmount:hs,destroyed:hs,unmounted:hs,activated:hs,deactivated:hs,errorCaptured:hs,serverPrefetch:hs,components:ll,directives:ll,watch:Bb,provide:gh,inject:Ub};function gh(t,e){return e?t?function(){return zr(Lt(t)?t.call(this,this):t,Lt(e)?e.call(this,this):e)}:e:t}function Ub(t,e){return ll(l0(t),l0(e))}function l0(t){if(xt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function hs(t,e){return t?[...new Set([].concat(t,e))]:e}function ll(t,e){return t?zr(Object.create(null),t,e):e}function ph(t,e){return t?xt(t)&&xt(e)?[...new Set([...t,...e])]:zr(Object.create(null),fh(t),fh(e??{})):e}function Bb(t,e){if(!t)return e;if(!e)return t;const r=zr(Object.create(null),t);for(const s in e)r[s]=hs(t[s],e[s]);return r}function U1(){return{app:null,config:{isNativeTag:Wp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zb=0;function qb(t,e){return function(s,n=null){Lt(s)||(s=zr({},s)),n!=null&&!Qt(n)&&(n=null);const o=U1(),i=new WeakSet,l=[];let d=!1;const c=o.app={_uid:zb++,_component:s,_props:n,_container:null,_context:o,_instance:null,version:Ay,get config(){return o.config},set config(u){},use(u,...m){return i.has(u)||(u&&Lt(u.install)?(i.add(u),u.install(c,...m)):Lt(u)&&(i.add(u),u(c,...m))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,m){return m?(o.components[u]=m,c):o.components[u]},directive(u,m){return m?(o.directives[u]=m,c):o.directives[u]},mount(u,m,y){if(!d){const h=c._ceVNode||Me(s,n);return h.appContext=o,y===!0?y="svg":y===!1&&(y=void 0),t(h,u,y),d=!0,c._container=u,u.__vue_app__=c,Pc(h.component)}},onUnmount(u){l.push(u)},unmount(){d&&(ca(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,m){return o.provides[u]=m,c},runWithContext(u){const m=ko;ko=c;try{return u()}finally{ko=m}}};return c}}let ko=null;function Od(t,e){if(is){let r=is.provides;const s=is.parent&&is.parent.provides;s===r&&(r=is.provides=Object.create(s)),r[t]=e}}function Ks(t,e,r=!1){const s=X0();if(s||ko){let n=ko?ko._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&Lt(e)?e.call(s&&s.proxy):e}}function Hb(){return!!(X0()||ko)}const B1={},z1=()=>Object.create(B1),q1=t=>Object.getPrototypeOf(t)===B1;function Wb(t,e,r,s=!1){const n={},o=z1();t.propsDefaults=Object.create(null),H1(t,e,n,o);for(const i in t.propsOptions[0])i in n||(n[i]=void 0);r?t.props=s?n:m1(n):t.type.props?t.props=n:t.props=o,t.attrs=o}function Vb(t,e,r,s){const{props:n,attrs:o,vnode:{patchFlag:i}}=t,l=jt(n),[d]=t.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let m=0;m<u.length;m++){let y=u[m];if(Ac(t.emitsOptions,y))continue;const h=e[y];if(d)if(qt(o,y))h!==o[y]&&(o[y]=h,c=!0);else{const w=Zs(y);n[w]=d0(d,l,w,h,t,!1)}else h!==o[y]&&(o[y]=h,c=!0)}}}else{H1(t,e,n,o)&&(c=!0);let u;for(const m in l)(!e||!qt(e,m)&&((u=Hn(m))===m||!qt(e,u)))&&(d?r&&(r[m]!==void 0||r[u]!==void 0)&&(n[m]=d0(d,l,m,void 0,t,!0)):delete n[m]);if(o!==l)for(const m in o)(!e||!qt(e,m))&&(delete o[m],c=!0)}c&&sn(t.attrs,"set","")}function H1(t,e,r,s){const[n,o]=t.propsOptions;let i=!1,l;if(e)for(let d in e){if(cl(d))continue;const c=e[d];let u;n&&qt(n,u=Zs(d))?!o||!o.includes(u)?r[u]=c:(l||(l={}))[u]=c:Ac(t.emitsOptions,d)||(!(d in s)||c!==s[d])&&(s[d]=c,i=!0)}if(o){const d=jt(r),c=l||Xt;for(let u=0;u<o.length;u++){const m=o[u];r[m]=d0(n,d,m,c[m],t,!qt(c,m))}}return i}function d0(t,e,r,s,n,o){const i=t[r];if(i!=null){const l=qt(i,"default");if(l&&s===void 0){const d=i.default;if(i.type!==Function&&!i.skipFactory&&Lt(d)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const u=zl(n);s=c[r]=d.call(null,e),u()}}else s=d;n.ce&&n.ce._setProp(r,s)}i[0]&&(o&&!l?s=!1:i[1]&&(s===""||s===Hn(r))&&(s=!0))}return s}const Gb=new WeakMap;function W1(t,e,r=!1){const s=r?Gb:e.propsCache,n=s.get(t);if(n)return n;const o=t.props,i={},l=[];let d=!1;if(!Lt(t)){const u=m=>{d=!0;const[y,h]=W1(m,e,!0);zr(i,y),h&&l.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!d)return Qt(t)&&s.set(t,ai),ai;if(xt(o))for(let u=0;u<o.length;u++){const m=Zs(o[u]);mh(m)&&(i[m]=Xt)}else if(o)for(const u in o){const m=Zs(u);if(mh(m)){const y=o[u],h=i[m]=xt(y)||Lt(y)?{type:y}:zr({},y),w=h.type;let E=!1,R=!0;if(xt(w))for(let T=0;T<w.length;++T){const G=w[T],z=Lt(G)&&G.name;if(z==="Boolean"){E=!0;break}else z==="String"&&(R=!1)}else E=Lt(w)&&w.name==="Boolean";h[0]=E,h[1]=R,(E||qt(h,"default"))&&l.push(m)}}const c=[i,l];return Qt(t)&&s.set(t,c),c}function mh(t){return t[0]!=="$"&&!cl(t)}const Y0=t=>t==="_"||t==="_ctx"||t==="$stable",J0=t=>xt(t)?t.map($a):[$a(t)],Kb=(t,e,r)=>{if(e._n)return e;const s=Nr((...n)=>J0(e(...n)),r);return s._c=!1,s},V1=(t,e,r)=>{const s=t._ctx;for(const n in t){if(Y0(n))continue;const o=t[n];if(Lt(o))e[n]=Kb(n,o,s);else if(o!=null){const i=J0(o);e[n]=()=>i}}},G1=(t,e)=>{const r=J0(e);t.slots.default=()=>r},K1=(t,e,r)=>{for(const s in e)(r||!Y0(s))&&(t[s]=e[s])},Yb=(t,e,r)=>{const s=t.slots=z1();if(t.vnode.shapeFlag&32){const n=e._;n?(K1(s,e,r),r&&Yp(s,"_",n,!0)):V1(e,s)}else e&&G1(t,e)},Jb=(t,e,r)=>{const{vnode:s,slots:n}=t;let o=!0,i=Xt;if(s.shapeFlag&32){const l=e._;l?r&&l===1?o=!1:K1(n,e,r):(o=!e.$stable,V1(e,n)),i=e}else e&&(G1(t,e),i={default:1});if(o)for(const l in n)!Y0(l)&&i[l]==null&&delete n[l]},$s=uy;function Zb(t){return Xb(t)}function Xb(t,e){const r=xc();r.__VUE__=!0;const{insert:s,remove:n,patchProp:o,createElement:i,createText:l,createComment:d,setText:c,setElementText:u,parentNode:m,nextSibling:y,setScopeId:h=Ma,insertStaticContent:w}=t,E=(se,ie,oe,j=null,le=null,pe=null,_e=void 0,be=null,Ie=!!ie.dynamicChildren)=>{if(se===ie)return;se&&!vo(se,ie)&&(j=J(se),k(se,le,pe,!0),se=null),ie.patchFlag===-2&&(Ie=!1,ie.dynamicChildren=null);const{type:Ce,ref:Ke,shapeFlag:je}=ie;switch(Ce){case Cc:R(se,ie,oe,j);break;case os:T(se,ie,oe,j);break;case Fd:se==null&&G(ie,oe,j,_e);break;case rt:N(se,ie,oe,j,le,pe,_e,be,Ie);break;default:je&1?I(se,ie,oe,j,le,pe,_e,be,Ie):je&6?A(se,ie,oe,j,le,pe,_e,be,Ie):(je&64||je&128)&&Ce.process(se,ie,oe,j,le,pe,_e,be,Ie,xe)}Ke!=null&&le?hl(Ke,se&&se.ref,pe,ie||se,!ie):Ke==null&&se&&se.ref!=null&&hl(se.ref,null,pe,se,!0)},R=(se,ie,oe,j)=>{if(se==null)s(ie.el=l(ie.children),oe,j);else{const le=ie.el=se.el;ie.children!==se.children&&c(le,ie.children)}},T=(se,ie,oe,j)=>{se==null?s(ie.el=d(ie.children||""),oe,j):ie.el=se.el},G=(se,ie,oe,j)=>{[se.el,se.anchor]=w(se.children,ie,oe,j,se.el,se.anchor)},z=({el:se,anchor:ie},oe,j)=>{let le;for(;se&&se!==ie;)le=y(se),s(se,oe,j),se=le;s(ie,oe,j)},$=({el:se,anchor:ie})=>{let oe;for(;se&&se!==ie;)oe=y(se),n(se),se=oe;n(ie)},I=(se,ie,oe,j,le,pe,_e,be,Ie)=>{ie.type==="svg"?_e="svg":ie.type==="math"&&(_e="mathml"),se==null?K(ie,oe,j,le,pe,_e,be,Ie):v(se,ie,le,pe,_e,be,Ie)},K=(se,ie,oe,j,le,pe,_e,be)=>{let Ie,Ce;const{props:Ke,shapeFlag:je,transition:Be,dirs:Ge}=se;if(Ie=se.el=i(se.type,pe,Ke&&Ke.is,Ke),je&8?u(Ie,se.children):je&16&&b(se.children,Ie,null,j,le,wu(se,pe),_e,be),Ge&&uo(se,null,j,"created"),L(Ie,se,se.scopeId,_e,j),Ke){for(const ot in Ke)ot!=="value"&&!cl(ot)&&o(Ie,ot,null,Ke[ot],pe,j);"value"in Ke&&o(Ie,"value",null,Ke.value,pe),(Ce=Ke.onVnodeBeforeMount)&&Ca(Ce,j,se)}Ge&&uo(se,null,j,"beforeMount");const Ye=Qb(le,Be);Ye&&Be.beforeEnter(Ie),s(Ie,ie,oe),((Ce=Ke&&Ke.onVnodeMounted)||Ye||Ge)&&$s(()=>{Ce&&Ca(Ce,j,se),Ye&&Be.enter(Ie),Ge&&uo(se,null,j,"mounted")},le)},L=(se,ie,oe,j,le)=>{if(oe&&h(se,oe),j)for(let pe=0;pe<j.length;pe++)h(se,j[pe]);if(le){let pe=le.subTree;if(ie===pe||em(pe.type)&&(pe.ssContent===ie||pe.ssFallback===ie)){const _e=le.vnode;L(se,_e,_e.scopeId,_e.slotScopeIds,le.parent)}}},b=(se,ie,oe,j,le,pe,_e,be,Ie=0)=>{for(let Ce=Ie;Ce<se.length;Ce++){const Ke=se[Ce]=be?Tn(se[Ce]):$a(se[Ce]);E(null,Ke,ie,oe,j,le,pe,_e,be)}},v=(se,ie,oe,j,le,pe,_e)=>{const be=ie.el=se.el;let{patchFlag:Ie,dynamicChildren:Ce,dirs:Ke}=ie;Ie|=se.patchFlag&16;const je=se.props||Xt,Be=ie.props||Xt;let Ge;if(oe&&fo(oe,!1),(Ge=Be.onVnodeBeforeUpdate)&&Ca(Ge,oe,ie,se),Ke&&uo(ie,se,oe,"beforeUpdate"),oe&&fo(oe,!0),(je.innerHTML&&Be.innerHTML==null||je.textContent&&Be.textContent==null)&&u(be,""),Ce?C(se.dynamicChildren,Ce,be,oe,j,wu(ie,le),pe):_e||q(se,ie,be,null,oe,j,wu(ie,le),pe,!1),Ie>0){if(Ie&16)S(be,je,Be,oe,le);else if(Ie&2&&je.class!==Be.class&&o(be,"class",null,Be.class,le),Ie&4&&o(be,"style",je.style,Be.style,le),Ie&8){const Ye=ie.dynamicProps;for(let ot=0;ot<Ye.length;ot++){const st=Ye[ot],me=je[st],ke=Be[st];(ke!==me||st==="value")&&o(be,st,me,ke,le,oe)}}Ie&1&&se.children!==ie.children&&u(be,ie.children)}else!_e&&Ce==null&&S(be,je,Be,oe,le);((Ge=Be.onVnodeUpdated)||Ke)&&$s(()=>{Ge&&Ca(Ge,oe,ie,se),Ke&&uo(ie,se,oe,"updated")},j)},C=(se,ie,oe,j,le,pe,_e)=>{for(let be=0;be<ie.length;be++){const Ie=se[be],Ce=ie[be],Ke=Ie.el&&(Ie.type===rt||!vo(Ie,Ce)||Ie.shapeFlag&198)?m(Ie.el):oe;E(Ie,Ce,Ke,null,j,le,pe,_e,!0)}},S=(se,ie,oe,j,le)=>{if(ie!==oe){if(ie!==Xt)for(const pe in ie)!cl(pe)&&!(pe in oe)&&o(se,pe,ie[pe],null,le,j);for(const pe in oe){if(cl(pe))continue;const _e=oe[pe],be=ie[pe];_e!==be&&pe!=="value"&&o(se,pe,be,_e,le,j)}"value"in oe&&o(se,"value",ie.value,oe.value,le)}},N=(se,ie,oe,j,le,pe,_e,be,Ie)=>{const Ce=ie.el=se?se.el:l(""),Ke=ie.anchor=se?se.anchor:l("");let{patchFlag:je,dynamicChildren:Be,slotScopeIds:Ge}=ie;Ge&&(be=be?be.concat(Ge):Ge),se==null?(s(Ce,oe,j),s(Ke,oe,j),b(ie.children||[],oe,Ke,le,pe,_e,be,Ie)):je>0&&je&64&&Be&&se.dynamicChildren?(C(se.dynamicChildren,Be,oe,le,pe,_e,be),(ie.key!=null||le&&ie===le.subTree)&&Y1(se,ie,!0)):q(se,ie,oe,Ke,le,pe,_e,be,Ie)},A=(se,ie,oe,j,le,pe,_e,be,Ie)=>{ie.slotScopeIds=be,se==null?ie.shapeFlag&512?le.ctx.activate(ie,oe,j,_e,Ie):p(ie,oe,j,le,pe,_e,Ie):P(se,ie,Ie)},p=(se,ie,oe,j,le,pe,_e)=>{const be=se.component=by(se,j,le);if(_c(se)&&(be.ctx.renderer=xe),yy(be,!1,_e),be.asyncDep){if(le&&le.registerDep(be,Q,_e),!se.el){const Ie=be.subTree=Me(os);T(null,Ie,ie,oe),se.placeholder=Ie.el}}else Q(be,se,ie,oe,le,pe,_e)},P=(se,ie,oe)=>{const j=ie.component=se.component;if(dy(se,ie,oe))if(j.asyncDep&&!j.asyncResolved){H(j,ie,oe);return}else j.next=ie,j.update();else ie.el=se.el,j.vnode=ie},Q=(se,ie,oe,j,le,pe,_e)=>{const be=()=>{if(se.isMounted){let{next:je,bu:Be,u:Ge,parent:Ye,vnode:ot}=se;{const Fe=J1(se);if(Fe){je&&(je.el=ot.el,H(se,je,_e)),Fe.asyncDep.then(()=>{se.isUnmounted||be()});return}}let st=je,me;fo(se,!1),je?(je.el=ot.el,H(se,je,_e)):je=ot,Be&&Rd(Be),(me=je.props&&je.props.onVnodeBeforeUpdate)&&Ca(me,Ye,je,ot),fo(se,!0);const ke=bh(se),Se=se.subTree;se.subTree=ke,E(Se,ke,m(Se.el),J(Se),se,le,pe),je.el=ke.el,st===null&&cy(se,ke.el),Ge&&$s(Ge,le),(me=je.props&&je.props.onVnodeUpdated)&&$s(()=>Ca(me,Ye,je,ot),le)}else{let je;const{el:Be,props:Ge}=ie,{bm:Ye,m:ot,parent:st,root:me,type:ke}=se,Se=ii(ie);fo(se,!1),Ye&&Rd(Ye),!Se&&(je=Ge&&Ge.onVnodeBeforeMount)&&Ca(je,st,ie),fo(se,!0);{me.ce&&me.ce._def.shadowRoot!==!1&&me.ce._injectChildStyle(ke);const Fe=se.subTree=bh(se);E(null,Fe,oe,j,se,le,pe),ie.el=Fe.el}if(ot&&$s(ot,le),!Se&&(je=Ge&&Ge.onVnodeMounted)){const Fe=ie;$s(()=>Ca(je,st,Fe),le)}(ie.shapeFlag&256||st&&ii(st.vnode)&&st.vnode.shapeFlag&256)&&se.a&&$s(se.a,le),se.isMounted=!0,ie=oe=j=null}};se.scope.on();const Ie=se.effect=new r1(be);se.scope.off();const Ce=se.update=Ie.run.bind(Ie),Ke=se.job=Ie.runIfDirty.bind(Ie);Ke.i=se,Ke.id=se.uid,Ie.scheduler=()=>K0(Ke),fo(se,!0),Ce()},H=(se,ie,oe)=>{ie.component=se;const j=se.vnode.props;se.vnode=ie,se.next=null,Vb(se,ie.props,j,oe),Jb(se,ie.children,oe),dn(),lh(se),cn()},q=(se,ie,oe,j,le,pe,_e,be,Ie=!1)=>{const Ce=se&&se.children,Ke=se?se.shapeFlag:0,je=ie.children,{patchFlag:Be,shapeFlag:Ge}=ie;if(Be>0){if(Be&128){ae(Ce,je,oe,j,le,pe,_e,be,Ie);return}else if(Be&256){M(Ce,je,oe,j,le,pe,_e,be,Ie);return}}Ge&8?(Ke&16&&V(Ce,le,pe),je!==Ce&&u(oe,je)):Ke&16?Ge&16?ae(Ce,je,oe,j,le,pe,_e,be,Ie):V(Ce,le,pe,!0):(Ke&8&&u(oe,""),Ge&16&&b(je,oe,j,le,pe,_e,be,Ie))},M=(se,ie,oe,j,le,pe,_e,be,Ie)=>{se=se||ai,ie=ie||ai;const Ce=se.length,Ke=ie.length,je=Math.min(Ce,Ke);let Be;for(Be=0;Be<je;Be++){const Ge=ie[Be]=Ie?Tn(ie[Be]):$a(ie[Be]);E(se[Be],Ge,oe,null,le,pe,_e,be,Ie)}Ce>Ke?V(se,le,pe,!0,!1,je):b(ie,oe,j,le,pe,_e,be,Ie,je)},ae=(se,ie,oe,j,le,pe,_e,be,Ie)=>{let Ce=0;const Ke=ie.length;let je=se.length-1,Be=Ke-1;for(;Ce<=je&&Ce<=Be;){const Ge=se[Ce],Ye=ie[Ce]=Ie?Tn(ie[Ce]):$a(ie[Ce]);if(vo(Ge,Ye))E(Ge,Ye,oe,null,le,pe,_e,be,Ie);else break;Ce++}for(;Ce<=je&&Ce<=Be;){const Ge=se[je],Ye=ie[Be]=Ie?Tn(ie[Be]):$a(ie[Be]);if(vo(Ge,Ye))E(Ge,Ye,oe,null,le,pe,_e,be,Ie);else break;je--,Be--}if(Ce>je){if(Ce<=Be){const Ge=Be+1,Ye=Ge<Ke?ie[Ge].el:j;for(;Ce<=Be;)E(null,ie[Ce]=Ie?Tn(ie[Ce]):$a(ie[Ce]),oe,Ye,le,pe,_e,be,Ie),Ce++}}else if(Ce>Be)for(;Ce<=je;)k(se[Ce],le,pe,!0),Ce++;else{const Ge=Ce,Ye=Ce,ot=new Map;for(Ce=Ye;Ce<=Be;Ce++){const Je=ie[Ce]=Ie?Tn(ie[Ce]):$a(ie[Ce]);Je.key!=null&&ot.set(Je.key,Ce)}let st,me=0;const ke=Be-Ye+1;let Se=!1,Fe=0;const He=new Array(ke);for(Ce=0;Ce<ke;Ce++)He[Ce]=0;for(Ce=Ge;Ce<=je;Ce++){const Je=se[Ce];if(me>=ke){k(Je,le,pe,!0);continue}let lt;if(Je.key!=null)lt=ot.get(Je.key);else for(st=Ye;st<=Be;st++)if(He[st-Ye]===0&&vo(Je,ie[st])){lt=st;break}lt===void 0?k(Je,le,pe,!0):(He[lt-Ye]=Ce+1,lt>=Fe?Fe=lt:Se=!0,E(Je,ie[lt],oe,null,le,pe,_e,be,Ie),me++)}const ze=Se?ey(He):ai;for(st=ze.length-1,Ce=ke-1;Ce>=0;Ce--){const Je=Ye+Ce,lt=ie[Je],tt=ie[Je+1],yt=Je+1<Ke?tt.el||tt.placeholder:j;He[Ce]===0?E(null,lt,oe,yt,le,pe,_e,be,Ie):Se&&(st<0||Ce!==ze[st]?ee(lt,oe,yt,2):st--)}}},ee=(se,ie,oe,j,le=null)=>{const{el:pe,type:_e,transition:be,children:Ie,shapeFlag:Ce}=se;if(Ce&6){ee(se.component.subTree,ie,oe,j);return}if(Ce&128){se.suspense.move(ie,oe,j);return}if(Ce&64){_e.move(se,ie,oe,xe);return}if(_e===rt){s(pe,ie,oe);for(let je=0;je<Ie.length;je++)ee(Ie[je],ie,oe,j);s(se.anchor,ie,oe);return}if(_e===Fd){z(se,ie,oe);return}if(j!==2&&Ce&1&&be)if(j===0)be.beforeEnter(pe),s(pe,ie,oe),$s(()=>be.enter(pe),le);else{const{leave:je,delayLeave:Be,afterLeave:Ge}=be,Ye=()=>{se.ctx.isUnmounted?n(pe):s(pe,ie,oe)},ot=()=>{pe._isLeaving&&pe[tn](!0),je(pe,()=>{Ye(),Ge&&Ge()})};Be?Be(pe,Ye,ot):ot()}else s(pe,ie,oe)},k=(se,ie,oe,j=!1,le=!1)=>{const{type:pe,props:_e,ref:be,children:Ie,dynamicChildren:Ce,shapeFlag:Ke,patchFlag:je,dirs:Be,cacheIndex:Ge}=se;if(je===-2&&(le=!1),be!=null&&(dn(),hl(be,null,oe,se,!0),cn()),Ge!=null&&(ie.renderCache[Ge]=void 0),Ke&256){ie.ctx.deactivate(se);return}const Ye=Ke&1&&Be,ot=!ii(se);let st;if(ot&&(st=_e&&_e.onVnodeBeforeUnmount)&&Ca(st,ie,se),Ke&6)B(se.component,oe,j);else{if(Ke&128){se.suspense.unmount(oe,j);return}Ye&&uo(se,null,ie,"beforeUnmount"),Ke&64?se.type.remove(se,ie,oe,xe,j):Ce&&!Ce.hasOnce&&(pe!==rt||je>0&&je&64)?V(Ce,ie,oe,!1,!0):(pe===rt&&je&384||!le&&Ke&16)&&V(Ie,ie,oe),j&&O(se)}(ot&&(st=_e&&_e.onVnodeUnmounted)||Ye)&&$s(()=>{st&&Ca(st,ie,se),Ye&&uo(se,null,ie,"unmounted")},oe)},O=se=>{const{type:ie,el:oe,anchor:j,transition:le}=se;if(ie===rt){U(oe,j);return}if(ie===Fd){$(se);return}const pe=()=>{n(oe),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(se.shapeFlag&1&&le&&!le.persisted){const{leave:_e,delayLeave:be}=le,Ie=()=>_e(oe,pe);be?be(se.el,pe,Ie):Ie()}else pe()},U=(se,ie)=>{let oe;for(;se!==ie;)oe=y(se),n(se),se=oe;n(ie)},B=(se,ie,oe)=>{const{bum:j,scope:le,job:pe,subTree:_e,um:be,m:Ie,a:Ce}=se;vh(Ie),vh(Ce),j&&Rd(j),le.stop(),pe&&(pe.flags|=8,k(_e,se,ie,oe)),be&&$s(be,ie),$s(()=>{se.isUnmounted=!0},ie)},V=(se,ie,oe,j=!1,le=!1,pe=0)=>{for(let _e=pe;_e<se.length;_e++)k(se[_e],ie,oe,j,le)},J=se=>{if(se.shapeFlag&6)return J(se.component.subTree);if(se.shapeFlag&128)return se.suspense.next();const ie=y(se.anchor||se.el),oe=ie&&ie[xb];return oe?y(oe):ie};let ce=!1;const ue=(se,ie,oe)=>{se==null?ie._vnode&&k(ie._vnode,null,null,!0):E(ie._vnode||null,se,ie,null,null,null,oe),ie._vnode=se,ce||(ce=!0,lh(),w1(),ce=!1)},xe={p:E,um:k,m:ee,r:O,mt:p,mc:b,pc:q,pbc:C,n:J,o:t};return{render:ue,hydrate:void 0,createApp:qb(ue)}}function wu({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function fo({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Qb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Y1(t,e,r=!1){const s=t.children,n=e.children;if(xt(s)&&xt(n))for(let o=0;o<s.length;o++){const i=s[o];let l=n[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[o]=Tn(n[o]),l.el=i.el),!r&&l.patchFlag!==-2&&Y1(i,l)),l.type===Cc&&l.patchFlag!==-1&&(l.el=i.el),l.type===os&&!l.el&&(l.el=i.el)}}function ey(t){const e=t.slice(),r=[0];let s,n,o,i,l;const d=t.length;for(s=0;s<d;s++){const c=t[s];if(c!==0){if(n=r[r.length-1],t[n]<c){e[s]=n,r.push(s);continue}for(o=0,i=r.length-1;o<i;)l=o+i>>1,t[r[l]]<c?o=l+1:i=l;c<t[r[o]]&&(o>0&&(e[s]=r[o-1]),r[o]=s)}}for(o=r.length,i=r[o-1];o-- >0;)r[o]=i,i=e[i];return r}function J1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:J1(e)}function vh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ty=Symbol.for("v-scx"),ry=()=>Ks(ty);function Sr(t,e,r){return Z1(t,e,r)}function Z1(t,e,r=Xt){const{immediate:s,deep:n,flush:o,once:i}=r,l=zr({},r),d=e&&s||!e&&o!=="post";let c;if(Ll){if(o==="sync"){const h=ry();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!d){const h=()=>{};return h.stop=Ma,h.resume=Ma,h.pause=Ma,h}}const u=is;l.call=(h,w,E)=>ca(h,u,w,E);let m=!1;o==="post"?l.scheduler=h=>{$s(h,u&&u.suspense)}:o!=="sync"&&(m=!0,l.scheduler=(h,w)=>{w?h():K0(h)}),l.augmentJob=h=>{e&&(h.flags|=4),m&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const y=mb(t,e,l);return Ll&&(c?c.push(y):d&&y()),y}function sy(t,e,r){const s=this.proxy,n=hr(t)?t.includes(".")?X1(s,t):()=>s[t]:t.bind(s,s);let o;Lt(e)?o=e:(o=e.handler,r=e);const i=zl(this),l=Z1(n,o.bind(s),r);return i(),l}function X1(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const ay=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Zs(e)}Modifiers`]||t[`${Hn(e)}Modifiers`];function ny(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||Xt;let n=r;const o=e.startsWith("update:"),i=o&&ay(s,e.slice(7));i&&(i.trim&&(n=r.map(u=>hr(u)?u.trim():u)),i.number&&(n=r.map(Zd)));let l,d=s[l=pu(e)]||s[l=pu(Zs(e))];!d&&o&&(d=s[l=pu(Hn(e))]),d&&ca(d,t,6,n);const c=s[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ca(c,t,6,n)}}const oy=new WeakMap;function Q1(t,e,r=!1){const s=r?oy:e.emitsCache,n=s.get(t);if(n!==void 0)return n;const o=t.emits;let i={},l=!1;if(!Lt(t)){const d=c=>{const u=Q1(c,e,!0);u&&(l=!0,zr(i,u))};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!o&&!l?(Qt(t)&&s.set(t,null),null):(xt(o)?o.forEach(d=>i[d]=null):zr(i,o),Qt(t)&&s.set(t,i),i)}function Ac(t,e){return!t||!vc(e)?!1:(e=e.slice(2).replace(/Once$/,""),qt(t,e[0].toLowerCase()+e.slice(1))||qt(t,Hn(e))||qt(t,e))}function bh(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[o],slots:i,attrs:l,emit:d,render:c,renderCache:u,props:m,data:y,setupState:h,ctx:w,inheritAttrs:E}=t,R=rc(t);let T,G;try{if(r.shapeFlag&4){const $=n||s,I=$;T=$a(c.call(I,$,u,m,h,y,w)),G=l}else{const $=e;T=$a($.length>1?$(m,{attrs:l,slots:i,emit:d}):$(m,null)),G=e.props?l:iy(l)}}catch($){pl.length=0,wc($,t,1),T=Me(os)}let z=T;if(G&&E!==!1){const $=Object.keys(G),{shapeFlag:I}=z;$.length&&I&7&&(o&&$.some(R0)&&(G=ly(G,o)),z=Bn(z,G,!1,!0))}return r.dirs&&(z=Bn(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(r.dirs):r.dirs),r.transition&&Cl(z,r.transition),T=z,rc(R),T}const iy=t=>{let e;for(const r in t)(r==="class"||r==="style"||vc(r))&&((e||(e={}))[r]=t[r]);return e},ly=(t,e)=>{const r={};for(const s in t)(!R0(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function dy(t,e,r){const{props:s,children:n,component:o}=t,{props:i,children:l,patchFlag:d}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return s?yh(s,i,c):!!i;if(d&8){const u=e.dynamicProps;for(let m=0;m<u.length;m++){const y=u[m];if(i[y]!==s[y]&&!Ac(c,y))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?yh(s,i,c):!0:!!i;return!1}function yh(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const o=s[n];if(e[o]!==t[o]&&!Ac(r,o))return!0}return!1}function cy({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const em=t=>t.__isSuspense;function uy(t,e){e&&e.pendingBranch?xt(t)?e.effects.push(...t):e.effects.push(t):yb(t)}const rt=Symbol.for("v-fgt"),Cc=Symbol.for("v-txt"),os=Symbol.for("v-cmt"),Fd=Symbol.for("v-stc"),pl=[];let Ms=null;function W(t=!1){pl.push(Ms=t?null:[])}function fy(){pl.pop(),Ms=pl[pl.length-1]||null}let Pl=1;function nc(t,e=!1){Pl+=t,t<0&&Ms&&e&&(Ms.hasOnce=!0)}function tm(t){return t.dynamicChildren=Pl>0?Ms||ai:null,fy(),Pl>0&&Ms&&Ms.push(t),t}function Y(t,e,r,s,n,o){return tm(a(t,e,r,s,n,o,!0))}function It(t,e,r,s,n){return tm(Me(t,e,r,s,n,!0))}function Nl(t){return t?t.__v_isVNode===!0:!1}function vo(t,e){return t.type===e.type&&t.key===e.key}const rm=({key:t})=>t??null,jd=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?hr(t)||_r(t)||Lt(t)?{i:Zr,r:t,k:e,f:!!r}:t:null);function a(t,e=null,r=null,s=0,n=null,o=t===rt?0:1,i=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rm(e),ref:e&&jd(e),scopeId:S1,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Zr};return l?(Z0(d,r),o&128&&t.normalize(d)):r&&(d.shapeFlag|=hr(r)?8:16),Pl>0&&!i&&Ms&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&Ms.push(d),d}const Me=hy;function hy(t,e=null,r=null,s=0,n=null,o=!1){if((!t||t===I1)&&(t=os),Nl(t)){const l=Bn(t,e,!0);return r&&Z0(l,r),Pl>0&&!o&&Ms&&(l.shapeFlag&6?Ms[Ms.indexOf(t)]=l:Ms.push(l)),l.patchFlag=-2,l}if(Sy(t)&&(t=t.__vccOpts),e){e=gy(e);let{class:l,style:d}=e;l&&!hr(l)&&(e.class=at(l)),Qt(d)&&(V0(d)&&!xt(d)&&(d=zr({},d)),e.style=Ta(d))}const i=hr(t)?1:em(t)?128:A1(t)?64:Qt(t)?4:Lt(t)?2:0;return a(t,e,r,s,n,i,o,!0)}function gy(t){return t?V0(t)||q1(t)?zr({},t):t:null}function Bn(t,e,r=!1,s=!1){const{props:n,ref:o,patchFlag:i,children:l,transition:d}=t,c=e?py(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&rm(c),ref:e&&e.ref?r&&o?xt(o)?o.concat(jd(e)):[o,jd(e)]:jd(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==rt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:d,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Bn(t.ssContent),ssFallback:t.ssFallback&&Bn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return d&&s&&Cl(u,d.clone(u)),u}function Qe(t=" ",e=0){return Me(Cc,null,t,e)}function Ht(t,e){const r=Me(Fd,null,t);return r.staticCount=e,r}function Re(t="",e=!1){return e?(W(),It(os,null,t)):Me(os,null,t)}function $a(t){return t==null||typeof t=="boolean"?Me(os):xt(t)?Me(rt,null,t.slice()):Nl(t)?Tn(t):Me(Cc,null,String(t))}function Tn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Bn(t)}function Z0(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(xt(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),Z0(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!q1(e)?e._ctx=Zr:n===3&&Zr&&(Zr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Lt(e)?(e={default:e,_ctx:Zr},r=32):(e=String(e),s&64?(r=16,e=[Qe(e)]):r=8);t.children=e,t.shapeFlag|=r}function py(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=at([e.class,s.class]));else if(n==="style")e.style=Ta([e.style,s.style]);else if(vc(n)){const o=e[n],i=s[n];i&&o!==i&&!(xt(o)&&o.includes(i))&&(e[n]=o?[].concat(o,i):i)}else n!==""&&(e[n]=s[n])}return e}function Ca(t,e,r,s=null){ca(t,e,7,[r,s])}const my=U1();let vy=0;function by(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||my,o={uid:vy++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:W1(s,n),emitsOptions:Q1(s,n),emit:null,emitted:null,propsDefaults:Xt,inheritAttrs:s.inheritAttrs,ctx:Xt,data:Xt,props:Xt,attrs:Xt,slots:Xt,refs:Xt,setupState:Xt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=ny.bind(null,o),t.ce&&t.ce(o),o}let is=null;const X0=()=>is||Zr;let oc,c0;{const t=xc(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),o=>{n.length>1?n.forEach(i=>i(o)):n[0](o)}};oc=e("__VUE_INSTANCE_SETTERS__",r=>is=r),c0=e("__VUE_SSR_SETTERS__",r=>Ll=r)}const zl=t=>{const e=is;return oc(t),t.scope.on(),()=>{t.scope.off(),oc(e)}},xh=()=>{is&&is.scope.off(),oc(null)};function sm(t){return t.vnode.shapeFlag&4}let Ll=!1;function yy(t,e=!1,r=!1){e&&c0(e);const{props:s,children:n}=t.vnode,o=sm(t);Wb(t,s,o,e),Yb(t,n,r||e);const i=o?xy(t,e):void 0;return e&&c0(!1),i}function xy(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Rb);const{setup:s}=r;if(s){dn();const n=t.setupContext=s.length>1?wy(t):null,o=zl(t),i=jl(s,t,0,[t.props,n]),l=Vp(i);if(cn(),o(),(l||t.sp)&&!ii(t)&&E1(t),l){if(i.then(xh,xh),e)return i.then(d=>{kh(t,d)}).catch(d=>{wc(d,t,0)});t.asyncDep=i}else kh(t,i)}else am(t)}function kh(t,e,r){Lt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Qt(e)&&(t.setupState=y1(e)),am(t)}function am(t,e,r){const s=t.type;t.render||(t.render=s.render||Ma);{const n=zl(t);dn();try{Ob(t)}finally{cn(),n()}}}const ky={get(t,e){return ns(t,"get",""),t[e]}};function wy(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,ky),slots:t.slots,emit:t.emit,expose:e}}function Pc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(y1(G0(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in gl)return gl[r](t)},has(e,r){return r in e||r in gl}})):t.proxy}function _y(t,e=!0){return Lt(t)?t.displayName||t.name:t.name||e&&t.__name}function Sy(t){return Lt(t)&&"__vccOpts"in t}const Pe=(t,e)=>gb(t,e,Ll);function gi(t,e,r){const s=(o,i,l)=>{nc(-1);try{return Me(o,i,l)}finally{nc(1)}},n=arguments.length;return n===2?Qt(e)&&!xt(e)?Nl(e)?s(t,null,[e]):s(t,e):s(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Nl(r)&&(r=[r]),s(t,e,r))}const Ay="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let u0;const wh=typeof window<"u"&&window.trustedTypes;if(wh)try{u0=wh.createPolicy("vue",{createHTML:t=>t})}catch{}const nm=u0?t=>u0.createHTML(t):t=>t,Cy="http://www.w3.org/2000/svg",Py="http://www.w3.org/1998/Math/MathML",en=typeof document<"u"?document:null,_h=en&&en.createElement("template"),Ny={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?en.createElementNS(Cy,t):e==="mathml"?en.createElementNS(Py,t):r?en.createElement(t,{is:r}):en.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>en.createTextNode(t),createComment:t=>en.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>en.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,o){const i=r?r.previousSibling:e.lastChild;if(n&&(n===o||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===o||!(n=n.nextSibling)););else{_h.innerHTML=nm(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=_h.content;if(s==="svg"||s==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}e.insertBefore(l,r)}return[i?i.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Pn="transition",rl="animation",$l=Symbol("_vtc"),om={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ly=zr({},C1,om),$y=t=>(t.displayName="Transition",t.props=Ly,t),Ud=$y((t,{slots:e})=>gi(_b,Ey(t),e)),ho=(t,e=[])=>{xt(t)?t.forEach(r=>r(...e)):t&&t(...e)},Sh=t=>t?xt(t)?t.some(e=>e.length>1):t.length>1:!1;function Ey(t){const e={};for(const N in t)N in om||(e[N]=t[N]);if(t.css===!1)return e;const{name:r="v",type:s,duration:n,enterFromClass:o=`${r}-enter-from`,enterActiveClass:i=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:d=o,appearActiveClass:c=i,appearToClass:u=l,leaveFromClass:m=`${r}-leave-from`,leaveActiveClass:y=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,w=My(n),E=w&&w[0],R=w&&w[1],{onBeforeEnter:T,onEnter:G,onEnterCancelled:z,onLeave:$,onLeaveCancelled:I,onBeforeAppear:K=T,onAppear:L=G,onAppearCancelled:b=z}=e,v=(N,A,p,P)=>{N._enterCancelled=P,go(N,A?u:l),go(N,A?c:i),p&&p()},C=(N,A)=>{N._isLeaving=!1,go(N,m),go(N,h),go(N,y),A&&A()},S=N=>(A,p)=>{const P=N?L:G,Q=()=>v(A,N,p);ho(P,[A,Q]),Ah(()=>{go(A,N?d:o),Ja(A,N?u:l),Sh(P)||Ch(A,s,E,Q)})};return zr(e,{onBeforeEnter(N){ho(T,[N]),Ja(N,o),Ja(N,i)},onBeforeAppear(N){ho(K,[N]),Ja(N,d),Ja(N,c)},onEnter:S(!1),onAppear:S(!0),onLeave(N,A){N._isLeaving=!0;const p=()=>C(N,A);Ja(N,m),N._enterCancelled?(Ja(N,y),Lh()):(Lh(),Ja(N,y)),Ah(()=>{N._isLeaving&&(go(N,m),Ja(N,h),Sh($)||Ch(N,s,R,p))}),ho($,[N,p])},onEnterCancelled(N){v(N,!1,void 0,!0),ho(z,[N])},onAppearCancelled(N){v(N,!0,void 0,!0),ho(b,[N])},onLeaveCancelled(N){C(N),ho(I,[N])}})}function My(t){if(t==null)return null;if(Qt(t))return[_u(t.enter),_u(t.leave)];{const e=_u(t);return[e,e]}}function _u(t){return T2(t)}function Ja(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[$l]||(t[$l]=new Set)).add(e)}function go(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const r=t[$l];r&&(r.delete(e),r.size||(t[$l]=void 0))}function Ah(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ty=0;function Ch(t,e,r,s){const n=t._endId=++Ty,o=()=>{n===t._endId&&s()};if(r!=null)return setTimeout(o,r);const{type:i,timeout:l,propCount:d}=Dy(t,e);if(!i)return s();const c=i+"end";let u=0;const m=()=>{t.removeEventListener(c,y),o()},y=h=>{h.target===t&&++u>=d&&m()};setTimeout(()=>{u<d&&m()},l+1),t.addEventListener(c,y)}function Dy(t,e){const r=window.getComputedStyle(t),s=w=>(r[w]||"").split(", "),n=s(`${Pn}Delay`),o=s(`${Pn}Duration`),i=Ph(n,o),l=s(`${rl}Delay`),d=s(`${rl}Duration`),c=Ph(l,d);let u=null,m=0,y=0;e===Pn?i>0&&(u=Pn,m=i,y=o.length):e===rl?c>0&&(u=rl,m=c,y=d.length):(m=Math.max(i,c),u=m>0?i>c?Pn:rl:null,y=u?u===Pn?o.length:d.length:0);const h=u===Pn&&/\b(?:transform|all)(?:,|$)/.test(s(`${Pn}Property`).toString());return{type:u,timeout:m,propCount:y,hasTransform:h}}function Ph(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,s)=>Nh(r)+Nh(t[s])))}function Nh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Lh(){return document.body.offsetHeight}function Iy(t,e,r){const s=t[$l];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const ic=Symbol("_vod"),im=Symbol("_vsh"),dl={name:"show",beforeMount(t,{value:e},{transition:r}){t[ic]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):sl(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:s}){!e!=!r&&(s?e?(s.beforeEnter(t),sl(t,!0),s.enter(t)):s.leave(t,()=>{sl(t,!1)}):sl(t,e))},beforeUnmount(t,{value:e}){sl(t,e)}};function sl(t,e){t.style.display=e?t[ic]:"none",t[im]=!e}const Ry=Symbol(""),Oy=/(?:^|;)\s*display\s*:/;function Fy(t,e,r){const s=t.style,n=hr(r);let o=!1;if(r&&!n){if(e)if(hr(e))for(const i of e.split(";")){const l=i.slice(0,i.indexOf(":")).trim();r[l]==null&&Bd(s,l,"")}else for(const i in e)r[i]==null&&Bd(s,i,"");for(const i in r)i==="display"&&(o=!0),Bd(s,i,r[i])}else if(n){if(e!==r){const i=s[Ry];i&&(r+=";"+i),s.cssText=r,o=Oy.test(r)}}else e&&t.removeAttribute("style");ic in t&&(t[ic]=o?s.display:"",t[im]&&(s.display="none"))}const $h=/\s*!important$/;function Bd(t,e,r){if(xt(r))r.forEach(s=>Bd(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=jy(t,e);$h.test(r)?t.setProperty(Hn(s),r.replace($h,""),"important"):t[s]=r}}const Eh=["Webkit","Moz","ms"],Su={};function jy(t,e){const r=Su[e];if(r)return r;let s=Zs(e);if(s!=="filter"&&s in t)return Su[e]=s;s=yc(s);for(let n=0;n<Eh.length;n++){const o=Eh[n]+s;if(o in t)return Su[e]=o}return e}const Mh="http://www.w3.org/1999/xlink";function Th(t,e,r,s,n,o=j2(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Mh,e.slice(6,e.length)):t.setAttributeNS(Mh,e,r):r==null||o&&!Jp(r)?t.removeAttribute(e):t.setAttribute(e,o?"":da(r)?String(r):r)}function Dh(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?nm(r):r);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?t.getAttribute("value")||"":t.value,d=r==null?t.type==="checkbox"?"on":"":String(r);(l!==d||!("_value"in t))&&(t.value=d),r==null&&t.removeAttribute(e),t._value=r;return}let i=!1;if(r===""||r==null){const l=typeof t[e];l==="boolean"?r=Jp(r):r==null&&l==="string"?(r="",i=!0):l==="number"&&(r=0,i=!0)}try{t[e]=r}catch{}i&&t.removeAttribute(n||e)}function nn(t,e,r,s){t.addEventListener(e,r,s)}function Uy(t,e,r,s){t.removeEventListener(e,r,s)}const Ih=Symbol("_vei");function By(t,e,r,s,n=null){const o=t[Ih]||(t[Ih]={}),i=o[e];if(s&&i)i.value=s;else{const[l,d]=zy(e);if(s){const c=o[e]=Wy(s,n);nn(t,l,c,d)}else i&&(Uy(t,l,i,d),o[e]=void 0)}}const Rh=/(?:Once|Passive|Capture)$/;function zy(t){let e;if(Rh.test(t)){e={};let s;for(;s=t.match(Rh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hn(t.slice(2)),e]}let Au=0;const qy=Promise.resolve(),Hy=()=>Au||(qy.then(()=>Au=0),Au=Date.now());function Wy(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;ca(Vy(s,r.value),e,5,[s])};return r.value=t,r.attached=Hy(),r}function Vy(t,e){if(xt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const Oh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Gy=(t,e,r,s,n,o)=>{const i=n==="svg";e==="class"?Iy(t,s,i):e==="style"?Fy(t,r,s):vc(e)?R0(e)||By(t,e,r,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ky(t,e,s,i))?(Dh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Th(t,e,s,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!hr(s))?Dh(t,Zs(e),s,o,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Th(t,e,s,i))};function Ky(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Oh(e)&&Lt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Oh(e)&&hr(r)?!1:e in t}const zn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xt(e)?r=>Rd(e,r):e};function Yy(t){t.target.composing=!0}function Fh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ys=Symbol("_assign"),dt={created(t,{modifiers:{lazy:e,trim:r,number:s}},n){t[Ys]=zn(n);const o=s||n.props&&n.props.type==="number";nn(t,e?"change":"input",i=>{if(i.target.composing)return;let l=t.value;r&&(l=l.trim()),o&&(l=Zd(l)),t[Ys](l)}),r&&nn(t,"change",()=>{t.value=t.value.trim()}),e||(nn(t,"compositionstart",Yy),nn(t,"compositionend",Fh),nn(t,"change",Fh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:s,trim:n,number:o}},i){if(t[Ys]=zn(i),t.composing)return;const l=(o||t.type==="number")&&!/^0\d/.test(t.value)?Zd(t.value):t.value,d=e??"";l!==d&&(document.activeElement===t&&t.type!=="range"&&(s&&e===r||n&&t.value.trim()===d)||(t.value=d))}},Ur={deep:!0,created(t,e,r){t[Ys]=zn(r),nn(t,"change",()=>{const s=t._modelValue,n=pi(t),o=t.checked,i=t[Ys];if(xt(s)){const l=j0(s,n),d=l!==-1;if(o&&!d)i(s.concat(n));else if(!o&&d){const c=[...s];c.splice(l,1),i(c)}}else if(ki(s)){const l=new Set(s);o?l.add(n):l.delete(n),i(l)}else i(lm(t,o))})},mounted:jh,beforeUpdate(t,e,r){t[Ys]=zn(r),jh(t,e,r)}};function jh(t,{value:e,oldValue:r},s){t._modelValue=e;let n;if(xt(e))n=j0(e,s.props.value)>-1;else if(ki(e))n=e.has(s.props.value);else{if(e===r)return;n=_o(e,lm(t,!0))}t.checked!==n&&(t.checked=n)}const on={created(t,{value:e},r){t.checked=_o(e,r.props.value),t[Ys]=zn(r),nn(t,"change",()=>{t[Ys](pi(t))})},beforeUpdate(t,{value:e,oldValue:r},s){t[Ys]=zn(s),e!==r&&(t.checked=_o(e,s.props.value))}},_t={deep:!0,created(t,{value:e,modifiers:{number:r}},s){const n=ki(e);nn(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>r?Zd(pi(i)):pi(i));t[Ys](t.multiple?n?new Set(o):o:o[0]),t._assigning=!0,Ul(()=>{t._assigning=!1})}),t[Ys]=zn(s)},mounted(t,{value:e}){Uh(t,e)},beforeUpdate(t,e,r){t[Ys]=zn(r)},updated(t,{value:e}){t._assigning||Uh(t,e)}};function Uh(t,e){const r=t.multiple,s=xt(e);if(!(r&&!s&&!ki(e))){for(let n=0,o=t.options.length;n<o;n++){const i=t.options[n],l=pi(i);if(r)if(s){const d=typeof l;d==="string"||d==="number"?i.selected=e.some(c=>String(c)===String(l)):i.selected=j0(e,l)>-1}else i.selected=e.has(l);else if(_o(pi(i),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function pi(t){return"_value"in t?t._value:t.value}function lm(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const dm={created(t,e,r){Ad(t,e,r,null,"created")},mounted(t,e,r){Ad(t,e,r,null,"mounted")},beforeUpdate(t,e,r,s){Ad(t,e,r,s,"beforeUpdate")},updated(t,e,r,s){Ad(t,e,r,s,"updated")}};function Jy(t,e){switch(t){case"SELECT":return _t;case"TEXTAREA":return dt;default:switch(e){case"checkbox":return Ur;case"radio":return on;default:return dt}}}function Ad(t,e,r,s,n){const i=Jy(t.tagName,r.props&&r.props.type)[n];i&&i(t,e,r,s)}const Zy=["ctrl","shift","alt","meta"],Xy={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Zy.some(r=>t[`${r}Key`]&&!e.includes(r))},Is=(t,e)=>{const r=t._withMods||(t._withMods={}),s=e.join(".");return r[s]||(r[s]=((n,...o)=>{for(let i=0;i<e.length;i++){const l=Xy[e[i]];if(l&&l(n,e))return}return t(n,...o)}))},Qy={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},f0=(t,e)=>{const r=t._withKeys||(t._withKeys={}),s=e.join(".");return r[s]||(r[s]=(n=>{if(!("key"in n))return;const o=Hn(n.key);if(e.some(i=>i===o||Qy[i]===o))return t(n)}))},e5=zr({patchProp:Gy},Ny);let Bh;function t5(){return Bh||(Bh=Zb(e5))}const nV=((...t)=>{const e=t5().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=s5(s);if(!n)return;const o=e._component;!Lt(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const i=r(n,!1,r5(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},e});function r5(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function s5(t){return hr(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let cm;const Nc=t=>cm=t,um=Symbol();function h0(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ml;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ml||(ml={}));function oV(){const t=e1(!0),e=t.run(()=>ye({}));let r=[],s=[];const n=G0({install(o){Nc(n),n._a=o,o.provide(um,n),o.config.globalProperties.$pinia=n,s.forEach(i=>r.push(i)),s=[]},use(o){return this._a?r.push(o):s.push(o),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const fm=()=>{};function zh(t,e,r,s=fm){t.push(e);const n=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),s())};return!r&&t1()&&B2(n),n}function Ko(t,...e){t.slice().forEach(r=>{r(...e)})}const a5=t=>t(),qh=Symbol(),Cu=Symbol();function g0(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,s)=>t.set(s,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const s=e[r],n=t[r];h0(n)&&h0(s)&&t.hasOwnProperty(r)&&!_r(s)&&!Fn(s)?t[r]=g0(n,s):t[r]=s}return t}const n5=Symbol();function o5(t){return!h0(t)||!t.hasOwnProperty(n5)}const{assign:En}=Object;function i5(t){return!!(_r(t)&&t.effect)}function l5(t,e,r,s){const{state:n,actions:o,getters:i}=e,l=r.state.value[t];let d;function c(){l||(r.state.value[t]=n?n():{});const u=cb(r.state.value[t]);return En(u,o,Object.keys(i||{}).reduce((m,y)=>(m[y]=G0(Pe(()=>{Nc(r);const h=r._s.get(t);return i[y].call(h,h)})),m),{}))}return d=hm(t,c,e,r,s,!0),d}function hm(t,e,r={},s,n,o){let i;const l=En({actions:{}},r),d={deep:!0};let c,u,m=[],y=[],h;const w=s.state.value[t];!o&&!w&&(s.state.value[t]={}),ye({});let E;function R(b){let v;c=u=!1,typeof b=="function"?(b(s.state.value[t]),v={type:ml.patchFunction,storeId:t,events:h}):(g0(s.state.value[t],b),v={type:ml.patchObject,payload:b,storeId:t,events:h});const C=E=Symbol();Ul().then(()=>{E===C&&(c=!0)}),u=!0,Ko(m,v,s.state.value[t])}const T=o?function(){const{state:v}=r,C=v?v():{};this.$patch(S=>{En(S,C)})}:fm;function G(){i.stop(),m=[],y=[],s._s.delete(t)}const z=(b,v="")=>{if(qh in b)return b[Cu]=v,b;const C=function(){Nc(s);const S=Array.from(arguments),N=[],A=[];function p(H){N.push(H)}function P(H){A.push(H)}Ko(y,{args:S,name:C[Cu],store:I,after:p,onError:P});let Q;try{Q=b.apply(this&&this.$id===t?this:I,S)}catch(H){throw Ko(A,H),H}return Q instanceof Promise?Q.then(H=>(Ko(N,H),H)).catch(H=>(Ko(A,H),Promise.reject(H))):(Ko(N,Q),Q)};return C[qh]=!0,C[Cu]=v,C},$={_p:s,$id:t,$onAction:zh.bind(null,y),$patch:R,$reset:T,$subscribe(b,v={}){const C=zh(m,b,v.detached,()=>S()),S=i.run(()=>Sr(()=>s.state.value[t],N=>{(v.flush==="sync"?u:c)&&b({storeId:t,type:ml.direct,events:h},N)},En({},d,v)));return C},$dispose:G},I=jn($);s._s.set(t,I);const L=(s._a&&s._a.runWithContext||a5)(()=>s._e.run(()=>(i=e1()).run(()=>e({action:z}))));for(const b in L){const v=L[b];if(_r(v)&&!i5(v)||Fn(v))o||(w&&o5(v)&&(_r(v)?v.value=w[b]:g0(v,w[b])),s.state.value[t][b]=v);else if(typeof v=="function"){const C=z(v,b);L[b]=C,l.actions[b]=v}}return En(I,L),En(jt(I),L),Object.defineProperty(I,"$state",{get:()=>s.state.value[t],set:b=>{R(v=>{En(v,b)})}}),s._p.forEach(b=>{En(I,i.run(()=>b({store:I,app:s._a,pinia:s,options:l})))}),w&&o&&r.hydrate&&r.hydrate(I.$state,w),c=!0,u=!0,I}/*! #__NO_SIDE_EFFECTS__ */function wi(t,e,r){let s,n;const o=typeof e=="function";typeof t=="string"?(s=t,n=o?r:e):(n=t,s=t.id);function i(l,d){const c=Hb();return l=l||(c?Ks(um,null):null),l&&Nc(l),l=cm,l._s.has(s)||(o?hm(s,e,n,l):l5(s,n,l)),l._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Qo=typeof document<"u";function gm(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function d5(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&gm(t.default)}const zt=Object.assign;function Pu(t,e){const r={};for(const s in e){const n=e[s];r[s]=ua(n)?n.map(t):t(n)}return r}const vl=()=>{},ua=Array.isArray,pm=/#/g,c5=/&/g,u5=/\//g,f5=/=/g,h5=/\?/g,mm=/\+/g,g5=/%5B/g,p5=/%5D/g,vm=/%5E/g,m5=/%60/g,bm=/%7B/g,v5=/%7C/g,ym=/%7D/g,b5=/%20/g;function Q0(t){return encodeURI(""+t).replace(v5,"|").replace(g5,"[").replace(p5,"]")}function y5(t){return Q0(t).replace(bm,"{").replace(ym,"}").replace(vm,"^")}function p0(t){return Q0(t).replace(mm,"%2B").replace(b5,"+").replace(pm,"%23").replace(c5,"%26").replace(m5,"`").replace(bm,"{").replace(ym,"}").replace(vm,"^")}function x5(t){return p0(t).replace(f5,"%3D")}function k5(t){return Q0(t).replace(pm,"%23").replace(h5,"%3F")}function w5(t){return t==null?"":k5(t).replace(u5,"%2F")}function El(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const _5=/\/$/,S5=t=>t.replace(_5,"");function Nu(t,e,r="/"){let s,n={},o="",i="";const l=e.indexOf("#");let d=e.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(s=e.slice(0,d),o=e.slice(d+1,l>-1?l:e.length),n=t(o)),l>-1&&(s=s||e.slice(0,l),i=e.slice(l,e.length)),s=N5(s??e,r),{fullPath:s+(o&&"?")+o+i,path:s,query:n,hash:El(i)}}function A5(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Hh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function C5(t,e,r){const s=e.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&mi(e.matched[s],r.matched[n])&&xm(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function mi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function xm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!P5(t[r],e[r]))return!1;return!0}function P5(t,e){return ua(t)?Wh(t,e):ua(e)?Wh(e,t):t===e}function Wh(t,e){return ua(e)?t.length===e.length&&t.every((r,s)=>r===e[s]):t.length===1&&t[0]===e}function N5(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),s=t.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let o=r.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+s.slice(i).join("/")}const Nn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ml;(function(t){t.pop="pop",t.push="push"})(Ml||(Ml={}));var bl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(bl||(bl={}));function L5(t){if(!t)if(Qo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),S5(t)}const $5=/^[^#]+#/;function E5(t,e){return t.replace($5,"#")+e}function M5(t,e){const r=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-r.left-(e.left||0),top:s.top-r.top-(e.top||0)}}const Lc=()=>({left:window.scrollX,top:window.scrollY});function T5(t){let e;if("el"in t){const r=t.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=M5(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Vh(t,e){return(history.state?history.state.position-e:-1)+t}const m0=new Map;function D5(t,e){m0.set(t,e)}function I5(t){const e=m0.get(t);return m0.delete(t),e}let R5=()=>location.protocol+"//"+location.host;function km(t,e){const{pathname:r,search:s,hash:n}=e,o=t.indexOf("#");if(o>-1){let l=n.includes(t.slice(o))?t.slice(o).length:1,d=n.slice(l);return d[0]!=="/"&&(d="/"+d),Hh(d,"")}return Hh(r,t)+s+n}function O5(t,e,r,s){let n=[],o=[],i=null;const l=({state:y})=>{const h=km(t,location),w=r.value,E=e.value;let R=0;if(y){if(r.value=h,e.value=y,i&&i===w){i=null;return}R=E?y.position-E.position:0}else s(h);n.forEach(T=>{T(r.value,w,{delta:R,type:Ml.pop,direction:R?R>0?bl.forward:bl.back:bl.unknown})})};function d(){i=r.value}function c(y){n.push(y);const h=()=>{const w=n.indexOf(y);w>-1&&n.splice(w,1)};return o.push(h),h}function u(){const{history:y}=window;y.state&&y.replaceState(zt({},y.state,{scroll:Lc()}),"")}function m(){for(const y of o)y();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:d,listen:c,destroy:m}}function Gh(t,e,r,s=!1,n=!1){return{back:t,current:e,forward:r,replaced:s,position:window.history.length,scroll:n?Lc():null}}function F5(t){const{history:e,location:r}=window,s={value:km(t,r)},n={value:e.state};n.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(d,c,u){const m=t.indexOf("#"),y=m>-1?(r.host&&document.querySelector("base")?t:t.slice(m))+d:R5()+t+d;try{e[u?"replaceState":"pushState"](c,"",y),n.value=c}catch(h){console.error(h),r[u?"replace":"assign"](y)}}function i(d,c){const u=zt({},e.state,Gh(n.value.back,d,n.value.forward,!0),c,{position:n.value.position});o(d,u,!0),s.value=d}function l(d,c){const u=zt({},n.value,e.state,{forward:d,scroll:Lc()});o(u.current,u,!0);const m=zt({},Gh(s.value,d,null),{position:u.position+1},c);o(d,m,!1),s.value=d}return{location:s,state:n,push:l,replace:i}}function iV(t){t=L5(t);const e=F5(t),r=O5(t,e.state,e.location,e.replace);function s(o,i=!0){i||r.pauseListeners(),history.go(o)}const n=zt({location:"",base:t,go:s,createHref:E5.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function j5(t){return typeof t=="string"||t&&typeof t=="object"}function wm(t){return typeof t=="string"||typeof t=="symbol"}const _m=Symbol("");var Kh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Kh||(Kh={}));function vi(t,e){return zt(new Error,{type:t,[_m]:!0},e)}function Za(t,e){return t instanceof Error&&_m in t&&(e==null||!!(t.type&e))}const Yh="[^/]+?",U5={sensitive:!1,strict:!1,start:!0,end:!0},B5=/[.+*?^${}()[\]/\\]/g;function z5(t,e){const r=zt({},U5,e),s=[];let n=r.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];r.strict&&!c.length&&(n+="/");for(let m=0;m<c.length;m++){const y=c[m];let h=40+(r.sensitive?.25:0);if(y.type===0)m||(n+="/"),n+=y.value.replace(B5,"\\$&"),h+=40;else if(y.type===1){const{value:w,repeatable:E,optional:R,regexp:T}=y;o.push({name:w,repeatable:E,optional:R});const G=T||Yh;if(G!==Yh){h+=10;try{new RegExp(`(${G})`)}catch($){throw new Error(`Invalid custom RegExp for param "${w}" (${G}): `+$.message)}}let z=E?`((?:${G})(?:/(?:${G}))*)`:`(${G})`;m||(z=R&&c.length<2?`(?:/${z})`:"/"+z),R&&(z+="?"),n+=z,h+=20,R&&(h+=-8),E&&(h+=-20),G===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(r.strict&&r.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const i=new RegExp(n,r.sensitive?"":"i");function l(c){const u=c.match(i),m={};if(!u)return null;for(let y=1;y<u.length;y++){const h=u[y]||"",w=o[y-1];m[w.name]=h&&w.repeatable?h.split("/"):h}return m}function d(c){let u="",m=!1;for(const y of t){(!m||!u.endsWith("/"))&&(u+="/"),m=!1;for(const h of y)if(h.type===0)u+=h.value;else if(h.type===1){const{value:w,repeatable:E,optional:R}=h,T=w in c?c[w]:"";if(ua(T)&&!E)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const G=ua(T)?T.join("/"):T;if(!G)if(R)y.length<2&&(u.endsWith("/")?u=u.slice(0,-1):m=!0);else throw new Error(`Missing required param "${w}"`);u+=G}}return u||"/"}return{re:i,score:s,keys:o,parse:l,stringify:d}}function q5(t,e){let r=0;for(;r<t.length&&r<e.length;){const s=e[r]-t[r];if(s)return s;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Sm(t,e){let r=0;const s=t.score,n=e.score;for(;r<s.length&&r<n.length;){const o=q5(s[r],n[r]);if(o)return o;r++}if(Math.abs(n.length-s.length)===1){if(Jh(s))return 1;if(Jh(n))return-1}return n.length-s.length}function Jh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const H5={type:0,value:""},W5=/[a-zA-Z0-9_]/;function V5(t){if(!t)return[[]];if(t==="/")return[[H5]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${c}": ${h}`)}let r=0,s=r;const n=[];let o;function i(){o&&n.push(o),o=[]}let l=0,d,c="",u="";function m(){c&&(r===0?o.push({type:0,value:c}):r===1||r===2||r===3?(o.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),c="")}function y(){c+=d}for(;l<t.length;){if(d=t[l++],d==="\\"&&r!==2){s=r,r=4;continue}switch(r){case 0:d==="/"?(c&&m(),i()):d===":"?(m(),r=1):y();break;case 4:y(),r=s;break;case 1:d==="("?r=2:W5.test(d)?y():(m(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+d:r=3:u+=d;break;case 3:m(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${c}"`),m(),i(),n}function G5(t,e,r){const s=z5(V5(t.path),r),n=zt(s,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function K5(t,e){const r=[],s=new Map;e=eg({strict:!1,end:!0,sensitive:!1},e);function n(m){return s.get(m)}function o(m,y,h){const w=!h,E=Xh(m);E.aliasOf=h&&h.record;const R=eg(e,m),T=[E];if("alias"in m){const $=typeof m.alias=="string"?[m.alias]:m.alias;for(const I of $)T.push(Xh(zt({},E,{components:h?h.record.components:E.components,path:I,aliasOf:h?h.record:E})))}let G,z;for(const $ of T){const{path:I}=$;if(y&&I[0]!=="/"){const K=y.record.path,L=K[K.length-1]==="/"?"":"/";$.path=y.record.path+(I&&L+I)}if(G=G5($,y,R),h?h.alias.push(G):(z=z||G,z!==G&&z.alias.push(G),w&&m.name&&!Qh(G)&&i(m.name)),Am(G)&&d(G),E.children){const K=E.children;for(let L=0;L<K.length;L++)o(K[L],G,h&&h.children[L])}h=h||G}return z?()=>{i(z)}:vl}function i(m){if(wm(m)){const y=s.get(m);y&&(s.delete(m),r.splice(r.indexOf(y),1),y.children.forEach(i),y.alias.forEach(i))}else{const y=r.indexOf(m);y>-1&&(r.splice(y,1),m.record.name&&s.delete(m.record.name),m.children.forEach(i),m.alias.forEach(i))}}function l(){return r}function d(m){const y=Z5(m,r);r.splice(y,0,m),m.record.name&&!Qh(m)&&s.set(m.record.name,m)}function c(m,y){let h,w={},E,R;if("name"in m&&m.name){if(h=s.get(m.name),!h)throw vi(1,{location:m});R=h.record.name,w=zt(Zh(y.params,h.keys.filter(z=>!z.optional).concat(h.parent?h.parent.keys.filter(z=>z.optional):[]).map(z=>z.name)),m.params&&Zh(m.params,h.keys.map(z=>z.name))),E=h.stringify(w)}else if(m.path!=null)E=m.path,h=r.find(z=>z.re.test(E)),h&&(w=h.parse(E),R=h.record.name);else{if(h=y.name?s.get(y.name):r.find(z=>z.re.test(y.path)),!h)throw vi(1,{location:m,currentLocation:y});R=h.record.name,w=zt({},y.params,m.params),E=h.stringify(w)}const T=[];let G=h;for(;G;)T.unshift(G.record),G=G.parent;return{name:R,path:E,params:w,matched:T,meta:J5(T)}}t.forEach(m=>o(m));function u(){r.length=0,s.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:u,getRoutes:l,getRecordMatcher:n}}function Zh(t,e){const r={};for(const s of e)s in t&&(r[s]=t[s]);return r}function Xh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Y5(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Y5(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const s in t.components)e[s]=typeof r=="object"?r[s]:r;return e}function Qh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function J5(t){return t.reduce((e,r)=>zt(e,r.meta),{})}function eg(t,e){const r={};for(const s in t)r[s]=s in e?e[s]:t[s];return r}function Z5(t,e){let r=0,s=e.length;for(;r!==s;){const o=r+s>>1;Sm(t,e[o])<0?s=o:r=o+1}const n=X5(t);return n&&(s=e.lastIndexOf(n,s-1)),s}function X5(t){let e=t;for(;e=e.parent;)if(Am(e)&&Sm(t,e)===0)return e}function Am({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Q5(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const o=s[n].replace(mm," "),i=o.indexOf("="),l=El(i<0?o:o.slice(0,i)),d=i<0?null:El(o.slice(i+1));if(l in e){let c=e[l];ua(c)||(c=e[l]=[c]),c.push(d)}else e[l]=d}return e}function tg(t){let e="";for(let r in t){const s=t[r];if(r=x5(r),s==null){s!==void 0&&(e+=(e.length?"&":"")+r);continue}(ua(s)?s.map(o=>o&&p0(o)):[s&&p0(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+r,o!=null&&(e+="="+o))})}return e}function ex(t){const e={};for(const r in t){const s=t[r];s!==void 0&&(e[r]=ua(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return e}const tx=Symbol(""),rg=Symbol(""),$c=Symbol(""),ef=Symbol(""),v0=Symbol("");function al(){let t=[];function e(s){return t.push(s),()=>{const n=t.indexOf(s);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Dn(t,e,r,s,n,o=i=>i()){const i=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((l,d)=>{const c=y=>{y===!1?d(vi(4,{from:r,to:e})):y instanceof Error?d(y):j5(y)?d(vi(2,{from:e,to:y})):(i&&s.enterCallbacks[n]===i&&typeof y=="function"&&i.push(y),l())},u=o(()=>t.call(s&&s.instances[n],e,r,c));let m=Promise.resolve(u);t.length<3&&(m=m.then(c)),m.catch(y=>d(y))})}function Lu(t,e,r,s,n=o=>o()){const o=[];for(const i of t)for(const l in i.components){let d=i.components[l];if(!(e!=="beforeRouteEnter"&&!i.instances[l]))if(gm(d)){const u=(d.__vccOpts||d)[e];u&&o.push(Dn(u,r,s,i,l,n))}else{let c=d();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${i.path}"`);const m=d5(u)?u.default:u;i.mods[l]=u,i.components[l]=m;const h=(m.__vccOpts||m)[e];return h&&Dn(h,r,s,i,l,n)()}))}}return o}function sg(t){const e=Ks($c),r=Ks(ef),s=Pe(()=>{const d=Le(t.to);return e.resolve(d)}),n=Pe(()=>{const{matched:d}=s.value,{length:c}=d,u=d[c-1],m=r.matched;if(!u||!m.length)return-1;const y=m.findIndex(mi.bind(null,u));if(y>-1)return y;const h=ag(d[c-2]);return c>1&&ag(u)===h&&m[m.length-1].path!==h?m.findIndex(mi.bind(null,d[c-2])):y}),o=Pe(()=>n.value>-1&&nx(r.params,s.value.params)),i=Pe(()=>n.value>-1&&n.value===r.matched.length-1&&xm(r.params,s.value.params));function l(d={}){if(ax(d)){const c=e[Le(t.replace)?"replace":"push"](Le(t.to)).catch(vl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Pe(()=>s.value.href),isActive:o,isExactActive:i,navigate:l}}function rx(t){return t.length===1?t[0]:t}const sx=Dt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:sg,setup(t,{slots:e}){const r=jn(sg(t)),{options:s}=Ks($c),n=Pe(()=>({[ng(t.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[ng(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=e.default&&rx(e.default(r));return t.custom?o:gi("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},o)}}}),Vs=sx;function ax(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nx(t,e){for(const r in e){const s=e[r],n=t[r];if(typeof s=="string"){if(s!==n)return!1}else if(!ua(n)||n.length!==s.length||s.some((o,i)=>o!==n[i]))return!1}return!0}function ag(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ng=(t,e,r)=>t??e??r,ox=Dt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const s=Ks(v0),n=Pe(()=>t.route||s.value),o=Ks(rg,0),i=Pe(()=>{let c=Le(o);const{matched:u}=n.value;let m;for(;(m=u[c])&&!m.components;)c++;return c}),l=Pe(()=>n.value.matched[i.value]);Od(rg,Pe(()=>i.value+1)),Od(tx,l),Od(v0,n);const d=ye();return Sr(()=>[d.value,l.value,t.name],([c,u,m],[y,h,w])=>{u&&(u.instances[m]=c,h&&h!==u&&c&&c===y&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!mi(u,h)||!y)&&(u.enterCallbacks[m]||[]).forEach(E=>E(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,m=l.value,y=m&&m.components[u];if(!y)return og(r.default,{Component:y,route:c});const h=m.props[u],w=h?h===!0?c.params:typeof h=="function"?h(c):h:null,R=gi(y,zt({},w,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(m.instances[u]=null)},ref:d}));return og(r.default,{Component:R,route:c})||R}}});function og(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Cm=ox;function lV(t){const e=K5(t.routes,t),r=t.parseQuery||Q5,s=t.stringifyQuery||tg,n=t.history,o=al(),i=al(),l=al(),d=ib(Nn);let c=Nn;Qo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Pu.bind(null,J=>""+J),m=Pu.bind(null,w5),y=Pu.bind(null,El);function h(J,ce){let ue,xe;return wm(J)?(ue=e.getRecordMatcher(J),xe=ce):xe=J,e.addRoute(xe,ue)}function w(J){const ce=e.getRecordMatcher(J);ce&&e.removeRoute(ce)}function E(){return e.getRoutes().map(J=>J.record)}function R(J){return!!e.getRecordMatcher(J)}function T(J,ce){if(ce=zt({},ce||d.value),typeof J=="string"){const oe=Nu(r,J,ce.path),j=e.resolve({path:oe.path},ce),le=n.createHref(oe.fullPath);return zt(oe,j,{params:y(j.params),hash:El(oe.hash),redirectedFrom:void 0,href:le})}let ue;if(J.path!=null)ue=zt({},J,{path:Nu(r,J.path,ce.path).path});else{const oe=zt({},J.params);for(const j in oe)oe[j]==null&&delete oe[j];ue=zt({},J,{params:m(oe)}),ce.params=m(ce.params)}const xe=e.resolve(ue,ce),$e=J.hash||"";xe.params=u(y(xe.params));const se=A5(s,zt({},J,{hash:y5($e),path:xe.path})),ie=n.createHref(se);return zt({fullPath:se,hash:$e,query:s===tg?ex(J.query):J.query||{}},xe,{redirectedFrom:void 0,href:ie})}function G(J){return typeof J=="string"?Nu(r,J,d.value.path):zt({},J)}function z(J,ce){if(c!==J)return vi(8,{from:ce,to:J})}function $(J){return L(J)}function I(J){return $(zt(G(J),{replace:!0}))}function K(J){const ce=J.matched[J.matched.length-1];if(ce&&ce.redirect){const{redirect:ue}=ce;let xe=typeof ue=="function"?ue(J):ue;return typeof xe=="string"&&(xe=xe.includes("?")||xe.includes("#")?xe=G(xe):{path:xe},xe.params={}),zt({query:J.query,hash:J.hash,params:xe.path!=null?{}:J.params},xe)}}function L(J,ce){const ue=c=T(J),xe=d.value,$e=J.state,se=J.force,ie=J.replace===!0,oe=K(ue);if(oe)return L(zt(G(oe),{state:typeof oe=="object"?zt({},$e,oe.state):$e,force:se,replace:ie}),ce||ue);const j=ue;j.redirectedFrom=ce;let le;return!se&&C5(s,xe,ue)&&(le=vi(16,{to:j,from:xe}),ee(xe,xe,!0,!1)),(le?Promise.resolve(le):C(j,xe)).catch(pe=>Za(pe)?Za(pe,2)?pe:ae(pe):q(pe,j,xe)).then(pe=>{if(pe){if(Za(pe,2))return L(zt({replace:ie},G(pe.to),{state:typeof pe.to=="object"?zt({},$e,pe.to.state):$e,force:se}),ce||j)}else pe=N(j,xe,!0,ie,$e);return S(j,xe,pe),pe})}function b(J,ce){const ue=z(J,ce);return ue?Promise.reject(ue):Promise.resolve()}function v(J){const ce=U.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(J):J()}function C(J,ce){let ue;const[xe,$e,se]=ix(J,ce);ue=Lu(xe.reverse(),"beforeRouteLeave",J,ce);for(const oe of xe)oe.leaveGuards.forEach(j=>{ue.push(Dn(j,J,ce))});const ie=b.bind(null,J,ce);return ue.push(ie),V(ue).then(()=>{ue=[];for(const oe of o.list())ue.push(Dn(oe,J,ce));return ue.push(ie),V(ue)}).then(()=>{ue=Lu($e,"beforeRouteUpdate",J,ce);for(const oe of $e)oe.updateGuards.forEach(j=>{ue.push(Dn(j,J,ce))});return ue.push(ie),V(ue)}).then(()=>{ue=[];for(const oe of se)if(oe.beforeEnter)if(ua(oe.beforeEnter))for(const j of oe.beforeEnter)ue.push(Dn(j,J,ce));else ue.push(Dn(oe.beforeEnter,J,ce));return ue.push(ie),V(ue)}).then(()=>(J.matched.forEach(oe=>oe.enterCallbacks={}),ue=Lu(se,"beforeRouteEnter",J,ce,v),ue.push(ie),V(ue))).then(()=>{ue=[];for(const oe of i.list())ue.push(Dn(oe,J,ce));return ue.push(ie),V(ue)}).catch(oe=>Za(oe,8)?oe:Promise.reject(oe))}function S(J,ce,ue){l.list().forEach(xe=>v(()=>xe(J,ce,ue)))}function N(J,ce,ue,xe,$e){const se=z(J,ce);if(se)return se;const ie=ce===Nn,oe=Qo?history.state:{};ue&&(xe||ie?n.replace(J.fullPath,zt({scroll:ie&&oe&&oe.scroll},$e)):n.push(J.fullPath,$e)),d.value=J,ee(J,ce,ue,ie),ae()}let A;function p(){A||(A=n.listen((J,ce,ue)=>{if(!B.listening)return;const xe=T(J),$e=K(xe);if($e){L(zt($e,{replace:!0,force:!0}),xe).catch(vl);return}c=xe;const se=d.value;Qo&&D5(Vh(se.fullPath,ue.delta),Lc()),C(xe,se).catch(ie=>Za(ie,12)?ie:Za(ie,2)?(L(zt(G(ie.to),{force:!0}),xe).then(oe=>{Za(oe,20)&&!ue.delta&&ue.type===Ml.pop&&n.go(-1,!1)}).catch(vl),Promise.reject()):(ue.delta&&n.go(-ue.delta,!1),q(ie,xe,se))).then(ie=>{ie=ie||N(xe,se,!1),ie&&(ue.delta&&!Za(ie,8)?n.go(-ue.delta,!1):ue.type===Ml.pop&&Za(ie,20)&&n.go(-1,!1)),S(xe,se,ie)}).catch(vl)}))}let P=al(),Q=al(),H;function q(J,ce,ue){ae(J);const xe=Q.list();return xe.length?xe.forEach($e=>$e(J,ce,ue)):console.error(J),Promise.reject(J)}function M(){return H&&d.value!==Nn?Promise.resolve():new Promise((J,ce)=>{P.add([J,ce])})}function ae(J){return H||(H=!J,p(),P.list().forEach(([ce,ue])=>J?ue(J):ce()),P.reset()),J}function ee(J,ce,ue,xe){const{scrollBehavior:$e}=t;if(!Qo||!$e)return Promise.resolve();const se=!ue&&I5(Vh(J.fullPath,0))||(xe||!ue)&&history.state&&history.state.scroll||null;return Ul().then(()=>$e(J,ce,se)).then(ie=>ie&&T5(ie)).catch(ie=>q(ie,J,ce))}const k=J=>n.go(J);let O;const U=new Set,B={currentRoute:d,listening:!0,addRoute:h,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:R,getRoutes:E,resolve:T,options:t,push:$,replace:I,go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:o.add,beforeResolve:i.add,afterEach:l.add,onError:Q.add,isReady:M,install(J){const ce=this;J.component("RouterLink",Vs),J.component("RouterView",Cm),J.config.globalProperties.$router=ce,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>Le(d)}),Qo&&!O&&d.value===Nn&&(O=!0,$(n.location).catch($e=>{}));const ue={};for(const $e in Nn)Object.defineProperty(ue,$e,{get:()=>d.value[$e],enumerable:!0});J.provide($c,ce),J.provide(ef,m1(ue)),J.provide(v0,d);const xe=J.unmount;U.add(J),J.unmount=function(){U.delete(J),U.size<1&&(c=Nn,A&&A(),A=null,d.value=Nn,O=!1,H=!1),xe()}}};function V(J){return J.reduce((ce,ue)=>ce.then(()=>v(ue)),Promise.resolve())}return B}function ix(t,e){const r=[],s=[],n=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const l=e.matched[i];l&&(t.matched.find(c=>mi(c,l))?s.push(l):r.push(l));const d=t.matched[i];d&&(e.matched.find(c=>mi(c,d))||n.push(d))}return[r,s,n]}function Ec(){return Ks($c)}function lx(t){return Ks(ef)}/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dx=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),cx=t=>{const e=dx(t);return e.charAt(0).toUpperCase()+e.slice(1)},ux=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),lg=t=>t==="";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=({name:t,iconNode:e,absoluteStrokeWidth:r,"absolute-stroke-width":s,strokeWidth:n,"stroke-width":o,size:i=nl.width,color:l=nl.stroke,...d},{slots:c})=>gi("svg",{...nl,...d,width:i,height:i,stroke:l,"stroke-width":lg(r)||lg(s)||r===!0||s===!0?Number(n||o||nl["stroke-width"])*24/Number(i):n||o||nl["stroke-width"],class:ux("lucide",d.class,...t?[`lucide-${ig(cx(t))}-icon`,`lucide-${ig(t)}`]:["lucide-icon"])},[...e.map(u=>gi(...u)),...c.default?[c.default()]:[]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(t,e)=>(r,{slots:s,attrs:n})=>gi(fx,{...n,...r,iconNode:e,name:t},s);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ht("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=ht("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ht("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ht("bell-off",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ht("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=ht("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=ht("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ht("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ht("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ht("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ht("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=ht("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ht("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=ht("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=ht("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ht("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=ht("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ht("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ht("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ht("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ht("cloud-sun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ht("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=ht("crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ht("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=ht("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=ht("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ht("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ht("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ht("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ht("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ht("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=ht("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=ht("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ht("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ht("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=ht("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=ht("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ht("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ht("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ht("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=ht("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ht("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=ht("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ht("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ht("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ht("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ht("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ht("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ht("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=ht("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ht("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=ht("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=ht("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=ht("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ht("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ht("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ht("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=ht("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ht("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=ht("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ht("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=ht("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Fx=["width","height"],jx=["fill"],Ux={name:"TacticalTargetLogo"},Bx=Dt({...Ux,props:{size:{default:32},animate:{type:Boolean,default:!1},bullseyeColor:{default:"#dc2626"}},setup(t){return(e,r)=>(W(),Y("svg",{width:e.size,height:e.size,viewBox:"0 0 100 100",class:at(["tactical-target-logo",{"animate-crosshair":e.animate}])},[r[0]||(r[0]=Ht('<circle cx="50" cy="50" r="48" fill="#000000" data-v-74e6fe51></circle><circle cx="50" cy="50" r="38" fill="white" data-v-74e6fe51></circle><circle cx="50" cy="50" r="28" fill="#000000" data-v-74e6fe51></circle><circle cx="50" cy="50" r="18" fill="white" data-v-74e6fe51></circle><circle cx="50" cy="50" r="10" fill="#000000" data-v-74e6fe51></circle>',5)),a("circle",{cx:"50",cy:"50",r:"6",fill:e.bullseyeColor,class:"transition-all duration-200 drop-shadow-sm"},null,8,jx),r[1]||(r[1]=Ht('<g class="transition-all duration-200" data-v-74e6fe51><line x1="50" y1="2" x2="50" y2="15" stroke="white" stroke-width="1.5" stroke-linecap="round" data-v-74e6fe51></line><line x1="50" y1="85" x2="50" y2="98" stroke="white" stroke-width="1.5" stroke-linecap="round" data-v-74e6fe51></line><line x1="2" y1="50" x2="15" y2="50" stroke="white" stroke-width="1.5" stroke-linecap="round" data-v-74e6fe51></line><line x1="85" y1="50" x2="98" y2="50" stroke="white" stroke-width="1.5" stroke-linecap="round" data-v-74e6fe51></line><line x1="50" y1="22" x2="50" y2="32" stroke="white" stroke-width="1" stroke-linecap="round" data-v-74e6fe51></line><line x1="50" y1="68" x2="50" y2="78" stroke="white" stroke-width="1" stroke-linecap="round" data-v-74e6fe51></line><line x1="22" y1="50" x2="32" y2="50" stroke="white" stroke-width="1" stroke-linecap="round" data-v-74e6fe51></line><line x1="68" y1="50" x2="78" y2="50" stroke="white" stroke-width="1" stroke-linecap="round" data-v-74e6fe51></line></g>',1))],10,Fx))}}),Lr=(t,e)=>{const r=t.__vccOpts||t;for(const[s,n]of e)r[s]=n;return r},Im=Lr(Bx,[["__scopeId","data-v-74e6fe51"]]);var cc=(t=>(t.G1="G1",t.G7="G7",t))(cc||{}),Es=(t=>(t.GPS="GPS",t.MANUAL="MANUAL",t.CACHED="CACHED",t.WEATHER_API="WEATHER_API",t.ESTIMATED="ESTIMATED",t.INTERPOLATED="INTERPOLATED",t))(Es||{}),Rm=(t=>(t.IMPERIAL="IMPERIAL",t.METRIC="METRIC",t))(Rm||{}),Om=(t=>(t.MOA="MOA",t.MIL="MIL",t))(Om||{});const hg=[{value:"manually-operated-rifle",label:"Manually Operated Rifle"},{value:"self-loading-rifle-carbine",label:"Self Loading Rifle/Carbine"},{value:"shotgun",label:"Shotgun"},{value:"pistol",label:"Pistol"},{value:"semi-auto-handgun",label:"Semi-Auto Handgun"},{value:"pistol-calibre-carbine",label:"Pistol Calibre Carbine"}],zx=["9mm",".45 ACP",".40 S&W",".380 ACP",".38 Special",".357 Magnum",".44 Magnum",".22 LR","10mm",".357 SIG",".32 ACP",".25 ACP"],qx=["9mm",".45 ACP"],So={INCHES_TO_CM:2.54,CM_TO_INCHES:.3937},_i=wi("environmental",()=>{const t=ye(null),e=ye(null),r=ye(!1),s=ye({}),n=ye({}),o=ye(!0),i=ye(!0),l=ye(!1),d=ye(!1),c=ye(null),u=ye(null),m=ye(null),y=ye(null),h=ye([]),w=ye(24),E=ye(Rm.IMPERIAL),R=ye(3e5),T=Pe(()=>r.value?{...t.value,...s.value,source:Es.MANUAL,timestamp:new Date}:t.value),G=Pe(()=>r.value&&Object.keys(n.value).length>0?{...e.value,...n.value,source:Es.MANUAL,timestamp:new Date}:e.value),z=Pe(()=>T.value!==null&&typeof T.value.temperature=="number"&&typeof T.value.pressure=="number"&&typeof T.value.humidity=="number"),$=Pe(()=>G.value!==null&&typeof G.value.latitude=="number"&&typeof G.value.longitude=="number"),I=Pe(()=>!t.value||!m.value?!0:(new Date().getTime()-m.value.getTime())/6e4>30),K=Pe(()=>{if(h.value.length<2)return null;const V=h.value.slice(-6),J=L(V.map(xe=>xe.temperature)),ce=L(V.map(xe=>xe.pressure)),ue=L(V.map(xe=>xe.windSpeed));return{temperature:J,pressure:ce,wind:ue}}),L=V=>{if(V.length<2)return"stable";const J=V[0],ue=(V[V.length-1]-J)/J*100;return Math.abs(ue)<2?"stable":ue>0?"rising":"falling"},b=V=>{t.value=V,m.value=new Date,c.value=null,v(V)},v=V=>{h.value.push(V),h.value.length>w.value&&(h.value=h.value.slice(-w.value))},C=async()=>{if(!i.value){c.value="Weather service disabled";return}if(!l.value)try{l.value=!0,c.value=null;const V=G.value||{latitude:39.8283,longitude:-98.5795,elevation:500,accuracy:1e3,timestamp:new Date,source:Es.CACHED},J=await p(V),ce={temperature:J.temperature,humidity:J.humidity,pressure:J.pressure,windSpeed:J.windSpeed,windDirection:J.windDirection,elevation:V.elevation||500,timestamp:new Date,source:G.value?Es.WEATHER_API:Es.CACHED};b(ce)}catch(V){c.value=V instanceof Error?V.message:"Failed to fetch weather data";const J={temperature:68,humidity:65,pressure:29.92,windSpeed:5,windDirection:270,elevation:500,timestamp:new Date,source:Es.CACHED};b(J)}finally{l.value=!1}},S=V=>{e.value=V,y.value=new Date,u.value=null},N=async()=>{if(!o.value){u.value="GPS service disabled";return}if(!d.value)try{d.value=!0,u.value=null;const V=await A(),J={latitude:V.coords.latitude,longitude:V.coords.longitude,elevation:V.coords.altitude||0,accuracy:V.coords.accuracy,timestamp:new Date,source:Es.GPS};S(J)}catch(V){u.value=V instanceof Error?V.message:"Failed to get location";const J={latitude:38.9072,longitude:-77.0369,elevation:0,accuracy:0,timestamp:new Date,source:Es.MANUAL};S(J)}finally{d.value=!1}},A=()=>new Promise((V,J)=>{if(!navigator.geolocation){J(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(V,ce=>{switch(ce.code){case ce.PERMISSION_DENIED:J(new Error("Location access denied by user"));break;case ce.POSITION_UNAVAILABLE:J(new Error("Location information unavailable"));break;case ce.TIMEOUT:J(new Error("Location request timed out"));break;default:J(new Error("Unknown geolocation error"));break}},{enableHighAccuracy:!0,timeout:15e3,maximumAge:3e5})}),p=async V=>(await Promise.race([new Promise(J=>setTimeout(J,1e3)),new Promise((J,ce)=>setTimeout(()=>ce(new Error("Weather API timeout")),5e3))]),{temperature:65+Math.random()*20,humidity:50+Math.random()*30,pressure:29.8+Math.random()*.4,windSpeed:Math.random()*15,windDirection:Math.random()*360}),P=V=>{r.value=V},Q=V=>{s.value={...s.value,...V}},H=V=>{n.value={...n.value,...V}},q=()=>{s.value={},n.value={},r.value=!1},M=V=>{V.gpsEnabled!==void 0&&(o.value=V.gpsEnabled),V.weatherServiceEnabled!==void 0&&(i.value=V.weatherServiceEnabled),V.preferredUnits!==void 0&&(E.value=V.preferredUnits)},ae=async()=>{const V=[];o.value&&V.push(N()),i.value&&V.push(C()),await Promise.allSettled(V)},ee=async()=>{await N()},k=async()=>{if(!e.value){const V={latitude:38.9072,longitude:-77.0369,elevation:0,accuracy:0,timestamp:new Date,source:Es.MANUAL};S(V)}t.value||await C()},O=V=>{const J=[];return V.temperature!==void 0&&(V.temperature<-50||V.temperature>150)&&J.push("Temperature must be between -50F and 150F"),V.humidity!==void 0&&(V.humidity<0||V.humidity>100)&&J.push("Humidity must be between 0% and 100%"),V.pressure!==void 0&&(V.pressure<25||V.pressure>35)&&J.push("Pressure must be between 25 and 35 inHg"),V.windSpeed!==void 0&&(V.windSpeed<0||V.windSpeed>100)&&J.push("Wind speed must be between 0 and 100 mph"),V.windDirection!==void 0&&(V.windDirection<0||V.windDirection>360)&&J.push("Wind direction must be between 0 and 360 degrees"),{isValid:J.length===0,errors:J}},U=()=>{try{const V={currentConditions:t.value,currentLocation:e.value,conditionsHistory:h.value,manualConditions:s.value,manualLocation:n.value,manualOverrideEnabled:r.value,preferredUnits:E.value,gpsEnabled:o.value,weatherServiceEnabled:i.value};localStorage.setItem("environmental-store",JSON.stringify(V))}catch(V){console.warn("Failed to save environmental data to localStorage:",V)}},B=()=>{try{const V=localStorage.getItem("environmental-store");if(V){const J=JSON.parse(V);J.currentConditions&&(t.value=J.currentConditions),J.currentLocation&&(e.value=J.currentLocation),J.conditionsHistory&&(h.value=J.conditionsHistory),J.manualConditions&&(s.value=J.manualConditions),J.manualLocation&&(n.value=J.manualLocation),J.manualOverrideEnabled!==void 0&&(r.value=J.manualOverrideEnabled),J.preferredUnits&&(E.value=J.preferredUnits),J.gpsEnabled!==void 0&&(o.value=J.gpsEnabled),J.weatherServiceEnabled!==void 0&&(i.value=J.weatherServiceEnabled)}}catch(V){console.warn("Failed to load environmental data from localStorage:",V)}};return B(),{currentConditions:t,currentLocation:e,manualOverrideEnabled:r,manualConditions:s,manualLocation:n,gpsEnabled:o,weatherServiceEnabled:i,isLoadingWeather:l,isLoadingLocation:d,weatherError:c,locationError:u,lastWeatherUpdate:m,lastLocationUpdate:y,conditionsHistory:h,maxHistorySize:w,preferredUnits:E,autoUpdateInterval:R,effectiveConditions:T,effectiveLocation:G,hasValidConditions:z,hasValidLocation:$,isDataStale:I,conditionsTrend:K,updateConditions:b,addConditionsToHistory:v,fetchWeatherData:C,updateLocation:S,fetchLocationData:N,setManualOverride:P,updateManualConditions:Q,updateManualLocation:H,resetManualOverrides:q,updateServiceSettings:M,refreshAllData:ae,forceLocationRefresh:ee,initializeWithDefaults:k,validateConditions:O,saveToLocalStorage:U,loadFromLocalStorage:B}}),ha=wi("userProfile",()=>{function t(){return Math.random().toString(36).substr(2,9)}function e(ee,k){return`user_${ee}_${k}`}const r=ye([]),s=ye(null),n=ye(!1),o=ye(null),i=ye(!1),l=ye(!1),d=ye(!1),c=ye(new Date),u=Pe(()=>r.value.length>0),m=Pe(()=>r.value.filter(ee=>!ee.isActive||ee.id===s.value?.id)),y=Pe(()=>r.value.find(ee=>ee.isActive)||null),h=Pe(()=>s.value?{totalRifles:s.value.stats.totalRifles,totalSessions:s.value.stats.totalSessions,totalShots:s.value.stats.totalShots,totalRoundsFired:s.value.stats.totalRoundsFired,averageAccuracy:s.value.stats.averageAccuracy,lastSessionDate:s.value.stats.lastSessionDate}:null),w=Pe(()=>s.value?.dataKeys||null),E=Pe(()=>{if(!s.value||i.value)return!1;const{requirePin:ee,autoLockMinutes:k}=s.value.security;if(!ee)return!1;const O=Date.now()-c.value.getTime(),U=k*60*1e3;return O>U}),R=()=>{try{localStorage.setItem("user-profiles",JSON.stringify(r.value)),s.value?localStorage.setItem("current-user-profile-id",s.value.id):localStorage.removeItem("current-user-profile-id"),localStorage.setItem("guest-mode",JSON.stringify(i.value))}catch(ee){console.warn("Failed to save user profiles to localStorage:",ee)}},T=ee=>{const k=t(),O={id:k,name:ee.name,fullName:ee.fullName,email:ee.email,avatar:ee.avatar,createdDate:new Date,lastUsed:new Date,isActive:!1,preferences:{units:"imperial",scopeUnits:"MOA",theme:"auto",skillLevel:"intermediate",shootingCategories:[],...ee.preferences},stats:{totalRifles:0,totalSessions:0,totalShots:0,totalRoundsFired:0,averageAccuracy:0},security:{requirePin:!1,allowGuestAccess:!0,autoLockMinutes:30,...ee.security},dataKeys:{rifleProfiles:e(k,"rifle_profiles"),shotRecords:e(k,"shot_records"),shotSessions:e(k,"shot_sessions"),userSettings:e(k,"user_settings"),environmentalData:e(k,"environmental_data")}},U=P(O);if(!U.isValid)throw new Error(`Invalid profile: ${U.errors.join(", ")}`);return r.value.push(O),R(),O},G=(ee,k)=>{const O=r.value.findIndex(J=>J.id===ee);if(O===-1)throw new Error("Profile not found");const U=r.value[O],B={...U,...k,lastUsed:new Date,preferences:{...U.preferences,...k.preferences},security:{...U.security,...k.security},stats:{...U.stats,...k.stats}},V=P(B);if(!V.isValid)throw new Error(`Invalid profile: ${V.errors.join(", ")}`);return r.value[O]=B,R(),s.value?.id===ee&&(s.value=B),B},z=ee=>{console.log("Attempting to delete profile with ID:",ee);const k=r.value.findIndex(U=>U.id===ee);if(k===-1)throw console.error("Profile not found with ID:",ee),new Error("Profile not found");const O=r.value[k];if(console.log("Found profile to delete:",O.name),O.isActive)throw console.error("Attempted to delete active profile:",O.name),new Error("Cannot delete the currently active profile");try{console.log("Clearing user data keys:",O.dataKeys),Object.values(O.dataKeys).forEach(U=>{localStorage.removeItem(U),console.log("Removed localStorage key:",U)}),r.value.splice(k,1),console.log("Profile removed from array. Remaining profiles:",r.value.length),R(),console.log("Profile deletion completed successfully"),s.value?.id===ee&&(console.log("Clearing current profile reference"),s.value=null,i.value=!0)}catch(U){throw console.error("Error during profile deletion:",U),new Error("Failed to delete profile data")}},$=(ee,k)=>ee.security.requirePin&&ee.security.pin&&(!k||k!==ee.security.pin)?(o.value="Invalid PIN",!1):(s.value&&G(s.value.id,{isActive:!1}),s.value=G(ee.id,{isActive:!0}),i.value=!1,c.value=new Date,o.value=null,localStorage.setItem("current-user-profile-id",ee.id),p(),!0),I=()=>{s.value&&G(s.value.id,{isActive:!1}),s.value=null,i.value=!0,c.value=new Date,localStorage.removeItem("current-user-profile-id"),p()},K=()=>{s.value&&s.value.security.requirePin&&(d.value=!0)},L=ee=>s.value?ee===s.value.security.pin?(d.value=!1,c.value=new Date,!0):(o.value="Invalid PIN",!1):!1,b=()=>{c.value=new Date,d.value&&!E.value&&(d.value=!1)},v=ee=>{if(!s.value)return;const O={...s.value.stats,...ee};G(s.value.id,{stats:O})},C=()=>{s.value&&v({totalRifles:s.value.stats.totalRifles+1})},S=()=>{if(!s.value)return;const ee=Math.max(0,s.value.stats.totalRifles-1);v({totalRifles:ee})},N=()=>{s.value&&v({totalSessions:s.value.stats.totalSessions+1,lastSessionDate:new Date})},A=(ee,k)=>{if(!s.value)return;const O=s.value.stats,U=O.totalShots+ee,B=O.totalShots>0?(O.averageAccuracy*O.totalShots+k*ee)/U:k;v({totalShots:U,averageAccuracy:Math.round(B*100)/100})},p=()=>{window.dispatchEvent(new CustomEvent("userProfileChanged",{detail:{profile:s.value,dataKeys:w.value,isGuest:i.value}}))},P=ee=>{const k=[],O=[];return ee.name?.trim()||k.push("Name is required"),ee.name&&ee.name.length>50&&k.push("Name must be 50 characters or less"),ee.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ee.email)&&k.push("Invalid email format"),ee.preferences?.shootingCategories!==void 0&&ee.preferences.shootingCategories.length===0&&k.push("At least one shooting category must be selected"),ee.security?.requirePin&&ee.security?.pin&&(/^\d{4,8}$/.test(ee.security.pin)||k.push("PIN must be 4-8 digits")),ee.name&&r.value.some(U=>U.name.toLowerCase()===ee.name.toLowerCase()&&U.id!==ee.id)&&k.push("A profile with this name already exists"),{isValid:k.length===0,errors:k,warnings:O}},Q=()=>{try{const ee=localStorage.getItem("user-profiles");if(ee){const U=JSON.parse(ee);r.value=U.map(B=>({...B,createdDate:new Date(B.createdDate),lastUsed:new Date(B.lastUsed),stats:{...B.stats,lastSessionDate:B.stats.lastSessionDate?new Date(B.stats.lastSessionDate):void 0}}))}const k=localStorage.getItem("guest-mode");k&&(i.value=JSON.parse(k));const O=localStorage.getItem("current-user-profile-id");if(O&&!i.value){const U=r.value.find(B=>B.id===O);U&&(U.isActive=!0,s.value=U,c.value=new Date,G(U.id,{lastUsed:new Date}),p())}r.value.length===0&&!i.value&&(l.value=!0)}catch(ee){console.error("Failed to load user profiles:",ee),o.value="Failed to load user profiles"}},H=ee=>{const k=r.value.find(U=>U.id===ee);if(!k)throw new Error("Profile not found");const O={profile:k,data:{}};return Object.entries(k.dataKeys).forEach(([U,B])=>{const V=localStorage.getItem(B);if(V)try{O.data[U]=JSON.parse(V)}catch{O.data[U]=V}}),JSON.stringify(O,null,2)},q=ee=>{try{const k=JSON.parse(ee),O=k.profile,U=T({name:`${O.name} (Imported)`,email:O.email,preferences:O.preferences,security:{...O.security,pin:void 0}});return k.data&&Object.entries(k.data).forEach(([B,V])=>{const J=U.dataKeys[B];J&&V&&localStorage.setItem(J,typeof V=="string"?V:JSON.stringify(V))}),U}catch{throw new Error("Invalid profile data")}},M=()=>{l.value=!1,R()},ae=()=>{console.log("Deleting all profiles from store...");try{r.value.forEach(ee=>{Object.values(ee.dataKeys).forEach(k=>{localStorage.removeItem(k),console.log("Removed localStorage key:",k)})}),r.value=[],s.value=null,i.value=!1,localStorage.removeItem("guest-mode"),l.value=!0,R(),console.log("All profiles deleted successfully")}catch(ee){throw console.error("Error during deleteAllProfiles:",ee),new Error("Failed to delete all profiles")}};return Q(),{profiles:r,currentProfile:s,isLoading:n,error:o,isGuestMode:i,isSetupMode:l,requiresAuthentication:d,lastActivity:c,hasProfiles:u,availableProfiles:m,activeProfile:y,profileStats:h,currentUserDataKeys:w,isProfileLocked:E,createProfile:T,updateProfile:G,deleteProfile:z,switchToProfile:$,switchToGuest:I,lockProfile:K,unlockProfile:L,updateActivity:b,updateProfileStats:v,incrementRifleCount:C,decrementRifleCount:S,incrementSessionCount:N,addShotData:A,reloadUserData:p,validateProfile:P,loadProfiles:Q,exportProfile:H,importProfile:q,completeSetup:M,deleteAllProfiles:ae}}),Wn=wi("settings",()=>{const t=ye({distance:"yards",elevation:"feet",height:"inches",temperature:"fahrenheit",pressure:"inHg",velocity:"fps",bulletWeight:"grains",windSpeed:"mph",scopeAdjustments:"MOA"}),e=ye({temperature:70,pressure:29.92,humidity:50,windSpeed:5,windDirection:90,elevation:1e3,muzzleVelocity:2650,bulletWeight:168,ballisticCoefficient:.462,zeroDistance:100,scopeHeight:1.5,barrelLength:24,twistRate:"1:10",clickValue:.25,maxRange:1200,rangeIncrement:50}),r=ye({theme:"auto-time",language:"en",useAIEnhancement:!0,showAdvancedOptions:!1,autoSaveProfiles:!0,confirmDeletions:!0,useGPS:!0,useWeatherService:!0,weatherUpdateInterval:30,showBallisticCoach:!0,showWindFlags:!0,showAtmosphericDensity:!1,decimalPlaces:1}),s=()=>{const L=r.value.theme;r.value.theme="auto-time",console.log(`Theme forced from '${L}' to 'auto-time' for initial load priority`)};s();const n=ye(!1),o=ye(null),i=Pe(()=>t.value.distance==="meters"||t.value.temperature==="celsius"),l=Pe(()=>i.value?"metric":"imperial"),d=(L,b,v)=>b===v?L:b==="fahrenheit"&&v==="celsius"?(L-32)*5/9:b==="celsius"&&v==="fahrenheit"?L*9/5+32:L,c=(L,b,v)=>b===v?L:b==="feet"&&v==="meters"?L*.3048:b==="meters"&&v==="feet"?L/.3048:L,u=(L,b,v)=>b===v?L:b==="yards"&&v==="meters"?L*.9144:b==="meters"&&v==="yards"?L/.9144:L,m=(L,b,v)=>b===v?L:b==="fps"&&v==="mps"?L*.3048:b==="mps"&&v==="fps"?L/.3048:L,y=(L,b,v)=>{if(b===v)return L;let C=L;return b==="inHg"&&(C=L*33.8639),b==="mmHg"&&(C=L*1.33322),v==="inHg"?C/33.8639:v==="mmHg"?C/1.33322:C},h=(L,b,v)=>{if(b===v)return L;let C=L;return b==="kph"&&(C=L/1.60934),b==="mps"&&(C=L*2.23694),v==="kph"?C*1.60934:v==="mps"?C/2.23694:C},w=(L,b,v)=>b===v?L:b==="grains"&&v==="grams"?L*.0647989:b==="grams"&&v==="grains"?L/.0647989:L,E=L=>{const b=t.value[L];return{yards:"yds",meters:"m",feet:"ft",inches:"in",centimeters:"cm",fahrenheit:"F",celsius:"C",inHg:"inHg",hPa:"hPa",mmHg:"mmHg",fps:"ft/s",mps:"m/s",grains:"gr",grams:"g",mph:"mph",kph:"km/h",MOA:"MOA",MIL:"MIL"}[b]||b},R=()=>{try{n.value=!0,o.value=null;const L=localStorage.getItem("dope-tool-units"),b=localStorage.getItem("dope-tool-defaults"),v=localStorage.getItem("dope-tool-preferences");if(L&&(t.value={...t.value,...JSON.parse(L)}),b&&(e.value={...e.value,...JSON.parse(b)}),v){const C=JSON.parse(v),{theme:S,...N}=C;r.value={...r.value,...N},console.log(`Loaded preferences but ignored stored theme '${S}' in favor of auto-time`)}s()}catch(L){o.value=L instanceof Error?L.message:"Failed to load settings"}finally{n.value=!1}},T=()=>{try{localStorage.setItem("dope-tool-units",JSON.stringify(t.value)),localStorage.setItem("dope-tool-defaults",JSON.stringify(e.value)),localStorage.setItem("dope-tool-preferences",JSON.stringify(r.value))}catch(L){console.warn("Failed to save settings:",L)}},G=L=>{t.value={...t.value,...L},T()},z=L=>{e.value={...e.value,...L},T()},$=L=>{r.value={...r.value,...L},T()},I=L=>{L==="metric"?(G({distance:"meters",elevation:"meters",height:"centimeters",temperature:"celsius",pressure:"hPa",velocity:"mps",bulletWeight:"grams",windSpeed:"kph"}),z({temperature:d(e.value.temperature,"fahrenheit","celsius"),pressure:y(e.value.pressure,"inHg","hPa"),elevation:c(e.value.elevation,"feet","meters"),muzzleVelocity:m(e.value.muzzleVelocity,"fps","mps"),bulletWeight:w(e.value.bulletWeight,"grains","grams"),zeroDistance:u(e.value.zeroDistance,"yards","meters"),scopeHeight:e.value.scopeHeight*2.54,windSpeed:h(e.value.windSpeed,"mph","kph")})):(G({distance:"yards",elevation:"feet",height:"inches",temperature:"fahrenheit",pressure:"inHg",velocity:"fps",bulletWeight:"grains",windSpeed:"mph"}),z({temperature:70,pressure:29.92,elevation:1e3,muzzleVelocity:2650,bulletWeight:168,zeroDistance:100,scopeHeight:1.5,windSpeed:5}))},K=()=>{I("imperial"),$({theme:"auto-time",language:"en",useAIEnhancement:!0,showAdvancedOptions:!1,autoSaveProfiles:!0,confirmDeletions:!0,useGPS:!0,useWeatherService:!0,weatherUpdateInterval:30,showBallisticCoach:!0,showWindFlags:!0,showAtmosphericDensity:!1,decimalPlaces:1})};return R(),{units:t,defaults:e,preferences:r,isLoading:n,error:o,isMetric:i,unitPreset:l,convertTemperature:d,convertDistance:u,convertElevation:c,convertVelocity:m,convertPressure:y,convertWindSpeed:h,convertBulletWeight:w,getUnitLabel:E,loadSettings:R,saveSettings:T,updateUnits:G,updateDefaults:z,updatePreferences:$,setUnitPreset:I,resetToDefaults:K,forceAutoTimeTheme:s}}),Fm=()=>{const t=Wn(),e=ye(!1),r=ye("light");let s=null;const n=()=>{const G=new Date,z=G.getHours(),$=G.getMinutes(),I=z+$/60;return I>=5.98&&I<=18?"light":"dark"},o=()=>{const G=n();r.value!==G&&(r.value=G)},i=Pe(()=>{const G=t.preferences.theme;return G==="system"?e.value?"dark":"light":G==="auto-time"?r.value:G}),l=Pe(()=>i.value==="dark"),d=()=>{if(console.log("=== THEME INITIALIZATION START ==="),t.forceAutoTimeTheme(),typeof window<"u"&&window.matchMedia){const I=window.matchMedia("(prefers-color-scheme: dark)");e.value=I.matches,I.addEventListener("change",K=>{e.value=K.matches})}o();const G=new Date,z=G.getHours(),$=G.getMinutes();console.log(`Theme initialization at ${z}:${$.toString().padStart(2,"0")}`),console.log(`Current theme setting: ${t.preferences.theme}`),console.log(`Time-based theme: ${r.value}`),console.log(`Effective theme: ${i.value}`),t.preferences.theme!=="auto-time"&&(console.log("Forcing auto-time theme as initial load priority"),t.updatePreferences({theme:"auto-time"})),typeof document<"u"&&(document.documentElement.classList.remove("dark"),console.log("Cleared any pre-existing dark mode state")),typeof window<"u"&&(s&&clearInterval(s),s=setInterval(()=>{const I=r.value;o(),I!==r.value&&console.log(`Time-based theme changed from ${I} to ${r.value}`)},6e4),document.addEventListener("visibilitychange",()=>{document.hidden||o()})),c(),console.log("=== THEME INITIALIZATION COMPLETE ===")},c=()=>{if(typeof document<"u"){const G=document.documentElement;t.preferences.theme==="auto-time"&&o(),l.value?(G.classList.add("dark"),console.log("Applied dark mode to document")):(G.classList.remove("dark"),console.log("Applied light mode to document")),u()}},u=()=>{if(typeof document<"u"){let G=document.querySelector('meta[name="theme-color"]');G||(G=document.createElement("meta"),G.setAttribute("name","theme-color"),document.head.appendChild(G));const z=l.value?"#18181b":"#ffffff";G.setAttribute("content",z)}},m=G=>{console.log(`Setting theme to: ${G}`),t.updatePreferences({theme:G}),G==="auto-time"&&o()},y=()=>{console.log("Forcing auto-time theme..."),m("auto-time")},h=()=>{s&&(clearInterval(s),s=null)},w=()=>{const G=t.preferences.theme;let z;switch(G){case"light":z="dark";break;case"dark":z="auto-time";break;case"auto-time":z="system";break;case"system":default:z="light";break}m(z)};return Sr(i,c,{immediate:!0}),{currentTheme:i,isDark:l,prefersDark:e,themeOptions:[{value:"light",label:"Light",icon:"Sun"},{value:"dark",label:"Dark",icon:"Moon"},{value:"auto-time",label:"Auto (Time)",icon:"Clock"},{value:"system",label:"System",icon:"Monitor"}],setTheme:m,toggleTheme:w,initializeTheme:d,cleanup:h,getThemeIcon:()=>{const G=t.preferences.theme;return G==="system"?"Monitor":G==="auto-time"?"Clock":l.value?"Moon":"Sun"},getThemeDisplayName:()=>{switch(t.preferences.theme){case"light":return"Light Mode";case"dark":return"Dark Mode";case"system":return"System Default";case"auto-time":return"Auto (Time)";default:return"Unknown"}},forceAutoTimeTheme:y,applyTheme:c}},Hx={class:"min-h-screen bg-white dark:bg-red-500 transition-colors duration-300"},Wx={class:"nav backdrop-glass-strong sticky top-0 z-30 border-b border-gray-200 dark:border-red-600 bg-white dark:bg-black",role:"navigation","aria-label":"Main Navigation"},Vx={class:"w-full px-6"},Gx={class:"flex justify-between items-center h-16"},Kx={class:"flex items-center space-x-6"},Yx={class:"relative mr-3"},Jx={class:"hidden md:flex items-center space-x-1"},Zx={class:"flex items-center space-x-3"},Xx={class:"relative"},Qx={class:"w-6 h-6 bg-gray-500 dark:bg-red-600 rounded-full flex items-center justify-center text-white text-xs font-bold"},ek={key:1,class:"text-white dark:text-black"},tk={class:"hidden sm:inline text-sm text-black dark:text-black font-medium"},rk={class:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-red-500 border border-gray-200 dark:border-red-600 rounded-lg shadow-lg transition-all duration-200 z-40","data-testid":"profile-dropdown"},sk={class:"p-2 space-y-1"},ak=["title"],nk={key:0,class:"nav md:hidden border-t border-gray-200 dark:border-red-600 py-4 backdrop-blur-lg bg-white dark:bg-black z-30",role:"navigation","aria-label":"Mobile Navigation"},ok={class:"nav flex flex-col space-y-2",role:"menubar","aria-label":"Mobile menu"},ik={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},lk={key:0,class:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-orange-50 to-orange-100 dark:from-red-900/20 dark:to-red-800/20 border-t border-orange-200 dark:border-red-600 backdrop-blur-lg"},dk={class:"max-w-7xl mx-auto p-4"},ck={class:"flex items-center justify-between"},uk={class:"flex items-center text-orange-800 dark:text-red-600"},fk={class:"relative"},hk={class:"text-xs text-orange-600 dark:text-red-600 mt-1"},gk=Dt({__name:"AppLayout",setup(t){const e=lx(),r=_i(),s=ha(),{toggleTheme:n,isDark:o}=Fm(),i=ye(!1),l=ye(!1),d=[{name:"Calculator",path:"/calculator",icon:Hl},{name:"Zero",path:"/zero",icon:Il},{name:"Firearms",path:"/rifles",icon:bi},{name:"Sports",path:"/sports",icon:Ds},{name:"Environment",path:"/environment",icon:kx},{name:"Logs",path:"/history",icon:nf},{name:"Settings",path:"/settings",icon:dc},{name:"Help",path:"/help",icon:sf}],c=Pe(()=>{const G=[];return r.manualOverrideEnabled&&G.push("Manual Environment"),r.gpsEnabled||G.push("GPS Disabled"),r.weatherServiceEnabled||G.push("Weather Service Disabled"),G}),u=Pe(()=>c.value.length>0),m={user:xi,target:Br,crosshair:bi,shield:lf,eye:$m,search:Tm,zap:Il,star:Dm,award:ql,circle:Nm,crown:Lm,flame:Em},y=Pe(()=>s.isGuestMode?"Guest":s.currentProfile?.name||"No Profile"),h=Pe(()=>s.isGuestMode?"G":s.currentProfile?.name?.charAt(0).toUpperCase()||"?"),w=Pe(()=>{const G=s.currentProfile;return G?.avatar&&m[G.avatar]||null}),E=()=>{r.setManualOverride(!1)},R=()=>{l.value=!l.value},T=G=>{const z=G.target,$=document.querySelector('[data-testid="profile-dropdown"]'),I=document.querySelector('[data-testid="profile-indicator"]');$&&I&&!$.contains(z)&&!I.contains(z)&&(l.value=!1)};return qr(()=>{document.addEventListener("click",T)}),Bl(()=>{document.removeEventListener("click",T)}),(G,z)=>(W(),Y("div",Hx,[a("nav",Wx,[a("div",Vx,[a("div",Gx,[a("div",Kx,[Me(Le(Vs),{to:"/",class:"flex items-center text-xl font-bold text-black dark:text-red-600 hover:text-gray-700 dark:hover:text-red-700 transition-all duration-200 group font-display"},{default:Nr(()=>[a("div",Yx,[Me(Im,{size:32,animate:!0,theme:Le(o)?"dark":"light",class:"transition-all duration-200 group-hover:scale-110"},null,8,["theme"])]),z[5]||(z[5]=a("span",{class:"bg-gradient-to-r from-gray-700 to-gray-800 dark:from-red-600 dark:to-red-700 bg-clip-text text-transparent"}," That's DOPE ",-1))]),_:1}),a("div",Jx,[(W(),Y(rt,null,it(d,$=>Me(Le(Vs),{key:$.name,to:$.path,class:at(["flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 hover:bg-gray-100 dark:hover:bg-red-700/50",[Le(e).path===$.path?"text-black dark:text-red-600 bg-gray-100 dark:bg-red-600/50":"text-gray-700 dark:text-red-600 hover:text-black dark:hover:text-red-700"]])},{default:Nr(()=>[(W(),It(ls($.icon),{class:at(["w-4 h-4 mr-2",[Le(e).path===$.path?"text-gray-700 dark:text-red-600":""]])},null,8,["class"])),Qe(" "+F($.name),1)]),_:2},1032,["to","class"])),64))])]),a("div",Zx,[a("button",{onClick:z[0]||(z[0]=$=>i.value=!i.value),class:"md:hidden p-2 rounded-xl text-gray-700 dark:text-red-600 hover:text-black dark:hover:text-red-700 hover:bg-gray-100 dark:hover:bg-red-700/50 transition-all duration-200 z-40 relative","aria-label":"Toggle navigation menu"},[i.value?(W(),It(Le(Po),{key:1,class:"w-6 h-6"})):(W(),It(Le(Px),{key:0,class:"w-6 h-6"}))]),a("div",Xx,[a("button",{onClick:R,class:"flex items-center space-x-2 px-2 sm:px-3 py-2 rounded-xl bg-gray-100 dark:bg-red-600/50 border border-gray-200 dark:border-red-600 hover:bg-gray-200 dark:hover:bg-red-700/50 transition-all duration-200","data-testid":"profile-indicator","aria-label":"Toggle profile menu"},[a("div",Qx,[w.value?(W(),It(ls(w.value),{key:0,class:"w-4 h-4 text-white dark:text-black"})):(W(),Y("span",ek,F(h.value),1))]),a("span",tk,F(y.value),1),Me(Le(rf),{class:at(["w-4 h-4 text-gray-600 dark:text-red-600 transition-transform duration-200",{"rotate-180":l.value}])},null,8,["class"])]),Oe(a("div",rk,[a("div",sk,[z[8]||(z[8]=a("div",{class:"px-3 py-2 text-xs text-gray-500 dark:text-black border-b border-gray-200 dark:border-red-600"}," Current Profile ",-1)),Me(Le(Vs),{to:"/profile-management",class:"flex items-center px-3 py-2 text-sm text-gray-700 dark:text-black hover:bg-gray-100 dark:hover:bg-red-700/50 rounded-md transition-colors",onClick:z[1]||(z[1]=$=>l.value=!1)},{default:Nr(()=>[Me(Le(dc),{class:"w-4 h-4 mr-2"}),z[6]||(z[6]=Qe(" Manage Profiles ",-1))]),_:1}),Me(Le(Vs),{to:"/profile-selection",class:"flex items-center px-3 py-2 text-sm text-gray-700 dark:text-black hover:bg-gray-100 dark:hover:bg-red-700/50 rounded-md transition-colors",onClick:z[2]||(z[2]=$=>l.value=!1)},{default:Nr(()=>[Me(Le(xi),{class:"w-4 h-4 mr-2"}),z[7]||(z[7]=Qe(" Switch Profile ",-1))]),_:1})])],512),[[dl,l.value]])]),a("button",{onClick:z[3]||(z[3]=(...$)=>Le(n)&&Le(n)(...$)),class:"p-2 rounded-xl text-gray-700 dark:text-red-600 hover:text-black dark:hover:text-red-700 hover:bg-gray-100 dark:hover:bg-red-700/50 transition-all duration-200 transform hover:scale-110 group",title:`Switch to ${Le(o)?"light":"dark"} mode`},[Le(o)?(W(),It(Le(Dx),{key:0,class:"w-5 h-5 group-hover:rotate-12 transition-transform duration-200"})):(W(),It(Le(Lx),{key:1,class:"w-5 h-5 group-hover:-rotate-12 transition-transform duration-200"}))],8,ak),z[9]||(z[9]=a("div",{class:"flex items-center"},[a("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})],-1))])]),Me(Ud,{name:"mobile-menu"},{default:Nr(()=>[i.value?(W(),Y("div",nk,[a("div",ok,[(W(),Y(rt,null,it(d,$=>Me(Le(Vs),{key:$.name,to:$.path,onClick:z[4]||(z[4]=I=>i.value=!1),class:at(["nav group px-4 py-3 rounded-xl text-base font-medium transition-all duration-200 transform hover:translate-x-2",[Le(e).path===$.path?"bg-gradient-to-r from-gray-100 to-gray-50 dark:from-red-600/50 dark:to-red-700/50 text-black dark:text-red-600 shadow-lg":"text-gray-700 dark:text-red-600 hover:text-black dark:hover:text-red-700 hover:bg-gray-100 dark:hover:bg-red-700/50"]]),style:{display:"inline-block",visibility:"visible",opacity:"1","pointer-events":"auto",position:"relative"},role:"menuitem",tabindex:"0","aria-label":$.name+" page",onKeydown:[f0(()=>G.$router.push($.path),["enter"]),f0(()=>G.$router.push($.path),["space"])]},{default:Nr(()=>[(W(),It(ls($.icon),{class:at(["w-5 h-5 mr-3 inline transition-transform duration-200 group-hover:scale-110",[Le(e).path===$.path?"text-gray-700 dark:text-red-600":""]])},null,8,["class"])),Qe(" "+F($.name),1)]),_:2},1032,["to","class","aria-label","onKeydown"])),64))])])):Re("",!0)]),_:1})])]),a("main",ik,[Me(Le(Cm),null,{default:Nr(({Component:$})=>[Me(Ud,{name:"page",mode:"out-in",appear:""},{default:Nr(()=>[(W(),It(ls($),{class:"animate-fade-in-up"}))]),_:2},1024)]),_:1})]),Me(Ud,{name:"slide-up"},{default:Nr(()=>[u.value?(W(),Y("div",lk,[a("div",dk,[a("div",ck,[a("div",uk,[a("div",fk,[Me(Le(yi),{class:"w-5 h-5 mr-3 animate-bounce-subtle"}),z[10]||(z[10]=a("div",{class:"absolute inset-0 w-5 h-5 mr-3 text-orange-500 dark:text-red-600 opacity-30 blur-sm animate-pulse"},null,-1))]),a("div",null,[z[11]||(z[11]=a("span",{class:"text-sm font-medium"},"Manual overrides active",-1)),a("div",hk,F(c.value.join("  ")),1)])]),a("button",{onClick:E,class:"px-4 py-2 text-sm font-medium text-orange-700 dark:text-red-600 hover:text-orange-900 dark:hover:text-red-700 bg-orange-100 dark:bg-red-600/20 hover:bg-orange-200 dark:hover:bg-red-600/40 rounded-lg transition-all duration-200 transform hover:scale-105"}," Clear All ")])])])):Re("",!0)]),_:1})]))}}),pk=Lr(gk,[["__scopeId","data-v-ae7943f9"]]);class ri{constructor(){this.maxBackups=10}static getInstance(){return ri.instance||(ri.instance=new ri),ri.instance}save(e,r){try{const n={version:"1.0",timestamp:new Date().toISOString(),checksum:this.generateChecksum(r),size:JSON.stringify(r).length},o={data:r,metadata:n};return localStorage.setItem(e,JSON.stringify(o)),this.createBackup(e,o),this.updatePersistenceLog(e,"save",!0),!0}catch(s){return console.error(`Failed to save data for key ${e}:`,s),this.updatePersistenceLog(e,"save",!1,s),!1}}load(e){try{const r=this.loadPrimary(e);if(r&&this.validateData(r))return this.updatePersistenceLog(e,"load",!0),r.data;console.warn(`Primary data for ${e} is corrupted or missing, attempting recovery`);const s=this.recoverFromBackup(e);return s?(this.save(e,s.data),this.updatePersistenceLog(e,"recover",!0),s.data):(this.updatePersistenceLog(e,"load",!1,"No valid data found"),null)}catch(r){return console.error(`Failed to load data for key ${e}:`,r),this.updatePersistenceLog(e,"load",!1,r),null}}createBackup(e,r){try{const s=`${e}_backup_${Date.now()}`;localStorage.setItem(s,JSON.stringify(r)),this.cleanOldBackups(e)}catch(s){console.warn(`Failed to create backup for ${e}:`,s)}}loadPrimary(e){try{const r=localStorage.getItem(e);return r?JSON.parse(r):null}catch(r){return console.warn(`Failed to parse primary data for ${e}:`,r),null}}validateData(e){return!e||!e.metadata||!e.data?!1:this.generateChecksum(e.data)===e.metadata.checksum}recoverFromBackup(e){const r=Object.keys(localStorage).filter(s=>s.startsWith(`${e}_backup_`)).sort((s,n)=>{const o=parseInt(s.split("_backup_")[1]);return parseInt(n.split("_backup_")[1])-o});for(const s of r)try{const n=JSON.parse(localStorage.getItem(s)||"");if(this.validateData(n))return console.info(`Recovered data from backup: ${s}`),n}catch{console.warn(`Backup ${s} is corrupted`)}return null}cleanOldBackups(e){try{const r=Object.keys(localStorage).filter(s=>s.startsWith(`${e}_backup_`)).sort((s,n)=>{const o=parseInt(s.split("_backup_")[1]);return parseInt(n.split("_backup_")[1])-o});r.length>this.maxBackups&&r.slice(this.maxBackups).forEach(n=>{localStorage.removeItem(n)})}catch(r){console.warn(`Failed to clean old backups for ${e}:`,r)}}generateChecksum(e){const r=JSON.stringify(e);let s=0;for(let n=0;n<r.length;n++){const o=r.charCodeAt(n);s=(s<<5)-s+o,s=s&s}return s.toString(16)}updatePersistenceLog(e,r,s,n){try{const o="persistence_log",i=JSON.parse(localStorage.getItem(o)||"[]"),l={key:e,operation:r,success:s,timestamp:new Date().toISOString(),error:n?.message||n};i.push(l),i.length>100&&i.splice(0,i.length-100),localStorage.setItem(o,JSON.stringify(i))}catch{}}exportUserData(e){try{const r={exportDate:new Date().toISOString(),version:"1.0",userId:e,data:{}};return Object.keys(localStorage).forEach(s=>{if(s.includes(e)||s==="user-profiles"||s==="rifle-profiles")try{const n=this.load(s)||localStorage.getItem(s);r.data[s]=n}catch{console.warn(`Failed to export data for key: ${s}`)}}),JSON.stringify(r,null,2)}catch(r){throw new Error(`Failed to export user data: ${r}`)}}importUserData(e){try{const r=JSON.parse(e);if(!r.data||!r.userId)throw new Error("Invalid backup data format");return Object.entries(r.data).forEach(([s,n])=>{this.save(s,n)}),!0}catch(r){return console.error("Failed to import user data:",r),!1}}getHealthReport(){try{const r=JSON.parse(localStorage.getItem("persistence_log")||"[]").filter(n=>{const o=new Date(n.timestamp).getTime();return Date.now()-o<1440*60*1e3}),s=r.filter(n=>!n.success);return{totalOperations:r.length,failures:s.length,successRate:r.length>0?((r.length-s.length)/r.length*100).toFixed(2):100,recentFailures:s.slice(-5),storageUsage:this.getStorageUsage(),backupCounts:this.getBackupCounts()}}catch(e){return{error:"Failed to generate health report",details:e}}}getStorageUsage(){try{let e=0,r=0;return Object.keys(localStorage).forEach(s=>{const n=localStorage.getItem(s)||"";e+=s.length+n.length,r++}),{totalKeys:r,totalSizeKB:(e/1024).toFixed(2),maxSizeKB:5120,usagePercent:(e/(5*1024*1024)*100).toFixed(2)}}catch{return{error:"Failed to calculate storage usage"}}}getBackupCounts(){try{const e={};return Object.keys(localStorage).forEach(r=>{if(r.includes("_backup_")){const s=r.split("_backup_")[0];e[s]=(e[s]||0)+1}}),e}catch{return{error:"Failed to count backups"}}}}const yl=ri.getInstance(),Vn=wi("rifleProfile",()=>{const t=ha();function e(){return Math.random().toString(36).substr(2,9)}function r(){return t.currentUserDataKeys?.rifleProfiles||"rifle-profiles"}function s(){const k=t.currentUserDataKeys;return k?`${k.rifleProfiles}-current`:"current-rifle-profile-id"}const n=ye([]),o=ye(null),i=ye(!1),l=ye(null),d=ye(null),c=ye(!1),u=ye(!1),m=ye(""),y=ye(null),h=ye("lastUsed"),w=ye("desc"),E=Pe(()=>{let k=n.value;if(m.value){const O=m.value.toLowerCase();k=k.filter(U=>(U.make||U.name||"").toLowerCase().includes(O)||U.caliber.toLowerCase().includes(O)||U.notes?.toLowerCase().includes(O))}return y.value&&(k=k.filter(O=>O.caliber===y.value)),k.sort((O,U)=>{let B=O[h.value],V=U[h.value];return(h.value==="lastUsed"||h.value==="createdDate")&&(B=new Date(B).getTime(),V=new Date(V).getTime()),typeof B=="string"&&(B=B.toLowerCase(),V=V.toLowerCase()),w.value==="asc"?B<V?-1:B>V?1:0:B>V?-1:B<V?1:0}),k}),R=Pe(()=>{const k=new Set(n.value.map(O=>O.caliber));return Array.from(k).sort()}),T=Pe(()=>{if(n.value.length===0)return{totalProfiles:0,totalRounds:0,mostUsedCaliber:null,averageMuzzleVelocity:0};const k=n.value.reduce((B,V)=>B+(V.roundsFired||0),0),O={};n.value.forEach(B=>{O[B.caliber]=(O[B.caliber]||0)+1});let U="";return Object.keys(O).length>0&&(U=Object.keys(O).reduce((B,V)=>O[B]>O[V]?B:V)),{totalProfiles:n.value.length,totalRounds:k,mostUsedCaliber:U,averageMuzzleVelocity:n.value.reduce((B,V)=>B+(V.muzzleVelocity||0),0)/n.value.length}}),G=()=>{try{const k=r(),O=s();if(!yl.save(k,n.value))throw new Error("Failed to save profiles using PersistenceManager");o.value?localStorage.setItem(O,o.value.id):localStorage.removeItem(O),t.updateActivity()}catch(k){console.warn("Failed to save profiles to localStorage:",k);try{const O=r();localStorage.setItem(O,JSON.stringify(n.value))}catch{l.value="Critical: Unable to save rifle profiles. Please export your data immediately."}}},z=k=>{const O={scopeAdjustmentValue:k.scopeAdjustmentValue||(k.opticsMeasurement==="MOA"?.25:.1),id:e(),createdDate:new Date,lastUsed:new Date,roundsFired:0,make:k.make||k.name||"",name:k.name||k.make||"",variant:k.variant,type:k.type,caliber:k.caliber||"",licenceNumber:k.licenceNumber,licenceExpiryDate:k.licenceExpiryDate,serialNumber:k.serialNumber,competencies:k.competencies,images:k.images,barrelLength:k.barrelLength||0,opticsType:k.opticsType,opticsMeasurement:k.opticsMeasurement||"MOA",muzzleVelocity:k.muzzleVelocity||0,ballisticCoefficient:k.ballisticCoefficient||0,dragModel:k.dragModel||cc.G1,zeroDistance:k.zeroDistance||100,zeroDistanceUnit:k.zeroDistanceUnit||"yards",scopeHeight:k.scopeHeight||1.5,twistRate:k.twistRate||"",bulletWeight:k.bulletWeight||0},U=q(O);if(!U.isValid)throw new Error(`Invalid profile: ${U.errors.join(", ")}`);return n.value.push(O),G(),t.incrementRifleCount(),O},$=(k,O)=>{const U=n.value.findIndex(J=>J.id===k);if(U===-1)throw new Error("Profile not found");const B={...n.value[U],...O,scopeAdjustmentValue:O.scopeAdjustmentValue||n.value[U].scopeAdjustmentValue||(O.opticsMeasurement==="MOA"?.25:.1),opticsMeasurement:O.opticsMeasurement||n.value[U].opticsMeasurement||"MOA",lastUsed:new Date},V=q(B);if(!V.isValid)throw new Error(`Invalid profile: ${V.errors.join(", ")}`);return n.value[U]=B,G(),o.value?.id===k&&(o.value=B),B},I=k=>{const O=n.value.findIndex(U=>U.id===k);if(O===-1)throw new Error("Profile not found");n.value.splice(O,1),G(),t.decrementRifleCount(),o.value?.id===k&&(o.value=null)},K=()=>{n.value=[],o.value=null,G()},L=k=>{const O=n.value.find(B=>B.id===k);if(!O)throw new Error("Profile not found");const U={...O,name:`${O.name} (Copy)`};return z(U)},b=k=>{if(o.value=k,k){$(k.id,{lastUsed:new Date});const O=s();localStorage.setItem(O,k.id)}else{const O=s();localStorage.removeItem(O)}},v=(k,O=1)=>{const U=n.value.find(B=>B.id===k);if(U){const B=U.roundsFired||0;$(k,{roundsFired:B+O,lastUsed:new Date})}},C=k=>{d.value={...k},c.value=!0,u.value=!1},S=()=>{d.value=null,c.value=!1,u.value=!1},N=()=>{if(!d.value)throw new Error("No profile being edited");const k=$(d.value.id,d.value);return S(),k},A=k=>{d.value&&(d.value={...d.value,...k},u.value=!0)},p=k=>{m.value=k},P=k=>{y.value=k},Q=(k,O)=>{h.value=k,w.value=O},H=()=>{m.value="",y.value=null,h.value="lastUsed",w.value="desc"},q=k=>{const O=[],U=[];k.name?.trim()||O.push("Name is required"),k.caliber?.trim()||O.push("Caliber is required"),(!k.barrelLength||k.barrelLength<=0)&&O.push("Barrel length must be greater than 0"),(!k.scopeHeight||k.scopeHeight<=0)&&O.push("Optics measurement (scope height) must be greater than 0");const B=k.make||k.name;return B&&n.value.some(V=>(V.make||V.name)?.toLowerCase()===B.toLowerCase()&&V.id!==k.id)&&O.push("A profile with this make/name already exists"),{isValid:O.length===0,errors:O,warnings:U}},M=()=>({make:"New Rifle",name:"New Rifle",caliber:".308 Win",muzzleVelocity:0,bulletWeight:0,ballisticCoefficient:0,dragModel:cc.G1,zeroDistance:0,scopeHeight:0,barrelLength:0,twistRate:"",opticsMeasurement:"MOA",scopeAdjustmentValue:.25,notes:"",scopeMagnification:"",turretUnits:Om.MOA,clickValue:0}),ae=()=>{try{const k=r(),O=s(),U=yl.load(k);if(U&&Array.isArray(U))n.value=U;else{const V=localStorage.getItem(k);V?n.value=JSON.parse(V):n.value=[]}const B=localStorage.getItem(O);if(B){const V=n.value.find(J=>J.id===B);if(o.value=V||null,!V&&n.value.length>0){const J=n.value.reduce((ce,ue)=>new Date(ue.lastUsed||0)>new Date(ce.lastUsed||0)?ue:ce);o.value=J,localStorage.setItem(O,J.id)}}else if(n.value.length>0){const V=n.value.reduce((J,ce)=>new Date(ce.lastUsed||0)>new Date(J.lastUsed||0)?ce:J);o.value=V,localStorage.setItem(O,V.id)}else o.value=null;l.value=null}catch(k){console.warn("Failed to load rifle profiles:",k),n.value=[],o.value=null,l.value="Failed to load rifle profiles. Please check your data or restore from backup."}},ee=k=>{const{isGuest:O}=k.detail;if(O)try{const U=localStorage.getItem("rifle-profiles");n.value=U?JSON.parse(U):[];const B=localStorage.getItem("current-rifle-profile-id");if(B){const V=n.value.find(J=>J.id===B);o.value=V||null}else o.value=null}catch{n.value=[],o.value=null}else ae()};return ae(),typeof window<"u"&&window.addEventListener("userProfileChanged",ee),{profiles:n,currentProfile:o,isLoading:i,error:l,editingProfile:d,isEditMode:c,hasUnsavedChanges:u,searchQuery:m,filterByCaliber:y,sortBy:h,sortOrder:w,filteredProfiles:E,availableCalibers:R,profileStats:T,saveProfiles:G,createProfile:z,updateProfile:$,deleteProfile:I,clearAllProfiles:K,duplicateProfile:L,setCurrentProfile:b,selectProfile:b,incrementRoundCount:v,startEditing:C,cancelEditing:S,saveEditing:N,updateEditingProfile:A,setSearchQuery:p,setCaliberFilter:P,setSorting:Q,clearFilters:H,validateProfile:q,getDefaultProfile:M,loadUserData:ae}}),mk={class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[99998] flex items-center justify-center p-4"},vk={class:"bg-white dark:bg-red-500 rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto border border-gray-300 dark:border-red-600"},bk={key:0,class:"p-6"},yk={class:"text-center mb-6"},xk={class:"w-16 h-16 mx-auto mb-4 bg-gray-500 dark:bg-red-600 rounded-full flex items-center justify-center"},kk={class:"space-y-4"},wk={class:"flex items-center"},_k={class:"flex items-center"},Sk={key:1,class:"p-6"},Ak={class:"flex gap-3 pt-4"},Ck=["disabled"],Pk={key:2,class:"p-6"},Nk={class:"flex gap-2"},Lk={class:"flex gap-2"},$k={class:"px-3 py-2 bg-gray-100 dark:bg-red-600 border border-gray-300 dark:border-red-600 rounded-lg text-gray-700 dark:text-black"},Ek={class:"flex gap-2"},Mk={class:"px-3 py-2 bg-gray-100 dark:bg-red-600 border border-gray-300 dark:border-red-600 rounded-lg text-gray-700 dark:text-black"},Tk={class:"flex gap-3 pt-4"},Dk=["disabled"],Ik={key:3,class:"p-6"},Rk={class:"text-center mb-6"},Ok={class:"w-16 h-16 mx-auto mb-4 bg-green-500 dark:bg-red-600 rounded-full flex items-center justify-center"},Fk=Dt({__name:"FirstTimeSetup",props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const r=e,s=Ec(),n=ha(),o=Vn(),i=ye("welcome"),l=ye({name:"",email:"",preferences:{units:"imperial",scopeUnits:"MOA",skillLevel:"intermediate",shootingCategories:["precision"]}}),d=ye({name:"",make:"",caliber:"",type:void 0,opticsMeasurement:"",bulletWeight:55,muzzleVelocity:3e3,ballisticCoefficient:.25,zeroDistance:100,zeroDistanceUnit:"yards",barrelLength:16,scopeHeight:1.5,twistRate:"1:8",dragModel:"G1",scopeUnits:"MOA",notes:"",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}}),c=()=>{i.value="createProfile"},u=()=>{n.switchToGuest(),m(),r("close")},m=()=>{[{name:"AR-15 (.223)",make:"AR-15 (.223)",caliber:".223 Rem",type:"self-loading-rifle-carbine",opticsMeasurement:"MOA",bulletWeight:55,muzzleVelocity:3e3,ballisticCoefficient:.25,zeroDistance:100,zeroDistanceUnit:"yards",barrelLength:16,scopeHeight:1.5,twistRate:"1:8",dragModel:"G1",scopeUnits:"MOA",notes:"Standard tactical rifle setup",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}},{name:"Precision Rifle (.308)",make:"Precision Rifle (.308)",caliber:".308 Win",type:"manually-operated-rifle",opticsMeasurement:"MOA",bulletWeight:168,muzzleVelocity:2650,ballisticCoefficient:.45,zeroDistance:100,zeroDistanceUnit:"yards",barrelLength:20,scopeHeight:1.5,twistRate:"1:10",dragModel:"G1",scopeUnits:"MOA",notes:"Long-range precision rifle",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}},{name:"Long Range (6.5 CM)",make:"Long Range (6.5 CM)",caliber:"6.5 Creedmoor",type:"manually-operated-rifle",opticsMeasurement:"MOA",bulletWeight:140,muzzleVelocity:2700,ballisticCoefficient:.55,zeroDistance:100,zeroDistanceUnit:"yards",barrelLength:24,scopeHeight:1.5,twistRate:"1:8",dragModel:"G1",scopeUnits:"MOA",notes:"Competition long-range setup",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}},{name:"Glock 17 (9mm)",make:"Glock 17",caliber:"9mm",type:"semi-auto-handgun",opticsMeasurement:"MOA",bulletWeight:124,muzzleVelocity:1180,ballisticCoefficient:.125,zeroDistance:25,zeroDistanceUnit:"yards",barrelLength:4.49,scopeHeight:.8,twistRate:"1:10",dragModel:"G1",scopeUnits:"MOA",notes:"Standard 9mm service pistol",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}},{name:"1911 (.45 ACP)",make:"1911",caliber:".45 ACP",type:"semi-auto-handgun",opticsMeasurement:"MOA",bulletWeight:230,muzzleVelocity:850,ballisticCoefficient:.16,zeroDistance:25,zeroDistanceUnit:"yards",barrelLength:5,scopeHeight:.9,twistRate:"1:16",dragModel:"G1",scopeUnits:"MOA",notes:"Classic .45 ACP pistol",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}},{name:"Competition Pistol (.40 S&W)",make:"Competition Pistol",caliber:".40 S&W",type:"semi-auto-handgun",opticsMeasurement:"MOA",bulletWeight:180,muzzleVelocity:1e3,ballisticCoefficient:.14,zeroDistance:25,zeroDistanceUnit:"yards",barrelLength:4.5,scopeHeight:.85,twistRate:"1:16",dragModel:"G1",scopeUnits:"MOA",notes:"IPSC/IDPA competition pistol",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}},{name:"PCC Competition (9mm)",make:"PCC 9mm",caliber:"9mm",type:"pistol-calibre-carbine",opticsMeasurement:"MOA",bulletWeight:147,muzzleVelocity:1250,ballisticCoefficient:.15,zeroDistance:50,zeroDistanceUnit:"yards",barrelLength:16,scopeHeight:1.5,twistRate:"1:10",dragModel:"G1",scopeUnits:"MOA",notes:"Pistol Calibre Carbine for competition",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}}].forEach(z=>{o.createProfile(z)})},y=()=>{try{const G=n.createProfile(l.value);n.switchToProfile(G),i.value="rifleSetup",l.value.preferences?.units==="metric"&&(d.value.muzzleVelocity=900,d.value.zeroRange=100)}catch(G){console.error("Failed to create profile:",G)}},h=()=>{try{d.value.make=d.value.name,d.value.scopeUnits=l.value.preferences?.scopeUnits||"MOA",l.value.preferences?.units==="metric"?(d.value.unitPreferences={velocity:"mps",bulletWeight:"grams",distance:"meters",height:"centimeters"},d.value.zeroDistanceUnit="meters"):(d.value.unitPreferences={velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"},d.value.zeroDistanceUnit="yards"),o.createProfile(d.value),n.incrementRifleCount(),i.value="complete"}catch(G){console.error("Failed to create rifle profile:",G),alert("Failed to create rifle profile. Please check all required fields are filled correctly.")}},w=()=>{i.value="complete"},E=()=>{r("close"),s.push("/rifles")},R=()=>{r("close"),s.push("/calculator")},T=()=>{i.value==="createProfile"?i.value="welcome":i.value==="rifleSetup"&&(i.value="createProfile")};return(G,z)=>(W(),Y("div",mk,[a("div",vk,[i.value==="welcome"?(W(),Y("div",bk,[a("div",yk,[a("div",xk,[Me(Le(Br),{class:"w-8 h-8 text-white dark:text-black"})]),z[11]||(z[11]=a("h2",{class:"text-2xl font-bold text-black dark:text-black mb-2"},"Welcome to That's DOPE",-1)),z[12]||(z[12]=a("p",{class:"text-gray-600 dark:text-black"},"Let's get you set up for tactical ballistics calculations",-1))]),a("div",kk,[a("button",{onClick:c,class:"w-full p-4 text-left border-2 border-gray-200 dark:border-red-600 rounded-lg hover:border-gray-400 dark:hover:border-red-700 hover:bg-gray-50 dark:hover:bg-red-600/20 transition-all"},[a("div",wk,[Me(Le(xi),{class:"w-6 h-6 text-gray-600 dark:text-black mr-3"}),z[13]||(z[13]=a("div",null,[a("h3",{class:"font-semibold text-black dark:text-black"},"Create Your Profile"),a("p",{class:"text-sm text-gray-600 dark:text-black"},"Set up a personalized profile with your preferences")],-1))])]),a("button",{onClick:u,class:"w-full p-4 text-left border-2 border-gray-200 dark:border-red-600 rounded-lg hover:border-gray-400 dark:hover:border-red-700 hover:bg-gray-50 dark:hover:bg-red-600/20 transition-all"},[a("div",_k,[Me(Le(lf),{class:"w-6 h-6 text-gray-600 dark:text-black mr-3"}),z[14]||(z[14]=a("div",null,[a("h3",{class:"font-semibold text-black dark:text-black"},"Use Guest Mode"),a("p",{class:"text-sm text-gray-600 dark:text-black"},"Start immediately with pre-configured rifles for all calibers")],-1))])])])])):i.value==="createProfile"?(W(),Y("div",Sk,[z[21]||(z[21]=a("div",{class:"mb-6"},[a("h2",{class:"text-xl font-bold text-black dark:text-black mb-2"},"Create Your Profile"),a("p",{class:"text-gray-600 dark:text-black"},"Tell us about yourself to personalize your experience")],-1)),a("form",{onSubmit:Is(y,["prevent"]),class:"space-y-4"},[a("div",null,[z[15]||(z[15]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Display Name * ",-1)),Oe(a("input",{"onUpdate:modelValue":z[0]||(z[0]=$=>l.value.name=$),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"Enter your display name"},null,512),[[dt,l.value.name]])]),a("div",null,[z[16]||(z[16]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Email (Optional) ",-1)),Oe(a("input",{"onUpdate:modelValue":z[1]||(z[1]=$=>l.value.email=$),type:"email",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"Enter your email"},null,512),[[dt,l.value.email]])]),a("div",null,[z[18]||(z[18]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Preferred Units ",-1)),Oe(a("select",{"onUpdate:modelValue":z[2]||(z[2]=$=>l.value.preferences.units=$),class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...z[17]||(z[17]=[a("option",{value:"imperial"},"Imperial (Yards, MOA)",-1),a("option",{value:"metric"},"Metric (Meters, MIL)",-1)])],512),[[_t,l.value.preferences.units]])]),a("div",null,[z[20]||(z[20]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Experience Level ",-1)),Oe(a("select",{"onUpdate:modelValue":z[3]||(z[3]=$=>l.value.preferences.skillLevel=$),class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...z[19]||(z[19]=[a("option",{value:"beginner"},"Beginner",-1),a("option",{value:"intermediate"},"Intermediate",-1),a("option",{value:"advanced"},"Advanced",-1),a("option",{value:"expert"},"Expert",-1)])],512),[[_t,l.value.preferences.skillLevel]])]),a("div",Ak,[a("button",{type:"button",onClick:T,class:"flex-1 py-2 px-4 border border-gray-300 dark:border-red-600 text-gray-700 dark:text-black rounded-lg hover:bg-gray-50 dark:hover:bg-red-600/20 transition-colors"}," Back "),a("button",{type:"submit",disabled:!l.value.name.trim(),class:"flex-1 py-2 px-4 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white dark:text-black rounded-lg transition-colors"}," Create Profile ",8,Ck)])],32)])):i.value==="rifleSetup"?(W(),Y("div",Pk,[z[33]||(z[33]=a("div",{class:"mb-6"},[a("h2",{class:"text-xl font-bold text-black dark:text-black mb-2"},"Setup Your First Rifle"),a("p",{class:"text-gray-600 dark:text-black"},"Configure your primary rifle for ballistics calculations")],-1)),a("form",{onSubmit:Is(h,["prevent"]),class:"space-y-4"},[a("div",null,[z[22]||(z[22]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Rifle Name * ",-1)),Oe(a("input",{"onUpdate:modelValue":z[4]||(z[4]=$=>d.value.name=$),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"e.g., Primary AR-15"},null,512),[[dt,d.value.name]])]),a("div",null,[z[24]||(z[24]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Rifle Type * ",-1)),Oe(a("select",{"onUpdate:modelValue":z[5]||(z[5]=$=>d.value.type=$),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...z[23]||(z[23]=[Ht('<option value="" data-v-86046a67>Select rifle type</option><option value="manually-operated-rifle" data-v-86046a67>Manually Operated Rifle</option><option value="self-loading-rifle-carbine" data-v-86046a67>Self Loading Rifle/Carbine</option><option value="shotgun" data-v-86046a67>Shotgun</option><option value="pistol" data-v-86046a67>Pistol</option>',5)])],512),[[_t,d.value.type]])]),a("div",null,[z[26]||(z[26]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Caliber * ",-1)),Oe(a("select",{"onUpdate:modelValue":z[6]||(z[6]=$=>d.value.caliber=$),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...z[25]||(z[25]=[Ht('<option value="" data-v-86046a67>Select caliber</option><option value=".223 Rem" data-v-86046a67>.223 Remington</option><option value=".308 Win" data-v-86046a67>.308 Winchester</option><option value=".300 BLK" data-v-86046a67>.300 Blackout</option><option value="6.5 Creedmoor" data-v-86046a67>6.5 Creedmoor</option><option value=".338 Lapua" data-v-86046a67>.338 Lapua Magnum</option><option value=".50 BMG" data-v-86046a67>.50 BMG</option>',7)])],512),[[_t,d.value.caliber]])]),a("div",null,[z[28]||(z[28]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Barrel Length * ",-1)),a("div",Nk,[Oe(a("input",{"onUpdate:modelValue":z[7]||(z[7]=$=>d.value.barrelLength=$),type:"number",min:"4",max:"50",step:"0.1",required:"",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"16"},null,512),[[dt,d.value.barrelLength,void 0,{number:!0}]]),z[27]||(z[27]=a("span",{class:"px-3 py-2 bg-gray-100 dark:bg-red-600 border border-gray-300 dark:border-red-600 rounded-lg text-gray-700 dark:text-black"}," inches ",-1))])]),a("div",null,[z[30]||(z[30]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Optics Measurement * ",-1)),Oe(a("select",{"onUpdate:modelValue":z[8]||(z[8]=$=>d.value.opticsMeasurement=$),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...z[29]||(z[29]=[a("option",{value:""},"Select measurement",-1),a("option",{value:"MOA"},"MOA",-1),a("option",{value:"MIL"},"MIL",-1)])],512),[[_t,d.value.opticsMeasurement]])]),a("div",null,[z[31]||(z[31]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Zeroed Distance * ",-1)),a("div",Lk,[Oe(a("input",{"onUpdate:modelValue":z[9]||(z[9]=$=>d.value.zeroDistance=$),type:"number",min:"25",max:"1000",required:"",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"100"},null,512),[[dt,d.value.zeroDistance,void 0,{number:!0}]]),a("span",$k,F(l.value.preferences.units==="imperial"?"yards":"meters"),1)])]),a("div",null,[z[32]||(z[32]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Muzzle Velocity ",-1)),a("div",Ek,[Oe(a("input",{"onUpdate:modelValue":z[10]||(z[10]=$=>d.value.muzzleVelocity=$),type:"number",min:"500",max:"4000",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"3000"},null,512),[[dt,d.value.muzzleVelocity,void 0,{number:!0}]]),a("span",Mk,F(l.value.preferences.units==="imperial"?"fps":"m/s"),1)])]),a("div",Tk,[a("button",{type:"button",onClick:w,class:"flex-1 py-2 px-4 border border-gray-300 dark:border-red-600 text-gray-700 dark:text-black rounded-lg hover:bg-gray-50 dark:hover:bg-red-600/20 transition-colors"}," Skip for Now "),a("button",{type:"submit",disabled:!d.value.name.trim()||!d.value.caliber||!d.value.type||!d.value.barrelLength||!d.value.opticsMeasurement||!d.value.zeroDistance,class:"flex-1 py-2 px-4 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white dark:text-black rounded-lg transition-colors"}," Create Rifle ",8,Dk)])],32)])):i.value==="complete"?(W(),Y("div",Ik,[a("div",Rk,[a("div",Ok,[Me(Le(Js),{class:"w-8 h-8 text-white dark:text-black"})]),z[34]||(z[34]=a("h2",{class:"text-2xl font-bold text-black dark:text-black mb-2"},"You're All Set!",-1)),z[35]||(z[35]=a("p",{class:"text-gray-600 dark:text-black"},"Your profile and rifle have been configured",-1))]),a("div",{class:"space-y-3"},[a("button",{onClick:E,class:"w-full py-3 px-4 border border-gray-300 dark:border-red-600 text-gray-700 dark:text-black rounded-lg hover:bg-gray-50 dark:hover:bg-red-600/20 transition-colors"}," Add Another Rifle "),a("button",{onClick:R,class:"w-full py-3 px-4 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 text-white dark:text-black rounded-lg transition-colors"}," Start Calculating ")])])):Re("",!0)])]))}}),jk=Lr(Fk,[["__scopeId","data-v-86046a67"]]),Uk={id:"app",class:"min-h-screen transition-colors duration-300 bg-desert-50 dark:bg-dark-100"},Bk={class:"relative z-10"},zk={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm"},qk={class:"bg-white dark:bg-dark-100 rounded-2xl p-8 shadow-dope-xl"},Hk={class:"flex items-center space-x-4"},Wk={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},dV=Dt({__name:"App",setup(t){const{initializeTheme:e,forceAutoTimeTheme:r}=Fm();typeof window<"u"&&(window.forceAutoTimeTheme=r);const s=ha(),n=Wn(),o=ye(!1),i=ye("Loading..."),l=Pe(()=>{const c=!s.hasProfiles,u=!s.isGuestMode;return c&&u}),d=()=>{};return qr(async()=>{n.loadSettings(),e(),s.loadProfiles(),console.log("App initialization complete")}),(c,u)=>(W(),Y("div",Uk,[u[1]||(u[1]=a("div",{class:"fixed inset-0 overflow-hidden pointer-events-none"},[a("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-army-green-500/20 to-accent-camo/20 rounded-full blur-3xl animate-float"}),a("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-accent-desert/20 to-olive-600/20 rounded-full blur-3xl animate-float",style:{"animation-delay":"1s"}}),a("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-accent-woodland/10 to-accent-tactical/10 rounded-full blur-3xl animate-tactical-pulse"})],-1)),a("div",Bk,[Me(pk)]),l.value?(W(),It(jk,{key:0,show:l.value,onClose:d},null,8,["show"])):Re("",!0),Me(Ud,{name:"fade"},{default:Nr(()=>[o.value?(W(),Y("div",zk,[a("div",qk,[a("div",Hk,[u[0]||(u[0]=a("div",{class:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"},null,-1)),a("div",Wk,F(i.value),1)])])])):Re("",!0)]),_:1})]))}}),Vk={class:"space-y-12"},Gk={class:"relative overflow-hidden"},Kk={class:"relative z-10 text-white p-8 md:p-16"},Yk={class:"max-w-4xl mx-auto text-center"},Jk={class:"flex justify-center mb-8"},Zk={class:"relative"},Xk={class:"flex flex-col sm:flex-row gap-4 justify-center"},Qk=Dt({__name:"HomeView",setup(t){const e=Ec(),r=ha(),s=Vn(),n=Pe(()=>r.isSetupMode||r.isGuestMode||!r.currentProfile),o=()=>{if(r.hasProfiles&&!r.currentProfile){e.push("/profile-selection");return}if(r.isGuestMode){r.switchToGuest(),i(),e.push("/calculator");return}if(!r.hasProfiles){r.isSetupMode=!0;return}r.isSetupMode=!0},i=()=>{s.clearAllProfiles(),[{make:"Colt",name:"M4 Carbine (.223)",caliber:".223 Rem",type:"self-loading-rifle-carbine",opticsMeasurement:"MOA",scopeAdjustmentValue:.25,bulletWeight:55,muzzleVelocity:3e3,ballisticCoefficient:.25,dragModel:cc.G1,zeroDistance:100,zeroDistanceUnit:"yards",scopeHeight:1.5,barrelLength:14.5,twistRate:"1:7",notes:"Standard military tactical rifle setup"},{name:"AR-15 DMR (.223)",caliber:".223 Rem",bulletWeight:77,muzzleVelocity:2750,ballisticCoefficient:.35,zeroRange:100,barrelLength:18,dragModel:"G1",scopeUnits:"MOA",notes:"Designated marksman rifle configuration"},{name:"Precision .308 Win",caliber:".308 Win",bulletWeight:168,muzzleVelocity:2650,ballisticCoefficient:.45,zeroRange:100,barrelLength:20,dragModel:"G1",scopeUnits:"MOA",notes:"Standard precision rifle for competition"},{name:"Match .308 Win",caliber:".308 Win",bulletWeight:175,muzzleVelocity:2600,ballisticCoefficient:.48,zeroRange:100,barrelLength:24,dragModel:"G1",scopeUnits:"MOA",notes:"Match-grade ammunition setup"},{name:"6.5 Creedmoor Competition",caliber:"6.5 Creedmoor",bulletWeight:140,muzzleVelocity:2700,ballisticCoefficient:.55,zeroRange:100,barrelLength:24,dragModel:"G1",scopeUnits:"MOA",notes:"Popular long-range competition cartridge"},{name:"6.5 Creedmoor Hunting",caliber:"6.5 Creedmoor",bulletWeight:130,muzzleVelocity:2800,ballisticCoefficient:.52,zeroRange:100,barrelLength:22,dragModel:"G1",scopeUnits:"MOA",notes:"Hunting and field application setup"},{name:".300 Win Mag Tactical",caliber:".300 Win Mag",bulletWeight:190,muzzleVelocity:2900,ballisticCoefficient:.58,zeroRange:100,barrelLength:26,dragModel:"G1",scopeUnits:"MOA",notes:"Heavy-duty long-range tactical setup"},{name:".338 Lapua Magnum",caliber:".338 Lapua",bulletWeight:250,muzzleVelocity:2950,ballisticCoefficient:.65,zeroRange:100,barrelLength:27,dragModel:"G1",scopeUnits:"MOA",notes:"Extreme long-range precision rifle"},{name:"6mm Creedmoor PRS",caliber:"6mm Creedmoor",bulletWeight:105,muzzleVelocity:3050,ballisticCoefficient:.53,zeroRange:100,barrelLength:24,dragModel:"G1",scopeUnits:"MOA",notes:"Precision Rifle Series competition setup"},{name:".260 Remington",caliber:".260 Rem",bulletWeight:140,muzzleVelocity:2650,ballisticCoefficient:.55,zeroRange:100,barrelLength:22,dragModel:"G1",scopeUnits:"MOA",notes:"Versatile long-range hunting cartridge"}].forEach(c=>{try{s.createProfile(c)}catch(u){console.error("Failed to create sample rifle:",c.name,u)}});const d=s.profiles[0];d&&s.setCurrentProfile(d)};return(l,d)=>(W(),Y("div",Vk,[a("div",Gk,[d[8]||(d[8]=Ht('<div class="absolute inset-0 bg-gradient-to-br from-army-green-600 via-army-green-700 to-olive-800 dark:from-accent-camo dark:via-accent-woodland dark:to-accent-stealth rounded-2xl" data-v-d2ceaa74><div class="absolute inset-0 bg-camo-pattern opacity-20" data-v-d2ceaa74></div><div class="absolute top-10 left-10 w-2 h-2 bg-desert-200/30 rounded-full animate-tactical-pulse" data-v-d2ceaa74></div><div class="absolute top-24 right-16 w-3 h-3 bg-desert-300/25 rounded-full animate-camo-fade" data-v-d2ceaa74></div><div class="absolute bottom-16 left-1/4 w-4 h-4 bg-desert-400/20 rounded-full animate-float" data-v-d2ceaa74></div></div>',1)),a("div",Kk,[a("div",Yk,[a("div",Jk,[a("div",Zk,[Me(Im,{size:80,animate:!0,bullseyeColor:"#dc2626",theme:"dark",class:"text-white animate-pulse-slow"}),d[0]||(d[0]=a("div",{class:"absolute inset-0 w-20 h-20 text-white opacity-30 blur-sm animate-spin-slow"},null,-1))])]),d[6]||(d[6]=a("h1",{class:"text-5xl md:text-7xl font-bold mb-6 leading-tight font-display"},[a("span",{class:"bg-gradient-to-r from-desert-100 to-desert-200/90 bg-clip-text text-transparent"}," THAT'S DOPE ")],-1)),d[7]||(d[7]=a("p",{class:"text-xl md:text-2xl text-desert-100/90 mb-12 font-light leading-relaxed"}," BALLISTICS AND FIREARM MANAGEMENT APPLICATION ",-1)),a("div",Xk,[n.value?(W(),Y("button",{key:0,onClick:o,class:"group relative px-8 py-4 bg-gradient-to-r from-accent-desert to-desert-100 text-army-green-800 dark:text-accent-woodland rounded-xl font-semibold shadow-tactical hover:shadow-tactical-lg transform hover:-translate-y-1 transition-all duration-300 inline-flex items-center justify-center overflow-hidden font-display border-2 border-transparent hover:border-accent-desert/30"},[d[1]||(d[1]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-accent-camo/20 to-accent-desert/20 dark:from-accent-camo/10 dark:to-accent-desert/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),Me(Le(Br),{class:"w-5 h-5 mr-2 relative z-10 group-hover:scale-110 transition-transform duration-200"}),d[2]||(d[2]=a("span",{class:"relative z-10"},"GET STARTED",-1))])):Re("",!0),Me(Le(Vs),{to:"/calculator",class:"group relative px-8 py-4 bg-desert-100 text-army-green-800 dark:text-accent-woodland rounded-xl font-semibold shadow-tactical hover:shadow-tactical-lg transform hover:-translate-y-1 transition-all duration-300 inline-flex items-center justify-center overflow-hidden font-display"},{default:Nr(()=>[d[3]||(d[3]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-desert-50 to-desert-200 dark:from-accent-camo/10 dark:to-accent-desert/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),Me(Le(Hl),{class:"w-5 h-5 mr-2 relative z-10 group-hover:scale-110 transition-transform duration-200"}),d[4]||(d[4]=a("span",{class:"relative z-10"},"ENGAGE TARGET",-1))]),_:1}),Me(Le(Vs),{to:"/help",class:"group px-8 py-4 border-2 border-desert-200/40 text-desert-100 rounded-xl font-semibold hover:bg-desert-100/10 hover:border-desert-200/60 transition-all duration-300 inline-flex items-center justify-center backdrop-blur-sm font-display"},{default:Nr(()=>[Me(Le(mx),{class:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform duration-200"}),d[5]||(d[5]=Qe(" MISSION BRIEF ",-1))]),_:1})])])])])]))}}),cV=Lr(Qk,[["__scopeId","data-v-d2ceaa74"]]),y0=[{value:"manually-operated-rifle",label:"Manually Operated Rifle"},{value:"self-loading-rifle-carbine",label:"Self Loading Rifle/Carbine"},{value:"shotgun",label:"Shotgun"},{value:"pistol",label:"Pistol"}],e4={class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4"},t4={class:"max-w-4xl w-full"},r4={class:"text-center mb-8"},s4={class:"text-3xl font-bold text-gray-900 dark:text-white"},a4={class:"text-gray-600 dark:text-gray-400 mt-2"},n4={key:0,class:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg"},o4={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},i4=["onClick"],l4={class:"flex items-center mb-4"},d4={class:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg"},c4={class:"ml-4"},u4={class:"text-lg font-semibold text-gray-900 dark:text-white"},f4={class:"text-sm text-gray-600 dark:text-gray-400"},h4={class:"grid grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400"},g4={key:0,class:"mt-4 flex items-center text-sm text-gray-500"},p4={key:2,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 max-w-lg mx-auto"},m4={class:"text-xl font-semibold text-gray-900 dark:text-white mb-6"},v4={class:"mb-4"},b4={class:"mb-4"},y4={class:"mb-4"},x4={class:"mb-6"},k4={class:"space-y-3"},w4=["value","data-testid"],_4={class:"ml-3 text-sm text-gray-700 dark:text-gray-300"},S4={class:"flex space-x-3"},A4=["disabled"],C4={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},P4={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},N4={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm w-full"},L4={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},$4={class:"flex items-center space-x-2"},E4=["type"],M4={key:0,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},T4={key:1,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},D4={class:"flex space-x-3 mt-6"},I4=["disabled"],uV=Dt({__name:"ProfileSelectionView",setup(t){const e=Ec(),r=ha(),s=ye(!1),n=ye(!1),o=ye(null),i=ye(""),l=ye(null),d=ye(!1),c=ye(!1),u=ye(""),m=y0,y=ye({name:"",fullName:"",email:"",preferences:{units:"imperial",scopeUnits:"MOA",skillLevel:"intermediate",shootingCategories:[]}}),h=Pe(()=>r.isSetupMode),w=Pe(()=>r.profiles),E=K=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(K),R=async K=>{o.value=K,K.security.requirePin?(n.value=!0,i.value="",await Ul(),l.value&&l.value.focus()):z(K)},T=()=>{if(!o.value||!i.value)return;r.switchToProfile(o.value,i.value)?(n.value=!1,e.push("/")):(u.value="Invalid PIN. Please try again.",i.value="")},G=()=>{n.value=!1,o.value=null,i.value="",u.value=""},z=K=>{r.switchToProfile(K)?e.push("/"):u.value="Failed to switch to profile"},$=async()=>{try{if(c.value=!0,u.value="",!y.value.name.trim()){u.value="Profile name is required";return}if(!y.value.preferences.shootingCategories||y.value.preferences.shootingCategories.length===0){u.value="At least one shooting category must be selected";return}const K={name:y.value.name.trim(),fullName:y.value.fullName?.trim()||void 0,email:y.value.email?.trim()||void 0,preferences:{...y.value.preferences,theme:"auto"}},L=r.createProfile(K);r.isSetupMode&&r.completeSetup(),z(L)}catch(K){u.value=K instanceof Error?K.message:"Failed to create profile"}finally{c.value=!1}},I=()=>{r.isSetupMode&&r.completeSetup(),r.switchToGuest(),e.push("/")};return(K,L)=>(W(),Y("div",e4,[a("div",t4,[a("div",r4,[a("h1",s4,F(h.value?"Welcome to That's DOPE":"Select User Profile"),1),a("p",a4,F(h.value?"Set up your first user profile to get started":"Choose your profile or continue as guest"),1)]),u.value?(W(),Y("div",n4,F(u.value),1)):Re("",!0),!h.value&&!s.value?(W(),Y("div",o4,[(W(!0),Y(rt,null,it(w.value,b=>(W(),Y("div",{key:b.id,"data-testid":"profile-card",class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow border-2 border-transparent hover:border-blue-500",onClick:v=>R(b)},[a("div",l4,[a("div",d4,F(b.name.charAt(0).toUpperCase()),1),a("div",c4,[a("h3",u4,F(b.name),1),a("p",f4," Last used: "+F(E(b.lastUsed)),1)])]),a("div",h4,[a("div",null,[L[8]||(L[8]=a("span",{class:"font-medium"},"Rifles:",-1)),Qe(" "+F(b.stats.totalRifles),1)]),a("div",null,[L[9]||(L[9]=a("span",{class:"font-medium"},"Sessions:",-1)),Qe(" "+F(b.stats.totalSessions),1)]),a("div",null,[L[10]||(L[10]=a("span",{class:"font-medium"},"Shots:",-1)),Qe(" "+F(b.stats.totalShots),1)]),a("div",null,[L[11]||(L[11]=a("span",{class:"font-medium"},"Accuracy:",-1)),Qe(" "+F(b.stats.averageAccuracy.toFixed(1))+"% ",1)])]),b.security.requirePin?(W(),Y("div",g4,[...L[12]||(L[12]=[a("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1),Qe(" PIN protected ",-1)])])):Re("",!0)],8,i4))),128)),a("div",{"data-testid":"create-profile-card",class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-blue-500 flex flex-col items-center justify-center",onClick:L[0]||(L[0]=b=>s.value=!0)},[...L[13]||(L[13]=[Ht('<div class="w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center mb-4"><svg class="w-6 h-6 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></div><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Create New Profile</h3><p class="text-sm text-gray-600 dark:text-gray-400 text-center"> Add a new user profile for personalized settings and data </p>',3)])]),a("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow border-2 border-transparent hover:border-green-500",onClick:I},[...L[14]||(L[14]=[Ht('<div class="flex items-center mb-4"><div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><div class="ml-4"><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Guest Mode</h3><p class="text-sm text-gray-600 dark:text-gray-400"> Use without creating a profile </p></div></div><p class="text-sm text-gray-600 dark:text-gray-400"> Access basic features without saving personal data. Perfect for testing or one-time use. </p>',2)])])])):Re("",!0),h.value||s.value?(W(),Y("div",p4,[a("h2",m4,F(h.value?"Create Your Profile":"Create New Profile"),1),a("form",{onSubmit:Is($,["prevent"])},[a("div",v4,[L[15]||(L[15]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Profile Name * ",-1)),Oe(a("input",{"onUpdate:modelValue":L[1]||(L[1]=b=>y.value.name=b),type:"text",required:"","data-testid":"profile-name-input",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter profile name"},null,512),[[dt,y.value.name]])]),a("div",b4,[L[16]||(L[16]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Name & Surname (Optional) ",-1)),Oe(a("input",{"onUpdate:modelValue":L[2]||(L[2]=b=>y.value.fullName=b),type:"text","data-testid":"profile-fullname-input",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your full name"},null,512),[[dt,y.value.fullName]])]),a("div",y4,[L[17]||(L[17]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email Address (Optional) ",-1)),Oe(a("input",{"onUpdate:modelValue":L[3]||(L[3]=b=>y.value.email=b),type:"email","data-testid":"profile-email-input",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your email address"},null,512),[[dt,y.value.email]])]),a("div",x4,[L[18]||(L[18]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Shooting Categories * ",-1)),L[19]||(L[19]=a("p",{class:"text-xs text-gray-600 dark:text-gray-400 mb-3"},"Select at least one category",-1)),a("div",k4,[(W(!0),Y(rt,null,it(Le(m),b=>(W(),Y("label",{key:b.value,class:"flex items-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md p-2 transition-colors"},[Oe(a("input",{"onUpdate:modelValue":L[4]||(L[4]=v=>y.value.preferences.shootingCategories=v),value:b.value,type:"checkbox","data-testid":`shooting-category-${b.value}`,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,w4),[[Ur,y.value.preferences.shootingCategories]]),a("span",_4,F(b.label),1)]))),128))])]),a("div",S4,[a("button",{type:"submit",disabled:c.value,"data-testid":"create-profile-button",class:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"},F(c.value?"Creating...":"Create Profile"),9,A4),h.value?Re("",!0):(W(),Y("button",{key:0,type:"button",onClick:L[5]||(L[5]=b=>s.value=!1),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Cancel "))])],32),h.value?(W(),Y("div",C4,[a("button",{onClick:I,class:"w-full text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}," Skip and continue as guest ")])):Re("",!0)])):Re("",!0),n.value?(W(),Y("div",P4,[a("div",N4,[a("h3",L4," Enter PIN for "+F(o.value?.name),1),a("div",$4,[Oe(a("input",{"onUpdate:modelValue":L[6]||(L[6]=b=>i.value=b),type:d.value?"text":"password",pattern:"[0-9]*",inputmode:"numeric",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-center text-lg tracking-widest",placeholder:"",onKeyup:f0(T,["enter"]),ref_key:"pinInput",ref:l},null,40,E4),[[dm,i.value]]),a("button",{type:"button",onClick:L[7]||(L[7]=b=>d.value=!d.value),class:"flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Toggle PIN visibility"},[d.value?(W(),Y("svg",M4,[...L[20]||(L[20]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(W(),Y("svg",T4,[...L[21]||(L[21]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),a("div",D4,[a("button",{onClick:T,disabled:!i.value,class:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}," Unlock ",8,I4),a("button",{onClick:G,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Cancel ")])])])):Re("",!0)])]))}}),R4={class:"container mx-auto px-4 py-8"},O4={class:"flex justify-between items-center mb-8"},F4={class:"flex space-x-3"},j4={key:0,class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-8"},U4={class:"flex items-center justify-between"},B4={class:"flex items-center"},z4={class:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl"},q4={key:1},H4={class:"ml-4"},W4={class:"text-xl font-semibold text-gray-900 dark:text-white"},V4={key:0,class:"text-lg font-medium text-gray-900 dark:text-white"},G4={class:"text-sm text-gray-600 dark:text-gray-400"},K4={key:1,class:"mt-2"},Y4={class:"flex flex-wrap gap-1"},J4={class:"text-right"},Z4={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},X4={key:1,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 mb-8"},Q4={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md"},ew={class:"divide-y divide-gray-200 dark:divide-gray-700"},tw={class:"flex items-center justify-between"},rw={class:"flex items-center"},sw={class:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold"},aw={key:1},nw={class:"ml-4"},ow={class:"flex items-center"},iw={class:"text-lg font-medium text-gray-900 dark:text-white"},lw={key:0,class:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full"},dw={key:1,class:"ml-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full"},cw={key:2,class:"ml-2 text-gray-500"},uw={class:"text-sm text-gray-600 dark:text-gray-400"},fw={class:"text-xs text-gray-500 dark:text-gray-400"},hw={class:"flex items-center space-x-6"},gw={class:"text-right text-sm text-gray-600 dark:text-gray-400"},pw={class:"flex space-x-2"},mw=["onClick"],vw=["onClick"],bw=["onClick"],yw=["onClick","disabled","title"],xw={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},kw={class:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},ww={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_w={key:2,class:"mt-8 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"},Sw={class:"flex items-start"},Aw={class:"ml-3 flex-1"},Cw={class:"text-sm text-red-600 dark:text-red-300"},Pw={class:"flex-shrink-0"},Nw={key:0,class:"px-6 pb-6 border-t border-red-200 dark:border-red-800"},Lw={class:"pt-4"},$w={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ew=["disabled"],Mw={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Tw={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto"},Dw={class:"text-lg font-semibold text-gray-900 dark:text-white mb-6"},Iw={class:"mb-4"},Rw={class:"mb-4"},Ow={class:"grid grid-cols-6 gap-2"},Fw=["onClick"],jw={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center"},Uw={class:"mb-4"},Bw={class:"mb-4"},zw={class:"mb-4"},qw={class:"space-y-2"},Hw=["value"],Ww={class:"ml-3"},Vw={class:"text-sm font-medium text-gray-900 dark:text-white"},Gw={key:0,class:"text-xs text-red-600 dark:text-red-400 mt-1"},Kw={class:"mb-4"},Yw={class:"flex items-center"},Jw={key:0,class:"mb-6"},Zw={class:"flex items-center space-x-2"},Xw=["type"],Qw={key:0,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e3={key:1,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t3={class:"flex space-x-3"},r3=["disabled"],s3={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},a3={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm w-full"},n3={class:"text-gray-600 dark:text-gray-400 mb-6"},o3={class:"flex space-x-3"},i3={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},l3={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-lg w-full"},d3={class:"mb-6"},c3={class:"text-gray-600 dark:text-gray-400 mb-4"},u3={class:"mb-4"},f3={class:"flex space-x-3"},h3=["disabled"],g3={key:6,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},p3={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-lg w-full"},m3={class:"mb-4"},v3={class:"flex space-x-3"},b3=["disabled"],y3={key:7,class:"fixed bottom-4 right-4 max-w-sm"},fV=Dt({__name:"ProfileManagementView",setup(t){const e=[{name:"user",component:xi,label:"User"},{name:"target",component:Br,label:"Target"},{name:"crosshair",component:bi,label:"Crosshair"},{name:"shield",component:lf,label:"Shield"},{name:"eye",component:$m,label:"Eye"},{name:"search",component:Tm,label:"Scope"},{name:"zap",component:Il,label:"Lightning"},{name:"star",component:Dm,label:"Star"},{name:"award",component:ql,label:"Award"},{name:"circle",component:Nm,label:"Circle"},{name:"crown",component:Lm,label:"Crown"},{name:"flame",component:Em,label:"Flame"}],r=U=>U&&e.find(V=>V.name===U)?.component||null,s=ha(),n=ye(!1),o=ye(null),i=ye(null),l=ye(!1),d=ye(""),c=ye("success"),u=ye(!1),m=ye(!1),y=ye(!1),h=ye(""),w=ye(""),E=ye(!1),R=ye({name:"",email:"",avatar:"user",preferences:{units:"imperial",scopeUnits:"MOA",skillLevel:"intermediate",shootingCategories:[]},security:{requirePin:!1,pin:""}}),T=Pe(()=>s.profiles),G=Pe(()=>s.currentProfile),z=Pe(()=>s.isGuestMode),$=U=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(U),I=U=>{const B=y0.find(V=>V.value===U);return B?B.label:U},K=(U,B="success")=>{d.value=U,c.value=B,setTimeout(()=>{d.value=""},5e3)},L=U=>{try{s.switchToProfile(U)?K(`Switched to ${U.name}`):K("Failed to switch profile","error")}catch(B){K(B instanceof Error?B.message:"Failed to switch profile","error")}},b=()=>{s.switchToGuest(),K("Switched to guest mode")},v=U=>{o.value=U,R.value={name:U.name,email:U.email||"",avatar:U.avatar||"user",preferences:{...U.preferences},security:{requirePin:U.security.requirePin,pin:U.security.pin||""}}},C=()=>{n.value=!1,o.value=null,R.value={name:"",email:"",avatar:"user",preferences:{units:"imperial",scopeUnits:"MOA",skillLevel:"intermediate",shootingCategories:[]},security:{requirePin:!1,pin:""}}},S=async()=>{try{if(l.value=!0,!R.value.preferences?.shootingCategories||R.value.preferences.shootingCategories.length===0){K("Please select at least one shooting category","error");return}const U={name:R.value.name.trim(),email:R.value.email?.trim()||void 0,avatar:R.value.avatar,preferences:R.value.preferences,security:{requirePin:R.value.security.requirePin,pin:R.value.security.requirePin?R.value.security.pin:void 0,allowGuestAccess:!0,autoLockMinutes:30}},B=s.createProfile(U);s.switchToProfile(B),K(`Profile "${B.name}" created successfully`),C()}catch(U){K(U instanceof Error?U.message:"Failed to create profile","error")}finally{l.value=!1}},N=async()=>{if(o.value)try{if(l.value=!0,!R.value.preferences?.shootingCategories||R.value.preferences.shootingCategories.length===0){K("Please select at least one shooting category","error");return}s.updateProfile(o.value.id,{name:R.value.name.trim(),email:R.value.email?.trim()||void 0,avatar:R.value.avatar,preferences:R.value.preferences,security:{requirePin:R.value.security.requirePin,pin:R.value.security.requirePin?R.value.security.pin:void 0,allowGuestAccess:!0,autoLockMinutes:30}}),K(`Profile "${R.value.name}" updated successfully`),C()}catch(U){K(U instanceof Error?U.message:"Failed to update profile","error")}finally{l.value=!1}},A=U=>{if(console.log("Confirm delete called for profile:",U.name,"isActive:",U.isActive),U.isActive){K("Cannot delete the currently active profile. Switch to another profile or guest mode first.","error");return}i.value=U,console.log("Profile set for deletion:",i.value?.name)},p=()=>{if(i.value)try{const U=i.value.name;if(i.value.isActive){K("Cannot delete the currently active profile. Switch to another profile or guest mode first.","error"),i.value=null;return}s.deleteProfile(i.value.id),K(`Profile "${U}" deleted successfully`),i.value=null}catch(U){console.error("Profile deletion error:",U),K(U instanceof Error?U.message:"Failed to delete profile","error"),i.value=null}},P=U=>{try{const B=s.exportProfile(U.id),V=new Blob([B],{type:"application/json"}),J=URL.createObjectURL(V),ce=document.createElement("a");ce.href=J,ce.download=`${U.name}_profile_backup.json`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(J),K(`Profile "${U.name}" exported successfully`)}catch(B){K(B instanceof Error?B.message:"Failed to export profile","error")}},Q=()=>{try{const U={profiles:T.value,exportDate:new Date,version:"1.0.0"},B=JSON.stringify(U,null,2),V=new Blob([B],{type:"application/json"}),J=URL.createObjectURL(V),ce=document.createElement("a");ce.href=J,ce.download=`all_profiles_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(J),K("All profiles exported successfully")}catch{K("Failed to export profiles","error")}},H=U=>{const B=U.target,V=B.files?.[0];if(!V)return;const J=new FileReader;J.onload=ce=>{try{const ue=ce.target?.result,xe=s.importProfile(ue);K(`Profile "${xe.name}" imported successfully`)}catch(ue){K(ue instanceof Error?ue.message:"Failed to import profile","error")}},J.readAsText(V),B.value=""},q=()=>{T.value.length!==0&&(m.value=!0,h.value="")},M=()=>{m.value=!1,h.value=""},ae=()=>{if(h.value==="DELETE ALL")try{console.log("Deleting all profiles...");const U=T.value.length;s.deleteAllProfiles(),K(`Successfully deleted all ${U} profiles`),M()}catch(U){console.error("Error deleting all profiles:",U),K(U instanceof Error?U.message:"Failed to delete all profiles","error")}},ee=()=>{y.value=!0,w.value=""},k=()=>{y.value=!1,w.value=""},O=()=>{if(w.value==="RESET EVERYTHING")try{console.log("Resetting entire application...");const U=[];Object.keys(localStorage).forEach(B=>{U.includes(B)||localStorage.removeItem(B)}),K("Application reset successfully. Reloading...","success"),setTimeout(()=>{window.location.reload()},1500),k()}catch(U){console.error("Error resetting application:",U),K(U instanceof Error?U.message:"Failed to reset application","error")}};return(U,B)=>(W(),Y("div",R4,[a("div",O4,[B[15]||(B[15]=a("div",null,[a("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Profile Management"),a("p",{class:"text-gray-600 dark:text-gray-400 mt-2"}," Manage user profiles and data ")],-1)),a("div",F4,[a("button",{onClick:B[0]||(B[0]=V=>n.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Add Profile "),z.value?Re("",!0):(W(),Y("button",{key:0,onClick:b,class:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Switch to Guest "))])]),G.value&&!z.value?(W(),Y("div",j4,[a("div",U4,[a("div",B4,[a("div",z4,[r(G.value.avatar)?(W(),It(ls(r(G.value.avatar)),{key:0,class:"w-8 h-8 text-white"})):(W(),Y("span",q4,F(G.value.name.charAt(0).toUpperCase()),1))]),a("div",H4,[a("h2",W4,F(G.value.name),1),G.value.fullName?(W(),Y("h4",V4,F(G.value.fullName),1)):Re("",!0),B[17]||(B[17]=a("p",{class:"text-blue-600 dark:text-blue-400"},"Currently Active Profile",-1)),a("p",G4,F(G.value.email||"No email set"),1),G.value.preferences.shootingCategories&&G.value.preferences.shootingCategories.length>0?(W(),Y("div",K4,[B[16]||(B[16]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Shooting Categories:",-1)),a("div",Y4,[(W(!0),Y(rt,null,it(G.value.preferences.shootingCategories,V=>(W(),Y("span",{key:V,class:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full dark:bg-blue-900 dark:text-blue-200"},F(I(V)),1))),128))])])):Re("",!0)])]),a("div",J4,[a("div",Z4,[a("div",null,F(G.value.stats.totalRifles)+" rifles",1),a("div",null,F(G.value.stats.totalSessions)+" sessions",1),a("div",null,F(G.value.stats.totalShots)+" shots",1),a("div",null,F(G.value.stats.averageAccuracy.toFixed(1))+"% accuracy",1)])])])])):Re("",!0),z.value?(W(),Y("div",X4,[...B[18]||(B[18]=[Ht('<div class="flex items-center"><div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><div class="ml-4"><h2 class="text-xl font-semibold text-gray-900 dark:text-white">Guest Mode</h2><p class="text-green-600 dark:text-green-400">Using shared data without personal profile</p></div></div>',1)])])):Re("",!0),a("div",Q4,[B[23]||(B[23]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"All Profiles")],-1)),a("div",ew,[(W(!0),Y(rt,null,it(T.value,V=>(W(),Y("div",{key:V.id,class:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[a("div",tw,[a("div",rw,[a("div",sw,[r(V.avatar)?(W(),It(ls(r(V.avatar)),{key:0,class:"w-6 h-6 text-white"})):(W(),Y("span",aw,F(V.name.charAt(0).toUpperCase()),1))]),a("div",nw,[a("div",ow,[a("h4",iw,F(V.name),1),V.isActive?(W(),Y("span",lw," Active ")):(W(),Y("span",dw," Inactive ")),V.security.requirePin?(W(),Y("span",cw,[...B[19]||(B[19]=[a("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):Re("",!0)]),a("p",uw,F(V.email||"No email"),1),a("p",fw," Created "+F($(V.createdDate))+"  Last used "+F($(V.lastUsed)),1)])]),a("div",hw,[a("div",gw,[a("div",null,F(V.stats.totalRifles)+" rifles",1),a("div",null,F(V.stats.totalSessions)+" sessions",1),a("div",null,F(V.stats.totalShots)+" shots",1)]),a("div",pw,[V.isActive?Re("",!0):(W(),Y("button",{key:0,onClick:J=>L(V),class:"px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-sm"}," Switch To ",8,mw)),a("button",{onClick:J=>v(V),class:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm"}," Edit ",8,vw),a("button",{onClick:J=>P(V),class:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 text-sm"}," Export ",8,bw),a("button",{onClick:J=>A(V),class:at(["px-3 py-1 rounded text-sm transition-colors",V.isActive?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-red-100 text-red-700 hover:bg-red-200 cursor-pointer"]),disabled:V.isActive,title:V.isActive?"Cannot delete active profile":"Delete this profile"}," Delete ",10,yw)])])])]))),128)),T.value.length===0?(W(),Y("div",xw,[B[20]||(B[20]=a("svg",{class:"w-12 h-12 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),B[21]||(B[21]=a("h3",{class:"text-lg font-medium mb-2"},"No profiles created yet",-1)),B[22]||(B[22]=a("p",{class:"mb-4"},"Create your first profile to get started with personalized settings.",-1)),a("button",{onClick:B[1]||(B[1]=V=>n.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Create First Profile ")])):Re("",!0)])]),a("div",kw,[B[28]||(B[28]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Import/Export",-1)),a("div",ww,[a("div",null,[B[24]||(B[24]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-2"},"Import Profile",-1)),B[25]||(B[25]=a("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Import a profile from a JSON file backup ",-1)),a("input",{type:"file",accept:".json",onChange:H,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32)]),a("div",null,[B[26]||(B[26]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-2"},"Export All Profiles",-1)),B[27]||(B[27]=a("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Download a backup of all profiles and data ",-1)),a("button",{onClick:Q,class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500"}," Export All ")])])]),T.value.length>0?(W(),Y("div",_w,[a("div",{onClick:B[2]||(B[2]=V=>u.value=!u.value),class:"flex items-center justify-between p-6 cursor-pointer hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors"},[a("div",Sw,[B[30]||(B[30]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),a("div",Aw,[B[29]||(B[29]=a("h3",{class:"text-lg font-semibold text-red-800 dark:text-red-200 mb-1"},"Danger Zone",-1)),a("p",Cw,F(u.value?"Click to hide dangerous operations":"Click to reveal dangerous operations"),1)])]),a("div",Pw,[(W(),Y("svg",{class:at(["w-5 h-5 text-red-400 transition-transform duration-200",{"rotate-180":u.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...B[31]||(B[31]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),u.value?(W(),Y("div",Nw,[a("div",Lw,[B[36]||(B[36]=Ht('<div class="bg-red-100 dark:bg-red-900/40 border border-red-200 dark:border-red-700 rounded-lg p-4 mb-4"><div class="flex items-center mb-2"><svg class="w-4 h-4 text-red-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><span class="text-sm font-semibold text-red-700 dark:text-red-300"> WARNING</span></div><p class="text-sm text-red-600 dark:text-red-400"> The operations below will permanently delete data and cannot be undone. Please ensure you have exported any important data before proceeding. </p></div>',1)),a("div",$w,[a("div",null,[B[32]||(B[32]=a("h4",{class:"font-medium text-red-800 dark:text-red-200 mb-2"},"Delete All Profiles",-1)),B[33]||(B[33]=a("p",{class:"text-sm text-red-600 dark:text-red-300 mb-4"}," Permanently delete all user profiles and their associated data. This action cannot be undone. ",-1)),a("button",{onClick:q,disabled:T.value.length===0,class:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"}," Delete All Profiles ("+F(T.value.length)+") ",9,Ew)]),a("div",null,[B[34]||(B[34]=a("h4",{class:"font-medium text-red-800 dark:text-red-200 mb-2"},"Reset Application",-1)),B[35]||(B[35]=a("p",{class:"text-sm text-red-600 dark:text-red-300 mb-4"}," Clear all application data including profiles, rifle configurations, and user settings. ",-1)),a("button",{onClick:ee,class:"bg-red-700 text-white px-4 py-2 rounded-lg hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors"}," Reset Everything ")])])])])):Re("",!0)])):Re("",!0),n.value||o.value?(W(),Y("div",Mw,[a("div",Tw,[a("h3",Dw,F(o.value?"Edit Profile":"Create New Profile"),1),a("form",{onSubmit:B[10]||(B[10]=Is(V=>o.value?N():S(),["prevent"]))},[a("div",Iw,[B[37]||(B[37]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Name * ",-1)),Oe(a("input",{"onUpdate:modelValue":B[3]||(B[3]=V=>R.value.name=V),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"},null,512),[[dt,R.value.name]])]),a("div",Rw,[B[39]||(B[39]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Profile Icon ",-1)),a("div",Ow,[(W(),Y(rt,null,it(e,V=>a("button",{key:V.name,type:"button",onClick:J=>R.value.avatar=V.name,class:at(["relative p-3 rounded-lg border-2 transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500",R.value.avatar===V.name?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-700"])},[(W(),It(ls(V.component),{class:"w-6 h-6 mx-auto text-gray-700 dark:text-gray-300"})),R.value.avatar===V.name?(W(),Y("div",jw,[...B[38]||(B[38]=[a("svg",{class:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):Re("",!0)],10,Fw)),64))]),B[40]||(B[40]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Select an icon that will represent your profile ",-1))]),a("div",Uw,[B[41]||(B[41]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email ",-1)),Oe(a("input",{"onUpdate:modelValue":B[4]||(B[4]=V=>R.value.email=V),type:"email",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"},null,512),[[dt,R.value.email]])]),a("div",Bw,[B[43]||(B[43]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Skill Level ",-1)),Oe(a("select",{"onUpdate:modelValue":B[5]||(B[5]=V=>R.value.preferences.skillLevel=V),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"},[...B[42]||(B[42]=[a("option",{value:"novice"},"Novice",-1),a("option",{value:"intermediate"},"Intermediate",-1),a("option",{value:"advanced"},"Advanced",-1),a("option",{value:"expert"},"Expert",-1)])],512),[[_t,R.value.preferences.skillLevel]])]),a("div",zw,[B[44]||(B[44]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Shooting Categories * ",-1)),B[45]||(B[45]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-3"}," Select at least one category that matches your shooting interests ",-1)),a("div",qw,[(W(!0),Y(rt,null,it(Le(y0),V=>(W(),Y("label",{key:V.value,class:"flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors"},[Oe(a("input",{type:"checkbox",value:V.value,"onUpdate:modelValue":B[6]||(B[6]=J=>R.value.preferences.shootingCategories=J),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,Hw),[[Ur,R.value.preferences.shootingCategories]]),a("div",Ww,[a("div",Vw,F(V.label),1)])]))),128))]),R.value.preferences.shootingCategories&&R.value.preferences.shootingCategories.length===0?(W(),Y("div",Gw," Please select at least one shooting category ")):Re("",!0)]),a("div",Kw,[a("label",Yw,[Oe(a("input",{"onUpdate:modelValue":B[7]||(B[7]=V=>R.value.security.requirePin=V),type:"checkbox",class:"rounded border-gray-300 text-blue-600"},null,512),[[Ur,R.value.security.requirePin]]),B[46]||(B[46]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," Require PIN ",-1))])]),R.value.security.requirePin?(W(),Y("div",Jw,[B[49]||(B[49]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," PIN (4-8 digits) ",-1)),a("div",Zw,[Oe(a("input",{"onUpdate:modelValue":B[8]||(B[8]=V=>R.value.security.pin=V),type:E.value?"text":"password",pattern:"[0-9]{4,8}",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"},null,8,Xw),[[dm,R.value.security.pin]]),a("button",{type:"button",onClick:B[9]||(B[9]=V=>E.value=!E.value),class:"flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Toggle PIN visibility"},[E.value?(W(),Y("svg",Qw,[...B[47]||(B[47]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(W(),Y("svg",e3,[...B[48]||(B[48]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])])):Re("",!0),a("div",t3,[a("button",{type:"submit",disabled:l.value,class:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"},F(l.value?"Saving...":o.value?"Update":"Create"),9,r3),a("button",{type:"button",onClick:C,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700"}," Cancel ")])],32)])])):Re("",!0),i.value?(W(),Y("div",s3,[a("div",a3,[B[50]||(B[50]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Delete Profile",-1)),a("p",n3,' Are you sure you want to delete the profile "'+F(i.value.name)+'"? This action cannot be undone and will permanently delete all associated data. ',1),a("div",o3,[a("button",{onClick:p,class:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500"}," Delete "),a("button",{onClick:B[11]||(B[11]=V=>i.value=null),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700"}," Cancel ")])])])):Re("",!0),m.value?(W(),Y("div",i3,[a("div",l3,[B[56]||(B[56]=Ht('<div class="flex items-start mb-4"><div class="flex-shrink-0"><svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="ml-3"><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Delete All Profiles</h3></div></div>',1)),a("div",d3,[a("p",c3,[B[51]||(B[51]=Qe(" You are about to permanently delete ",-1)),a("strong",null,F(T.value.length)+" profile(s)",1),B[52]||(B[52]=Qe(" and all associated data including: ",-1))]),B[53]||(B[53]=a("ul",{class:"text-sm text-gray-600 dark:text-gray-400 list-disc list-inside space-y-1 mb-4"},[a("li",null,"All user profiles and settings"),a("li",null,"All rifle configurations"),a("li",null,"All shooting session data"),a("li",null,"All ballistics calculations history")],-1)),B[54]||(B[54]=a("p",{class:"text-red-600 dark:text-red-400 font-medium"}," This action cannot be undone. Consider exporting your data first. ",-1))]),a("div",u3,[B[55]||(B[55]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},' Type "DELETE ALL" to confirm: ',-1)),Oe(a("input",{"onUpdate:modelValue":B[12]||(B[12]=V=>h.value=V),type:"text",placeholder:"DELETE ALL",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 dark:bg-gray-700 dark:text-white"},null,512),[[dt,h.value]])]),a("div",f3,[a("button",{onClick:ae,disabled:h.value!=="DELETE ALL",class:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Delete All Profiles ",8,h3),a("button",{onClick:M,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700"}," Cancel ")])])])):Re("",!0),y.value?(W(),Y("div",g3,[a("div",p3,[B[58]||(B[58]=Ht('<div class="flex items-start mb-4"><div class="flex-shrink-0"><svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="ml-3"><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Reset Application</h3></div></div><div class="mb-6"><p class="text-gray-600 dark:text-gray-400 mb-4"> You are about to completely reset the application to its initial state. This will clear: </p><ul class="text-sm text-gray-600 dark:text-gray-400 list-disc list-inside space-y-1 mb-4"><li>All user profiles and settings</li><li>All rifle configurations</li><li>All environmental settings</li><li>All shooting data and history</li><li>All cached ballistics calculations</li><li>Application preferences and theme settings</li></ul><p class="text-red-600 dark:text-red-400 font-medium"> This will return the app to first-time setup mode. This action cannot be undone. </p></div>',2)),a("div",m3,[B[57]||(B[57]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},' Type "RESET EVERYTHING" to confirm: ',-1)),Oe(a("input",{"onUpdate:modelValue":B[13]||(B[13]=V=>w.value=V),type:"text",placeholder:"RESET EVERYTHING",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 dark:bg-gray-700 dark:text-white"},null,512),[[dt,w.value]])]),a("div",v3,[a("button",{onClick:O,disabled:w.value!=="RESET EVERYTHING",class:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Reset Everything ",8,b3),a("button",{onClick:k,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700"}," Cancel ")])])])):Re("",!0),d.value?(W(),Y("div",y3,[a("div",{class:at(["p-4 rounded-lg shadow-lg",c.value==="error"?"bg-red-100 text-red-700 border border-red-400":"bg-green-100 text-green-700 border border-green-400"])},[Qe(F(d.value)+" ",1),a("button",{onClick:B[14]||(B[14]=V=>d.value=""),class:"ml-2 text-sm underline"},"Dismiss")],2)])):Re("",!0)]))}});let Cd;const x3=new Uint8Array(16);function k3(){if(!Cd&&(Cd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cd(x3)}const Yr=[];for(let t=0;t<256;++t)Yr.push((t+256).toString(16).slice(1));function w3(t,e=0){return Yr[t[e+0]]+Yr[t[e+1]]+Yr[t[e+2]]+Yr[t[e+3]]+"-"+Yr[t[e+4]]+Yr[t[e+5]]+"-"+Yr[t[e+6]]+Yr[t[e+7]]+"-"+Yr[t[e+8]]+Yr[t[e+9]]+"-"+Yr[t[e+10]]+Yr[t[e+11]]+Yr[t[e+12]]+Yr[t[e+13]]+Yr[t[e+14]]+Yr[t[e+15]]}const _3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gg={randomUUID:_3};function In(t,e,r){if(gg.randomUUID&&!t)return gg.randomUUID();t=t||{};const s=t.random||(t.rng||k3)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,w3(s)}const Si=wi("shots",()=>{const t=ha();function e(){const S=t.currentUserDataKeys;return{shotRecords:S?.shotRecords||"shot_records",shotSessions:S?.shotSessions||"shot_sessions",currentSession:S?`${S.shotSessions}_current`:"current_session"}}const r=ye([]),s=ye([]),n=ye(null),o=ye(!1),i=Pe(()=>r.value),l=Pe(()=>r.value.sort((S,N)=>new Date(N.timestamp).getTime()-new Date(S.timestamp).getTime()).slice(0,50)),d=Pe(()=>{const S=r.value,N=S.filter(ae=>ae.actualResult.hit).length,A=S.length,p=A>0?N/A*100:0,P=S.map(ae=>ae.actualResult.scoreValue).filter(ae=>ae!==void 0),Q=P.length>0?P.reduce((ae,ee)=>ae+ee,0)/P.length:0,H=S.map(ae=>ae.distance),q=H.length>0?H.reduce((ae,ee)=>ae+ee,0)/H.length:0,M=S.length>0?new Date(Math.max(...S.map(ae=>new Date(ae.timestamp).getTime()))):void 0;return{totalShots:A,hits:N,misses:A-N,hitPercentage:p,averageScore:Q,averageRange:q,...M&&{lastSession:M}}}),c=Pe(()=>r.value.filter(S=>S.actualResult.hit!==void 0&&S.actualResult.horizontalOffset!==void 0&&S.actualResult.verticalOffset!==void 0).length),u=Pe(()=>c.value>=10);function m(S,N,A,p,P,Q,H,q){const M={id:In(),timestamp:new Date,environmentalConditions:S,rifleProfile:N,distance:A,targetSize:p,predictedSolution:P,actualResult:Q,...H!==void 0&&{confidence:H},...q!==void 0&&{modelVersion:q}};return r.value.push(M),n.value&&n.value.shots.push(M),I(),M}function y(S,N,A,p,P){const Q={id:In(),name:S,date:new Date,range:N,conditions:A,rifleProfile:p,shots:[],...P!==void 0&&{notes:P}};return n.value=Q,s.value.push(Q),o.value=!0,t.incrementSessionCount(),K(),L(),Q}function h(){const S=n.value;return S&&(o.value=!1,n.value=null,o.value=!1,K(),L()),S}function w(S,N,A,p){if(!n.value)return console.error("No active session to record shot"),null;const P={id:In(),timestamp:new Date,environmentalConditions:p,rifleProfile:n.value.rifleProfile,distance:S,targetSize:10,predictedSolution:A,actualResult:N,confidence:A.confidence||.95,modelVersion:"manual-v1"};return r.value.push(P),n.value.shots.push(P),I(),K(),L(),P}function E(S,N){const A=r.value.find(p=>p.id===S);if(A){if(A.actualResult=N,n.value){const p=n.value.shots.find(P=>P.id===S);p&&(p.actualResult=N)}return I(),K(),!0}return!1}function R(S){const N=r.value.findIndex(A=>A.id===S);if(N!==-1){if(r.value.splice(N,1),n.value){const A=n.value.shots.findIndex(p=>p.id===S);A!==-1&&n.value.shots.splice(A,1)}return I(),K(),!0}return!1}function T(S,N){return r.value.filter(A=>{if(A.distance!==S)return!1;if(N){const p=!N.temperature||Math.abs(A.environmentalConditions.temperature-N.temperature)<=5,P=!N.windSpeed||Math.abs(A.environmentalConditions.windSpeed-N.windSpeed)<=3,Q=!N.pressure||Math.abs(A.environmentalConditions.pressure-N.pressure)<=.5;return p&&P&&Q}return!0})}function G(S=20){const N=r.value.sort((P,Q)=>new Date(Q.timestamp).getTime()-new Date(P.timestamp).getTime()).slice(0,S).reverse(),A=5,p=[];for(let P=0;P<=N.length-A;P++){const q=N.slice(P,P+A).filter(M=>M.actualResult.hit).length/A*100;p.push(q)}return p}function z(){return r.value.filter(S=>S.actualResult.hit!==void 0&&S.actualResult.horizontalOffset!==void 0&&S.actualResult.verticalOffset!==void 0&&Math.abs(S.actualResult.horizontalOffset)<=50&&Math.abs(S.actualResult.verticalOffset)<=50)}function $(){r.value=[],s.value=[],n.value=null,o.value=!1;const S=e();localStorage.removeItem(S.shotRecords),localStorage.removeItem(S.shotSessions),localStorage.removeItem(S.currentSession)}function I(){try{const S=e();localStorage.setItem(S.shotRecords,JSON.stringify(r.value))}catch(S){console.error("Failed to save shot records:",S)}}function K(){try{const S=e();localStorage.setItem(S.shotSessions,JSON.stringify(s.value))}catch(S){console.error("Failed to save shot sessions:",S)}}function L(){try{const S=e();n.value?localStorage.setItem(S.currentSession,JSON.stringify(n.value)):localStorage.removeItem(S.currentSession)}catch(S){console.error("Failed to save current session:",S)}}function b(){try{const S=e(),N=localStorage.getItem(S.shotRecords);if(N){const P=JSON.parse(N);r.value=P.map(Q=>({...Q,timestamp:new Date(Q.timestamp)}))}const A=localStorage.getItem(S.shotSessions);if(A){const P=JSON.parse(A);s.value=P.map(Q=>({...Q,date:new Date(Q.date),shots:Q.shots.map(H=>({...H,timestamp:new Date(H.timestamp)}))}))}const p=localStorage.getItem(S.currentSession);if(p){const P=JSON.parse(p);n.value={...P,date:new Date(P.date),shots:P.shots.map(Q=>({...Q,timestamp:new Date(Q.timestamp)}))}}}catch(S){console.error("Failed to load shot data:",S)}}function v(){try{const S=localStorage.getItem("shot_records");if(S){const p=JSON.parse(S);r.value=p.map(P=>({...P,timestamp:new Date(P.timestamp)}))}const N=localStorage.getItem("shot_sessions");if(N){const p=JSON.parse(N);s.value=p.map(P=>({...P,date:new Date(P.date),shots:P.shots.map(Q=>({...Q,timestamp:new Date(Q.timestamp)}))}))}const A=localStorage.getItem("current_session");if(A){const p=JSON.parse(A);n.value={...p,date:new Date(p.date),shots:p.shots.map(P=>({...P,timestamp:new Date(P.timestamp)}))}}}catch(S){console.error("Failed to load guest shot data:",S)}}const C=S=>{const{isGuest:N}=S.detail;r.value=[],s.value=[],n.value=null,o.value=!1,N?v():b()};return b(),typeof window<"u"&&window.addEventListener("userProfileChanged",C),{shotRecords:r,shotSessions:s,currentSession:n,isRecordingSession:o,allShots:i,recentShots:l,statistics:d,trainingDataCount:c,hasEnoughTrainingData:u,addShotRecord:m,startSession:y,endSession:h,recordShot:w,updateShotResult:E,deleteShotRecord:R,getShootingPattern:T,getAccuracyTrend:G,exportTrainingData:z,clearAllData:$,loadFromStorage:b,loadGuestData:v}});var hV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qd={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var A3=qd.exports,pg;function C3(){return pg||(pg=1,(function(t,e){((r,s)=>{t.exports=s()})(A3,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},n,o=!s.document&&!!s.postMessage,i=s.IS_PAPA_WORKER||!1,l={},d=0,c={};function u(b){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(v){var C=I(v);C.chunkSize=parseInt(C.chunkSize),v.step||v.chunk||(C.chunkSize=null),this._handle=new E(C),(this._handle.streamer=this)._config=C}).call(this,b),this.parseChunk=function(v,C){var S=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<S){let A=this._config.newline;A||(N=this._config.quoteChar||'"',A=this._handle.guessLineEndings(v,N)),v=[...v.split(A).slice(S)].join(A)}this.isFirstChunk&&L(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(v))!==void 0&&(v=N),this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+v,N=(this._partialLine="",this._handle.parse(S,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(v=N.meta.cursor,S=(this._finished||(this._partialLine=S.substring(v-this._baseIndex),this._baseIndex=v),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)s.postMessage({results:N,workerId:c.WORKER_ID,finished:S});else if(L(this._config.chunk)&&!C){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!S||!L(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(v){L(this._config.error)?this._config.error(v):i&&this._config.error&&s.postMessage({workerId:c.WORKER_ID,error:v,finished:!1})}}function m(b){var v;(b=b||{}).chunkSize||(b.chunkSize=c.RemoteChunkSize),u.call(this,b),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(v=new XMLHttpRequest,this._config.withCredentials&&(v.withCredentials=this._config.withCredentials),o||(v.onload=K(this._chunkLoaded,this),v.onerror=K(this._chunkError,this)),v.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var C,S=this._config.downloadRequestHeaders;for(C in S)v.setRequestHeader(C,S[C])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,v.setRequestHeader("Range","bytes="+this._start+"-"+N));try{v.send(this._config.downloadRequestBody)}catch(A){this._chunkError(A.message)}o&&v.status===0&&this._chunkError()}},this._chunkLoaded=function(){v.readyState===4&&(v.status<200||400<=v.status?this._chunkError():(this._start+=this._config.chunkSize||v.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(v),this.parseChunk(v.responseText)))},this._chunkError=function(C){C=v.statusText||C,this._sendError(new Error(C))}}function y(b){(b=b||{}).chunkSize||(b.chunkSize=c.LocalChunkSize),u.call(this,b);var v,C,S=typeof FileReader<"u";this.stream=function(N){this._input=N,C=N.slice||N.webkitSlice||N.mozSlice,S?((v=new FileReader).onload=K(this._chunkLoaded,this),v.onerror=K(this._chunkError,this)):v=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,A=(this._config.chunkSize&&(A=Math.min(this._start+this._config.chunkSize,this._input.size),N=C.call(N,this._start,A)),v.readAsText(N,this._config.encoding));S||this._chunkLoaded({target:{result:A}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(v.error)}}function h(b){var v;u.call(this,b=b||{}),this.stream=function(C){return v=C,this._nextChunk()},this._nextChunk=function(){var C,S;if(!this._finished)return C=this._config.chunkSize,v=C?(S=v.substring(0,C),v.substring(C)):(S=v,""),this._finished=!v,this.parseChunk(S)}}function w(b){u.call(this,b=b||{});var v=[],C=!0,S=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&v.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),v.length?this.parseChunk(v.shift()):C=!0},this._streamData=K(function(N){try{v.push(typeof N=="string"?N:N.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(v.shift()))}catch(A){this._streamError(A)}},this),this._streamError=K(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=K(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function E(b){var v,C,S,N,A=Math.pow(2,53),p=-A,P=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,q=0,M=0,ae=!1,ee=!1,k=[],O={data:[],errors:[],meta:{}};function U(ce){return b.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function B(){if(O&&S&&(J("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),S=!1),b.skipEmptyLines&&(O.data=O.data.filter(function($e){return!U($e)})),V()){let $e=function(se,ie){L(b.transformHeader)&&(se=b.transformHeader(se,ie)),k.push(se)};if(O)if(Array.isArray(O.data[0])){for(var ce=0;V()&&ce<O.data.length;ce++)O.data[ce].forEach($e);O.data.splice(0,1)}else O.data.forEach($e)}function ue($e,se){for(var ie=b.header?{}:[],oe=0;oe<$e.length;oe++){var j=oe,le=$e[oe],le=((pe,_e)=>(be=>(b.dynamicTypingFunction&&b.dynamicTyping[be]===void 0&&(b.dynamicTyping[be]=b.dynamicTypingFunction(be)),(b.dynamicTyping[be]||b.dynamicTyping)===!0))(pe)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((be=>{if(P.test(be)&&(be=parseFloat(be),p<be&&be<A))return 1})(_e)?parseFloat(_e):Q.test(_e)?new Date(_e):_e===""?null:_e):_e)(j=b.header?oe>=k.length?"__parsed_extra":k[oe]:j,le=b.transform?b.transform(le,j):le);j==="__parsed_extra"?(ie[j]=ie[j]||[],ie[j].push(le)):ie[j]=le}return b.header&&(oe>k.length?J("FieldMismatch","TooManyFields","Too many fields: expected "+k.length+" fields but parsed "+oe,M+se):oe<k.length&&J("FieldMismatch","TooFewFields","Too few fields: expected "+k.length+" fields but parsed "+oe,M+se)),ie}var xe;O&&(b.header||b.dynamicTyping||b.transform)&&(xe=1,!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(ue),xe=O.data.length):O.data=ue(O.data,0),b.header&&O.meta&&(O.meta.fields=k),M+=xe)}function V(){return b.header&&k.length===0}function J(ce,ue,xe,$e){ce={type:ce,code:ue,message:xe},$e!==void 0&&(ce.row=$e),O.errors.push(ce)}L(b.step)&&(N=b.step,b.step=function(ce){O=ce,V()?B():(B(),O.data.length!==0&&(q+=ce.data.length,b.preview&&q>b.preview?C.abort():(O.data=O.data[0],N(O,H))))}),this.parse=function(ce,ue,xe){var $e=b.quoteChar||'"',$e=(b.newline||(b.newline=this.guessLineEndings(ce,$e)),S=!1,b.delimiter?L(b.delimiter)&&(b.delimiter=b.delimiter(ce),O.meta.delimiter=b.delimiter):(($e=((se,ie,oe,j,le)=>{var pe,_e,be,Ie;le=le||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ce=0;Ce<le.length;Ce++){for(var Ke,je=le[Ce],Be=0,Ge=0,Ye=0,ot=(be=void 0,new T({comments:j,delimiter:je,newline:ie,preview:10}).parse(se)),st=0;st<ot.data.length;st++)oe&&U(ot.data[st])?Ye++:(Ke=ot.data[st].length,Ge+=Ke,be===void 0?be=Ke:0<Ke&&(Be+=Math.abs(Ke-be),be=Ke));0<ot.data.length&&(Ge/=ot.data.length-Ye),(_e===void 0||Be<=_e)&&(Ie===void 0||Ie<Ge)&&1.99<Ge&&(_e=Be,pe=je,Ie=Ge)}return{successful:!!(b.delimiter=pe),bestDelimiter:pe}})(ce,b.newline,b.skipEmptyLines,b.comments,b.delimitersToGuess)).successful?b.delimiter=$e.bestDelimiter:(S=!0,b.delimiter=c.DefaultDelimiter),O.meta.delimiter=b.delimiter),I(b));return b.preview&&b.header&&$e.preview++,v=ce,C=new T($e),O=C.parse(v,ue,xe),B(),ae?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,C.abort(),v=L(b.chunk)?"":v.substring(C.getCharIndex())},this.resume=function(){H.streamer._halted?(ae=!1,H.streamer.parseChunk(v,!0)):setTimeout(H.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,C.abort(),O.meta.aborted=!0,L(b.complete)&&b.complete(O),v=""},this.guessLineEndings=function(se,$e){se=se.substring(0,1048576);var $e=new RegExp(R($e)+"([^]*?)"+R($e),"gm"),xe=(se=se.replace($e,"")).split("\r"),$e=se.split(`
`),se=1<$e.length&&$e[0].length<xe[0].length;if(xe.length===1||se)return`
`;for(var ie=0,oe=0;oe<xe.length;oe++)xe[oe][0]===`
`&&ie++;return ie>=xe.length/2?`\r
`:"\r"}}function R(b){return b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(b){var v=(b=b||{}).delimiter,C=b.newline,S=b.comments,N=b.step,A=b.preview,p=b.fastMode,P=null,Q=!1,H=b.quoteChar==null?'"':b.quoteChar,q=H;if(b.escapeChar!==void 0&&(q=b.escapeChar),(typeof v!="string"||-1<c.BAD_DELIMITERS.indexOf(v))&&(v=","),S===v)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var M=0,ae=!1;this.parse=function(ee,k,O){if(typeof ee!="string")throw new Error("Input must be a string");var U=ee.length,B=v.length,V=C.length,J=S.length,ce=L(N),ue=[],xe=[],$e=[],se=M=0;if(!ee)return Be();if(p||p!==!1&&ee.indexOf(H)===-1){for(var ie=ee.split(C),oe=0;oe<ie.length;oe++){if($e=ie[oe],M+=$e.length,oe!==ie.length-1)M+=C.length;else if(O)return Be();if(!S||$e.substring(0,J)!==S){if(ce){if(ue=[],Ie($e.split(v)),Ge(),ae)return Be()}else Ie($e.split(v));if(A&&A<=oe)return ue=ue.slice(0,A),Be(!0)}}return Be()}for(var j=ee.indexOf(v,M),le=ee.indexOf(C,M),pe=new RegExp(R(q)+R(H),"g"),_e=ee.indexOf(H,M);;)if(ee[M]===H)for(_e=M,M++;;){if((_e=ee.indexOf(H,_e+1))===-1)return O||xe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ue.length,index:M}),Ke();if(_e===U-1)return Ke(ee.substring(M,_e).replace(pe,H));if(H===q&&ee[_e+1]===q)_e++;else if(H===q||_e===0||ee[_e-1]!==q){j!==-1&&j<_e+1&&(j=ee.indexOf(v,_e+1));var be=Ce((le=le!==-1&&le<_e+1?ee.indexOf(C,_e+1):le)===-1?j:Math.min(j,le));if(ee.substr(_e+1+be,B)===v){$e.push(ee.substring(M,_e).replace(pe,H)),ee[M=_e+1+be+B]!==H&&(_e=ee.indexOf(H,M)),j=ee.indexOf(v,M),le=ee.indexOf(C,M);break}if(be=Ce(le),ee.substring(_e+1+be,_e+1+be+V)===C){if($e.push(ee.substring(M,_e).replace(pe,H)),je(_e+1+be+V),j=ee.indexOf(v,M),_e=ee.indexOf(H,M),ce&&(Ge(),ae))return Be();if(A&&ue.length>=A)return Be(!0);break}xe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ue.length,index:M}),_e++}}else if(S&&$e.length===0&&ee.substring(M,M+J)===S){if(le===-1)return Be();M=le+V,le=ee.indexOf(C,M),j=ee.indexOf(v,M)}else if(j!==-1&&(j<le||le===-1))$e.push(ee.substring(M,j)),M=j+B,j=ee.indexOf(v,M);else{if(le===-1)break;if($e.push(ee.substring(M,le)),je(le+V),ce&&(Ge(),ae))return Be();if(A&&ue.length>=A)return Be(!0)}return Ke();function Ie(Ye){ue.push(Ye),se=M}function Ce(Ye){var ot=0;return ot=Ye!==-1&&(Ye=ee.substring(_e+1,Ye))&&Ye.trim()===""?Ye.length:ot}function Ke(Ye){return O||(Ye===void 0&&(Ye=ee.substring(M)),$e.push(Ye),M=U,Ie($e),ce&&Ge()),Be()}function je(Ye){M=Ye,Ie($e),$e=[],le=ee.indexOf(C,M)}function Be(Ye){if(b.header&&!k&&ue.length&&!Q){var ot=ue[0],st=Object.create(null),me=new Set(ot);let ke=!1;for(let Se=0;Se<ot.length;Se++){let Fe=ot[Se];if(st[Fe=L(b.transformHeader)?b.transformHeader(Fe,Se):Fe]){let He,ze=st[Fe];for(;He=Fe+"_"+ze,ze++,me.has(He););me.add(He),ot[Se]=He,st[Fe]++,ke=!0,(P=P===null?{}:P)[He]=Fe}else st[Fe]=1,ot[Se]=Fe;me.add(Fe)}ke&&console.warn("Duplicate headers found and renamed."),Q=!0}return{data:ue,errors:xe,meta:{delimiter:v,linebreak:C,aborted:ae,truncated:!!Ye,cursor:se+(k||0),renamedHeaders:P}}}function Ge(){N(Be()),ue=[],xe=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return M}}function G(b){var v=b.data,C=l[v.workerId],S=!1;if(v.error)C.userError(v.error,v.file);else if(v.results&&v.results.data){var N={abort:function(){S=!0,z(v.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:$,resume:$};if(L(C.userStep)){for(var A=0;A<v.results.data.length&&(C.userStep({data:v.results.data[A],errors:v.results.errors,meta:v.results.meta},N),!S);A++);delete v.results}else L(C.userChunk)&&(C.userChunk(v.results,N,v.file),delete v.results)}v.finished&&!S&&z(v.workerId,v.results)}function z(b,v){var C=l[b];L(C.userComplete)&&C.userComplete(v),C.terminate(),delete l[b]}function $(){throw new Error("Not implemented.")}function I(b){if(typeof b!="object"||b===null)return b;var v,C=Array.isArray(b)?[]:{};for(v in b)C[v]=I(b[v]);return C}function K(b,v){return function(){b.apply(v,arguments)}}function L(b){return typeof b=="function"}return c.parse=function(b,v){var C=(v=v||{}).dynamicTyping||!1;if(L(C)&&(v.dynamicTypingFunction=C,C={}),v.dynamicTyping=C,v.transform=!!L(v.transform)&&v.transform,!v.worker||!c.WORKERS_SUPPORTED)return C=null,c.NODE_STREAM_INPUT,typeof b=="string"?(b=(S=>S.charCodeAt(0)!==65279?S:S.slice(1))(b),C=new(v.download?m:h)(v)):b.readable===!0&&L(b.read)&&L(b.on)?C=new w(v):(s.File&&b instanceof File||b instanceof Object)&&(C=new y(v)),C.stream(b);(C=(()=>{var S;return!!c.WORKERS_SUPPORTED&&(S=(()=>{var N=s.URL||s.webkitURL||null,A=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",A,")();"],{type:"text/javascript"})))})(),(S=new s.Worker(S)).onmessage=G,S.id=d++,l[S.id]=S)})()).userStep=v.step,C.userChunk=v.chunk,C.userComplete=v.complete,C.userError=v.error,v.step=L(v.step),v.chunk=L(v.chunk),v.complete=L(v.complete),v.error=L(v.error),delete v.worker,C.postMessage({input:b,config:v,workerId:C.id})},c.unparse=function(b,v){var C=!1,S=!0,N=",",A=`\r
`,p='"',P=p+p,Q=!1,H=null,q=!1,M=((()=>{if(typeof v=="object"){if(typeof v.delimiter!="string"||c.BAD_DELIMITERS.filter(function(k){return v.delimiter.indexOf(k)!==-1}).length||(N=v.delimiter),typeof v.quotes!="boolean"&&typeof v.quotes!="function"&&!Array.isArray(v.quotes)||(C=v.quotes),typeof v.skipEmptyLines!="boolean"&&typeof v.skipEmptyLines!="string"||(Q=v.skipEmptyLines),typeof v.newline=="string"&&(A=v.newline),typeof v.quoteChar=="string"&&(p=v.quoteChar),typeof v.header=="boolean"&&(S=v.header),Array.isArray(v.columns)){if(v.columns.length===0)throw new Error("Option columns is empty");H=v.columns}v.escapeChar!==void 0&&(P=v.escapeChar+p),v.escapeFormulae instanceof RegExp?q=v.escapeFormulae:typeof v.escapeFormulae=="boolean"&&v.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(R(p),"g"));if(typeof b=="string"&&(b=JSON.parse(b)),Array.isArray(b)){if(!b.length||Array.isArray(b[0]))return ae(null,b,Q);if(typeof b[0]=="object")return ae(H||Object.keys(b[0]),b,Q)}else if(typeof b=="object")return typeof b.data=="string"&&(b.data=JSON.parse(b.data)),Array.isArray(b.data)&&(b.fields||(b.fields=b.meta&&b.meta.fields||H),b.fields||(b.fields=Array.isArray(b.data[0])?b.fields:typeof b.data[0]=="object"?Object.keys(b.data[0]):[]),Array.isArray(b.data[0])||typeof b.data[0]=="object"||(b.data=[b.data])),ae(b.fields||[],b.data||[],Q);throw new Error("Unable to serialize unrecognized input");function ae(k,O,U){var B="",V=(typeof k=="string"&&(k=JSON.parse(k)),typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(k)&&0<k.length),J=!Array.isArray(O[0]);if(V&&S){for(var ce=0;ce<k.length;ce++)0<ce&&(B+=N),B+=ee(k[ce],ce);0<O.length&&(B+=A)}for(var ue=0;ue<O.length;ue++){var xe=(V?k:O[ue]).length,$e=!1,se=V?Object.keys(O[ue]).length===0:O[ue].length===0;if(U&&!V&&($e=U==="greedy"?O[ue].join("").trim()==="":O[ue].length===1&&O[ue][0].length===0),U==="greedy"&&V){for(var ie=[],oe=0;oe<xe;oe++){var j=J?k[oe]:oe;ie.push(O[ue][j])}$e=ie.join("").trim()===""}if(!$e){for(var le=0;le<xe;le++){0<le&&!se&&(B+=N);var pe=V&&J?k[le]:le;B+=ee(O[ue][pe],le)}ue<O.length-1&&(!U||0<xe&&!se)&&(B+=A)}}return B}function ee(k,O){var U,B;return k==null?"":k.constructor===Date?JSON.stringify(k).slice(1,25):(B=!1,q&&typeof k=="string"&&q.test(k)&&(k="'"+k,B=!0),U=k.toString().replace(M,P),(B=B||C===!0||typeof C=="function"&&C(k,O)||Array.isArray(C)&&C[O]||((V,J)=>{for(var ce=0;ce<J.length;ce++)if(-1<V.indexOf(J[ce]))return!0;return!1})(U,c.BAD_DELIMITERS)||-1<U.indexOf(N)||U.charAt(0)===" "||U.charAt(U.length-1)===" ")?p+U+p:U)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!o&&!!s.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=T,c.ParserHandle=E,c.NetworkStreamer=m,c.FileStreamer=y,c.StringStreamer=h,c.ReadableStreamStreamer=w,s.jQuery&&((n=s.jQuery).fn.parse=function(b){var v=b.config||{},C=[];return this.each(function(A){if(!(n(this).prop("tagName").toUpperCase()==="INPUT"&&n(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var p=0;p<this.files.length;p++)C.push({file:this.files[p],inputElem:this,instanceConfig:n.extend({},v)})}),S(),this;function S(){if(C.length===0)L(b.complete)&&b.complete();else{var A,p,P,Q,H=C[0];if(L(b.before)){var q=b.before(H.file,H.inputElem);if(typeof q=="object"){if(q.action==="abort")return A="AbortError",p=H.file,P=H.inputElem,Q=q.reason,void(L(b.error)&&b.error({name:A},p,P,Q));if(q.action==="skip")return void N();typeof q.config=="object"&&(H.instanceConfig=n.extend(H.instanceConfig,q.config))}else if(q==="skip")return void N()}var M=H.instanceConfig.complete;H.instanceConfig.complete=function(ae){L(M)&&M(ae,H.file,H.inputElem),N()},c.parse(H.file,H.instanceConfig)}}function N(){C.splice(0,1),S()}}),i&&(s.onmessage=function(b){b=b.data,c.WORKER_ID===void 0&&b&&(c.WORKER_ID=b.workerId),typeof b.input=="string"?s.postMessage({workerId:c.WORKER_ID,results:c.parse(b.input,b.config),finished:!0}):(s.File&&b.input instanceof File||b.input instanceof Object)&&(b=c.parse(b.input,b.config))&&s.postMessage({workerId:c.WORKER_ID,results:b,finished:!0})}),(m.prototype=Object.create(u.prototype)).constructor=m,(y.prototype=Object.create(u.prototype)).constructor=y,(h.prototype=Object.create(h.prototype)).constructor=h,(w.prototype=Object.create(u.prototype)).constructor=w,c})})(qd)),qd.exports}var P3=C3();const x0=S3(P3),N3="modulepreload",L3=function(t){return"/thatsdope/"+t},mg={},Hd=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){let d=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");n=d(r.map(c=>{if(c=L3(c),c in mg)return;mg[c]=!0;const u=c.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const y=document.createElement("link");if(y.rel=u?"stylesheet":N3,u||(y.as="script"),y.crossOrigin="",y.href=c,l&&y.setAttribute("nonce",l),document.head.appendChild(y),u)return new Promise((h,w)=>{y.addEventListener("load",h),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return n.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},$3={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6 mb-6"},E3={class:"flex items-center justify-between mb-4"},M3={class:"flex items-center space-x-2"},T3={key:0,class:"space-y-6"},D3={class:"flex items-center justify-between mb-4"},I3={class:"flex items-center space-x-2 bg-gray-100 dark:bg-red-600 rounded-lg p-1"},R3={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},O3={class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},F3=["min","max"],j3={class:"flex items-center justify-between"},U3={class:"text-sm text-gray-600 dark:text-red-400"},B3=["disabled"],z3={key:0,class:"overflow-x-auto"},q3={class:"min-w-full divide-y divide-gray-200 dark:divide-red-500"},H3={class:"bg-gray-50 dark:bg-red-600"},W3={key:0},V3={key:1},G3={class:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-red-500"},K3={class:"px-3 py-2 text-sm font-medium text-gray-900 dark:text-red-400"},Y3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},J3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},Z3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},X3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},Q3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},e6={class:"px-3 py-2 text-sm font-medium text-gray-900 dark:text-red-400"},t6={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},r6={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},s6={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},a6={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},n6={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},o6={class:"mt-2 text-center text-sm text-gray-500 dark:text-red-400"},i6={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-3"},l6={class:"text-sm text-red-700"},d6=Dt({__name:"BallisticsTestComponent",setup(t){let e=null,r=null;const s=ye(!1),n=ye(!1),o=ye(""),i=ye([]),l=ye(!1),d=ye(!0),c=ye({bulletWeight:175,muzzleVelocity:2650,maxRange:1e3});qr(async()=>{try{const E=await Hd(()=>import("./engine-BYbhB6qG.js"),[]);e=E.BallisticsEngine,r=E.ConstantCdProvider,l.value=!0}catch{l.value=!1}});function u(){if(!n.value){n.value=!0,o.value="",i.value=[];try{l.value&&e&&r?m():y()}catch(E){o.value=E instanceof Error?E.message:"Calculation failed"}finally{n.value=!1}}}function m(){if(!e||!r)throw new Error("Advanced ballistics engine not available");const E={weightGrains:c.value.bulletWeight,diameterIn:.308},R={muzzleVelocityFps:c.value.muzzleVelocity,sightHeightIn:1.8,twistRateIn:11.25,zeroRangeYd:100},T={temperatureF:59,pressureInHg:29.92,relativeHumidityPercent:50,altitudeFt:0,windSpeedMph:0,windFromDirectionDeg:0,latitudeDeg:40},G=new r(.3),z=new e(E,R,T,G,!1,0);if(d.value){const $=c.value.maxRange*1.09361,I=z.computeTrajectory($,10),K=[];for(let L=100;L<=c.value.maxRange;L+=100){const b=L*1.09361;let v=I[0],C=Math.abs(I[0].rangeYd-b);for(const A of I){const p=Math.abs(A.rangeYd-b);p<C&&(C=p,v=A)}const S=v.dropIn*2.54,N=S/100/(L/1e3);K.push({rangeM:L,dropCm:S,dropMoa:v.dropMoa,dropMrad:N,velMs:v.velFps*.3048,energyJ:v.energyFtlb*1.35582,timeS:v.timeS})}i.value=K}else{const $=z.computeTrajectory(c.value.maxRange,10),I=[];for(let K=100;K<=c.value.maxRange;K+=100){let L=$[0],b=Math.abs($[0].rangeYd-K);for(const C of $){const S=Math.abs(C.rangeYd-K);S<b&&(b=S,L=C)}const v=L.dropIn*.0254/(K*9144e-7);I.push({rangeYd:K,dropIn:L.dropIn,dropMoa:L.dropMoa,dropMrad:v,velFps:L.velFps,energyFtlb:L.energyFtlb,timeS:L.timeS})}i.value=I}}function y(){if(d.value){const R=c.value.muzzleVelocity*.3048,T=1.8*2.54,G=c.value.maxRange,z=[],$=Math.atan(T/1e4);for(let I=100;I<=G;I+=100){const K=I,L=K/(R*Math.cos($)),v=(.5*9.81*L*L-K*Math.tan($))*100-T/100,C=R*Math.exp(-1e-4*I),N=.5*(c.value.bulletWeight/7e3*.453592)*C*C,A=I>0?v/I*100/2.908:0,p=I>0?v/100/(I/1e3):0;z.push({rangeM:I,dropCm:v,dropMoa:A,dropMrad:p,velMs:C,energyJ:N,timeS:L})}i.value=z}else{const R=c.value.muzzleVelocity,T=1.8,G=c.value.maxRange,z=[],$=Math.atan(T/3600);for(let I=100;I<=G;I+=100){const L=I*3,b=L/(R*Math.cos($)),C=(.5*32.174*b*b-L*Math.tan($))*12-T,S=R*Math.exp(-1e-4*I),A=.5*(c.value.bulletWeight/7e3)*S*S,p=I>0?C/I*100/1.047:0,P=I>0?C*.0254/(I*9144e-7):0;z.push({rangeYd:I,dropIn:C,dropMoa:p,dropMrad:P,velFps:S,energyFtlb:A,timeS:b})}i.value=z}}function h(){d.value||(d.value=!0,i.value=[],o.value="")}function w(){d.value&&(d.value=!1,i.value=[],o.value="")}return(E,R)=>(W(),Y("div",$3,[a("div",E3,[R[4]||(R[4]=a("div",null,[a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-red-500"},"Advanced Ballistics Calculator"),a("p",{class:"text-sm text-gray-600 dark:text-red-400 mt-1"}," Point-mass ballistics engine with RK4 integration ")],-1)),a("div",M3,[a("button",{onClick:R[0]||(R[0]=T=>s.value=!s.value),class:at(["px-2 py-1 text-xs rounded transition-colors",s.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},F(s.value?"":"+"),3)])]),s.value?(W(),Y("div",T3,[a("div",D3,[R[5]||(R[5]=a("div",{class:"text-sm text-gray-600 dark:text-red-400"},"Select units for trajectory calculations:",-1)),a("div",I3,[a("button",{onClick:w,class:at(["px-3 py-1 text-sm rounded-md transition-colors",d.value?"text-gray-600 dark:text-black hover:bg-gray-200 dark:hover:bg-red-700 dark:hover:text-black":"bg-blue-600 dark:bg-red-600 text-white dark:text-black"])}," Yards ",2),a("button",{onClick:h,class:at(["px-3 py-1 text-sm rounded-md transition-colors",d.value?"bg-blue-600 dark:bg-red-600 text-white dark:text-black":"text-gray-600 dark:text-black hover:bg-gray-200 dark:hover:bg-red-700 dark:hover:text-black"])}," Meters ",2)])]),a("div",R3,[a("div",null,[R[6]||(R[6]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Bullet Weight (gr) ",-1)),Oe(a("input",{"onUpdate:modelValue":R[1]||(R[1]=T=>c.value.bulletWeight=T),type:"number",min:"50",max:"500",step:"1",class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-black dark:text-red-400"},null,512),[[dt,c.value.bulletWeight,void 0,{number:!0}]])]),a("div",null,[R[7]||(R[7]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Muzzle Velocity (fps) ",-1)),Oe(a("input",{"onUpdate:modelValue":R[2]||(R[2]=T=>c.value.muzzleVelocity=T),type:"number",min:"500",max:"5000",step:"10",class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-black dark:text-red-400"},null,512),[[dt,c.value.muzzleVelocity,void 0,{number:!0}]])]),a("div",null,[a("label",O3," Max Range ("+F(d.value?"meters":"yards")+") ",1),Oe(a("input",{"onUpdate:modelValue":R[3]||(R[3]=T=>c.value.maxRange=T),type:"number",min:(d.value,100),max:d.value?1e3:2e3,step:100,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-black dark:text-red-400"},null,8,F3),[[dt,c.value.maxRange,void 0,{number:!0}]])])]),a("div",j3,[a("div",U3,F(i.value.length>0?`${i.value.length} trajectory points calculated`:"Ready to calculate")+" "+F(l.value?"(Advanced Physics)":"(Simple Model)")+" - "+F(d.value?"Metric":"Imperial")+" units ",1),a("button",{onClick:u,disabled:n.value,class:"px-6 py-2 bg-green-600 dark:bg-red-600 text-white dark:text-black rounded-lg hover:bg-green-700 dark:hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},F(n.value?"Calculating...":"Calculate Physics Trajectory"),9,B3)]),i.value.length>0?(W(),Y("div",z3,[a("table",q3,[a("thead",H3,[d.value?(W(),Y("tr",W3,[...R[8]||(R[8]=[a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Range (m)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (cm)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (MOA)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (MRAD)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Velocity (m/s)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Energy (J)",-1)])])):(W(),Y("tr",V3,[...R[9]||(R[9]=[a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Range (yd)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (in)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (MOA)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (MRAD)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Velocity (fps)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Energy (ftlbf)",-1)])]))]),a("tbody",G3,[(W(!0),Y(rt,null,it(i.value,(T,G)=>(W(),Y("tr",{key:G,class:"hover:bg-gray-50 dark:hover:bg-red-600"},[d.value?(W(),Y(rt,{key:0},[a("td",K3,F(T.rangeM),1),a("td",Y3,F(T.dropCm?.toFixed(1)||"0.0"),1),a("td",J3,F(T.dropMoa?.toFixed(2)||"0.00"),1),a("td",Z3,F(T.dropMrad?.toFixed(3)||"0.000"),1),a("td",X3,F(Math.round(T.velMs||0)),1),a("td",Q3,F(Math.round(T.energyJ||0)),1)],64)):(W(),Y(rt,{key:1},[a("td",e6,F(T.rangeYd),1),a("td",t6,F(T.dropIn?.toFixed(2)||"0.00"),1),a("td",r6,F(T.dropMoa?.toFixed(2)||"0.00"),1),a("td",s6,F(T.dropMrad?.toFixed(3)||"0.000"),1),a("td",a6,F(Math.round(T.velFps||0)),1),a("td",n6,F(Math.round(T.energyFtlb||0)),1)],64))]))),128))])]),a("div",o6,F(d.value?`Ballistics data for ${i.value.length} ranges (100-${c.value.maxRange}m)`:`Ballistics data for ${i.value.length} ranges (100-${c.value.maxRange}yd)`),1)])):Re("",!0),o.value?(W(),Y("div",i6,[a("div",l6,F(o.value),1)])):Re("",!0)])):Re("",!0)]))}}),c6={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},u6={key:0,class:"bg-yellow-50 dark:bg-red-600 border border-yellow-200 dark:border-red-500 rounded-lg p-4 mb-6"},f6={key:1,class:"flex flex-col space-y-6"},h6={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},g6={class:"flex-shrink-0"},p6=["value"],m6={class:"flex-shrink-0"},v6=["value"],b6={class:"flex-shrink-0"},y6=["value"],x6={class:"flex-shrink-0"},k6=["value"],w6={class:"flex flex-col lg:flex-row items-center justify-center gap-6"},_6={class:"flex-1 max-w-sm"},S6={class:"bg-teal-600 dark:bg-red-600 text-white dark:text-black rounded-lg p-6 text-center shadow-md"},A6={class:"text-3xl font-bold"},C6={key:0},P6={key:1,class:"text-teal-200 dark:text-red-200"},N6={class:"flex-1 max-w-sm"},L6={class:"bg-teal-600 dark:bg-red-600 text-white dark:text-black rounded-lg p-6 text-center shadow-md"},$6={class:"text-3xl font-bold"},E6={key:0},M6={key:1,class:"text-teal-200 dark:text-red-200"},T6={class:"mt-6 space-y-4"},D6={key:0,class:"bg-green-50 dark:bg-red-600 border border-green-200 dark:border-red-700 rounded-lg p-4"},I6={class:"flex items-center justify-between"},R6={class:"text-sm text-green-600 dark:text-black"},O6={class:"text-xs text-green-500 dark:text-black"},F6={key:1,class:"flex justify-center"},j6={key:2,class:"flex justify-center"},U6=Dt({__name:"QuickShotSystemComponent",props:{unit:{},selectedBulletWeight:{},dopeTableData:{},windDriftData:{},getWindDriftValue:{type:Function}},emits:["recordShot","openNewSessionDialog","completeSession"],setup(t,{emit:e}){const r=t,s=e,n=Vn(),o=Si(),i=ye(100),l=ye(10),d=ye("North"),c=ye("North"),u=Pe(()=>n.currentProfile),m=Pe(()=>o.currentSession),y=Pe(()=>u.value?.opticsMeasurement||"MOA"),h=Pe(()=>{if(!u.value?.caliber||!r.selectedBulletWeight)return null;const K=r.dopeTableData.find(L=>L.distance===i.value);return K?K.elevation.toFixed(1):null}),w=Pe(()=>{if(!u.value?.caliber||!r.selectedBulletWeight)return null;const K=l.value,L=r.getWindDriftValue(u.value.caliber,r.selectedBulletWeight,i.value,K);return L!==null?G(L,d.value,c.value).toFixed(1):null}),E=Pe(()=>(r.unit==="yards"?[100,200,300,400,500,600,700,800,900,1e3]:[100,200,300,400,500,600,700,800,900,1e3]).map(L=>({value:L,label:`${L} ${r.unit.slice(0,-1)}`}))),R=Pe(()=>[1,5,10,15].map(K=>({value:K,label:`${K} mph`}))),T=Pe(()=>["North","Northeast","East","Southeast","South","Southwest","West","Northwest"].map(K=>({value:K,label:K})));function G(K,L,b){const v={North:0,Northeast:45,East:90,Southeast:135,South:180,Southwest:225,West:270,Northwest:315},C=v[L],S=v[b];if(C===void 0||S===void 0)return K;let N=C-S;for(;N>180;)N-=360;for(;N<-180;)N+=360;const A=Math.abs(N);let p=0;A===0||A===180?p=0:A===45||A===135?p=.71:A===90?p=1:A<45?p=A/45*.71:A<90?p=.71+(A-45)/45*(1-.71):A<135?p=1-(A-90)/45*(1-.71):p=.71-(A-135)/45*.71;const P=N>0?-1:N<0?1:0;return K*p*P}const z=()=>{s("recordShot",{distance:i.value,windSpeed:l.value,windDirection:d.value,shotDirection:c.value,elevation:h.value,windage:w.value})},$=()=>{s("openNewSessionDialog")},I=()=>{s("completeSession")};return(K,L)=>(W(),Y("div",c6,[L[14]||(L[14]=a("div",{class:"flex items-center justify-between mb-4"},[a("h2",{class:"text-xl font-bold text-gray-900 dark:text-red-500"},"Quick Shot System")],-1)),L[15]||(L[15]=a("p",{class:"text-gray-600 dark:text-red-400 mb-6"},"Effective elevation and windage adjustments.",-1)),!u.value||!K.selectedBulletWeight?(W(),Y("div",u6,[...L[4]||(L[4]=[a("p",{class:"text-sm text-yellow-700 dark:text-black"},[a("strong",null,"Note:"),Qe(" Select a rifle and bullet weight to use the Quick Shot System. ")],-1)])])):(W(),Y("div",f6,[a("div",h6,[a("div",g6,[L[5]||(L[5]=a("label",{class:"block text-xs text-gray-500 dark:text-red-400 text-center mb-2"},"Distance",-1)),Oe(a("select",{"onUpdate:modelValue":L[0]||(L[0]=b=>i.value=b),class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-red-500 rounded-lg text-lg font-medium bg-white dark:bg-red-600 dark:text-black focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 text-center"},[(W(!0),Y(rt,null,it(E.value,b=>(W(),Y("option",{key:b.value,value:b.value},F(b.label),9,p6))),128))],512),[[_t,i.value]])]),a("div",m6,[L[6]||(L[6]=a("label",{class:"block text-xs text-gray-500 dark:text-red-400 text-center mb-2"},"Wind Strength",-1)),Oe(a("select",{"onUpdate:modelValue":L[1]||(L[1]=b=>l.value=b),class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-red-500 rounded-lg text-lg font-medium bg-white dark:bg-red-600 dark:text-black focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 text-center"},[(W(!0),Y(rt,null,it(R.value,b=>(W(),Y("option",{key:b.value,value:b.value},F(b.label),9,v6))),128))],512),[[_t,l.value]])]),a("div",b6,[L[7]||(L[7]=a("label",{class:"block text-xs text-gray-500 dark:text-red-400 text-center mb-2"},"Wind Direction",-1)),Oe(a("select",{"onUpdate:modelValue":L[2]||(L[2]=b=>d.value=b),class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-red-500 rounded-lg text-lg font-medium bg-white dark:bg-red-600 dark:text-black focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 text-center"},[(W(!0),Y(rt,null,it(T.value,b=>(W(),Y("option",{key:b.value,value:b.value},F(b.label),9,y6))),128))],512),[[_t,d.value]])]),a("div",x6,[L[8]||(L[8]=a("label",{class:"block text-xs text-gray-500 dark:text-red-400 text-center mb-2"},"Shot Direction",-1)),Oe(a("select",{"onUpdate:modelValue":L[3]||(L[3]=b=>c.value=b),class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-red-500 rounded-lg text-lg font-medium bg-white dark:bg-red-600 dark:text-black focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 text-center"},[(W(!0),Y(rt,null,it(T.value,b=>(W(),Y("option",{key:b.value,value:b.value},F(b.label),9,k6))),128))],512),[[_t,c.value]])])]),a("div",w6,[a("div",_6,[a("div",S6,[L[9]||(L[9]=a("h4",{class:"text-lg font-semibold mb-2"},"ELEVATION CHANGE",-1)),a("div",A6,[h.value!==null?(W(),Y("span",C6,F(h.value)+" "+F(y.value),1)):(W(),Y("span",P6,"0.0 "+F(y.value),1))])])]),a("div",N6,[a("div",L6,[L[10]||(L[10]=a("h4",{class:"text-lg font-semibold mb-2"},"WINDAGE CHANGE",-1)),a("div",$6,[w.value!==null?(W(),Y("span",E6,F(w.value)+" "+F(y.value),1)):(W(),Y("span",M6,"0.0 "+F(y.value),1))])])])]),a("div",T6,[m.value?(W(),Y("div",D6,[a("div",I6,[a("div",null,[L[11]||(L[11]=a("h4",{class:"text-sm font-semibold text-green-800 dark:text-black"}," Active Session ",-1)),a("p",R6,F(m.value.name),1),a("p",O6,F(m.value.shots.length)+" shots  "+F(m.value.range),1)]),a("button",{onClick:I,class:"px-3 py-1 text-xs font-medium text-white dark:text-red-500 bg-red-600 dark:bg-black hover:bg-red-700 dark:hover:bg-gray-900 rounded transition-colors"}," Complete Session ")])])):(W(),Y("div",F6,[a("button",{onClick:$,class:"flex items-center px-6 py-3 bg-blue-600 dark:bg-black hover:bg-blue-700 dark:hover:bg-gray-900 text-white dark:text-red-500 font-semibold rounded-lg shadow-md transition-all duration-200"},[Me(Le(Mm),{class:"w-5 h-5 mr-2"}),L[12]||(L[12]=Qe(" Start New Session ",-1))])])),m.value?(W(),Y("div",j6,[a("button",{onClick:z,class:"flex items-center px-8 py-4 bg-orange-600 dark:bg-black hover:bg-orange-700 dark:hover:bg-gray-900 text-white dark:text-red-500 text-lg font-semibold rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200"},[Me(Le(Br),{class:"w-6 h-6 mr-3"}),L[13]||(L[13]=Qe(" Record Shot ",-1))])])):Re("",!0)])]))]))}}),B6={class:"table-container"},z6={class:"table-responsive"},q6={class:"table-base"},H6={class:"table-header"},W6={class:"table-header-cell table-sticky-column",style:{"min-width":"100px"}},V6={class:"table-body"},G6={class:"table-cell table-sticky-column font-medium",style:{"min-width":"100px"}},K6={key:0,class:"table-empty"},Y6={key:1,class:"table-loading"},vg=Dt({__name:"ResponsiveBallisticsTable",props:{data:{},columns:{},loading:{type:Boolean,default:!1}},setup(t){const e=(r,s)=>{const n=r[s.key];return s.format?s.format(n):typeof n=="number"?n%1===0?n.toString():n.toFixed(1):n?.toString()||"-"};return(r,s)=>(W(),Y("div",B6,[a("div",z6,[a("table",q6,[a("thead",H6,[a("tr",null,[a("th",W6,F(r.columns[0].label),1),(W(!0),Y(rt,null,it(r.columns.slice(1),(n,o)=>(W(),Y("th",{key:o,class:at(["table-header-cell",n.width||"min-w-[100px]"])},F(n.label),3))),128))])]),a("tbody",V6,[(W(!0),Y(rt,null,it(r.data,(n,o)=>(W(),Y("tr",{key:o,class:"table-row"},[a("td",G6,F(e(n,r.columns[0])),1),(W(!0),Y(rt,null,it(r.columns.slice(1),(i,l)=>(W(),Y("td",{key:l,class:at(["table-cell",typeof n[i.key]=="number"?"table-cell-numeric":"",i.width||"min-w-[100px]"])},F(e(n,i)),3))),128))]))),128))])])]),r.data.length===0&&!r.loading?(W(),Y("div",K6,[Ib(r.$slots,"empty",{},()=>[s[0]||(s[0]=a("div",{class:"text-lg font-medium mb-2"},"No data available",-1)),s[1]||(s[1]=a("div",{class:"text-sm"},"Configure your rifle and environment to generate ballistics data",-1))])])):Re("",!0),r.loading?(W(),Y("div",Y6,[...s[2]||(s[2]=[a("div",{class:"inline-flex items-center space-x-3 text-gray-600 dark:text-red-400"},[a("div",{class:"w-5 h-5 border-2 border-army-green-500 dark:border-red-500 border-t-transparent rounded-full animate-spin"}),a("span",{class:"text-sm font-medium"},"Loading ballistics data...")],-1)])])):Re("",!0)]))}}),J6={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Z6={class:"bg-white dark:bg-black rounded-lg shadow-xl max-w-md w-full mx-4 dark:border dark:border-red-500"},X6={class:"p-6"},Q6={class:"space-y-4"},e7={class:"bg-blue-50 dark:bg-red-600 rounded-lg p-3"},t7={class:"flex items-center justify-between"},r7={class:"text-xs text-blue-600 dark:text-black"},s7={class:"text-xs text-blue-500 dark:text-black font-medium"},a7={class:"flex space-x-4"},n7={class:"flex items-center"},o7={class:"flex items-center"},i7={key:0,class:"space-y-3"},l7={class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},d7={class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},c7={class:"flex justify-end space-x-3 mt-6"},u7=["disabled"],f7=Dt({__name:"ShotRecordDialog",props:{isOpen:{type:Boolean}},emits:["close","record"],setup(t,{emit:e}){const r=t,s=e,n=Wn(),o=Vn(),i=Pe(()=>o.currentProfile),l=Pe(()=>i.value?.unitPreferences?.distance?i.value.unitPreferences.distance==="meters"?"metric":"imperial":i.value?.zeroDistanceUnit?i.value.zeroDistanceUnit==="meters"?"metric":"imperial":n.unitPreset==="metric"?"metric":"imperial"),d=ye({hit:!0,horizontalOffset:0,verticalOffset:0,notes:""}),c=Pe(()=>d.value.hit?!0:d.value.horizontalOffset!==0||d.value.verticalOffset!==0);Sr(()=>r.isOpen,y=>{y&&(d.value={hit:!0,horizontalOffset:0,verticalOffset:0,notes:""})});const u=()=>{s("close")},m=()=>{if(c.value){let y=d.value.horizontalOffset,h=d.value.verticalOffset;l.value==="metric"&&(y=y*So.CM_TO_INCHES,h=h*So.CM_TO_INCHES),s("record",{...d.value,horizontalOffset:y,verticalOffset:h})}};return(y,h)=>y.isOpen?(W(),Y("div",J6,[a("div",Z6,[a("div",X6,[h[12]||(h[12]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-500 mb-4"}," Record Shot ",-1)),a("div",Q6,[a("div",e7,[a("div",t7,[a("div",null,[h[5]||(h[5]=a("h4",{class:"text-sm font-medium text-blue-900 dark:text-black"}," Using Rifle Setup Units ",-1)),a("p",r7,F(i.value?.name||"Unknown Rifle")+"  Distance measurements in "+F(l.value==="imperial"?"inches":"centimeters"),1)]),a("div",s7,F(l.value==="imperial"?"Imperial":"Metric"),1)])]),a("div",null,[h[8]||(h[8]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Shot Result ",-1)),a("div",a7,[a("label",n7,[Oe(a("input",{"onUpdate:modelValue":h[0]||(h[0]=w=>d.value.hit=w),type:"radio",value:!0,class:"radio radio-primary"},null,512),[[on,d.value.hit]]),h[6]||(h[6]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Hit",-1))]),a("label",o7,[Oe(a("input",{"onUpdate:modelValue":h[1]||(h[1]=w=>d.value.hit=w),type:"radio",value:!1,class:"radio radio-primary"},null,512),[[on,d.value.hit]]),h[7]||(h[7]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Miss",-1))])])]),d.value.hit===!1?(W(),Y("div",i7,[a("div",null,[a("label",l7," Horizontal Offset ("+F(l.value==="imperial"?"inches":"cm")+") ",1),Oe(a("input",{"onUpdate:modelValue":h[2]||(h[2]=w=>d.value.horizontalOffset=w),type:"number",step:"0.1",placeholder:"+ right, - left",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[dt,d.value.horizontalOffset,void 0,{number:!0}]]),h[9]||(h[9]=a("p",{class:"text-xs text-gray-500 dark:text-red-400 mt-1"},"Positive = right, Negative = left",-1))]),a("div",null,[a("label",d7," Vertical Offset ("+F(l.value==="imperial"?"inches":"cm")+") ",1),Oe(a("input",{"onUpdate:modelValue":h[3]||(h[3]=w=>d.value.verticalOffset=w),type:"number",step:"0.1",placeholder:"+ high, - low",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[dt,d.value.verticalOffset,void 0,{number:!0}]]),h[10]||(h[10]=a("p",{class:"text-xs text-gray-500 dark:text-red-400 mt-1"},"Positive = high, Negative = low",-1))])])):Re("",!0),a("div",null,[h[11]||(h[11]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Notes (optional) ",-1)),Oe(a("textarea",{"onUpdate:modelValue":h[4]||(h[4]=w=>d.value.notes=w),rows:"2",placeholder:"Any additional observations...",class:"textarea textarea-bordered w-full resize-none dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[dt,d.value.notes]])])]),a("div",c7,[a("button",{onClick:u,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-gray-100 dark:bg-black border dark:border-red-500 rounded-md hover:bg-gray-200 dark:hover:bg-gray-900"}," Cancel "),a("button",{onClick:m,disabled:!c.value,class:"px-4 py-2 text-sm font-medium text-white dark:text-black bg-blue-600 dark:bg-red-600 rounded-md hover:bg-blue-700 dark:hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Record Shot ",8,u7)])])])])):Re("",!0)}}),h7={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},g7={class:"bg-white dark:bg-black rounded-lg shadow-xl max-w-lg w-full max-h-full overflow-y-auto dark:border dark:border-red-500"},p7={class:"p-6"},m7={class:"space-y-4"},v7={key:0,class:"bg-gray-50 dark:bg-red-600 rounded-lg p-3"},b7={class:"text-sm text-gray-600 dark:text-black"},y7={class:"grid grid-cols-2 gap-2"},x7={class:"flex items-center"},k7={class:"flex items-center"},w7={class:"flex items-center"},_7={class:"flex items-center"},S7={class:"flex justify-end space-x-3 mt-6"},A7=["disabled"],C7=Dt({__name:"NewSessionDialog",props:{isOpen:{type:Boolean}},emits:["close","sessionStarted"],setup(t,{emit:e}){const r=t,s=e,n=Si(),o=_i(),i=Vn(),l=Pe(()=>i.currentProfile),d=ye({name:"",range:"",date:new Date().toISOString().split("T")[0],notes:"",type:"training"}),c=Pe(()=>d.value.name.trim().length>0&&d.value.range.trim().length>0&&l.value!==null);Sr(()=>r.isOpen,y=>{if(y){const h=new Date,w=h.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),E=l.value?.name||"Unknown Rifle";d.value={name:`${E} Session - ${w}`,range:"",date:h.toISOString().split("T")[0],notes:"",type:"training"}}});const u=()=>{s("close")},m=()=>{if(c.value){if(!l.value){console.error("Missing rifle profile");return}try{const h=o.effectiveConditions||{temperature:70,humidity:50,pressure:29.92,windSpeed:0,windDirection:0,elevation:0,timestamp:new Date,source:Es.MANUAL},w=n.startSession(d.value.name,d.value.range,h,l.value,d.value.notes);console.log("Session started successfully:",w.id),s("sessionStarted",w.id),s("close")}catch(y){console.error("Failed to start session:",y)}}};return(y,h)=>y.isOpen?(W(),Y("div",h7,[a("div",g7,[a("div",p7,[h[18]||(h[18]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-500 mb-4"}," Start New Shooting Session ",-1)),a("div",m7,[a("div",null,[h[8]||(h[8]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Session Name * ",-1)),Oe(a("input",{"onUpdate:modelValue":h[0]||(h[0]=w=>d.value.name=w),type:"text",placeholder:"e.g., Morning Range Session, 200yd Zero Check",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500",required:""},null,512),[[dt,d.value.name]])]),a("div",null,[h[9]||(h[9]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Range/Location * ",-1)),Oe(a("input",{"onUpdate:modelValue":h[1]||(h[1]=w=>d.value.range=w),type:"text",placeholder:"e.g., Local Gun Range, Backyard, Competition Range",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500",required:""},null,512),[[dt,d.value.range]])]),a("div",null,[h[10]||(h[10]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Date ",-1)),Oe(a("input",{"onUpdate:modelValue":h[2]||(h[2]=w=>d.value.date=w),type:"date",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[dt,d.value.date]])]),l.value?(W(),Y("div",v7,[h[11]||(h[11]=a("h4",{class:"text-sm font-medium text-gray-900 dark:text-black mb-2"}," Selected Rifle ",-1)),a("div",b7,[a("p",null,[a("strong",null,F(l.value.name),1)]),a("p",null,F(l.value.caliber)+"  "+F(l.value.barrelLength)+'" barrel',1),a("p",null,"Zero: "+F(l.value.zeroDistance)+F(l.value.zeroDistanceUnit||"yd"),1)])])):Re("",!0),a("div",null,[h[12]||(h[12]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Session Notes (optional) ",-1)),Oe(a("textarea",{"onUpdate:modelValue":h[3]||(h[3]=w=>d.value.notes=w),rows:"3",placeholder:"Training goals, equipment notes, conditions to remember...",class:"textarea textarea-bordered w-full resize-none dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[dt,d.value.notes]])]),a("div",null,[h[17]||(h[17]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Session Type ",-1)),a("div",y7,[a("label",x7,[Oe(a("input",{"onUpdate:modelValue":h[4]||(h[4]=w=>d.value.type=w),type:"radio",value:"training",class:"radio radio-primary mr-2"},null,512),[[on,d.value.type]]),h[13]||(h[13]=a("span",{class:"text-sm dark:text-red-400"},"Training",-1))]),a("label",k7,[Oe(a("input",{"onUpdate:modelValue":h[5]||(h[5]=w=>d.value.type=w),type:"radio",value:"zeroing",class:"radio radio-primary mr-2"},null,512),[[on,d.value.type]]),h[14]||(h[14]=a("span",{class:"text-sm dark:text-red-400"},"Zeroing",-1))]),a("label",w7,[Oe(a("input",{"onUpdate:modelValue":h[6]||(h[6]=w=>d.value.type=w),type:"radio",value:"competition",class:"radio radio-primary mr-2"},null,512),[[on,d.value.type]]),h[15]||(h[15]=a("span",{class:"text-sm dark:text-red-400"},"Competition",-1))]),a("label",_7,[Oe(a("input",{"onUpdate:modelValue":h[7]||(h[7]=w=>d.value.type=w),type:"radio",value:"hunting",class:"radio radio-primary mr-2"},null,512),[[on,d.value.type]]),h[16]||(h[16]=a("span",{class:"text-sm dark:text-red-400"},"Hunting Prep",-1))])])])]),a("div",S7,[a("button",{onClick:u,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-gray-100 dark:bg-black border dark:border-red-500 rounded-md hover:bg-gray-200 dark:hover:bg-gray-900"}," Cancel "),a("button",{onClick:m,disabled:!c.value,class:"px-4 py-2 text-sm font-medium text-white dark:text-black bg-green-600 dark:bg-red-600 rounded-md hover:bg-green-700 dark:hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Start Session ",8,A7)])])])])):Re("",!0)}}),P7={class:"space-y-6"},N7={class:"grid grid-cols-12 gap-6"},L7={class:"col-span-12 lg:col-span-2 space-y-4"},$7={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},E7={class:"flex justify-between items-center p-4 pb-3"},M7={class:"flex items-center space-x-2"},T7={class:"px-4 pb-4"},D7={class:"space-y-2 text-xs text-gray-600 dark:text-red-400"},I7={class:"flex justify-between"},R7={class:"flex justify-between"},O7={class:"flex justify-between"},F7={class:"flex justify-between"},j7={class:"flex justify-between"},U7={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},B7={class:"flex justify-between items-center p-4 pb-3"},z7={class:"px-4 pb-4"},q7={key:0,class:"mb-3"},H7=["value"],W7=["value"],V7={key:1,class:"space-y-2 text-xs text-gray-600 dark:text-red-400 mb-3"},G7={class:"text-gray-900 dark:text-red-500"},K7={class:"text-gray-900 dark:text-red-500"},Y7={class:"text-gray-900 dark:text-red-500"},J7={class:"text-gray-900 dark:text-red-500"},Z7={key:2,class:"mb-3"},X7=["value"],Q7={key:3,class:"space-y-2 text-xs text-gray-600 dark:text-red-400 mb-3"},e_={class:"space-y-2"},t_={class:"col-span-12 lg:col-span-10 space-y-6"},r_={class:"flex justify-end"},s_={class:"flex items-center space-x-3 bg-white dark:bg-red-600 rounded-lg shadow-sm border border-gray-200 dark:border-red-500 px-4 py-3"},a_={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},n_={class:"flex items-center justify-between p-6 pb-4"},o_={class:"px-6 pb-6"},i_={key:0,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},l_={key:1,class:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg"},d_={class:"text-sm text-green-700"},c_={key:0},u_={class:"text-xs text-green-600 mt-1"},f_={key:0},h_={class:"max-w-xl mx-auto"},g_={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},p_={class:"flex items-center justify-between p-6 pb-4"},m_={class:"px-6 pb-6"},v_={key:0,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"},b_={class:"max-w-4xl mx-auto"},gV=Dt({__name:"CalculatorView",setup(t){const e=Vn(),r=Wn(),s=_i(),n=Si(),o=Ec(),i=ye("meters"),l=ye([]),d=ye(""),c=ye(null),u=ye(!0),m=ye(!0),y=ye(!1),h=ye(!1),w=ye([]),E=ye([]),R=ye(!1),T=ye(!1),G=ye(!1),z=ye(null),$=ye(!1),I=Pe(()=>e.currentProfile),K=Pe(()=>e.profiles),L=Pe(()=>{if(!I.value)return[];const le=l.value.filter(pe=>pe.caliber===I.value?.caliber).map(pe=>parseFloat(pe.bullet_weight_gr)).filter(pe=>!isNaN(pe)).sort((pe,_e)=>pe-_e);return[...new Set(le)]}),b=Pe(()=>I.value?.opticsMeasurement||"MOA"),v=Pe(()=>i.value==="yards"?"fps":"mps"),C=Pe(()=>{const j=s.effectiveConditions;if(!j)return"Loading...";const le=j.temperature,_e=r.units.temperature==="celsius"?r.convertTemperature(le,"fahrenheit","celsius"):le;return`${Math.round(_e)}${r.getUnitLabel("temperature")}`}),S=Pe(()=>{const j=s.effectiveConditions;if(!j)return"Loading...";const le=j.pressure,pe=r.units.pressure;let _e=le;return pe!=="inHg"&&(_e=r.convertPressure(le,"inHg",pe)),`${_e.toFixed(2)} ${r.getUnitLabel("pressure")}`}),N=Pe(()=>{const j=s.effectiveConditions;return j?`${Math.round(j.humidity)}%`:"Loading..."}),A=Pe(()=>{const j=s.currentLocation;if(!j)return"Loading...";if(typeof j=="string")return j;if(typeof j=="object"&&j.latitude&&j.longitude){const le=Math.abs(j.latitude).toFixed(4),pe=Math.abs(j.longitude).toFixed(4),_e=j.latitude>=0?"N":"S",be=j.longitude>=0?"E":"W";return`${le}${_e}, ${pe}${be}`}return"Unknown"}),p=Pe(()=>{const j=s.effectiveConditions;if(!j)return{speed:"Loading...",direction:""};const le=j.windSpeed,pe=r.units.windSpeed;let _e=le;pe!=="mph"&&(_e=r.convertWindSpeed(le,"mph",pe));const be=P(j.windDirection);return{speed:`${Math.round(_e)} ${r.getUnitLabel("windSpeed")}`,direction:be}}),P=j=>{const le=["N","NE","E","SE","S","SW","W","NW"],pe=Math.round(j/45)%8;return le[pe]},Q=Pe(()=>{if(!w.value.length)return[];let j=w.value;return I.value?.caliber&&(j=j.filter(le=>le.Caliber===I.value?.caliber)),c.value&&(j=j.filter(le=>parseFloat(le.Bullet_Weight_gr)===c.value)),j.slice(0,10)}),H=Pe(()=>Q.value.length?Q.value.map(j=>{const le=i.value==="yards",pe=b.value==="MIL";return{distance:parseFloat(le?j.Distance_yd||"0":j.Distance_m||"0"),elevation:parseFloat(pe?j.Drop_MIL:j.Drop_MOA),velocity:parseFloat(le?j.Velocity_fps||"0":j.Velocity_mps||"0")}}):ee.value),q=Pe(()=>[{key:"distance",label:`Distance (${i.value})`,format:j=>`${Math.round(j)}`},{key:"elevation",label:`Elevation (${b.value})`,format:j=>j.toFixed(1)},{key:"velocity",label:`Velocity (${v.value})`,format:j=>`${Math.round(j)}`}]),M=Pe(()=>!d.value||!c.value?[]:(i.value==="yards"?[100,200,300,400,500,600,700,800,900,1e3]:[100,200,300,400,500,600,700,800,900,1e3]).map(le=>{const pe=U(d.value,c.value,le,1),_e=U(d.value,c.value,le,5),be=U(d.value,c.value,le,10),Ie=U(d.value,c.value,le,15),Ce=s.effectiveConditions?.windSpeed||10,Ke=U(d.value,c.value,le,Ce);return{distance:le,wind1:pe,wind5:_e,wind10:be,wind15:Ie,currentWind:Ke}})),ae=Pe(()=>{const j=i.value==="yards"?"in":"cm";return[{key:"distance",label:`Distance (${i.value})`,format:le=>`${Math.round(le)}`},{key:"wind1",label:`1 mph (${j})`,format:le=>le.toFixed(1)},{key:"wind5",label:`5 mph (${j})`,format:le=>le.toFixed(1)},{key:"wind10",label:`10 mph (${j})`,format:le=>le.toFixed(1)},{key:"wind15",label:`15 mph (${j})`,format:le=>le.toFixed(1)},{key:"currentWind",label:`Current Wind (${j})`,format:le=>le.toFixed(1)}]}),ee=Pe(()=>{const j=b.value==="MIL";return[{distance:100,elevation:0,velocity:i.value==="yards"?2800:853},{distance:200,elevation:j?-.6:-2.1,velocity:i.value==="yards"?2650:808},{distance:300,elevation:j?-1.6:-5.4,velocity:i.value==="yards"?2480:756},{distance:400,elevation:j?-2.8:-9.5,velocity:i.value==="yards"?2320:707},{distance:500,elevation:j?-4.2:-14.8,velocity:i.value==="yards"?2170:662}]});async function k(){const j=i.value==="yards"?"./dope_tables/dope_yards.csv":"./dope_tables/dope_meters.csv";R.value=!0;try{const le=await fetch(j);if(!le.ok)throw new Error(`HTTP error! status: ${le.status}`);const pe=await le.text();x0.parse(pe,{header:!0,skipEmptyLines:!0,complete:_e=>{w.value=_e.data,R.value=!1,console.log(`Loaded ${_e.data.length} DOPE entries from ${j}`)},error:_e=>{console.error("Error parsing CSV:",_e),R.value=!1}})}catch(le){console.error("Error loading DOPE data:",le),R.value=!1}}async function O(){const j=i.value==="yards"?"./dope_tables/wind_drift_yards.csv":"./dope_tables/wind_drift_meters.csv";T.value=!0;try{const le=await fetch(j);if(!le.ok)throw new Error(`HTTP error! status: ${le.status}`);const pe=await le.text();x0.parse(pe,{header:!0,skipEmptyLines:!0,complete:_e=>{E.value=_e.data,T.value=!1,console.log(`Loaded ${_e.data.length} wind drift entries from ${j}`)},error:_e=>{console.error("Error parsing wind drift CSV:",_e),T.value=!1}})}catch(le){console.error("Error loading wind drift data:",le),T.value=!1}}function U(j,le,pe,_e){if(!E.value.length)return 0;const be=E.value.filter(Be=>Be.Caliber===j&&parseFloat(Be.Bullet_Weight_gr)===le);if(!be.length)return 0;const Ie=pe;if(!be.find(Be=>{const Ge=i.value==="yards"?parseFloat(Be.Distance_yd||"0"):parseFloat(Be.Distance_m||"0");return Math.abs(Ge-Ie)<25}))return 0;const Ke=be.find(Be=>{const Ge=i.value==="yards"?parseFloat(Be.Distance_yd||"0"):parseFloat(Be.Distance_m||"0"),Ye=parseFloat(Be.WS_mph||"10");return Math.abs(Ge-Ie)<25&&Math.abs(Ye-_e)<=1});if(Ke){const Be=b.value==="MIL";return parseFloat(Be?Ke.Drift_MRAD||"0":Ke.Drift_MOA||"0")}const je=be.filter(Be=>{const Ge=i.value==="yards"?parseFloat(Be.Distance_yd||"0"):parseFloat(Be.Distance_m||"0");return Math.abs(Ge-Ie)<25}).sort((Be,Ge)=>parseFloat(Be.WS_mph||"10")-parseFloat(Ge.WS_mph||"10"));if(je.length>=2){const Be=je.find(Ye=>parseFloat(Ye.WS_mph||"10")<=_e),Ge=je.find(Ye=>parseFloat(Ye.WS_mph||"10")>=_e);if(Be&&Ge&&Be!==Ge){const Ye=parseFloat(Be.WS_mph||"10"),ot=parseFloat(Ge.WS_mph||"10"),st=b.value==="MIL",me=parseFloat(st?Be.Drift_MRAD||"0":Be.Drift_MOA||"0"),ke=parseFloat(st?Ge.Drift_MRAD||"0":Ge.Drift_MOA||"0"),Se=(_e-Ye)/(ot-Ye);return me+(ke-me)*Se}}return 0}async function B(){try{throw new Error("API disabled in static build")}catch(j){console.warn("Failed to fetch loads:",j),l.value=[{caliber:".308 Win",bullet_weight_gr:"147"},{caliber:".308 Win",bullet_weight_gr:"155"},{caliber:".308 Win",bullet_weight_gr:"168"},{caliber:".308 Win",bullet_weight_gr:"175"},{caliber:".308 Win",bullet_weight_gr:"180"},{caliber:".300 Win Mag",bullet_weight_gr:"180"},{caliber:".300 Win Mag",bullet_weight_gr:"190"},{caliber:".300 Win Mag",bullet_weight_gr:"200"},{caliber:".300 Win Mag",bullet_weight_gr:"220"},{caliber:"6.5 Creedmoor",bullet_weight_gr:"123"},{caliber:"6.5 Creedmoor",bullet_weight_gr:"140"},{caliber:"6.5 Creedmoor",bullet_weight_gr:"147"},{caliber:".223 Rem",bullet_weight_gr:"55"},{caliber:".223 Rem",bullet_weight_gr:"62"},{caliber:".223 Rem",bullet_weight_gr:"77"},{caliber:".338 Lapua",bullet_weight_gr:"250"},{caliber:".338 Lapua",bullet_weight_gr:"300"}]}}function V(j){const le=K.value.find(pe=>pe.id===j);le&&(e.setCurrentProfile(le),d.value=le.caliber,c.value=null)}function J(){o.push("/rifles")}function ce(){o.push("/rifles?action=create")}Sr(I,j=>{j&&(d.value=j.caliber,c.value&&(L.value.includes(c.value)||(c.value=null)),!c.value&&L.value.length>0&&(c.value=L.value[0]))},{immediate:!0}),Sr(L,j=>{I.value&&!c.value&&j.length>0&&(c.value=j[0])},{immediate:!0}),qr(async()=>{if(k(),O(),B(),await s.initializeWithDefaults(),s.gpsEnabled&&s.fetchLocationData().catch(()=>{}),s.weatherServiceEnabled&&s.fetchWeatherData().catch(()=>{}),!I.value&&K.value.length>0){const j=localStorage.getItem("current-rifle-profile-id");if(j){const le=K.value.find(pe=>pe.id===j);le&&e.setCurrentProfile(le)}}});const ue=async()=>{await s.refreshAllData()},xe=j=>{z.value=j,G.value=!0},$e=j=>{if(!z.value||!I.value){console.error("Missing shot data or rifle information");return}const le=s.effectiveConditions||{temperature:70,windSpeed:z.value.windSpeed||0,windDirection:0,humidity:50,pressure:29.92,elevation:0,timestamp:new Date,source:"manual"};n.currentSession||n.startSession("Quick Shot Session","Mobile Calculator",le,I.value,"Auto-started from quick shot system");const pe={hit:j.hit,horizontalOffset:j.horizontalOffset||0,verticalOffset:j.verticalOffset||0,notes:j.notes},_e={distance:z.value.distance,drop:0,windage:z.value.windage?parseFloat(z.value.windage):0,velocity:0,energy:0,timeOfFlight:0,clicksElevation:z.value.elevation?parseFloat(z.value.elevation):0,clicksWindage:z.value.windage?parseFloat(z.value.windage):0,confidence:.9};n.recordShot(z.value.distance,pe,_e,le),G.value=!1,z.value=null,console.log("Shot recorded successfully!")},se=()=>{$.value=!0},ie=j=>{console.log("Session started:",j)},oe=()=>{if(n.currentSession){const j=n.endSession();j&&(console.log("Session completed:",j.name),alert(`Session completed: ${j.name}
Shots recorded: ${j.shots.length}`))}};return Sr(i,()=>{k(),O(),B()}),(j,le)=>(W(),Y("div",P7,[a("div",N7,[a("div",L7,[a("div",$7,[a("div",E7,[le[9]||(le[9]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-500"},"Environment",-1)),a("div",M7,[a("button",{onClick:ue,class:"text-xs px-2 py-1 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded border border-blue-200 transition-colors",title:"Refresh environmental data"},"  "),a("button",{onClick:le[0]||(le[0]=pe=>u.value=!u.value),class:at(["px-2 py-1 text-xs rounded transition-colors",u.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},F(u.value?"":"+"),3)])]),Oe(a("div",T7,[a("div",D7,[a("div",I7,[le[10]||(le[10]=a("span",null,"Location:",-1)),a("span",null,F(A.value),1)]),a("div",R7,[le[11]||(le[11]=a("span",null,"Temperature:",-1)),a("span",null,F(C.value),1)]),a("div",O7,[le[12]||(le[12]=a("span",null,"Humidity:",-1)),a("span",null,F(N.value),1)]),a("div",F7,[le[13]||(le[13]=a("span",null,"Pressure:",-1)),a("span",null,F(S.value),1)]),a("div",j7,[le[14]||(le[14]=a("span",null,"Wind:",-1)),a("span",null,F(p.value.speed)+" "+F(p.value.direction),1)])])],512),[[dl,u.value]])]),a("div",U7,[a("div",B7,[le[15]||(le[15]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-500"},"Current Rifle",-1)),a("button",{onClick:le[1]||(le[1]=pe=>m.value=!m.value),class:at(["px-2 py-1 text-xs rounded transition-colors",m.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},F(m.value?"":"+"),3)]),Oe(a("div",z7,[K.value.length>0?(W(),Y("div",q7,[le[17]||(le[17]=a("label",{class:"block text-xs font-medium text-gray-700 dark:text-red-400 mb-1"}," Select Rifle ",-1)),a("select",{value:I.value?.id||"",onChange:le[2]||(le[2]=pe=>V(pe.target.value)),class:"block w-full px-2 py-1 text-xs border border-gray-300 dark:border-red-500 rounded focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-red-600 dark:text-black"},[le[16]||(le[16]=a("option",{value:""},"Select a rifle...",-1)),(W(!0),Y(rt,null,it(K.value,pe=>(W(),Y("option",{key:pe.id,value:pe.id},F(pe.name)+" ("+F(pe.caliber)+") ",9,W7))),128))],40,H7)])):Re("",!0),I.value?(W(),Y("div",V7,[a("div",null,[le[18]||(le[18]=a("span",{class:"font-medium text-gray-700 dark:text-red-400"},"Name:",-1)),a("div",G7,F(I.value.name),1)]),a("div",null,[le[19]||(le[19]=a("span",{class:"font-medium text-gray-700 dark:text-red-400"},"Caliber:",-1)),a("div",K7,F(I.value.caliber),1)]),a("div",null,[le[20]||(le[20]=a("span",{class:"font-medium text-gray-700 dark:text-red-400"},"Zero Distance:",-1)),a("div",Y7,F(I.value.zeroDistance)+" "+F(I.value.zeroDistanceUnit||"yards"),1)]),a("div",null,[le[21]||(le[21]=a("span",{class:"font-medium text-gray-700 dark:text-red-400"},"Barrel Length:",-1)),a("div",J7,F(I.value.barrelLength)+'"',1)])])):Re("",!0),I.value&&L.value.length>0?(W(),Y("div",Z7,[le[23]||(le[23]=a("label",{class:"block text-xs font-medium text-gray-700 dark:text-red-400 mb-1"}," Bullet Weight (gr) ",-1)),Oe(a("select",{"onUpdate:modelValue":le[3]||(le[3]=pe=>c.value=pe),class:"block w-full px-2 py-1 text-xs border border-gray-300 dark:border-red-500 rounded focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-red-600 dark:text-black"},[le[22]||(le[22]=a("option",{value:null},"Select weight...",-1)),(W(!0),Y(rt,null,it(L.value,pe=>(W(),Y("option",{key:pe,value:pe},F(pe)+" gr ",9,X7))),128))],512),[[_t,c.value]])])):Re("",!0),I.value?Re("",!0):(W(),Y("div",Q7,[...le[24]||(le[24]=[a("div",{class:"text-gray-500 dark:text-red-400 italic"},"No rifle selected",-1)])])),a("div",e_,[K.value.length>0?(W(),Y("button",{key:0,onClick:J,class:"w-full px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"}," Manage Rifles ")):Re("",!0),a("button",{onClick:ce,class:"w-full px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors"}," Create New Rifle ")])],512),[[dl,m.value]])])]),a("div",t_,[a("div",r_,[a("div",s_,[a("span",{class:at(["text-sm font-medium text-gray-700 dark:text-black",{"text-blue-600 dark:text-blue-300":i.value==="yards"}])},"Yards",2),a("button",{onClick:le[4]||(le[4]=pe=>i.value=i.value==="meters"?"yards":"meters"),class:at(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",i.value==="meters"?"bg-blue-600":"bg-gray-200"])},[a("span",{class:at(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",i.value==="meters"?"translate-x-6":"translate-x-1"])},null,2)],2),a("span",{class:at(["text-sm font-medium text-gray-700 dark:text-black",{"text-blue-600 dark:text-blue-300":i.value==="meters"}])},"Meters",2)])]),Me(U6,{unit:i.value,"selected-bullet-weight":c.value,"dope-table-data":H.value,"wind-drift-data":E.value,"get-wind-drift-value":U,onRecordShot:xe,onOpenNewSessionDialog:se,onCompleteSession:oe},null,8,["unit","selected-bullet-weight","dope-table-data","wind-drift-data"]),a("div",a_,[a("div",n_,[le[25]||(le[25]=a("div",null,[a("h2",{class:"text-xl font-bold text-gray-900 dark:text-red-500"},"DOPE Chart")],-1)),a("button",{onClick:le[5]||(le[5]=pe=>y.value=!y.value),class:at(["px-2 py-1 text-xs rounded transition-colors",y.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},F(y.value?"":"+"),3)]),Oe(a("div",o_,[I.value?Re("",!0):(W(),Y("div",i_,[...le[26]||(le[26]=[a("p",{class:"text-sm text-blue-700"},[a("strong",null,"Note:"),Qe(" Select a rifle from the left panel to see personalized DOPE data with correct optics measurements (MIL/MOA). Showing default MOA values below. ")],-1)])])),I.value?(W(),Y("div",l_,[a("p",d_,[a("strong",null,F(I.value.name),1),Qe(" | "+F(I.value.caliber)+" | "+F(b.value)+" measurements | "+F(i.value)+" distances ",1),c.value?(W(),Y("span",c_," | "+F(c.value)+"gr bullets",1)):Re("",!0)]),a("p",u_,[Qe(" Showing "+F(Q.value.length>0?"CSV":"sample")+" DOPE data ",1),Q.value.length>0?(W(),Y("span",f_," ("+F(Q.value.length)+" entries)",1)):Re("",!0)])])):Re("",!0),a("div",h_,[Me(vg,{data:H.value,columns:q.value,loading:R.value},{empty:Nr(()=>[...le[27]||(le[27]=[a("div",{class:"text-lg font-medium mb-2"},"No DOPE data available",-1),a("div",{class:"text-sm"},"Select a rifle caliber and bullet weight to see ballistics data",-1)])]),_:1},8,["data","columns","loading"])])],512),[[dl,y.value]])]),a("div",g_,[a("div",p_,[le[28]||(le[28]=a("div",null,[a("h2",{class:"text-xl font-bold text-gray-900 dark:text-red-500"},"Wind Drift Data"),a("div",{class:"text-sm text-gray-600 dark:text-red-400 mt-1"}," Based off 90% left to right / right to left crosswind. ")],-1)),a("button",{onClick:le[6]||(le[6]=pe=>h.value=!h.value),class:at(["px-2 py-1 text-xs rounded transition-colors",h.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},F(h.value?"":"+"),3)]),Oe(a("div",m_,[!d.value||!c.value?(W(),Y("div",v_,[...le[29]||(le[29]=[a("p",{class:"text-sm text-yellow-700"},[a("strong",null,"Note:"),Qe(" Select a rifle caliber and bullet weight to see detailed wind drift data. ")],-1)])])):Re("",!0),a("div",b_,[Me(vg,{data:M.value,columns:ae.value,loading:T.value},{empty:Nr(()=>[...le[30]||(le[30]=[a("div",{class:"text-lg font-medium mb-2"},"No wind drift data available",-1),a("div",{class:"text-sm"},"Select a rifle caliber and bullet weight to see wind drift calculations",-1)])]),_:1},8,["data","columns","loading"])])],512),[[dl,h.value]])]),Me(d6)])]),Me(f7,{"is-open":G.value,onClose:le[7]||(le[7]=pe=>G.value=!1),onRecord:$e},null,8,["is-open"]),Me(C7,{"is-open":$.value,onClose:le[8]||(le[8]=pe=>$.value=!1),onSessionStarted:ie},null,8,["is-open"])]))}});function Gt(t){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(t)}var fa=Uint8Array,Ts=Uint16Array,cf=Int32Array,uf=new fa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ff=new fa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bg=new fa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jm=function(t,e){for(var r=new Ts(31),s=0;s<31;++s)r[s]=e+=1<<t[s-1];for(var n=new cf(r[30]),s=1;s<30;++s)for(var o=r[s];o<r[s+1];++o)n[o]=o-r[s]<<5|s;return{b:r,r:n}},Um=jm(uf,2),y_=Um.b,k0=Um.r;y_[28]=258,k0[258]=28;var x_=jm(ff,0),yg=x_.r,w0=new Ts(32768);for(var nr=0;nr<32768;++nr){var Ln=(nr&43690)>>1|(nr&21845)<<1;Ln=(Ln&52428)>>2|(Ln&13107)<<2,Ln=(Ln&61680)>>4|(Ln&3855)<<4,w0[nr]=((Ln&65280)>>8|(Ln&255)<<8)>>1}var xl=(function(t,e,r){for(var s=t.length,n=0,o=new Ts(e);n<s;++n)t[n]&&++o[t[n]-1];var i=new Ts(e);for(n=1;n<e;++n)i[n]=i[n-1]+o[n-1]<<1;var l;if(r){l=new Ts(1<<e);var d=15-e;for(n=0;n<s;++n)if(t[n])for(var c=n<<4|t[n],u=e-t[n],m=i[t[n]-1]++<<u,y=m|(1<<u)-1;m<=y;++m)l[w0[m]>>d]=c}else for(l=new Ts(s),n=0;n<s;++n)t[n]&&(l[n]=w0[i[t[n]-1]++]>>15-t[n]);return l}),Ao=new fa(288);for(var nr=0;nr<144;++nr)Ao[nr]=8;for(var nr=144;nr<256;++nr)Ao[nr]=9;for(var nr=256;nr<280;++nr)Ao[nr]=7;for(var nr=280;nr<288;++nr)Ao[nr]=8;var uc=new fa(32);for(var nr=0;nr<32;++nr)uc[nr]=5;var k_=xl(Ao,9,0),w_=xl(uc,5,0),Bm=function(t){return(t+7)/8|0},__=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new fa(t.subarray(e,r))},Xa=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8},ol=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8,t[s+2]|=r>>16},$u=function(t,e){for(var r=[],s=0;s<t.length;++s)t[s]&&r.push({s,f:t[s]});var n=r.length,o=r.slice();if(!n)return{t:qm,l:0};if(n==1){var i=new fa(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(I,K){return I.f-K.f}),r.push({s:-1,f:25001});var l=r[0],d=r[1],c=0,u=1,m=2;for(r[0]={s:-1,f:l.f+d.f,l,r:d};u!=n-1;)l=r[r[c].f<r[m].f?c++:m++],d=r[c!=u&&r[c].f<r[m].f?c++:m++],r[u++]={s:-1,f:l.f+d.f,l,r:d};for(var y=o[0].s,s=1;s<n;++s)o[s].s>y&&(y=o[s].s);var h=new Ts(y+1),w=_0(r[u-1],h,0);if(w>e){var s=0,E=0,R=w-e,T=1<<R;for(o.sort(function(K,L){return h[L.s]-h[K.s]||K.f-L.f});s<n;++s){var G=o[s].s;if(h[G]>e)E+=T-(1<<w-h[G]),h[G]=e;else break}for(E>>=R;E>0;){var z=o[s].s;h[z]<e?E-=1<<e-h[z]++-1:++s}for(;s>=0&&E;--s){var $=o[s].s;h[$]==e&&(--h[$],++E)}w=e}return{t:new fa(h),l:w}},_0=function(t,e,r){return t.s==-1?Math.max(_0(t.l,e,r+1),_0(t.r,e,r+1)):e[t.s]=r},xg=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ts(++e),s=0,n=t[0],o=1,i=function(d){r[s++]=d},l=1;l<=e;++l)if(t[l]==n&&l!=e)++o;else{if(!n&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(n),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(n);o=1,n=t[l]}return{c:r.subarray(0,s),n:e}},il=function(t,e){for(var r=0,s=0;s<e.length;++s)r+=t[s]*e[s];return r},zm=function(t,e,r){var s=r.length,n=Bm(e+2);t[n]=s&255,t[n+1]=s>>8,t[n+2]=t[n]^255,t[n+3]=t[n+1]^255;for(var o=0;o<s;++o)t[n+o+4]=r[o];return(n+4+s)*8},kg=function(t,e,r,s,n,o,i,l,d,c,u){Xa(e,u++,r),++n[256];for(var m=$u(n,15),y=m.t,h=m.l,w=$u(o,15),E=w.t,R=w.l,T=xg(y),G=T.c,z=T.n,$=xg(E),I=$.c,K=$.n,L=new Ts(19),b=0;b<G.length;++b)++L[G[b]&31];for(var b=0;b<I.length;++b)++L[I[b]&31];for(var v=$u(L,7),C=v.t,S=v.l,N=19;N>4&&!C[bg[N-1]];--N);var A=c+5<<3,p=il(n,Ao)+il(o,uc)+i,P=il(n,y)+il(o,E)+i+14+3*N+il(L,C)+2*L[16]+3*L[17]+7*L[18];if(d>=0&&A<=p&&A<=P)return zm(e,u,t.subarray(d,d+c));var Q,H,q,M;if(Xa(e,u,1+(P<p)),u+=2,P<p){Q=xl(y,h,0),H=y,q=xl(E,R,0),M=E;var ae=xl(C,S,0);Xa(e,u,z-257),Xa(e,u+5,K-1),Xa(e,u+10,N-4),u+=14;for(var b=0;b<N;++b)Xa(e,u+3*b,C[bg[b]]);u+=3*N;for(var ee=[G,I],k=0;k<2;++k)for(var O=ee[k],b=0;b<O.length;++b){var U=O[b]&31;Xa(e,u,ae[U]),u+=C[U],U>15&&(Xa(e,u,O[b]>>5&127),u+=O[b]>>12)}}else Q=k_,H=Ao,q=w_,M=uc;for(var b=0;b<l;++b){var B=s[b];if(B>255){var U=B>>18&31;ol(e,u,Q[U+257]),u+=H[U+257],U>7&&(Xa(e,u,B>>23&31),u+=uf[U]);var V=B&31;ol(e,u,q[V]),u+=M[V],V>3&&(ol(e,u,B>>5&8191),u+=ff[V])}else ol(e,u,Q[B]),u+=H[B]}return ol(e,u,Q[256]),u+H[256]},S_=new cf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qm=new fa(0),A_=function(t,e,r,s,n,o){var i=o.z||t.length,l=new fa(s+i+5*(1+Math.ceil(i/7e3))+n),d=l.subarray(s,l.length-n),c=o.l,u=(o.r||0)&7;if(e){u&&(d[0]=o.r>>3);for(var m=S_[e-1],y=m>>13,h=m&8191,w=(1<<r)-1,E=o.p||new Ts(32768),R=o.h||new Ts(w+1),T=Math.ceil(r/3),G=2*T,z=function(oe){return(t[oe]^t[oe+1]<<T^t[oe+2]<<G)&w},$=new cf(25e3),I=new Ts(288),K=new Ts(32),L=0,b=0,v=o.i||0,C=0,S=o.w||0,N=0;v+2<i;++v){var A=z(v),p=v&32767,P=R[A];if(E[p]=P,R[A]=p,S<=v){var Q=i-v;if((L>7e3||C>24576)&&(Q>423||!c)){u=kg(t,d,0,$,I,K,b,C,N,v-N,u),C=L=b=0,N=v;for(var H=0;H<286;++H)I[H]=0;for(var H=0;H<30;++H)K[H]=0}var q=2,M=0,ae=h,ee=p-P&32767;if(Q>2&&A==z(v-ee))for(var k=Math.min(y,Q)-1,O=Math.min(32767,v),U=Math.min(258,Q);ee<=O&&--ae&&p!=P;){if(t[v+q]==t[v+q-ee]){for(var B=0;B<U&&t[v+B]==t[v+B-ee];++B);if(B>q){if(q=B,M=ee,B>k)break;for(var V=Math.min(ee,B-2),J=0,H=0;H<V;++H){var ce=v-ee+H&32767,ue=E[ce],xe=ce-ue&32767;xe>J&&(J=xe,P=ce)}}}p=P,P=E[p],ee+=p-P&32767}if(M){$[C++]=268435456|k0[q]<<18|yg[M];var $e=k0[q]&31,se=yg[M]&31;b+=uf[$e]+ff[se],++I[257+$e],++K[se],S=v+q,++L}else $[C++]=t[v],++I[t[v]]}}for(v=Math.max(v,S);v<i;++v)$[C++]=t[v],++I[t[v]];u=kg(t,d,c,$,I,K,b,C,N,v-N,u),c||(o.r=u&7|d[u/8|0]<<3,u-=7,o.h=R,o.p=E,o.i=v,o.w=S)}else{for(var v=o.w||0;v<i+c;v+=65535){var ie=v+65535;ie>=i&&(d[u/8|0]=c,ie=i),u=zm(d,u+1,t.subarray(v,ie))}o.i=i}return __(l,0,s+Bm(u)+n)},Hm=function(){var t=1,e=0;return{p:function(r){for(var s=t,n=e,o=r.length|0,i=0;i!=o;){for(var l=Math.min(i+2655,o);i<l;++i)n+=s+=r[i];s=(s&65535)+15*(s>>16),n=(n&65535)+15*(n>>16)}t=s,e=n},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},C_=function(t,e,r,s,n){if(!n&&(n={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),i=new fa(o.length+t.length);i.set(o),i.set(t,o.length),t=i,n.w=o.length}return A_(t,e.level==null?6:e.level,e.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,s,n)},Wm=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},P_=function(t,e){var r=e.level,s=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=s<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var n=Hm();n.p(e.dictionary),Wm(t,2,n.d())}};function S0(t,e){e||(e={});var r=Hm();r.p(t);var s=C_(t,e,e.dictionary?6:2,4);return P_(s,e),Wm(s,s.length-4,r.d()),s}var N_=typeof TextDecoder<"u"&&new TextDecoder,L_=0;try{N_.decode(qm,{stream:!0}),L_=1}catch{}function $_(t){if(Array.isArray(t))return t}function E_(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],d=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);d=!0);}catch(u){c=!0,n=u}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}function wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function M_(t,e){if(t){if(typeof t=="string")return wg(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wg(t,e):void 0}}function T_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _g(t,e){return $_(t)||E_(t,e)||M_(t,e)||T_()}function Sg(t,e="utf8"){return new TextDecoder(e).decode(t)}const D_=new TextEncoder;function I_(t){return D_.encode(t)}const R_=1024*8,O_=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Eu={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class hf{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=R_,r={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const n=r.offset?r.offset>>>0:0,o=e.byteLength-n;let i=n;(ArrayBuffer.isView(e)||e instanceof hf)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+n),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,n=new Uint8Array(s);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const s=Eu[r].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,o=this.buffer.slice(n,n+s);if(this.littleEndian===O_&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(n,n+s));l.reverse();const d=new Eu[r](l.buffer);return this.offset+=s,d.reverse(),d}const i=new Eu[r](o);return this.offset+=s,i}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let s=0;s<e;s++)r+=this.readChar();return r}readUtf8(e=1){return Sg(this.readBytes(e))}decodeText(e=1,r="utf8"){return Sg(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(I_(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ai(t){let e=t.length;for(;--e>=0;)t[e]=0}const F_=3,j_=258,Vm=29,U_=256,B_=U_+1+Vm,Gm=30,z_=512,q_=new Array((B_+2)*2);Ai(q_);const H_=new Array(Gm*2);Ai(H_);const W_=new Array(z_);Ai(W_);const V_=new Array(j_-F_+1);Ai(V_);const G_=new Array(Vm);Ai(G_);const K_=new Array(Gm);Ai(K_);const Y_=(t,e,r,s)=>{let n=t&65535|0,o=t>>>16&65535|0,i=0;for(;r!==0;){i=r>2e3?2e3:r,r-=i;do n=n+e[s++]|0,o=o+n|0;while(--i);n%=65521,o%=65521}return n|o<<16|0};var A0=Y_;const J_=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Z_=new Uint32Array(J_()),X_=(t,e,r,s)=>{const n=Z_,o=s+r;t^=-1;for(let i=s;i<o;i++)t=t>>>8^n[(t^e[i])&255];return t^-1};var Pa=X_,C0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Km={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Q_=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var e8=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)Q_(r,s)&&(t[s]=r[s])}}return t},t8=t=>{let e=0;for(let s=0,n=t.length;s<n;s++)e+=t[s].length;const r=new Uint8Array(e);for(let s=0,n=0,o=t.length;s<o;s++){let i=t[s];r.set(i,n),n+=i.length}return r},Ym={assign:e8,flattenChunks:t8};let Jm=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jm=!1}const Rl=new Uint8Array(256);for(let t=0;t<256;t++)Rl[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Rl[254]=Rl[254]=1;var r8=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,s,n,o,i=t.length,l=0;for(n=0;n<i;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<i&&(s=t.charCodeAt(n+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),n++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),o=0,n=0;o<l;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<i&&(s=t.charCodeAt(n+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),n++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const s8=(t,e)=>{if(e<65534&&t.subarray&&Jm)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let s=0;s<e;s++)r+=String.fromCharCode(t[s]);return r};var a8=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let s,n;const o=new Array(r*2);for(n=0,s=0;s<r;){let i=t[s++];if(i<128){o[n++]=i;continue}let l=Rl[i];if(l>4){o[n++]=65533,s+=l-1;continue}for(i&=l===2?31:l===3?15:7;l>1&&s<r;)i=i<<6|t[s++]&63,l--;if(l>1){o[n++]=65533;continue}i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|i&1023)}return s8(o,n)},n8=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Rl[t[r]]>e?r:e},P0={string2buf:r8,buf2string:a8,utf8border:n8};function o8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var i8=o8;const Pd=16209,l8=16191;var d8=function(e,r){let s,n,o,i,l,d,c,u,m,y,h,w,E,R,T,G,z,$,I,K,L,b,v,C;const S=e.state;s=e.next_in,v=e.input,n=s+(e.avail_in-5),o=e.next_out,C=e.output,i=o-(r-e.avail_out),l=o+(e.avail_out-257),d=S.dmax,c=S.wsize,u=S.whave,m=S.wnext,y=S.window,h=S.hold,w=S.bits,E=S.lencode,R=S.distcode,T=(1<<S.lenbits)-1,G=(1<<S.distbits)-1;e:do{w<15&&(h+=v[s++]<<w,w+=8,h+=v[s++]<<w,w+=8),z=E[h&T];t:for(;;){if($=z>>>24,h>>>=$,w-=$,$=z>>>16&255,$===0)C[o++]=z&65535;else if($&16){I=z&65535,$&=15,$&&(w<$&&(h+=v[s++]<<w,w+=8),I+=h&(1<<$)-1,h>>>=$,w-=$),w<15&&(h+=v[s++]<<w,w+=8,h+=v[s++]<<w,w+=8),z=R[h&G];r:for(;;){if($=z>>>24,h>>>=$,w-=$,$=z>>>16&255,$&16){if(K=z&65535,$&=15,w<$&&(h+=v[s++]<<w,w+=8,w<$&&(h+=v[s++]<<w,w+=8)),K+=h&(1<<$)-1,K>d){e.msg="invalid distance too far back",S.mode=Pd;break e}if(h>>>=$,w-=$,$=o-i,K>$){if($=K-$,$>u&&S.sane){e.msg="invalid distance too far back",S.mode=Pd;break e}if(L=0,b=y,m===0){if(L+=c-$,$<I){I-=$;do C[o++]=y[L++];while(--$);L=o-K,b=C}}else if(m<$){if(L+=c+m-$,$-=m,$<I){I-=$;do C[o++]=y[L++];while(--$);if(L=0,m<I){$=m,I-=$;do C[o++]=y[L++];while(--$);L=o-K,b=C}}}else if(L+=m-$,$<I){I-=$;do C[o++]=y[L++];while(--$);L=o-K,b=C}for(;I>2;)C[o++]=b[L++],C[o++]=b[L++],C[o++]=b[L++],I-=3;I&&(C[o++]=b[L++],I>1&&(C[o++]=b[L++]))}else{L=o-K;do C[o++]=C[L++],C[o++]=C[L++],C[o++]=C[L++],I-=3;while(I>2);I&&(C[o++]=C[L++],I>1&&(C[o++]=C[L++]))}}else if(($&64)===0){z=R[(z&65535)+(h&(1<<$)-1)];continue r}else{e.msg="invalid distance code",S.mode=Pd;break e}break}}else if(($&64)===0){z=E[(z&65535)+(h&(1<<$)-1)];continue t}else if($&32){S.mode=l8;break e}else{e.msg="invalid literal/length code",S.mode=Pd;break e}break}}while(s<n&&o<l);I=w>>3,s-=I,w-=I<<3,h&=(1<<w)-1,e.next_in=s,e.next_out=o,e.avail_in=s<n?5+(n-s):5-(s-n),e.avail_out=o<l?257+(l-o):257-(o-l),S.hold=h,S.bits=w};const Yo=15,Ag=852,Cg=592,Pg=0,Mu=1,Ng=2,c8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),u8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),f8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),h8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),g8=(t,e,r,s,n,o,i,l)=>{const d=l.bits;let c=0,u=0,m=0,y=0,h=0,w=0,E=0,R=0,T=0,G=0,z,$,I,K,L,b=null,v;const C=new Uint16Array(Yo+1),S=new Uint16Array(Yo+1);let N=null,A,p,P;for(c=0;c<=Yo;c++)C[c]=0;for(u=0;u<s;u++)C[e[r+u]]++;for(h=d,y=Yo;y>=1&&C[y]===0;y--);if(h>y&&(h=y),y===0)return n[o++]=1<<24|64<<16|0,n[o++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<y&&C[m]===0;m++);for(h<m&&(h=m),R=1,c=1;c<=Yo;c++)if(R<<=1,R-=C[c],R<0)return-1;if(R>0&&(t===Pg||y!==1))return-1;for(S[1]=0,c=1;c<Yo;c++)S[c+1]=S[c]+C[c];for(u=0;u<s;u++)e[r+u]!==0&&(i[S[e[r+u]]++]=u);if(t===Pg?(b=N=i,v=20):t===Mu?(b=c8,N=u8,v=257):(b=f8,N=h8,v=0),G=0,u=0,c=m,L=o,w=h,E=0,I=-1,T=1<<h,K=T-1,t===Mu&&T>Ag||t===Ng&&T>Cg)return 1;for(;;){A=c-E,i[u]+1<v?(p=0,P=i[u]):i[u]>=v?(p=N[i[u]-v],P=b[i[u]-v]):(p=96,P=0),z=1<<c-E,$=1<<w,m=$;do $-=z,n[L+(G>>E)+$]=A<<24|p<<16|P|0;while($!==0);for(z=1<<c-1;G&z;)z>>=1;if(z!==0?(G&=z-1,G+=z):G=0,u++,--C[c]===0){if(c===y)break;c=e[r+i[u]]}if(c>h&&(G&K)!==I){for(E===0&&(E=h),L+=m,w=c-E,R=1<<w;w+E<y&&(R-=C[w+E],!(R<=0));)w++,R<<=1;if(T+=1<<w,t===Mu&&T>Ag||t===Ng&&T>Cg)return 1;I=G&K,n[I]=h<<24|w<<16|L-o|0}}return G!==0&&(n[L+G]=c-E<<24|64<<16|0),l.bits=h,0};var kl=g8;const p8=0,Zm=1,Xm=2,{Z_FINISH:Lg,Z_BLOCK:m8,Z_TREES:Nd,Z_OK:Co,Z_STREAM_END:v8,Z_NEED_DICT:b8,Z_STREAM_ERROR:Xs,Z_DATA_ERROR:Qm,Z_MEM_ERROR:ev,Z_BUF_ERROR:y8,Z_DEFLATED:$g}=Km,Mc=16180,Eg=16181,Mg=16182,Tg=16183,Dg=16184,Ig=16185,Rg=16186,Og=16187,Fg=16188,jg=16189,fc=16190,Qa=16191,Tu=16192,Ug=16193,Du=16194,Bg=16195,zg=16196,qg=16197,Hg=16198,Ld=16199,$d=16200,Wg=16201,Vg=16202,Gg=16203,Kg=16204,Yg=16205,Iu=16206,Jg=16207,Zg=16208,or=16209,tv=16210,rv=16211,x8=852,k8=592,w8=15,_8=w8,Xg=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function S8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const No=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Mc||e.mode>rv?1:0},sv=t=>{if(No(t))return Xs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Mc,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(x8),e.distcode=e.distdyn=new Int32Array(k8),e.sane=1,e.back=-1,Co},av=t=>{if(No(t))return Xs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,sv(t)},nv=(t,e)=>{let r;if(No(t))return Xs;const s=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Xs:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=r,s.wbits=e,av(t))},ov=(t,e)=>{if(!t)return Xs;const r=new S8;t.state=r,r.strm=t,r.window=null,r.mode=Mc;const s=nv(t,e);return s!==Co&&(t.state=null),s},A8=t=>ov(t,_8);let Qg=!0,Ru,Ou;const C8=t=>{if(Qg){Ru=new Int32Array(512),Ou=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(kl(Zm,t.lens,0,288,Ru,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;kl(Xm,t.lens,0,32,Ou,0,t.work,{bits:5}),Qg=!1}t.lencode=Ru,t.lenbits=9,t.distcode=Ou,t.distbits=5},iv=(t,e,r,s)=>{let n;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(n=o.wsize-o.wnext,n>s&&(n=s),o.window.set(e.subarray(r-s,r-s+n),o.wnext),s-=n,s?(o.window.set(e.subarray(r-s,r),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0},P8=(t,e)=>{let r,s,n,o,i,l,d,c,u,m,y,h,w,E,R=0,T,G,z,$,I,K,L,b;const v=new Uint8Array(4);let C,S;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(No(t)||!t.output||!t.input&&t.avail_in!==0)return Xs;r=t.state,r.mode===Qa&&(r.mode=Tu),i=t.next_out,n=t.output,d=t.avail_out,o=t.next_in,s=t.input,l=t.avail_in,c=r.hold,u=r.bits,m=l,y=d,b=Co;e:for(;;)switch(r.mode){case Mc:if(r.wrap===0){r.mode=Tu;break}for(;u<16;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,v[0]=c&255,v[1]=c>>>8&255,r.check=Pa(r.check,v,2,0),c=0,u=0,r.mode=Eg;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=or;break}if((c&15)!==$g){t.msg="unknown compression method",r.mode=or;break}if(c>>>=4,u-=4,L=(c&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){t.msg="invalid window size",r.mode=or;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?jg:Qa,c=0,u=0;break;case Eg:for(;u<16;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==$g){t.msg="unknown compression method",r.mode=or;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=or;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(v[0]=c&255,v[1]=c>>>8&255,r.check=Pa(r.check,v,2,0)),c=0,u=0,r.mode=Mg;case Mg:for(;u<32;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(v[0]=c&255,v[1]=c>>>8&255,v[2]=c>>>16&255,v[3]=c>>>24&255,r.check=Pa(r.check,v,4,0)),c=0,u=0,r.mode=Tg;case Tg:for(;u<16;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(v[0]=c&255,v[1]=c>>>8&255,r.check=Pa(r.check,v,2,0)),c=0,u=0,r.mode=Dg;case Dg:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(v[0]=c&255,v[1]=c>>>8&255,r.check=Pa(r.check,v,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=Ig;case Ig:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(o,o+h),L)),r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,s,h,o)),l-=h,o+=h,r.length-=h),r.length))break e;r.length=0,r.mode=Rg;case Rg:if(r.flags&2048){if(l===0)break e;h=0;do L=s[o+h++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,s,h,o)),l-=h,o+=h,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Og;case Og:if(r.flags&4096){if(l===0)break e;h=0;do L=s[o+h++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,s,h,o)),l-=h,o+=h,L)break e}else r.head&&(r.head.comment=null);r.mode=Fg;case Fg:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=or;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Qa;break;case jg:for(;u<32;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}t.adler=r.check=Xg(c),c=0,u=0,r.mode=fc;case fc:if(r.havedict===0)return t.next_out=i,t.avail_out=d,t.next_in=o,t.avail_in=l,r.hold=c,r.bits=u,b8;t.adler=r.check=1,r.mode=Qa;case Qa:if(e===m8||e===Nd)break e;case Tu:if(r.last){c>>>=u&7,u-=u&7,r.mode=Iu;break}for(;u<3;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=Ug;break;case 1:if(C8(r),r.mode=Ld,e===Nd){c>>>=2,u-=2;break e}break;case 2:r.mode=zg;break;case 3:t.msg="invalid block type",r.mode=or}c>>>=2,u-=2;break;case Ug:for(c>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=or;break}if(r.length=c&65535,c=0,u=0,r.mode=Du,e===Nd)break e;case Du:r.mode=Bg;case Bg:if(h=r.length,h){if(h>l&&(h=l),h>d&&(h=d),h===0)break e;n.set(s.subarray(o,o+h),i),l-=h,o+=h,d-=h,i+=h,r.length-=h;break}r.mode=Qa;break;case zg:for(;u<14;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=or;break}r.have=0,r.mode=qg;case qg:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}r.lens[N[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[N[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},b=kl(p8,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,b){t.msg="invalid code lengths set",r.mode=or;break}r.have=0,r.mode=Hg;case Hg:for(;r.have<r.nlen+r.ndist;){for(;R=r.lencode[c&(1<<r.lenbits)-1],T=R>>>24,G=R>>>16&255,z=R&65535,!(T<=u);){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if(z<16)c>>>=T,u-=T,r.lens[r.have++]=z;else{if(z===16){for(S=T+2;u<S;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if(c>>>=T,u-=T,r.have===0){t.msg="invalid bit length repeat",r.mode=or;break}L=r.lens[r.have-1],h=3+(c&3),c>>>=2,u-=2}else if(z===17){for(S=T+3;u<S;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}c>>>=T,u-=T,L=0,h=3+(c&7),c>>>=3,u-=3}else{for(S=T+7;u<S;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}c>>>=T,u-=T,L=0,h=11+(c&127),c>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=or;break}for(;h--;)r.lens[r.have++]=L}}if(r.mode===or)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=or;break}if(r.lenbits=9,C={bits:r.lenbits},b=kl(Zm,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,b){t.msg="invalid literal/lengths set",r.mode=or;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},b=kl(Xm,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,b){t.msg="invalid distances set",r.mode=or;break}if(r.mode=Ld,e===Nd)break e;case Ld:r.mode=$d;case $d:if(l>=6&&d>=258){t.next_out=i,t.avail_out=d,t.next_in=o,t.avail_in=l,r.hold=c,r.bits=u,d8(t,y),i=t.next_out,n=t.output,d=t.avail_out,o=t.next_in,s=t.input,l=t.avail_in,c=r.hold,u=r.bits,r.mode===Qa&&(r.back=-1);break}for(r.back=0;R=r.lencode[c&(1<<r.lenbits)-1],T=R>>>24,G=R>>>16&255,z=R&65535,!(T<=u);){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if(G&&(G&240)===0){for($=T,I=G,K=z;R=r.lencode[K+((c&(1<<$+I)-1)>>$)],T=R>>>24,G=R>>>16&255,z=R&65535,!($+T<=u);){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}c>>>=$,u-=$,r.back+=$}if(c>>>=T,u-=T,r.back+=T,r.length=z,G===0){r.mode=Yg;break}if(G&32){r.back=-1,r.mode=Qa;break}if(G&64){t.msg="invalid literal/length code",r.mode=or;break}r.extra=G&15,r.mode=Wg;case Wg:if(r.extra){for(S=r.extra;u<S;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Vg;case Vg:for(;R=r.distcode[c&(1<<r.distbits)-1],T=R>>>24,G=R>>>16&255,z=R&65535,!(T<=u);){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if((G&240)===0){for($=T,I=G,K=z;R=r.distcode[K+((c&(1<<$+I)-1)>>$)],T=R>>>24,G=R>>>16&255,z=R&65535,!($+T<=u);){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}c>>>=$,u-=$,r.back+=$}if(c>>>=T,u-=T,r.back+=T,G&64){t.msg="invalid distance code",r.mode=or;break}r.offset=z,r.extra=G&15,r.mode=Gg;case Gg:if(r.extra){for(S=r.extra;u<S;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=or;break}r.mode=Kg;case Kg:if(d===0)break e;if(h=y-d,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=or;break}h>r.wnext?(h-=r.wnext,w=r.wsize-h):w=r.wnext-h,h>r.length&&(h=r.length),E=r.window}else E=n,w=i-r.offset,h=r.length;h>d&&(h=d),d-=h,r.length-=h;do n[i++]=E[w++];while(--h);r.length===0&&(r.mode=$d);break;case Yg:if(d===0)break e;n[i++]=r.length,d--,r.mode=$d;break;case Iu:if(r.wrap){for(;u<32;){if(l===0)break e;l--,c|=s[o++]<<u,u+=8}if(y-=d,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Pa(r.check,n,y,i-y):A0(r.check,n,y,i-y)),y=d,r.wrap&4&&(r.flags?c:Xg(c))!==r.check){t.msg="incorrect data check",r.mode=or;break}c=0,u=0}r.mode=Jg;case Jg:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,c+=s[o++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=or;break}c=0,u=0}r.mode=Zg;case Zg:b=v8;break e;case or:b=Qm;break e;case tv:return ev;case rv:default:return Xs}return t.next_out=i,t.avail_out=d,t.next_in=o,t.avail_in=l,r.hold=c,r.bits=u,(r.wsize||y!==t.avail_out&&r.mode<or&&(r.mode<Iu||e!==Lg))&&iv(t,t.output,t.next_out,y-t.avail_out),m-=t.avail_in,y-=t.avail_out,t.total_in+=m,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Pa(r.check,n,y,t.next_out-y):A0(r.check,n,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Qa?128:0)+(r.mode===Ld||r.mode===Du?256:0),(m===0&&y===0||e===Lg)&&b===Co&&(b=y8),b},N8=t=>{if(No(t))return Xs;let e=t.state;return e.window&&(e.window=null),t.state=null,Co},L8=(t,e)=>{if(No(t))return Xs;const r=t.state;return(r.wrap&2)===0?Xs:(r.head=e,e.done=!1,Co)},$8=(t,e)=>{const r=e.length;let s,n,o;return No(t)||(s=t.state,s.wrap!==0&&s.mode!==fc)?Xs:s.mode===fc&&(n=1,n=A0(n,e,r,0),n!==s.check)?Qm:(o=iv(t,e,r,r),o?(s.mode=tv,ev):(s.havedict=1,Co))};var E8=av,M8=nv,T8=sv,D8=A8,I8=ov,R8=P8,O8=N8,F8=L8,j8=$8,U8="pako inflate (from Nodeca project)",rn={inflateReset:E8,inflateReset2:M8,inflateResetKeep:T8,inflateInit:D8,inflateInit2:I8,inflate:R8,inflateEnd:O8,inflateGetHeader:F8,inflateSetDictionary:j8,inflateInfo:U8};function B8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var z8=B8;const lv=Object.prototype.toString,{Z_NO_FLUSH:q8,Z_FINISH:H8,Z_OK:Ol,Z_STREAM_END:Fu,Z_NEED_DICT:ju,Z_STREAM_ERROR:W8,Z_DATA_ERROR:ep,Z_MEM_ERROR:V8}=Km;function Wl(t){this.options=Ym.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i8,this.strm.avail_out=0;let r=rn.inflateInit2(this.strm,e.windowBits);if(r!==Ol)throw new Error(C0[r]);if(this.header=new z8,rn.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=P0.string2buf(e.dictionary):lv.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=rn.inflateSetDictionary(this.strm,e.dictionary),r!==Ol)))throw new Error(C0[r])}Wl.prototype.push=function(t,e){const r=this.strm,s=this.options.chunkSize,n=this.options.dictionary;let o,i,l;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?H8:q8,lv.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),o=rn.inflate(r,i),o===ju&&n&&(o=rn.inflateSetDictionary(r,n),o===Ol?o=rn.inflate(r,i):o===ep&&(o=ju));r.avail_in>0&&o===Fu&&r.state.wrap>0&&t[r.next_in]!==0;)rn.inflateReset(r),o=rn.inflate(r,i);switch(o){case W8:case ep:case ju:case V8:return this.onEnd(o),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||o===Fu))if(this.options.to==="string"){let d=P0.utf8border(r.output,r.next_out),c=r.next_out-d,u=P0.buf2string(r.output,d);r.next_out=c,r.avail_out=s-c,c&&r.output.set(r.output.subarray(d,d+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Ol&&l===0)){if(o===Fu)return o=rn.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Wl.prototype.onData=function(t){this.chunks.push(t)};Wl.prototype.onEnd=function(t){t===Ol&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ym.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function G8(t,e){const r=new Wl(e);if(r.push(t),r.err)throw r.msg||C0[r.err];return r.result}var K8=Wl,Y8=G8,J8={Inflate:K8,inflate:Y8};const{Inflate:Z8,inflate:X8}=J8;var tp=Z8,Q8=X8;const dv=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;dv[t]=e}const rp=4294967295;function eS(t,e,r){let s=t;for(let n=0;n<r;n++)s=dv[(s^e[n])&255]^s>>>8;return s}function tS(t,e){return(eS(rp,t,e)^rp)>>>0}function sp(t,e,r){const s=t.readUint32(),n=tS(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(n!==s)throw new Error(`CRC mismatch for chunk ${r}. Expected ${s}, found ${n}`)}function cv(t,e,r){for(let s=0;s<r;s++)e[s]=t[s]}function uv(t,e,r,s){let n=0;for(;n<s;n++)e[n]=t[n];for(;n<r;n++)e[n]=t[n]+e[n-s]&255}function fv(t,e,r,s){let n=0;if(r.length===0)for(;n<s;n++)e[n]=t[n];else for(;n<s;n++)e[n]=t[n]+r[n]&255}function hv(t,e,r,s,n){let o=0;if(r.length===0){for(;o<n;o++)e[o]=t[o];for(;o<s;o++)e[o]=t[o]+(e[o-n]>>1)&255}else{for(;o<n;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<s;o++)e[o]=t[o]+(e[o-n]+r[o]>>1)&255}}function gv(t,e,r,s,n){let o=0;if(r.length===0){for(;o<n;o++)e[o]=t[o];for(;o<s;o++)e[o]=t[o]+e[o-n]&255}else{for(;o<n;o++)e[o]=t[o]+r[o]&255;for(;o<s;o++)e[o]=t[o]+rS(e[o-n],r[o],r[o-n])&255}}function rS(t,e,r){const s=t+e-r,n=Math.abs(s-t),o=Math.abs(s-e),i=Math.abs(s-r);return n<=o&&n<=i?t:o<=i?e:r}function sS(t,e,r,s,n,o){switch(t){case 0:cv(e,r,n);break;case 1:uv(e,r,n,o);break;case 2:fv(e,r,s,n);break;case 3:hv(e,r,s,n,o);break;case 4:gv(e,r,s,n,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const aS=new Uint16Array([255]),nS=new Uint8Array(aS.buffer),oS=nS[0]===255;function iS(t){const{data:e,width:r,height:s,channels:n,depth:o}=t,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(o/8)*n,d=new Uint8Array(s*r*l);let c=0;for(let u=0;u<7;u++){const m=i[u],y=Math.ceil((r-m.x)/m.xStep),h=Math.ceil((s-m.y)/m.yStep);if(y<=0||h<=0)continue;const w=y*l,E=new Uint8Array(w);for(let R=0;R<h;R++){const T=e[c++],G=e.subarray(c,c+w);c+=w;const z=new Uint8Array(w);sS(T,G,z,E,w,l),E.set(z);for(let $=0;$<y;$++){const I=m.x+$*m.xStep,K=m.y+R*m.yStep;if(!(I>=r||K>=s))for(let L=0;L<l;L++)d[(K*r+I)*l+L]=z[$*l+L]}}}if(o===16){const u=new Uint16Array(d.buffer);if(oS)for(let m=0;m<u.length;m++)u[m]=lS(u[m]);return u}else return d}function lS(t){return(t&255)<<8|t>>8&255}const dS=new Uint16Array([255]),cS=new Uint8Array(dS.buffer),uS=cS[0]===255,fS=new Uint8Array(0);function ap(t){const{data:e,width:r,height:s,channels:n,depth:o}=t,i=Math.ceil(o/8)*n,l=Math.ceil(o/8*n*r),d=new Uint8Array(s*l);let c=fS,u=0,m,y;for(let h=0;h<s;h++){switch(m=e.subarray(u+1,u+1+l),y=d.subarray(h*l,(h+1)*l),e[u]){case 0:cv(m,y,l);break;case 1:uv(m,y,l,i);break;case 2:fv(m,y,c,l);break;case 3:hv(m,y,c,l,i);break;case 4:gv(m,y,c,l,i);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=y,u+=l+1}if(o===16){const h=new Uint16Array(d.buffer);if(uS)for(let w=0;w<h.length;w++)h[w]=hS(h[w]);return h}else return d}function hS(t){return(t&255)<<8|t>>8&255}const Wd=Uint8Array.of(137,80,78,71,13,10,26,10);function np(t){if(!gS(t.readBytes(Wd.length)))throw new Error("wrong PNG signature")}function gS(t){if(t.length<Wd.length)return!1;for(let e=0;e<Wd.length;e++)if(t[e]!==Wd[e])return!1;return!0}const pS="tEXt",mS=0,pv=new TextDecoder("latin1");function vS(t){if(yS(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const bS=/^[\u0000-\u00FF]*$/;function yS(t){if(!bS.test(t))throw new Error("invalid latin1 text")}function xS(t,e,r){const s=mv(e);t[s]=kS(e,r-s.length-1)}function mv(t){for(t.mark();t.readByte()!==mS;);const e=t.offset;t.reset();const r=pv.decode(t.readBytes(e-t.offset-1));return t.skip(1),vS(r),r}function kS(t,e){return pv.decode(t.readBytes(e))}const Ns={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Uu={UNKNOWN:-1,DEFLATE:0},op={UNKNOWN:-1,ADAPTIVE:0},Bu={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ed={NONE:0,BACKGROUND:1,PREVIOUS:2},zu={SOURCE:0,OVER:1};class wS extends hf{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new tp,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Uu.UNKNOWN,this._filterMethod=op.UNKNOWN,this._interlaceMethod=Bu.UNKNOWN,this._colorType=Ns.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(np(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(np(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case pS:xS(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?sp(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?sp(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=_S(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case Ns.GREYSCALE:s=1;break;case Ns.TRUECOLOUR:s=3;break;case Ns.INDEXED_COLOUR:s=1;break;case Ns.GREYSCALE_ALPHA:s=2;break;case Ns.TRUECOLOUR_ALPHA:s=4;break;case Ns.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Uu.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let n=0;n<r;n++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ns.GREYSCALE:case Ns.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Ns.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ns.UNKNOWN:case Ns.GREYSCALE_ALPHA:case Ns.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=mv(this),s=this.readUint8();if(s!==Uu.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const n=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Q8(n)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=ap({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const n=this._apng.frames.at(e-1);this.disposeFrame(s,n,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,s){switch(e.disposeOp){case Ed.NONE:break;case Ed.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let o=0;o<this._png.width;o++){const i=(n*e.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[i+l]=0}break;case Ed.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const s=1<<this._png.depth,n=(o,i)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+i)*this._png.channels,d=(o*r.width+i)*this._png.channels;return{index:l,frameIndex:d}};switch(r.blendOp){case zu.SOURCE:for(let o=0;o<r.height;o++)for(let i=0;i<r.width;i++){const{index:l,frameIndex:d}=n(o,i);for(let c=0;c<this._png.channels;c++)e.data[l+c]=r.data[d+c]}break;case zu.OVER:for(let o=0;o<r.height;o++)for(let i=0;i<r.width;i++){const{index:l,frameIndex:d}=n(o,i);for(let c=0;c<this._png.channels;c++){const u=r.data[d+this._png.channels-1]/s,m=c%(this._png.channels-1)===0?1:r.data[d+c],y=Math.floor(u*m+(1-u)*e.data[l+c]);e.data[l+c]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==op.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Bu.NO_INTERLACE)this._png.data=ap({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Bu.ADAM7)this._png.data=iS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ed.NONE,blendOp:zu.SOURCE,data:e}),this._inflator=new tp,this._writingDataChunks=!1}}function _S(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var ip;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(ip||(ip={}));function SS(t,e){return new wS(t,e).decode()}var At=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function qu(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var Zt={log:qu,warn:function(t){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):qu.call(null,arguments))},error:function(t){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):qu(t))}};function Hu(t,e,r){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){mo(s.response,e,r)},s.onerror=function(){Zt.error("could not download file")},s.send()}function lp(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Md(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var mo=At.saveAs||((typeof window>"u"?"undefined":Gt(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var s=At.URL||At.webkitURL,n=document.createElement("a");e=e||t.name||"download",n.download=e,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?lp(n.href)?Hu(t,e,r):Md(n,n.target="_blank"):Md(n)):(n.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(n.href)},4e4),setTimeout(function(){Md(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(lp(t))Hu(t,e,r);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){Md(s)})}else navigator.msSaveOrOpenBlob((function(n,o){return o===void 0?o={autoBom:!1}:Gt(o)!=="object"&&(Zt.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(t,r),e)}:function(t,e,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return Hu(t,e,r);var n=t.type==="application/octet-stream",o=/constructor/i.test(At.HTMLElement)||At.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||n&&o)&&(typeof FileReader>"u"?"undefined":Gt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(t)}else{var d=At.URL||At.webkitURL,c=d.createObjectURL(t);s?s.location=c:location.href=c,s=null,setTimeout(function(){d.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vv(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var n=r[s].re,o=r[s].process,i=n.exec(t);i&&(e=o(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),d=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),c.length==1&&(c="0"+c),"#"+l+d+c}}var Vd=At.atob.bind(At),dp=At.btoa.bind(At);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Wu(t,e){var r=t[0],s=t[1],n=t[2],o=t[3];r=es(r,s,n,o,e[0],7,-680876936),o=es(o,r,s,n,e[1],12,-389564586),n=es(n,o,r,s,e[2],17,606105819),s=es(s,n,o,r,e[3],22,-1044525330),r=es(r,s,n,o,e[4],7,-176418897),o=es(o,r,s,n,e[5],12,1200080426),n=es(n,o,r,s,e[6],17,-1473231341),s=es(s,n,o,r,e[7],22,-45705983),r=es(r,s,n,o,e[8],7,1770035416),o=es(o,r,s,n,e[9],12,-1958414417),n=es(n,o,r,s,e[10],17,-42063),s=es(s,n,o,r,e[11],22,-1990404162),r=es(r,s,n,o,e[12],7,1804603682),o=es(o,r,s,n,e[13],12,-40341101),n=es(n,o,r,s,e[14],17,-1502002290),r=ts(r,s=es(s,n,o,r,e[15],22,1236535329),n,o,e[1],5,-165796510),o=ts(o,r,s,n,e[6],9,-1069501632),n=ts(n,o,r,s,e[11],14,643717713),s=ts(s,n,o,r,e[0],20,-373897302),r=ts(r,s,n,o,e[5],5,-701558691),o=ts(o,r,s,n,e[10],9,38016083),n=ts(n,o,r,s,e[15],14,-660478335),s=ts(s,n,o,r,e[4],20,-405537848),r=ts(r,s,n,o,e[9],5,568446438),o=ts(o,r,s,n,e[14],9,-1019803690),n=ts(n,o,r,s,e[3],14,-187363961),s=ts(s,n,o,r,e[8],20,1163531501),r=ts(r,s,n,o,e[13],5,-1444681467),o=ts(o,r,s,n,e[2],9,-51403784),n=ts(n,o,r,s,e[7],14,1735328473),r=rs(r,s=ts(s,n,o,r,e[12],20,-1926607734),n,o,e[5],4,-378558),o=rs(o,r,s,n,e[8],11,-2022574463),n=rs(n,o,r,s,e[11],16,1839030562),s=rs(s,n,o,r,e[14],23,-35309556),r=rs(r,s,n,o,e[1],4,-1530992060),o=rs(o,r,s,n,e[4],11,1272893353),n=rs(n,o,r,s,e[7],16,-155497632),s=rs(s,n,o,r,e[10],23,-1094730640),r=rs(r,s,n,o,e[13],4,681279174),o=rs(o,r,s,n,e[0],11,-358537222),n=rs(n,o,r,s,e[3],16,-722521979),s=rs(s,n,o,r,e[6],23,76029189),r=rs(r,s,n,o,e[9],4,-640364487),o=rs(o,r,s,n,e[12],11,-421815835),n=rs(n,o,r,s,e[15],16,530742520),r=ss(r,s=rs(s,n,o,r,e[2],23,-995338651),n,o,e[0],6,-198630844),o=ss(o,r,s,n,e[7],10,1126891415),n=ss(n,o,r,s,e[14],15,-1416354905),s=ss(s,n,o,r,e[5],21,-57434055),r=ss(r,s,n,o,e[12],6,1700485571),o=ss(o,r,s,n,e[3],10,-1894986606),n=ss(n,o,r,s,e[10],15,-1051523),s=ss(s,n,o,r,e[1],21,-2054922799),r=ss(r,s,n,o,e[8],6,1873313359),o=ss(o,r,s,n,e[15],10,-30611744),n=ss(n,o,r,s,e[6],15,-1560198380),s=ss(s,n,o,r,e[13],21,1309151649),r=ss(r,s,n,o,e[4],6,-145523070),o=ss(o,r,s,n,e[11],10,-1120210379),n=ss(n,o,r,s,e[2],15,718787259),s=ss(s,n,o,r,e[9],21,-343485551),t[0]=Rn(r,t[0]),t[1]=Rn(s,t[1]),t[2]=Rn(n,t[2]),t[3]=Rn(o,t[3])}function Tc(t,e,r,s,n,o){return e=Rn(Rn(e,t),Rn(s,o)),Rn(e<<n|e>>>32-n,r)}function es(t,e,r,s,n,o,i){return Tc(e&r|~e&s,t,e,n,o,i)}function ts(t,e,r,s,n,o,i){return Tc(e&s|r&~s,t,e,n,o,i)}function rs(t,e,r,s,n,o,i){return Tc(e^r^s,t,e,n,o,i)}function ss(t,e,r,s,n,o,i){return Tc(r^(e|~s),t,e,n,o,i)}function bv(t){var e,r=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Wu(s,AS(t.substring(e-64,e)));t=t.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)n[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(Wu(s,n),e=0;e<16;e++)n[e]=0;return n[14]=8*r,Wu(s,n),s}function AS(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var cp="0123456789abcdef".split("");function CS(t){for(var e="",r=0;r<4;r++)e+=cp[t>>8*r+4&15]+cp[t>>8*r&15];return e}function PS(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function N0(t){return bv(t).map(PS).join("")}var NS=(function(t){for(var e=0;e<t.length;e++)t[e]=CS(t[e]);return t.join("")})(bv("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rn(t,e){if(NS){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function L0(t,e){var r,s,n,o;if(t!==r){for(var i=(n=t,o=1+(256/t.length|0),new Array(o+1).join(n)),l=[],d=0;d<256;d++)l[d]=d;var c=0;for(d=0;d<256;d++){var u=l[d];c=(c+u+i.charCodeAt(d))%256,l[d]=l[c],l[c]=u}r=t,s=l}else l=s;var m=e.length,y=0,h=0,w="";for(d=0;d<m;d++)h=(h+(u=l[y=(y+1)%256]))%256,l[y]=l[h],l[h]=u,i=l[(l[y]+l[h])%256],w+=String.fromCharCode(e.charCodeAt(d)^i);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var up={print:4,modify:8,copy:16,"annot-forms":32};function ei(t,e,r,s){this.v=1,this.r=2;var n=192;t.forEach(function(l){if(up.perm!==void 0)throw new Error("Invalid permission: "+l);n+=up[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,i),this.P=-(1+(255^n)),this.encryptionKey=N0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=L0(this.encryptionKey,this.padding)}function ti(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,s=0;s<r;s++){var n=t.charCodeAt(s);e+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):t[s]}return e}function fp(t){if(Gt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,s,n){if(n=n||!1,typeof r!="string"||typeof s!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[s,!!n],o},this.unsubscribe=function(r){for(var s in e)if(e[s][r])return delete e[s][r],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),n=[];for(var o in e[r]){var i=e[r][o];try{i[0].apply(t,s)}catch(l){At.console&&Zt.error("jsPDF PubSub Error",l.message,l)}i[1]&&n.push(o)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function hc(t){if(!(this instanceof hc))return new hc(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function yv(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bo(t,e,r,s,n){if(!(this instanceof bo))return new bo(t,e,r,s,n);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,yv.call(this,s,n)}function si(t,e,r,s,n){if(!(this instanceof si))return new si(t,e,r,s,n);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,yv.call(this,s,n)}function vt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],n=arguments[2],o=arguments[3],i=[],l=1,d=16,c="S",u=null;Gt(t=t||{})==="object"&&(r=t.orientation,s=t.unit||s,n=t.format||n,o=t.compress||t.compressPdf||o,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),c=t.defaultPathOperation||"S"),i=t.filters||(o===!0?["FlateEncode"]:i),s=s||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},h={internal:{},__private__:{}};h.__private__.PubSub=fp;var w="1.3",E=h.__private__.getPdfVersion=function(){return w};h.__private__.setPdfVersion=function(x){w=x};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return R};var T=h.__private__.getPageFormat=function(x){return R[x]};n=n||"a4";var G="compat",z="advanced",$=G;function I(){this.saveGraphicsState(),j(new wt(ke,0,0,-ke,0,xs()*ke).toString()+" cm"),this.setFontSize(this.getFontSize()/ke),c="n",$=z}function K(){this.restoreGraphicsState(),c="S",$=G}var L=h.__private__.combineFontStyleAndFontWeight=function(x,X){if(x=="bold"&&X=="normal"||x=="bold"&&X==400||x=="normal"&&X=="italic"||x=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(x=X==400||X==="normal"?x==="italic"?"italic":"normal":X!=700&&X!=="bold"||x!=="normal"?(X==700?"bold":X)+""+x:"bold"),x};h.advancedAPI=function(x){var X=$===G;return X&&I.call(this),typeof x!="function"||(x(this),X&&K.call(this)),this},h.compatAPI=function(x){var X=$===z;return X&&K.call(this),typeof x!="function"||(x(this),X&&I.call(this)),this},h.isAdvancedAPI=function(){return $===z};var b,v=function(x){if($!==z)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(x,X){var ge=e||X;if(isNaN(x)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ge).replace(/0+$/,"")};b=h.hpf=h.__private__.hpf=typeof d=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return C(x,d)}:d==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return C(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return C(x,16)};var S=h.f2=h.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return C(x,2)},N=h.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return C(x,3)},A=h.scale=h.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return $===G?x*ke:$===z?x:void 0},p=function(x){return A((function(X){return $===G?xs()-X:$===z?X:void 0})(x))};h.__private__.setPrecision=h.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var P,Q="00000000000000000000000000000000",H=h.__private__.getFileId=function(){return Q},q=h.__private__.setFileId=function(x){return Q=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(gr=new ei(u.userPermissions,u.userPassword,u.ownerPassword,Q)),Q};h.setFileId=function(x){return q(x),this},h.getFileId=function(){return H()};var M=h.__private__.convertDateToPDFDate=function(x){var X=x.getTimezoneOffset(),ge=X<0?"+":"-",ve=Math.floor(Math.abs(X/60)),Ne=Math.abs(X%60),We=[ge,U(ve),"'",U(Ne),"'"].join("");return["D:",x.getFullYear(),U(x.getMonth()+1),U(x.getDate()),U(x.getHours()),U(x.getMinutes()),U(x.getSeconds()),We].join("")},ae=h.__private__.convertPDFDateToDate=function(x){var X=parseInt(x.substr(2,4),10),ge=parseInt(x.substr(6,2),10)-1,ve=parseInt(x.substr(8,2),10),Ne=parseInt(x.substr(10,2),10),We=parseInt(x.substr(12,2),10),Xe=parseInt(x.substr(14,2),10);return new Date(X,ge,ve,Ne,We,Xe,0)},ee=h.__private__.setCreationDate=function(x){var X;if(x===void 0&&(x=new Date),x instanceof Date)X=M(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=x}return P=X},k=h.__private__.getCreationDate=function(x){var X=P;return x==="jsDate"&&(X=ae(P)),X};h.setCreationDate=function(x){return ee(x),this},h.getCreationDate=function(x){return k(x)};var O,U=h.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},B=h.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},V=0,J=[],ce=[],ue=0,xe=[],$e=[],se=!1,ie=ce;h.__private__.setCustomOutputDestination=function(x){se=!0,ie=x};var oe=function(x){se||(ie=x)};h.__private__.resetCustomOutputDestination=function(){se=!1,ie=ce};var j=h.__private__.out=function(x){return x=x.toString(),ue+=x.length+1,ie.push(x),ie},le=h.__private__.write=function(x){return j(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},pe=h.__private__.getArrayBuffer=function(x){for(var X=x.length,ge=new ArrayBuffer(X),ve=new Uint8Array(ge);X--;)ve[X]=x.charCodeAt(X);return ge},_e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return _e};var be=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(x){return be=$===z?x/ke:x,this};var Ie,Ce=h.__private__.getFontSize=h.getFontSize=function(){return $===G?be:be*ke},Ke=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(x){return Ke=x,this},h.__private__.getR2L=h.getR2L=function(){return Ke};var je,Be=h.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))Ie=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');Ie=x}else Ie=parseInt(x,10)};h.__private__.getZoomMode=function(){return Ie};var Ge,Ye=h.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');je=x};h.__private__.getPageMode=function(){return je};var ot=h.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Ge=x};h.__private__.getLayoutMode=function(){return Ge},h.__private__.setDisplayMode=h.setDisplayMode=function(x,X,ge){return Be(x),ot(X),Ye(ge),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(x){if(Object.keys(st).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[x]},h.__private__.getDocumentProperties=function(){return st},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(x){for(var X in st)st.hasOwnProperty(X)&&x[X]&&(st[X]=x[X]);return this},h.__private__.setDocumentProperty=function(x,X){if(Object.keys(st).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[x]=X};var me,ke,Se,Fe,He,ze={},Je={},lt=[],tt={},yt={},kt={},ir={},$r=null,Yt=0,Ct=[],Bt=new fp(h),Gn=t.hotfixes||[],Xr={},Ia={},ma=[],wt=function x(X,ge,ve,Ne,We,Xe){if(!(this instanceof x))return new x(X,ge,ve,Ne,We,Xe);isNaN(X)&&(X=1),isNaN(ge)&&(ge=0),isNaN(ve)&&(ve=0),isNaN(Ne)&&(Ne=1),isNaN(We)&&(We=0),isNaN(Xe)&&(Xe=0),this._matrix=[X,ge,ve,Ne,We,Xe]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(b).join(x)},wt.prototype.multiply=function(x){var X=x.sx*this.sx+x.shy*this.shx,ge=x.sx*this.shy+x.shy*this.sy,ve=x.shx*this.sx+x.sy*this.shx,Ne=x.shx*this.shy+x.sy*this.sy,We=x.tx*this.sx+x.ty*this.shx+this.tx,Xe=x.tx*this.shy+x.ty*this.sy+this.ty;return new wt(X,ge,ve,Ne,We,Xe)},wt.prototype.decompose=function(){var x=this.sx,X=this.shy,ge=this.shx,ve=this.sy,Ne=this.tx,We=this.ty,Xe=Math.sqrt(x*x+X*X),ft=(x/=Xe)*ge+(X/=Xe)*ve;ge-=x*ft,ve-=X*ft;var mt=Math.sqrt(ge*ge+ve*ve);return ft/=mt,x*(ve/=mt)<X*(ge/=mt)&&(x=-x,X=-X,ft=-ft,Xe=-Xe),{scale:new wt(Xe,0,0,mt,0,0),translate:new wt(1,0,0,1,Ne,We),rotate:new wt(x,X,-X,x,0,0),skew:new wt(1,0,ft,1,0,0)}},wt.prototype.toString=function(x){return this.join(" ")},wt.prototype.inversed=function(){var x=this.sx,X=this.shy,ge=this.shx,ve=this.sy,Ne=this.tx,We=this.ty,Xe=1/(x*ve-X*ge),ft=ve*Xe,mt=-X*Xe,St=-ge*Xe,Et=x*Xe;return new wt(ft,mt,St,Et,-ft*Ne-St*We,-mt*Ne-Et*We)},wt.prototype.applyToPoint=function(x){var X=x.x*this.sx+x.y*this.shx+this.tx,ge=x.x*this.shy+x.y*this.sy+this.ty;return new so(X,ge)},wt.prototype.applyToRectangle=function(x){var X=this.applyToPoint(x),ge=this.applyToPoint(new so(x.x+x.w,x.y+x.h));return new Oi(X.x,X.y,ge.x-X.x,ge.y-X.y)},wt.prototype.clone=function(){var x=this.sx,X=this.shy,ge=this.shx,ve=this.sy,Ne=this.tx,We=this.ty;return new wt(x,X,ge,ve,Ne,We)},h.Matrix=wt;var Ra=h.matrixMult=function(x,X){return X.multiply(x)},Oa=new wt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Oa;var Rs=function(x,X){if(!yt[x]){var ge=(X instanceof bo?"Sh":"P")+(Object.keys(tt).length+1).toString(10);X.id=ge,yt[x]=ge,tt[ge]=X,Bt.publish("addPattern",X)}};h.ShadingPattern=bo,h.TilingPattern=si,h.addShadingPattern=function(x,X){return v("addShadingPattern()"),Rs(x,X),this},h.beginTilingPattern=function(x){v("beginTilingPattern()"),Fi(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},h.endTilingPattern=function(x,X){v("endTilingPattern()"),X.stream=$e[O].join(`
`),Rs(x,X),Bt.publish("endTilingPattern",X),ma.pop().restore()};var Os,dr=h.__private__.newObject=function(){var x=Rr();return Hr(x,!0),x},Rr=h.__private__.newObjectDeferred=function(){return V++,J[V]=function(){return ue},V},Hr=function(x,X){return X=typeof X=="boolean"&&X,J[x]=ue,X&&j(x+" 0 obj"),x},Kn=h.__private__.newAdditionalObject=function(){var x={objId:Rr(),content:""};return xe.push(x),x},hn=Rr(),Qs=Rr(),va=h.__private__.decodeColorString=function(x){var X=x.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var ge=parseFloat(X[0]);X=[ge,ge,ge,"r"]}for(var ve="#",Ne=0;Ne<3;Ne++)ve+=("0"+Math.floor(255*parseFloat(X[Ne])).toString(16)).slice(-2);return ve},ea=h.__private__.encodeColorString=function(x){var X;typeof x=="string"&&(x={ch1:x});var ge=x.ch1,ve=x.ch2,Ne=x.ch3,We=x.ch4,Xe=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var ft=new vv(ge);if(ft.ok)ge=ft.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var mt=parseInt(ge.substr(1),16);ge=mt>>16&255,ve=mt>>8&255,Ne=255&mt}if(ve===void 0||We===void 0&&ge===ve&&ve===Ne)X=typeof ge=="string"?ge+" "+Xe[0]:x.precision===2?S(ge/255)+" "+Xe[0]:N(ge/255)+" "+Xe[0];else if(We===void 0||Gt(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",Xe[1]].join(" ");X=typeof ge=="string"?[ge,ve,Ne,Xe[1]].join(" "):x.precision===2?[S(ge/255),S(ve/255),S(Ne/255),Xe[1]].join(" "):[N(ge/255),N(ve/255),N(Ne/255),Xe[1]].join(" ")}else X=typeof ge=="string"?[ge,ve,Ne,We,Xe[2]].join(" "):x.precision===2?[S(ge),S(ve),S(Ne),S(We),Xe[2]].join(" "):[N(ge),N(ve),N(Ne),N(We),Xe[2]].join(" ");return X},ta=h.__private__.getFilters=function(){return i},Fs=h.__private__.putStream=function(x){var X=(x=x||{}).data||"",ge=x.filters||ta(),ve=x.alreadyAppliedFilters||[],Ne=x.addLength1||!1,We=X.length,Xe=x.objectId,ft=function(Er){return Er};if(u!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ft=gr.encryptor(Xe,0));var mt={};ge===!0&&(ge=["FlateEncode"]);var St=x.additionalKeyValues||[],Et=(mt=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(X,ge):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(mt.data.length!==0&&(St.push({key:"Length",value:mt.data.length}),Ne===!0&&St.push({key:"Length1",value:We})),Et.length!=0)if(Et.split("/").length-1==1)St.push({key:"Filter",value:Et});else{St.push({key:"Filter",value:"["+Et+"]"});for(var Ut=0;Ut<St.length;Ut+=1)if(St[Ut].key==="DecodeParms"){for(var lr=[],Cr=0;Cr<mt.reverseChain.split("/").length-1;Cr+=1)lr.push("null");lr.push(St[Ut].value),St[Ut].value="["+lr.join(" ")+"]"}}j("<<");for(var Kt=0;Kt<St.length;Kt++)j("/"+St[Kt].key+" "+St[Kt].value);j(">>"),mt.data.length!==0&&(j("stream"),j(ft(mt.data)),j("endstream"))},Yn=h.__private__.putPage=function(x){var X=x.number,ge=x.data,ve=x.objId,Ne=x.contentsObjId;Hr(ve,!0),j("<</Type /Page"),j("/Parent "+x.rootDictionaryObjId+" 0 R"),j("/Resources "+x.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(b(x.mediaBox.bottomLeftX))+" "+parseFloat(b(x.mediaBox.bottomLeftY))+" "+b(x.mediaBox.topRightX)+" "+b(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&j("/CropBox ["+b(x.cropBox.bottomLeftX)+" "+b(x.cropBox.bottomLeftY)+" "+b(x.cropBox.topRightX)+" "+b(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&j("/BleedBox ["+b(x.bleedBox.bottomLeftX)+" "+b(x.bleedBox.bottomLeftY)+" "+b(x.bleedBox.topRightX)+" "+b(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&j("/TrimBox ["+b(x.trimBox.bottomLeftX)+" "+b(x.trimBox.bottomLeftY)+" "+b(x.trimBox.topRightX)+" "+b(x.trimBox.topRightY)+"]"),x.artBox!==null&&j("/ArtBox ["+b(x.artBox.bottomLeftX)+" "+b(x.artBox.bottomLeftY)+" "+b(x.artBox.topRightX)+" "+b(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&j("/UserUnit "+x.userUnit),Bt.publish("putPage",{objId:ve,pageContext:Ct[X],pageNumber:X,page:ge}),j("/Contents "+Ne+" 0 R"),j(">>"),j("endobj");var We=ge.join(`
`);return $===z&&(We+=`
Q`),Hr(Ne,!0),Fs({data:We,filters:ta(),objectId:Ne}),j("endobj"),ve},ba=h.__private__.putPages=function(){var x,X,ge=[];for(x=1;x<=Yt;x++)Ct[x].objId=Rr(),Ct[x].contentsObjId=Rr();for(x=1;x<=Yt;x++)ge.push(Yn({number:x,data:$e[x],objId:Ct[x].objId,contentsObjId:Ct[x].contentsObjId,mediaBox:Ct[x].mediaBox,cropBox:Ct[x].cropBox,bleedBox:Ct[x].bleedBox,trimBox:Ct[x].trimBox,artBox:Ct[x].artBox,userUnit:Ct[x].userUnit,rootDictionaryObjId:hn,resourceDictionaryObjId:Qs}));Hr(hn,!0),j("<</Type /Pages");var ve="/Kids [";for(X=0;X<Yt;X++)ve+=ge[X]+" 0 R ";j(ve+"]"),j("/Count "+Yt),j(">>"),j("endobj"),Bt.publish("postPutPages")},Jn=function(x){Bt.publish("putFont",{font:x,out:j,newObject:dr,putStream:Fs}),x.isAlreadyPutted!==!0&&(x.objectNumber=dr(),j("<<"),j("/Type /Font"),j("/BaseFont /"+ti(x.postScriptName)),j("/Subtype /Type1"),typeof x.encoding=="string"&&j("/Encoding /"+x.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj"))},$o=function(x){x.objectNumber=dr();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[b(x.x),b(x.y),b(x.x+x.width),b(x.y+x.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ge=x.pages[1].join(`
`);Fs({data:ge,additionalKeyValues:X,objectId:x.objectNumber}),j("endobj")},Eo=function(x,X){X||(X=21);var ge=dr(),ve=(function(Xe,ft){var mt,St=[],Et=1/(ft-1);for(mt=0;mt<1;mt+=Et)St.push(mt);if(St.push(1),Xe[0].offset!=0){var Ut={offset:0,color:Xe[0].color};Xe.unshift(Ut)}if(Xe[Xe.length-1].offset!=1){var lr={offset:1,color:Xe[Xe.length-1].color};Xe.push(lr)}for(var Cr="",Kt=0,Er=0;Er<St.length;Er++){for(mt=St[Er];mt>Xe[Kt+1].offset;)Kt++;var Pr=Xe[Kt].offset,Wr=(mt-Pr)/(Xe[Kt+1].offset-Pr),Ba=Xe[Kt].color,mn=Xe[Kt+1].color;Cr+=B(Math.round((1-Wr)*Ba[0]+Wr*mn[0]).toString(16))+B(Math.round((1-Wr)*Ba[1]+Wr*mn[1]).toString(16))+B(Math.round((1-Wr)*Ba[2]+Wr*mn[2]).toString(16))}return Cr.trim()})(x.colors,X),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+X+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fs({data:ve,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),j("endobj"),x.objectNumber=dr(),j("<< /ShadingType "+x.type),j("/ColorSpace /DeviceRGB");var We="/Coords ["+b(parseFloat(x.coords[0]))+" "+b(parseFloat(x.coords[1]))+" ";x.type===2?We+=b(parseFloat(x.coords[2]))+" "+b(parseFloat(x.coords[3])):We+=b(parseFloat(x.coords[2]))+" "+b(parseFloat(x.coords[3]))+" "+b(parseFloat(x.coords[4]))+" "+b(parseFloat(x.coords[5])),j(We+="]"),x.matrix&&j("/Matrix ["+x.matrix.toString()+"]"),j("/Function "+ge+" 0 R"),j("/Extend [true true]"),j(">>"),j("endobj")},Mo=function(x,X){var ge=Rr(),ve=dr();X.push({resourcesOid:ge,objectOid:ve}),x.objectNumber=ve;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+x.boundingBox.map(b).join(" ")+"]"}),Ne.push({key:"XStep",value:b(x.xStep)}),Ne.push({key:"YStep",value:b(x.yStep)}),Ne.push({key:"Resources",value:ge+" 0 R"}),x.matrix&&Ne.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Fs({data:x.stream,additionalKeyValues:Ne,objectId:x.objectNumber}),j("endobj")},Ic=function(x){for(var X in x.objectNumber=dr(),j("<<"),x)switch(X){case"opacity":j("/ca "+S(x[X]));break;case"stroke-opacity":j("/CA "+S(x[X]))}j(">>"),j("endobj")},Pi=function(x){Hr(x.resourcesOid,!0),j("<<"),j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var X in j("/Font <<"),ze)ze.hasOwnProperty(X)&&(m===!1||m===!0&&y.hasOwnProperty(X))&&j("/"+X+" "+ze[X].objectNumber+" 0 R");j(">>")})(),(function(){if(Object.keys(tt).length>0){for(var X in j("/Shading <<"),tt)tt.hasOwnProperty(X)&&tt[X]instanceof bo&&tt[X].objectNumber>=0&&j("/"+X+" "+tt[X].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),j(">>")}})(),(function(X){if(Object.keys(tt).length>0){for(var ge in j("/Pattern <<"),tt)tt.hasOwnProperty(ge)&&tt[ge]instanceof h.TilingPattern&&tt[ge].objectNumber>=0&&tt[ge].objectNumber<X&&j("/"+ge+" "+tt[ge].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),j(">>")}})(x.objectOid),(function(){if(Object.keys(kt).length>0){var X;for(X in j("/ExtGState <<"),kt)kt.hasOwnProperty(X)&&kt[X].objectNumber>=0&&j("/"+X+" "+kt[X].objectNumber+" 0 R");Bt.publish("putGStateDict"),j(">>")}})(),(function(){for(var X in j("/XObject <<"),Xr)Xr.hasOwnProperty(X)&&Xr[X].objectNumber>=0&&j("/"+X+" "+Xr[X].objectNumber+" 0 R");Bt.publish("putXobjectDict"),j(">>")})(),j(">>"),j("endobj")},Vl=function(x){Je[x.fontName]=Je[x.fontName]||{},Je[x.fontName][x.fontStyle]=x.id},Gl=function(x,X,ge,ve,Ne){var We={id:"F"+(Object.keys(ze).length+1).toString(10),postScriptName:x,fontName:X,fontStyle:ge,encoding:ve,isStandardFont:Ne||!1,metadata:{}};return Bt.publish("addFont",{font:We,instance:this}),ze[We.id]=We,Vl(We),We.id},js=h.__private__.pdfEscape=h.pdfEscape=function(x,X){return(function(ge,ve){var Ne,We,Xe,ft,mt,St,Et,Ut,lr;if(Xe=(ve=ve||{}).sourceEncoding||"Unicode",mt=ve.outputEncoding,(ve.autoencode||mt)&&ze[me].metadata&&ze[me].metadata[Xe]&&ze[me].metadata[Xe].encoding&&(ft=ze[me].metadata[Xe].encoding,!mt&&ze[me].encoding&&(mt=ze[me].encoding),!mt&&ft.codePages&&(mt=ft.codePages[0]),typeof mt=="string"&&(mt=ft[mt]),mt)){for(Et=!1,St=[],Ne=0,We=ge.length;Ne<We;Ne++)(Ut=mt[ge.charCodeAt(Ne)])?St.push(String.fromCharCode(Ut)):St.push(ge[Ne]),St[Ne].charCodeAt(0)>>8&&(Et=!0);ge=St.join("")}for(Ne=ge.length;Et===void 0&&Ne!==0;)ge.charCodeAt(Ne-1)>>8&&(Et=!0),Ne--;if(!Et)return ge;for(St=ve.noBOM?[]:[254,255],Ne=0,We=ge.length;Ne<We;Ne++){if((lr=(Ut=ge.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(lr),St.push(Ut-(lr<<8))}return String.fromCharCode.apply(void 0,St)})(x,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ni=h.__private__.beginPage=function(x){$e[++Yt]=[],Ct[Yt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Yl(Yt),oe($e[O])},Kl=function(x,X){var ge,ve,Ne;switch(r=X||r,typeof x=="string"&&(ge=T(x.toLowerCase()),Array.isArray(ge)&&(ve=ge[0],Ne=ge[1])),Array.isArray(x)&&(ve=x[0]*ke,Ne=x[1]*ke),isNaN(ve)&&(ve=n[0],Ne=n[1]),(ve>14400||Ne>14400)&&(Zt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ne=Math.min(14400,Ne)),n=[ve,Ne],r.substr(0,1)){case"l":Ne>ve&&(n=[Ne,ve]);break;case"p":ve>Ne&&(n=[Ne,ve])}Ni(n),Hc(Ti),j(Do),Ii!==0&&j(Ii+" J"),Ri!==0&&j(Ri+" j"),Bt.publish("addPage",{pageNumber:Yt})},Li=function(x){x>0&&x<=Yt&&($e.splice(x,1),Ct.splice(x,1),Yt--,O>Yt&&(O=Yt),this.setPage(O))},Yl=function(x){x>0&&x<=Yt&&(O=x)},Jl=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return $e.length-1},Zl=function(x,X,ge){var ve,Ne=void 0;return ge=ge||{},x=x!==void 0?x:ze[me].fontName,X=X!==void 0?X:ze[me].fontStyle,ve=x.toLowerCase(),Je[ve]!==void 0&&Je[ve][X]!==void 0?Ne=Je[ve][X]:Je[x]!==void 0&&Je[x][X]!==void 0?Ne=Je[x][X]:ge.disableWarning===!1&&Zt.warn("Unable to look up font label for font '"+x+"', '"+X+"'. Refer to getFontList() for available fonts."),Ne||ge.noFallback||(Ne=Je.times[X])==null&&(Ne=Je.times.normal),Ne},To=h.__private__.putInfo=function(){var x=dr(),X=function(ve){return ve};for(var ge in u!==null&&(X=gr.encryptor(x,0)),j("<<"),j("/Producer ("+js(X("jsPDF "+vt.version))+")"),st)st.hasOwnProperty(ge)&&st[ge]&&j("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+js(X(st[ge]))+")");j("/CreationDate ("+js(X(P))+")"),j(">>"),j("endobj")},Rc=h.__private__.putCatalog=function(x){var X=(x=x||{}).rootDictionaryObjId||hn;switch(dr(),j("<<"),j("/Type /Catalog"),j("/Pages "+X+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+Ie;ge.substr(ge.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&j("/OpenAction [3 0 R /XYZ null null "+S(Ie)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}je&&j("/PageMode /"+je),Bt.publish("putCatalog"),j(">>"),j("endobj")},Ar=h.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(V+1)),j("/Root "+V+" 0 R"),j("/Info "+(V-1)+" 0 R"),u!==null&&j("/Encrypt "+gr.oid+" 0 R"),j("/ID [ <"+Q+"> <"+Q+"> ]"),j(">>")},Xl=h.__private__.putHeader=function(){j("%PDF-"+w),j("%")},Ql=h.__private__.putXRef=function(){var x="0000000000";j("xref"),j("0 "+(V+1)),j("0000000000 65535 f ");for(var X=1;X<=V;X++)typeof J[X]=="function"?j((x+J[X]()).slice(-10)+" 00000 n "):J[X]!==void 0?j((x+J[X]).slice(-10)+" 00000 n "):j("0000000000 00000 n ")},Fa=h.__private__.buildDocument=function(){var x;V=0,ue=0,ce=[],J=[],xe=[],hn=Rr(),Qs=Rr(),oe(ce),Bt.publish("buildDocument"),Xl(),ba(),(function(){Bt.publish("putAdditionalObjects");for(var ge=0;ge<xe.length;ge++){var ve=xe[ge];Hr(ve.objId,!0),j(ve.content),j("endobj")}Bt.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ge in ze)ze.hasOwnProperty(ge)&&(m===!1||m===!0&&y.hasOwnProperty(ge))&&Jn(ze[ge])})(),(function(){var ge;for(ge in kt)kt.hasOwnProperty(ge)&&Ic(kt[ge])})(),(function(){for(var ge in Xr)Xr.hasOwnProperty(ge)&&$o(Xr[ge])})(),(function(ge){var ve;for(ve in tt)tt.hasOwnProperty(ve)&&(tt[ve]instanceof bo?Eo(tt[ve]):tt[ve]instanceof si&&Mo(tt[ve],ge))})(x),Bt.publish("putResources"),x.forEach(Pi),Pi({resourcesOid:Qs,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources"),u!==null&&(gr.oid=dr(),j("<<"),j("/Filter /Standard"),j("/V "+gr.v),j("/R "+gr.r),j("/U <"+gr.toHexString(gr.U)+">"),j("/O <"+gr.toHexString(gr.O)+">"),j("/P "+gr.P),j(">>"),j("endobj")),To(),Rc();var X=ue;return Ql(),Ar(),j("startxref"),j(""+X),j("%%EOF"),oe($e[O]),ce.join(`
`)},Zn=h.__private__.getBlob=function(x){return new Blob([pe(x)],{type:"application/pdf"})},ra=h.output=h.__private__.output=(Os=function(x,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",x){case void 0:return Fa();case"save":h.save(X.filename);break;case"arraybuffer":return pe(Fa());case"blob":return Zn(Fa());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(Zn(Fa()))||void 0;Zt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",ve=Fa();try{ge=dp(ve)}catch{ge=dp(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+X.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Ne=X.pdfObjectUrl,We="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",ft=At.open();return ft!==null&&ft.document.write(Xe),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',St=At.open();if(St!==null){St.document.write(mt);var Et=this;St.document.documentElement.querySelector("#pdfViewer").onload=function(){St.document.title=X.filename,St.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return St}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',lr=At.open();if(lr!==null&&(lr.document.write(Ut),lr.document.title=X.filename),lr||typeof safari>"u")return lr;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",X);default:return null}},Os.foo=function(){try{return Os.apply(this,arguments)}catch(ge){var x=ge.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var X="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ge.message;if(!At.console)throw new Error(X);At.console.error(X,ge),At.alert&&alert(X)}},Os.foo.bar=Os,Os.foo),Xn=function(x){return Array.isArray(Gn)===!0&&Gn.indexOf(x)>-1};switch(s){case"pt":ke=1;break;case"mm":ke=72/25.4;break;case"cm":ke=72/2.54;break;case"in":ke=72;break;case"px":ke=Xn("px_scaling")==1?.75:96/72;break;case"pc":case"em":ke=12;break;case"ex":ke=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);ke=s}var gr=null;ee(),q();var $i=h.__private__.getPageInfo=h.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[x].objId,pageNumber:x,pageContext:Ct[x]}},Oc=h.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Ct)if(Ct[X].objId===x)break;return $i(X)},Fc=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ct[O].objId,pageNumber:O,pageContext:Ct[O]}};h.addPage=function(){return Kl.apply(this,arguments),this},h.setPage=function(){return Yl.apply(this,arguments),oe.call(this,$e[O]),this},h.insertPage=function(x){return this.addPage(),this.movePage(O,x),this},h.movePage=function(x,X){var ge,ve;if(x>X){ge=$e[x],ve=Ct[x];for(var Ne=x;Ne>X;Ne--)$e[Ne]=$e[Ne-1],Ct[Ne]=Ct[Ne-1];$e[X]=ge,Ct[X]=ve,this.setPage(X)}else if(x<X){ge=$e[x],ve=Ct[x];for(var We=x;We<X;We++)$e[We]=$e[We+1],Ct[We]=Ct[We+1];$e[X]=ge,Ct[X]=ve,this.setPage(X)}return this},h.deletePage=function(){return Li.apply(this,arguments),this},h.__private__.text=h.text=function(x,X,ge,ve,Ne){var We,Xe,ft,mt,St,Et,Ut,lr,Cr,Kt=(ve=ve||{}).scope||this;if(typeof x=="number"&&typeof X=="number"&&(typeof ge=="string"||Array.isArray(ge))){var Er=ge;ge=X,X=x,x=Er}if(arguments[3]instanceof wt==0?(ft=arguments[4],mt=arguments[5],Gt(Ut=arguments[3])==="object"&&Ut!==null||(typeof ft=="string"&&(mt=ft,ft=null),typeof Ut=="string"&&(mt=Ut,Ut=null),typeof Ut=="number"&&(ft=Ut,Ut=null),ve={flags:Ut,angle:ft,align:mt})):(v("The transform parameter of text() with a Matrix value"),Cr=Ne),isNaN(X)||isNaN(ge)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Kt;var Pr,Wr="",Ba=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:eo,mn=Kt.internal.scaleFactor;function Zc(er){return er=er.split("	").join(Array(ve.TabLen||9).join(" ")),js(er,Ut)}function rd(er){for(var tr,mr=er.concat(),vr=[],Wa=mr.length;Wa--;)typeof(tr=mr.shift())=="string"?vr.push(tr):Array.isArray(er)&&(tr.length===1||tr[1]===void 0&&tr[2]===void 0)?vr.push(tr[0]):vr.push([tr[0],tr[1],tr[2]]);return vr}function no(er,tr){var mr;if(typeof er=="string")mr=tr(er)[0];else if(Array.isArray(er)){for(var vr,Wa,Wo=er.concat(),Aa=[],Ki=Wo.length;Ki--;)typeof(vr=Wo.shift())=="string"?Aa.push(tr(vr)[0]):Array.isArray(vr)&&typeof vr[0]=="string"&&(Wa=tr(vr[0],vr[1],vr[2]),Aa.push([Wa[0],Wa[1],Wa[2]]));mr=Aa}return mr}var sa=!1,Bi=!0;if(typeof x=="string")sa=!0;else if(Array.isArray(x)){var Fo=x.concat();Xe=[];for(var vn,Or=Fo.length;Or--;)(typeof(vn=Fo.shift())!="string"||Array.isArray(vn)&&typeof vn[0]!="string")&&(Bi=!1);sa=Bi}if(sa===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var za=be/Kt.internal.scaleFactor,qa=za*(Ba-1);switch(ve.baseline){case"bottom":ge-=qa;break;case"top":ge+=za-qa;break;case"hanging":ge+=za-2*qa;break;case"middle":ge+=za/2-qa}if((Et=ve.maxWidth||0)>0&&(typeof x=="string"?x=Kt.splitTextToSize(x,Et):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(er,tr){return er.concat(Kt.splitTextToSize(tr,Et))},[]))),We={text:x,x:X,y:ge,options:ve,mutex:{pdfEscape:js,activeFontKey:me,fonts:ze,activeFontSize:be}},Bt.publish("preProcessText",We),x=We.text,ft=(ve=We.options).angle,Cr instanceof wt==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,ve.rotationDirection===0&&(ft=-ft),$===z&&(ft=-ft);var jo=Math.cos(ft),zi=Math.sin(ft);Cr=new wt(jo,zi,-zi,jo,0,0)}else ft&&ft instanceof wt&&(Cr=ft);$!==z||Cr||(Cr=Oa),(St=ve.charSpace||Ro)!==void 0&&(Wr+=b(A(St))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(lr=ve.horizontalScale)!==void 0&&(Wr+=b(100*lr)+` Tz
`),ve.lang;var ds=-1,sd=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Uo=Kt.internal.getCurrentPageInfo().pageContext;switch(sd){case 0:case!1:case"fill":ds=0;break;case 1:case!0:case"stroke":ds=1;break;case 2:case"fillThenStroke":ds=2;break;case 3:case"invisible":ds=3;break;case 4:case"fillAndAddForClipping":ds=4;break;case 5:case"strokeAndAddPathForClipping":ds=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ds=6;break;case 7:case"addToPathForClipping":ds=7}var ad=Uo.usedRenderingMode!==void 0?Uo.usedRenderingMode:-1;ds!==-1?Wr+=ds+` Tr
`:ad!==-1&&(Wr+=`0 Tr
`),ds!==-1&&(Uo.usedRenderingMode=ds),mt=ve.align||"left";var Mr,Us=be*Ba,qi=Kt.internal.pageSize.getWidth(),Hi=ze[me];St=ve.charSpace||Ro,Et=ve.maxWidth||0,Ut=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var bn=[],Bo=function(er){return Kt.getStringUnitWidth(er,{font:Hi,charSpace:St,fontSize:be,doKerning:!1})*be/mn};if(Object.prototype.toString.call(x)==="[object Array]"){var ps;Xe=rd(x),mt!=="left"&&(Mr=Xe.map(Bo));var ms,oo=0;if(mt==="right"){X-=Mr[0],x=[],Or=Xe.length;for(var ka=0;ka<Or;ka++)ka===0?(ms=ja(X),ps=Ua(ge)):(ms=A(oo-Mr[ka]),ps=-Us),x.push([Xe[ka],ms,ps]),oo=Mr[ka]}else if(mt==="center"){X-=Mr[0]/2,x=[],Or=Xe.length;for(var yn=0;yn<Or;yn++)yn===0?(ms=ja(X),ps=Ua(ge)):(ms=A((oo-Mr[yn])/2),ps=-Us),x.push([Xe[yn],ms,ps]),oo=Mr[yn]}else if(mt==="left"){x=[],Or=Xe.length;for(var Wi=0;Wi<Or;Wi++)x.push(Xe[Wi])}else if(mt==="justify"&&Hi.encoding==="Identity-H"){x=[],Or=Xe.length,Et=Et!==0?Et:qi;for(var xn=0,pr=0;pr<Or;pr++)if(ps=pr===0?Ua(ge):-Us,ms=pr===0?ja(X):xn,pr<Or-1){var Xc=A((Et-Mr[pr])/(Xe[pr].split(" ").length-1)),wa=Xe[pr].split(" ");x.push([wa[0]+" ",ms,ps]),xn=0;for(var _a=1;_a<wa.length;_a++){var zo=(Bo(wa[_a-1]+" "+wa[_a])-Bo(wa[_a]))*mn+Xc;_a==wa.length-1?x.push([wa[_a],zo,0]):x.push([wa[_a]+" ",zo,0]),xn-=zo}}else x.push([Xe[pr],ms,ps]);x.push(["",xn,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Or=Xe.length,Et=Et!==0?Et:qi,pr=0;pr<Or;pr++)ps=pr===0?Ua(ge):-Us,ms=pr===0?ja(X):0,pr<Or-1?bn.push(b(A((Et-Mr[pr])/(Xe[pr].split(" ").length-1)))):bn.push(0),x.push([Xe[pr],ms,ps])}}(typeof ve.R2L=="boolean"?ve.R2L:Ke)===!0&&(x=no(x,function(er,tr,mr){return[er.split("").reverse().join(""),tr,mr]})),We={text:x,x:X,y:ge,options:ve,mutex:{pdfEscape:js,activeFontKey:me,fonts:ze,activeFontSize:be}},Bt.publish("postProcessText",We),x=We.text,Pr=We.mutex.isHex||!1;var Vi=ze[me].encoding;Vi!=="WinAnsiEncoding"&&Vi!=="StandardEncoding"||(x=no(x,function(er,tr,mr){return[Zc(er),tr,mr]})),Xe=rd(x),x=[];for(var qo,Ho,io,lo=Array.isArray(Xe[0])?1:0,Ha="",Gi=function(er,tr,mr){var vr="";return mr instanceof wt?(mr=typeof ve.angle=="number"?Ra(mr,new wt(1,0,0,1,er,tr)):Ra(new wt(1,0,0,1,er,tr),mr),$===z&&(mr=Ra(new wt(1,0,0,-1,0,0),mr)),vr=mr.join(" ")+` Tm
`):vr=b(er)+" "+b(tr)+` Td
`,vr},ks=0;ks<Xe.length;ks++){switch(Ha="",lo){case 1:io=(Pr?"<":"(")+Xe[ks][0]+(Pr?">":")"),qo=parseFloat(Xe[ks][1]),Ho=parseFloat(Xe[ks][2]);break;case 0:io=(Pr?"<":"(")+Xe[ks]+(Pr?">":")"),qo=ja(X),Ho=Ua(ge)}bn!==void 0&&bn[ks]!==void 0&&(Ha=bn[ks]+` Tw
`),ks===0?x.push(Ha+Gi(qo,Ho,Cr)+io):lo===0?x.push(Ha+io):lo===1&&x.push(Ha+Gi(qo,Ho,Cr)+io)}x=lo===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Sa=`BT
/`;return Sa+=me+" "+be+` Tf
`,Sa+=b(be*Ba)+` TL
`,Sa+=to+`
`,Sa+=Wr,Sa+=x,j(Sa+="ET"),y[me]=!0,Kt};var jc=h.__private__.clip=h.clip=function(x){return j(x==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return jc("evenodd")},h.__private__.discardPath=h.discardPath=function(){return j("n"),this};var ya=h.__private__.isValidStyle=function(x){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(X=!0),X};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(x){return ya(x)&&(c=x),this};var ed=h.__private__.getStyle=h.getStyle=function(x){var X=c;switch(x){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=x}return X},td=h.close=function(){return j("h"),this};h.stroke=function(){return j("S"),this},h.fill=function(x){return gn("f",x),this},h.fillEvenOdd=function(x){return gn("f*",x),this},h.fillStroke=function(x){return gn("B",x),this},h.fillStrokeEvenOdd=function(x){return gn("B*",x),this};var gn=function(x,X){Gt(X)==="object"?Bc(X,x):j(x)},Ei=function(x){x===null||$===z&&x===void 0||(x=ed(x),j(x))};function Uc(x,X,ge,ve,Ne){var We=new si(X||this.boundingBox,ge||this.xStep,ve||this.yStep,this.gState,Ne||this.matrix);We.stream=this.stream;var Xe=x+"$$"+this.cloneIndex+++"$$";return Rs(Xe,We),We}var Bc=function(x,X){var ge=yt[x.key],ve=tt[ge];if(ve instanceof bo)j("q"),j(zc(X)),ve.gState&&h.setGState(ve.gState),j(x.matrix.toString()+" cm"),j("/"+ge+" sh"),j("Q");else if(ve instanceof si){var Ne=new wt(1,0,0,-1,0,xs());x.matrix&&(Ne=Ne.multiply(x.matrix||Oa),ge=Uc.call(ve,x.key,x.boundingBox,x.xStep,x.yStep,Ne).id),j("q"),j("/Pattern cs"),j("/"+ge+" scn"),ve.gState&&h.setGState(ve.gState),j(X),j("Q")}},zc=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Mi=h.moveTo=function(x,X){return j(b(A(x))+" "+b(p(X))+" m"),this},Qn=h.lineTo=function(x,X){return j(b(A(x))+" "+b(p(X))+" l"),this},pn=h.curveTo=function(x,X,ge,ve,Ne,We){return j([b(A(x)),b(p(X)),b(A(ge)),b(p(ve)),b(A(Ne)),b(p(We)),"c"].join(" ")),this};h.__private__.line=h.line=function(x,X,ge,ve,Ne){if(isNaN(x)||isNaN(X)||isNaN(ge)||isNaN(ve)||!ya(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return $===G?this.lines([[ge-x,ve-X]],x,X,[1,1],Ne||"S"):this.lines([[ge-x,ve-X]],x,X,[1,1]).stroke()},h.__private__.lines=h.lines=function(x,X,ge,ve,Ne,We){var Xe,ft,mt,St,Et,Ut,lr,Cr,Kt,Er,Pr,Wr;if(typeof x=="number"&&(Wr=ge,ge=X,X=x,x=Wr),ve=ve||[1,1],We=We||!1,isNaN(X)||isNaN(ge)||!Array.isArray(x)||!Array.isArray(ve)||!ya(Ne)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Mi(X,ge),Xe=ve[0],ft=ve[1],St=x.length,Er=X,Pr=ge,mt=0;mt<St;mt++)(Et=x[mt]).length===2?(Er=Et[0]*Xe+Er,Pr=Et[1]*ft+Pr,Qn(Er,Pr)):(Ut=Et[0]*Xe+Er,lr=Et[1]*ft+Pr,Cr=Et[2]*Xe+Er,Kt=Et[3]*ft+Pr,Er=Et[4]*Xe+Er,Pr=Et[5]*ft+Pr,pn(Ut,lr,Cr,Kt,Er,Pr));return We&&td(),Ei(Ne),this},h.path=function(x){for(var X=0;X<x.length;X++){var ge=x[X],ve=ge.c;switch(ge.op){case"m":Mi(ve[0],ve[1]);break;case"l":Qn(ve[0],ve[1]);break;case"c":pn.apply(this,ve);break;case"h":td()}}return this},h.__private__.rect=h.rect=function(x,X,ge,ve,Ne){if(isNaN(x)||isNaN(X)||isNaN(ge)||isNaN(ve)||!ya(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return $===G&&(ve=-ve),j([b(A(x)),b(p(X)),b(A(ge)),b(A(ve)),"re"].join(" ")),Ei(Ne),this},h.__private__.triangle=h.triangle=function(x,X,ge,ve,Ne,We,Xe){if(isNaN(x)||isNaN(X)||isNaN(ge)||isNaN(ve)||isNaN(Ne)||isNaN(We)||!ya(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-x,ve-X],[Ne-ge,We-ve],[x-Ne,X-We]],x,X,[1,1],Xe,!0),this},h.__private__.roundedRect=h.roundedRect=function(x,X,ge,ve,Ne,We,Xe){if(isNaN(x)||isNaN(X)||isNaN(ge)||isNaN(ve)||isNaN(Ne)||isNaN(We)||!ya(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*ge),We=Math.min(We,.5*ve),this.lines([[ge-2*Ne,0],[Ne*ft,0,Ne,We-We*ft,Ne,We],[0,ve-2*We],[0,We*ft,-Ne*ft,We,-Ne,We],[2*Ne-ge,0],[-Ne*ft,0,-Ne,-We*ft,-Ne,-We],[0,2*We-ve],[0,-We*ft,Ne*ft,-We,Ne,-We]],x+Ne,X,[1,1],Xe,!0),this},h.__private__.ellipse=h.ellipse=function(x,X,ge,ve,Ne){if(isNaN(x)||isNaN(X)||isNaN(ge)||isNaN(ve)||!ya(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*ge,Xe=4/3*(Math.SQRT2-1)*ve;return Mi(x+ge,X),pn(x+ge,X-Xe,x+We,X-ve,x,X-ve),pn(x-We,X-ve,x-ge,X-Xe,x-ge,X),pn(x-ge,X+Xe,x-We,X+ve,x,X+ve),pn(x+We,X+ve,x+ge,X+Xe,x+ge,X),Ei(Ne),this},h.__private__.circle=h.circle=function(x,X,ge,ve){if(isNaN(x)||isNaN(X)||isNaN(ge)||!ya(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,X,ge,ge,ve)},h.setFont=function(x,X,ge){return ge&&(X=L(X,ge)),me=Zl(x,X,{disableWarning:!1}),this};var qc=h.__private__.getFont=h.getFont=function(){return ze[Zl.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var x,X,ge={};for(x in Je)if(Je.hasOwnProperty(x))for(X in ge[x]=[],Je[x])Je[x].hasOwnProperty(X)&&ge[x].push(X);return ge},h.addFont=function(x,X,ge,ve,Ne){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(ge=L(ge,ve)),Gl.call(this,x,X,ge,Ne=Ne||"Identity-H")};var eo,Ti=t.lineWidth||.200025,Pt=h.__private__.getLineWidth=h.getLineWidth=function(){return Ti},Hc=h.__private__.setLineWidth=h.setLineWidth=function(x){return Ti=x,j(b(A(x))+" w"),this};h.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(x,X){if(x=x||[],X=X||0,isNaN(X)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ge){return b(A(ge))}).join(" "),X=b(A(X)),j("["+x+"] "+X+" d"),this};var Wc=h.__private__.getLineHeight=h.getLineHeight=function(){return be*eo};h.__private__.getLineHeight=h.getLineHeight=function(){return be*eo};var Vc=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(eo=x),this},Gc=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return eo};Vc(t.lineHeight);var ja=h.__private__.getHorizontalCoordinate=function(x){return A(x)},Ua=h.__private__.getVerticalCoordinate=function(x){return $===z?x:Ct[O].mediaBox.topRightY-Ct[O].mediaBox.bottomLeftY-A(x)},Kc=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(x){return b(ja(x))},Yc=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(x){return b(Ua(x))},Do=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return va(Do)},h.__private__.setStrokeColor=h.setDrawColor=function(x,X,ge,ve){return Do=ea({ch1:x,ch2:X,ch3:ge,ch4:ve,pdfColorType:"draw",precision:2}),j(Do),this};var Di=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return va(Di)},h.__private__.setFillColor=h.setFillColor=function(x,X,ge,ve){return Di=ea({ch1:x,ch2:X,ch3:ge,ch4:ve,pdfColorType:"fill",precision:2}),j(Di),this};var to=t.textColor||"0 g",Io=h.__private__.getTextColor=h.getTextColor=function(){return va(to)};h.__private__.setTextColor=h.setTextColor=function(x,X,ge,ve){return to=ea({ch1:x,ch2:X,ch3:ge,ch4:ve,pdfColorType:"text",precision:3}),this};var Ro=t.charSpace,Jc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ro||0)};h.__private__.setCharSpace=h.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ro=x,this};var Ii=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(x){var X=h.CapJoinStyles[x];if(X===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ii=X,j(X+" J"),this};var Ri=0;h.__private__.setLineJoin=h.setLineJoin=function(x){var X=h.CapJoinStyles[x];if(X===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ri=X,j(X+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return j(b(A(x))+" M"),this},h.GState=hc,h.setGState=function(x){(x=typeof x=="string"?kt[ir[x]]:ro(null,x)).equals($r)||(j("/"+x.id+" gs"),$r=x)};var ro=function(x,X){if(!x||!ir[x]){var ge=!1;for(var ve in kt)if(kt.hasOwnProperty(ve)&&kt[ve].equals(X)){ge=!0;break}if(ge)X=kt[ve];else{var Ne="GS"+(Object.keys(kt).length+1).toString(10);kt[Ne]=X,X.id=Ne}return x&&(ir[x]=X.id),Bt.publish("addGState",X),X}};h.addGState=function(x,X){return ro(x,X),this},h.saveGraphicsState=function(){return j("q"),lt.push({key:me,size:be,color:to}),this},h.restoreGraphicsState=function(){j("Q");var x=lt.pop();return me=x.key,be=x.size,to=x.color,$r=null,this},h.setCurrentTransformationMatrix=function(x){return j(x.toString()+" cm"),this},h.comment=function(x){return j("#"+x),this};var so=function(x,X){var ge=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(We){isNaN(We)||(ge=parseFloat(We))}});var ve=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(We){isNaN(We)||(ve=parseFloat(We))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(We){Ne=We.toString()}}),this},Oi=function(x,X,ge,ve){so.call(this,x,X),this.type="rect";var Ne=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(Xe){isNaN(Xe)||(Ne=parseFloat(Xe))}});var We=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(Xe){isNaN(Xe)||(We=parseFloat(Xe))}}),this},Oo=function(){this.page=Yt,this.currentPage=O,this.pages=$e.slice(0),this.pagesContext=Ct.slice(0),this.x=Se,this.y=Fe,this.matrix=He,this.width=ji(O),this.height=xs(O),this.outputDestination=ie,this.id="",this.objectNumber=-1};Oo.prototype.restore=function(){Yt=this.page,O=this.currentPage,Ct=this.pagesContext,$e=this.pages,Se=this.x,Fe=this.y,He=this.matrix,Ui(O,this.width),xa(O,this.height),ie=this.outputDestination};var Fi=function(x,X,ge,ve,Ne){ma.push(new Oo),Yt=O=0,$e=[],Se=x,Fe=X,He=Ne,Ni([ge,ve])};for(var ao in h.beginFormObject=function(x,X,ge,ve,Ne){return Fi(x,X,ge,ve,Ne),this},h.endFormObject=function(x){return(function(X){if(Ia[X])ma.pop().restore();else{var ge=new Oo,ve="Xo"+(Object.keys(Xr).length+1).toString(10);ge.id=ve,Ia[X]=ve,Xr[ve]=ge,Bt.publish("addFormObject",ge),ma.pop().restore()}})(x),this},h.doFormObject=function(x,X){var ge=Xr[Ia[x]];return j("q"),j(X.toString()+" cm"),j("/"+ge.id+" Do"),j("Q"),this},h.getFormObject=function(x){var X=Xr[Ia[x]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},h.save=function(x,X){return x=x||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(mo(Zn(Fa()),x),typeof mo.unload=="function"&&At.setTimeout&&setTimeout(mo.unload,911),this):new Promise(function(ge,ve){try{var Ne=mo(Zn(Fa()),x);typeof mo.unload=="function"&&At.setTimeout&&setTimeout(mo.unload,911),ge(Ne)}catch(We){ve(We.message)}})},vt.API)vt.API.hasOwnProperty(ao)&&(ao==="events"&&vt.API.events.length?(function(x,X){var ge,ve,Ne;for(Ne=X.length-1;Ne!==-1;Ne--)ge=X[Ne][0],ve=X[Ne][1],x.subscribe.apply(x,[ge].concat(typeof ve=="function"?[ve]:ve))})(Bt,vt.API.events):h[ao]=vt.API[ao]);var ji=h.getPageWidth=function(x){return(Ct[x=x||O].mediaBox.topRightX-Ct[x].mediaBox.bottomLeftX)/ke},Ui=h.setPageWidth=function(x,X){Ct[x].mediaBox.topRightX=X*ke+Ct[x].mediaBox.bottomLeftX},xs=h.getPageHeight=function(x){return(Ct[x=x||O].mediaBox.topRightY-Ct[x].mediaBox.bottomLeftY)/ke},xa=h.setPageHeight=function(x,X){Ct[x].mediaBox.topRightY=X*ke+Ct[x].mediaBox.bottomLeftY};return h.internal={pdfEscape:js,getStyle:ed,getFont:qc,getFontSize:Ce,getCharSpace:Jc,getTextColor:Io,getLineHeight:Wc,getLineHeightFactor:Gc,getLineWidth:Pt,write:le,getHorizontalCoordinate:ja,getVerticalCoordinate:Ua,getCoordinateString:Kc,getVerticalCoordinateString:Yc,collections:{},newObject:dr,newAdditionalObject:Kn,newObjectDeferred:Rr,newObjectDeferredBegin:Hr,getFilters:ta,putStream:Fs,events:Bt,scaleFactor:ke,pageSize:{getWidth:function(){return ji(O)},setWidth:function(x){Ui(O,x)},getHeight:function(){return xs(O)},setHeight:function(x){xa(O,x)}},encryptionOptions:u,encryption:gr,getEncryptor:function(x){return u!==null?gr.encryptor(x,0):function(X){return X}},output:ra,getNumberOfPages:Jl,pages:$e,out:j,f2:S,f3:N,getPageInfo:$i,getPageInfoByObjId:Oc,getCurrentPageInfo:Fc,getPDFVersion:E,Point:so,Rectangle:Oi,Matrix:wt,hasHotfix:Xn},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ji(O)},set:function(x){Ui(O,x)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return xs(O)},set:function(x){xa(O,x)},enumerable:!0,configurable:!0}),(function(x){for(var X=0,ge=_e.length;X<ge;X++){var ve=Gl.call(this,x[X][0],x[X][1],x[X][2],_e[X][3],!0);m===!1&&(y[ve]=!0);var Ne=x[X][0].split("-");Vl({id:ve,fontName:Ne[0],fontStyle:Ne[1]||""})}Bt.publish("addFonts",{fonts:ze,dictionary:Je})}).call(h,_e),me="F1",Kl(n,r),Bt.publish("initialized"),h}ei.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ei.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ei.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ei.prototype.processOwnerPassword=function(t,e){return L0(N0(e).substr(0,5),t)},ei.prototype.encryptor=function(t,e){var r=N0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return L0(r,s)}},hc.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Gt(t)!==Gt(this))return!1;var s=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;s++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&s--;return s===0},vt.API={events:[]},vt.version="3.0.2";var fr=vt.API,gf=1,Lo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nt=function(t){return t.toFixed(2)},$n=function(t){return t.toFixed(5)};fr.__acroform__={};var ys=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},hp=function(t){return t*gf},Na=function(t){var e=new kv,r=ut.internal.getHeight(t)||0,s=ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Nt(s)),Number(Nt(r))],e},LS=fr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},$S=fr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},ES=fr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},xr=fr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ES(t,e-1)},kr=fr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LS(t,e-1)},wr=fr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $S(t,e-1)},MS=fr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,n=t[0],o=t[1],i=t[2],l=t[3],d={};return d.lowerLeft_X=r(n)||0,d.lowerLeft_Y=s(o+l)||0,d.upperRight_X=r(n+i)||0,d.upperRight_Y=s(o)||0,[Number(Nt(d.lowerLeft_X)),Number(Nt(d.lowerLeft_Y)),Number(Nt(d.upperRight_X)),Number(Nt(d.upperRight_Y))]},TS=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,s=$0(t,r),n=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+n+" "+Nt(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Na(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},$0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},n=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");n=t.multiline?n.map(function(S){return S.split(`
`)}):n.map(function(S){return[S]});var o=r,i=ut.internal.getHeight(t)||0;i=i<0?-i:i;var l=ut.internal.getWidth(t)||0;l=l<0?-l:l;var d=function(S,N,A){if(S+1<n.length){var p=N+" "+n[S+1][0];return Td(p,t,A).width<=l-4}return!1};o++;e:for(;o>0;){e="",o--;var c,u,m=Td("3",t,o).height,y=t.multiline?i-o:(i-m)/2,h=y+=2,w=0,E=0,R=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Td(e,t,o=12).width+", FieldWidth:"+l+`
`;break}for(var T="",G=0,z=0;z<n.length;z++)if(n.hasOwnProperty(z)){var $=!1;if(n[z].length!==1&&R!==n[z].length-1){if((m+2)*(G+2)+2>i)continue e;T+=n[z][R],$=!0,E=z,z--}else{T=(T+=n[z][R]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var I=parseInt(z),K=d(I,T,o),L=z>=n.length-1;if(K&&!L){T+=" ",R=0;continue}if(K||L){if(L)E=I;else if(t.multiline&&(m+2)*(G+2)+2>i)continue e}else{if(!t.multiline||(m+2)*(G+2)+2>i)continue e;E=I}}for(var b="",v=w;v<=E;v++){var C=n[v];if(t.multiline){if(v===E){b+=C[R]+" ",R=(R+1)%C.length;continue}if(v===w){b+=C[C.length-1]+" ";continue}}b+=C[0]+" "}switch(b=b.substr(b.length-1)==" "?b.substr(0,b.length-1):b,u=Td(b,t,o).width,t.textAlign){case"right":c=l-u-2;break;case"center":c=(l-u)/2;break;default:c=2}e+=Nt(c)+" "+Nt(h)+` Td
`,e+="("+Lo(b)+`) Tj
`,e+=-Nt(c)+` 0 Td
`,h=-(o+2),u=0,w=$?E:E+1,G++,T=""}break}return s.text=e,s.fontSize=o,s},Td=function(t,e,r){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),n=e.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},DS={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},IS=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},RS=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ga.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(DS)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gf=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new wv,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in s)if(s.hasOwnProperty(n)){var o=s[n];o.objId=void 0,o.hasAnnotation&&IS(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(s,n){var o=!s;for(var i in s||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(i)){var l=s[i],d=[],c=l.Rect;if(l.Rect&&(l.Rect=MS(l.Rect,n)),n.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ut.createDefaultAppearanceStream(l),Gt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(d=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=TS(l);d.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var m="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var h=l.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var i in h)if(h.hasOwnProperty(i)){var w=h[i];typeof w=="function"&&(w=w.call(n,l)),m+="/"+i+" "+w+" ",n.internal.acroformPlugin.xForms.indexOf(w)>=0||n.internal.acroformPlugin.xForms.push(w)}}else typeof(w=h)=="function"&&(w=w.call(n,l)),m+="/"+i+" "+w,n.internal.acroformPlugin.xForms.indexOf(w)>=0||n.internal.acroformPlugin.xForms.push(w);m+=">>"}d.push({key:"AP",value:`<<
`+m+">>"})}n.internal.putStream({additionalKeyValues:d,objectId:l.objId}),n.internal.out("endobj")}o&&(function(E,R){for(var T in E)if(E.hasOwnProperty(T)){var G=T,z=E[T];R.internal.newObjectDeferredBegin(z.objId,!0),Gt(z)==="object"&&typeof z.putStream=="function"&&z.putStream(),delete E[G]}})(n.internal.acroformPlugin.xForms,n)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},xv=fr.__acroform__.arrayToPdfArray=function(t,e,r){var s=function(i){return i};if(Array.isArray(t)){for(var n="[",o=0;o<t.length;o++)switch(o!==0&&(n+=" "),Gt(t[o])){case"boolean":case"number":case"object":n+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(s=r.internal.getEncryptor(e)),n+="("+Lo(s(t[o].toString()))+")"):n+=t[o].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vu=function(t,e,r){var s=function(n){return n};return e!==void 0&&r&&(s=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Lo(s(t))+")"},Ea=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ea.prototype.toString=function(){return this.objId+" 0 R"},Ea.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ea.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var s=e[r],n=this[s];n&&(Array.isArray(n)?t.push({key:s,value:xv(n,this.objId,this.scope)}):n instanceof Ea?(n.scope=this.scope,t.push({key:s,value:n.objId+" 0 R"})):typeof n!="function"&&t.push({key:s,value:n}))}return t};var kv=function(){Ea.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ys(kv,Ea);var wv=function(){Ea.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Lo(r(t))+")"}},set:function(r){t=r}})};ys(wv,Ea);var ga=function t(){Ea.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xr(e,3)},set:function(T){T?this.F=kr(e,3):this.F=wr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');r=T}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(T){s=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(T){s[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(T){s[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(T){s[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(T){s[3]=T}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof gc)return;o="FieldObject"+t.FieldNum++}var T=function(G){return G};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Lo(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(T){i=T}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(T){l=T}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(T){d=T}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/gf:c},set:function(T){c=T}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(T){u=T}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof gc||this instanceof wo))return Vu(m,this.objId,this.scope)},set:function(T){T=T.toString(),m=T}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof jr==0?Vu(y,this.objId,this.scope):y},set:function(T){T=T.toString(),y=this instanceof jr==0?T.substr(0,1)==="("?Jo(T.substr(1,T.length-2)):Jo(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?Jo(y.substr(1,y.length-1)):y},set:function(T){T=T.toString(),y=this instanceof jr==1?"/"+T:T}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof jr==0?Vu(h,this.objId,this.scope):h},set:function(T){T=T.toString(),h=this instanceof jr==0?T.substr(0,1)==="("?Jo(T.substr(1,T.length-2)):Jo(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?Jo(h.substr(1,h.length-1)):h},set:function(T){T=T.toString(),h=this instanceof jr==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(T){T=!!T,E=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(T){w=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,1)},set:function(T){T?this.Ff=kr(this.Ff,1):this.Ff=wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,2)},set:function(T){T?this.Ff=kr(this.Ff,2):this.Ff=wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,3)},set:function(T){T?this.Ff=kr(this.Ff,3):this.Ff=wr(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');R=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(R){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:R=2;break;case"center":case 1:R=1;break;default:R=0}}})};ys(ga,Ea);var di=function(){ga.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xv(e,this.objId,this.scope)},set:function(r){var s,n;n=[],typeof(s=r)=="string"&&(n=(function(o,i,l){l||(l=1);for(var d,c=[];d=i.exec(o);)c.push(d[l]);return c})(s,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,18)},set:function(r){r?this.Ff=kr(this.Ff,18):this.Ff=wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=kr(this.Ff,19):this.Ff=wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,20)},set:function(r){r?(this.Ff=kr(this.Ff,20),e.sort()):this.Ff=wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,22)},set:function(r){r?this.Ff=kr(this.Ff,22):this.Ff=wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,23)},set:function(r){r?this.Ff=kr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,27)},set:function(r){r?this.Ff=kr(this.Ff,27):this.Ff=wr(this.Ff,27)}}),this.hasAppearanceStream=!1};ys(di,ga);var ci=function(){di.call(this),this.fontName="helvetica",this.combo=!1};ys(ci,di);var ui=function(){ci.call(this),this.combo=!0};ys(ui,ci);var Gd=function(){ui.call(this),this.edit=!0};ys(Gd,ui);var jr=function(){ga.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,15)},set:function(r){r?this.Ff=kr(this.Ff,15):this.Ff=wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,16)},set:function(r){r?this.Ff=kr(this.Ff,16):this.Ff=wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,17)},set:function(r){r?this.Ff=kr(this.Ff,17):this.Ff=wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,26)},set:function(r){r?this.Ff=kr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,n=[];for(s in n.push("<<"),e)n.push("/"+s+" ("+Lo(r(e[s]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Gt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ys(jr,ga);var Kd=function(){jr.call(this),this.pushButton=!0};ys(Kd,jr);var fi=function(){jr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ys(fi,jr);var gc=function(){var t,e;ga.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(n){e=n}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var o,i=[];for(o in i.push("<<"),s)i.push("/"+o+" ("+Lo(n(s[o]))+")");return i.push(">>"),i.join(`
`)},set:function(n){Gt(n)==="object"&&(s=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(n){typeof n=="string"&&(s.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ys(gc,ga),fi.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},fi.prototype.createOption=function(t){var e=new gc;return e.Parent=this,e.optionName=t,this.Kids.push(e),OS.call(this.scope,e),e};var Yd=function(){jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};ys(Yd,jr);var wo=function(){ga.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,13)},set:function(e){e?this.Ff=kr(this.Ff,13):this.Ff=wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,21)},set:function(e){e?this.Ff=kr(this.Ff,21):this.Ff=wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,23)},set:function(e){e?this.Ff=kr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,24)},set:function(e){e?this.Ff=kr(this.Ff,24):this.Ff=wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,25)},set:function(e){e?this.Ff=kr(this.Ff,25):this.Ff=wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,26)},set:function(e){e?this.Ff=kr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ys(wo,ga);var Jd=function(){wo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,14)},set:function(t){t?this.Ff=kr(this.Ff,14):this.Ff=wr(this.Ff,14)}}),this.password=!0};ys(Jd,wo);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Na(t);e.scope=t.scope;var r=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),o=$0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Nt(ut.internal.getWidth(t))+" "+Nt(ut.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+Nt(o.fontSize)+" Tf "+n),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Na(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),n=[],o=ut.internal.getHeight(t),i=ut.internal.getWidth(t),l=$0(t,t.caption);return n.push("1 g"),n.push("0 0 "+Nt(i)+" "+Nt(o)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Nt(i-1)+" "+Nt(o-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+Nt(l.fontSize)+" Tf "+s),n.push(l.text),n.push("ET"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Na(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(ut.internal.getWidth(t))+" "+Nt(ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Circle.YesNormal,e.D[t]=ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Na(t);e.scope=t.scope;var r=[],s=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var n=ut.internal.Bezier_C,o=Number((s*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$n(ut.internal.getWidth(t)/2)+" "+$n(ut.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Na(t);e.scope=t.scope;var r=[],s=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),o=Number((n*ut.internal.Bezier_C).toFixed(5)),i=Number((s*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$n(ut.internal.getWidth(t)/2)+" "+$n(ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$n(ut.internal.getWidth(t)/2)+" "+$n(ut.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Na(t);e.scope=t.scope;var r=[],s=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),o=Number((n*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$n(ut.internal.getWidth(t)/2)+" "+$n(ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Cross.YesNormal,e.D[t]=ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Na(t);e.scope=t.scope;var r=[],s=ut.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Nt(ut.internal.getWidth(t)-2)+" "+Nt(ut.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Nt(s.x1.x)+" "+Nt(s.x1.y)+" m"),r.push(Nt(s.x2.x)+" "+Nt(s.x2.y)+" l"),r.push(Nt(s.x4.x)+" "+Nt(s.x4.y)+" m"),r.push(Nt(s.x3.x)+" "+Nt(s.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Na(t);e.scope=t.scope;var r=ut.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+Nt(ut.internal.getWidth(t))+" "+Nt(ut.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Nt(ut.internal.getWidth(t)-2)+" "+Nt(ut.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(Nt(r.x1.x)+" "+Nt(r.x1.y)+" m"),s.push(Nt(r.x2.x)+" "+Nt(r.x2.y)+" l"),s.push(Nt(r.x4.x)+" "+Nt(r.x4.y)+" m"),s.push(Nt(r.x3.x)+" "+Nt(r.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Na(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(ut.internal.getWidth(t))+" "+Nt(ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ut.internal.getWidth(t),r=ut.internal.getHeight(t),s=Math.min(e,r);return{x1:{x:(e-s)/2,y:(r-s)/2+s},x2:{x:(e-s)/2+s,y:(r-s)/2},x3:{x:(e-s)/2,y:(r-s)/2},x4:{x:(e-s)/2+s,y:(r-s)/2+s}}}},ut.internal.getWidth=function(t){var e=0;return Gt(t)==="object"&&(e=hp(t.Rect[2])),e},ut.internal.getHeight=function(t){var e=0;return Gt(t)==="object"&&(e=hp(t.Rect[3])),e};var OS=fr.addField=function(t){if(RS(this,t),!(t instanceof ga))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};fr.AcroFormChoiceField=di,fr.AcroFormListBox=ci,fr.AcroFormComboBox=ui,fr.AcroFormEditBox=Gd,fr.AcroFormButton=jr,fr.AcroFormPushButton=Kd,fr.AcroFormRadioButton=fi,fr.AcroFormCheckBox=Yd,fr.AcroFormTextField=wo,fr.AcroFormPasswordField=Jd,fr.AcroFormAppearance=ut,fr.AcroForm={ChoiceField:di,ListBox:ci,ComboBox:ui,EditBox:Gd,Button:jr,PushButton:Kd,RadioButton:fi,CheckBox:Yd,TextField:wo,PasswordField:Jd,Appearance:ut},vt.AcroForm={ChoiceField:di,ListBox:ci,ComboBox:ui,EditBox:Gd,Button:jr,PushButton:Kd,RadioButton:fi,CheckBox:Yd,TextField:wo,PasswordField:Jd,Appearance:ut};vt.AcroForm;function _v(t){return t.reduce(function(e,r,s){return e[r]=s,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(S,N){var A,p,P,Q,H,q=r;if((N=N||r)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(K(S))for(H in s)for(P=s[H],A=0;A<P.length;A+=1){for(Q=!0,p=0;p<P[A].length;p+=1)if(P[A][p]!==void 0&&P[A][p]!==S[p]){Q=!1;break}if(Q===!0){q=H;break}}else for(H in s)for(P=s[H],A=0;A<P.length;A+=1){for(Q=!0,p=0;p<P[A].length;p+=1)if(P[A][p]!==void 0&&P[A][p]!==S.charCodeAt(p)){Q=!1;break}if(Q===!0){q=H;break}}return q===r&&N!==r&&(q=N),q},o=function S(N){for(var A=this.internal.write,p=this.internal.putStream,P=(0,this.internal.getFilters)();P.indexOf("FlateEncode")!==-1;)P.splice(P.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:N.width}),Q.push({key:"Height",value:N.height}),N.colorSpace===T.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===T.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var H="",q=0,M=N.transparency.length;q<M;q++)H+=N.transparency[q]+" "+N.transparency[q]+" ";Q.push({key:"Mask",value:"["+H+"]"})}N.sMask!==void 0&&Q.push({key:"SMask",value:N.objectId+1+" 0 R"});var ae=N.filter!==void 0?["/"+N.filter]:void 0;if(p({data:N.data,additionalKeyValues:Q,alreadyAppliedFilters:ae,objectId:N.objectId}),A("endobj"),"sMask"in N&&N.sMask!==void 0){var ee=(N.predictor!=null?"/Predictor "+N.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+N.width,k={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:ee,data:N.sMask};"filter"in N&&(k.filter=N.filter),S.call(this,k)}if(N.colorSpace===T.INDEXED){var O=this.internal.newObject();p({data:b(new Uint8Array(N.palette)),objectId:O}),A("endobj")}},i=function(){var S=this.internal.collections[e+"images"];for(var N in S)o.call(this,S[N])},l=function(){var S,N=this.internal.collections[e+"images"],A=this.internal.write;for(var p in N)A("/I"+(S=N[p]).index,S.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},c=function(){var S=this.internal.collections[e+"images"];return d.call(this),S},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(S){return typeof t["process"+S.toUpperCase()]=="function"},y=function(S){return Gt(S)==="object"&&S.nodeType===1},h=function(S,N){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var A=""+S.getAttribute("src");if(A.indexOf("data:image/")===0)return Vd(unescape(A).split("base64,").pop());var p=t.loadFile(A,!0);if(p!==void 0)return p}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var P;switch(N){case"PNG":P="image/png";break;case"WEBP":P="image/webp";break;default:P="image/jpeg"}return Vd(S.toDataURL(P,1).split("base64,").pop())}},w=function(S){var N=this.internal.collections[e+"images"];if(N){for(var A in N)if(S===N[A].alias)return N[A]}},E=function(S,N,A){return S||N||(S=-96,N=-96),S<0&&(S=-1*A.width*72/S/this.internal.scaleFactor),N<0&&(N=-1*A.height*72/N/this.internal.scaleFactor),S===0&&(S=N*A.width/A.height),N===0&&(N=S*A.height/A.width),[S,N]},R=function(S,N,A,p,P,Q){var H=E.call(this,A,p,P),q=this.internal.getCoordinateString,M=this.internal.getVerticalCoordinateString,ae=c.call(this);if(A=H[0],p=H[1],ae[P.index]=P,Q){Q*=Math.PI/180;var ee=Math.cos(Q),k=Math.sin(Q),O=function(B){return B.toFixed(4)},U=[O(ee),O(k),O(-1*k),O(ee),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,q(S),M(N+p),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([q(A),"0","0",q(p),"0","0","cm"].join(" "))):this.internal.write([q(A),"0","0",q(p),q(S),M(N+p),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+P.index+" Do"),this.internal.write("Q")},T=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var G=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},z=t.__addimage__.sHashCode=function(S){var N,A,p=0;if(typeof S=="string")for(A=S.length,N=0;N<A;N++)p=(p<<5)-p+S.charCodeAt(N),p|=0;else if(K(S))for(A=S.byteLength/2,N=0;N<A;N++)p=(p<<5)-p+S[N],p|=0;return p},$=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var N=!0;return S.length===0&&(N=!1),S.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(N=!1),N},I=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var N=S.indexOf(",");return N<0?null:S.substring(0,N).trim().endsWith("base64")?S.substring(N+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},L=t.__addimage__.binaryStringToUint8Array=function(S){for(var N=S.length,A=new Uint8Array(N),p=0;p<N;p++)A[p]=S.charCodeAt(p);return A},b=t.__addimage__.arrayBufferToBinaryString=function(S){for(var N="",A=K(S)?S:new Uint8Array(S),p=0;p<A.length;p+=8192)N+=String.fromCharCode.apply(null,A.subarray(p,p+8192));return N};t.addImage=function(){var S,N,A,p,P,Q,H,q,M;if(typeof arguments[1]=="number"?(N=r,A=arguments[1],p=arguments[2],P=arguments[3],Q=arguments[4],H=arguments[5],q=arguments[6],M=arguments[7]):(N=arguments[1],A=arguments[2],p=arguments[3],P=arguments[4],Q=arguments[5],H=arguments[6],q=arguments[7],M=arguments[8]),Gt(S=arguments[0])==="object"&&!y(S)&&"imageData"in S){var ae=S;S=ae.imageData,N=ae.format||N||r,A=ae.x||A||0,p=ae.y||p||0,P=ae.w||ae.width||P,Q=ae.h||ae.height||Q,H=ae.alias||H,q=ae.compression||q,M=ae.rotation||ae.angle||M}var ee=this.internal.getFilters();if(q===void 0&&ee.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(A)||isNaN(p))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var k=v.call(this,S,N,H,q);return R.call(this,A,p,P,Q,k,M),this};var v=function(S,N,A,p){var P,Q,H;if(typeof S=="string"&&n(S)===r){S=unescape(S);var q=C(S,!1);(q!==""||(q=t.loadFile(S,!0))!==void 0)&&(S=q)}if(y(S)&&(S=h(S,N)),N=n(S,N),!m(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((H=A)==null||H.length===0)&&(A=(function(M){return typeof M=="string"||K(M)?z(M):K(M.data)?z(M.data):null})(S)),(P=w.call(this,A))||(S instanceof Uint8Array||N==="RGBA"||(Q=S,S=L(S)),P=this["process"+N.toUpperCase()](S,u.call(this),A,(function(M){return M&&typeof M=="string"&&(M=M.toUpperCase()),M in t.image_compression?M:G.NONE})(p),Q)),!P)throw new Error("An unknown error occurred whilst processing the image.");return P},C=t.__addimage__.convertBase64ToBinaryString=function(S,N){N=typeof N!="boolean"||N;var A,p="";if(typeof S=="string"){var P;A=(P=I(S))!==null&&P!==void 0?P:S;try{p=Vd(A)}catch(Q){if(N)throw $(A)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return p};t.getImageProperties=function(S){var N,A,p="";if(y(S)&&(S=h(S)),typeof S=="string"&&n(S)===r&&((p=C(S,!1))===""&&(p=t.loadFile(S)||""),S=p),A=n(S),!m(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(S instanceof Uint8Array||(S=L(S)),!(N=this["process"+A.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=A,N}})(vt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var s,n,o,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,m=0;m<c.length&&!u;m++)switch((s=c[m]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var y=0;y<c.length;y++){s=c[y];var h=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(E.objId),G=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(n="/Rect ["+i(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+i(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+h(T(s.contents))+")",o+=" /Popup "+R.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+h(T(G))+") >>",E.content=o;var z=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+i(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+i(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+z,s.open&&(o+=" /Open true"),o+=" >>",R.content=o,this.internal.write(E.objId,"0 R",R.objId,"0 R");break;case"freetext":n="/Rect ["+i(s.bounds.x)+" "+l(s.bounds.y)+" "+i(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var $=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(w(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var I=this.annotations._nameMap[s.options.name];s.options.pageNumber=I.page,s.options.top=I.y}else s.options.top||(s.options.top=0);if(n="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(w(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var K=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+K+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},t.link=function(r,s,n,o,i){var l=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:d(r),y:c(s),w:d(r+n),h:c(s+o)},options:i,type:"link"})},t.textWithLink=function(r,s,n,o){var i,l,d=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var u=this.splitTextToSize(r,l).length;i=Math.ceil(c*u)}else l=d,i=c;return this.text(r,s,n,o),n+=.2*c,o.align==="center"&&(s-=d/2),o.align==="right"&&(s-=d),this.link(s,n-c,l,i,o),d},t.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}})(vt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},i=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},l=t.__arabicParser__.isArabicEndLetter=function(E){return i(E)&&o(E)&&e[E.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(E){return i(E)&&n.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return i(E)&&o(E)&&e[E.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return i(E)&&o(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return i(E)&&o(E)&&e[E.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return i(E)&&o(E)&&e[E.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(E){var R=0,T=r,G="",z=0;for(R=0;R<E.length;R+=1)T[E.charCodeAt(R)]!==void 0?(z++,typeof(T=T[E.charCodeAt(R)])=="number"&&(G+=String.fromCharCode(T),T=r,z=0),R===E.length-1&&(T=r,G+=E.charAt(R-(z-1)),R-=z-1,z=0)):(T=r,G+=E.charAt(R-z),R-=z,z=0);return G};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&s[E.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(E,R,T){return i(E)?o(E)===!1?-1:!c(E)||!i(R)&&!i(T)||!i(T)&&l(R)||l(E)&&!i(R)||l(E)&&d(R)||l(E)&&l(R)?0:u(E)&&i(R)&&!l(R)&&i(T)&&c(T)?3:l(E)||!i(T)?1:2:-1},h=function(E){var R=0,T=0,G=0,z="",$="",I="",K=(E=E||"").split("\\s+"),L=[];for(R=0;R<K.length;R+=1){for(L.push(""),T=0;T<K[R].length;T+=1)z=K[R][T],$=K[R][T-1],I=K[R][T+1],i(z)?(G=y(z,$,I),L[R]+=G!==-1?String.fromCharCode(e[z.charCodeAt(0)][G]):z):L[R]+=z;L[R]=m(L[R])}return L.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var E,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(R)){var G=0;for(T=[],G=0;G<R.length;G+=1)Array.isArray(R[G])?T.push([h(R[G][0]),R[G][1],R[G][2]]):T.push([h(R[G])]);E=T}else E=h(R);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",w])})(vt.API),vt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,s){var n;if((r=r||"2d")!=="2d")return null;for(n in s)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=s[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(vt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(E){c=E}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(E){w=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return s.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,c){s.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),m=c.font||this.getFont(),y=c.scaleFactor||this.internal.scaleFactor,h=0,w=0,E=0,R=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var T=c.maxWidth;T>0?typeof d=="string"?d=this.splitTextToSize(d,T):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(z,$){return z.concat(R.splitTextToSize($,T))},[])):d=Array.isArray(d)?d:[d];for(var G=0;G<d.length;G++)h<(E=this.getStringUnitWidth(d[G],{font:m})*u)&&(h=E);return h!==0&&(w=d.length),{w:h/=y,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=t.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===d.lineNumber?(d.x=(c.x||0)+(c.width||0),d.y=c.y||0):c.y+c.height+d.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=m.top,h&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=c.y+c.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-u,d.y+u,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+u,{align:"center",baseline:"top",maxWidth:d.width-u-u}):this.text(d.text,d.x+u,d.y+u,{align:"left",baseline:"top",maxWidth:d.width-u-u})),this.internal.__cell__.lastCell=d,this};t.table=function(d,c,u,m,y){if(s.call(this),!u)throw new Error("No data for PDF table.");var h,w,E,R,T=[],G=[],z=[],$={},I={},K=[],L=[],b=(y=y||{}).autoSize||!1,v=y.printHeaders!==!1,C=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,S=y.margins||Object.assign({width:this.getPageWidth()},e),N=typeof y.padding=="number"?y.padding:3,A=y.headerBackgroundColor||"#c8c8c8",p=y.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=v,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=p,this.setFontSize(C),m==null)G=T=Object.keys(u[0]),z=T.map(function(){return"left"});else if(Array.isArray(m)&&Gt(m[0])==="object")for(T=m.map(function(ae){return ae.name}),G=m.map(function(ae){return ae.prompt||ae.name||""}),z=m.map(function(ae){return ae.align||"left"}),h=0;h<m.length;h+=1)I[m[h].name]=.7499990551181103*m[h].width;else Array.isArray(m)&&typeof m[0]=="string"&&(G=T=m,z=T.map(function(){return"left"}));if(b||Array.isArray(m)&&typeof m[0]=="string")for(h=0;h<T.length;h+=1){for($[R=T[h]]=u.map(function(ae){return ae[R]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(G[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=$[R],this.setFont(void 0,"normal"),E=0;E<w.length;E+=1)K.push(this.getTextDimensions(w[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[R]=Math.max.apply(null,K)+N+N,K=[]}if(v){var P={};for(h=0;h<T.length;h+=1)P[T[h]]={},P[T[h]].text=G[h],P[T[h]].align=z[h];var Q=l.call(this,P,I);L=T.map(function(ae){return new o(d,c,I[ae],Q,P[ae].text,void 0,P[ae].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var H=m.reduce(function(ae,ee){return ae[ee.name]=ee.align,ae},{});for(h=0;h<u.length;h+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:h,data:u[h]},this);var q=l.call(this,u[h],I);for(E=0;E<T.length;E+=1){var M=u[h][T[E]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:h,col:E,data:M},this),i.call(this,new o(d,c,I[T[E]],q,M,h+2,H[T[E]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=c,this};var l=function(d,c){var u=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map(function(h){var w=d[h];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*m/y+u+u},this).reduce(function(h,w){return Math.max(h,w)},0)};t.setTableHeaderRow=function(d){s.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,c){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,y.push(u)),u.lineNumber=d;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,u),this.setTextColor(w)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(vt.API);var Sv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Av=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],E0=_v(Av),Cv=[100,200,300,400,500,600,700,800,900],FS=_v(Cv);function Gu(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return Sv[o=o||"normal"]?o:"normal"})(t.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),n=(function(o){return typeof E0[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:r,weight:s,stretch:n,src:t.src||[],ref:t.ref||{name:e,style:[n,r,s].join(" ")}}}function gp(t,e,r,s){var n;for(n=r;n>=0&&n<e.length;n+=s)if(t[e[n]])return t[e[n]];for(n=r;n>=0&&n<e.length;n-=s)if(t[e[n]])return t[e[n]]}var jS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pp={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mp(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function vp(t){return t.trimLeft()}function US(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function BS(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Dd,bp,yp,Zo,Id,xp,kp,wp,Ku=["times"];function _p(t,e,r,s){var n=4,o=Ap;switch(s){case vt.API.image_compression.FAST:n=1,o=Sp;break;case vt.API.image_compression.MEDIUM:n=6,o=Cp;break;case vt.API.image_compression.SLOW:n=9,o=Pp}t=(function(l,d,c,u){for(var m,y=l.length/d,h=new Uint8Array(l.length+y),w=[zS,Sp,Ap,Cp,Pp],E=0;E<y;E+=1){var R=E*d,T=l.subarray(R,R+d);if(u)h.set(u(T,c,m),R+E);else{for(var G=w.length,z=[],$=0;$<G;$+=1)z[$]=w[$](T,c,m);var I=HS(z.concat());h.set(z[I],R+E)}m=T}return h})(t,e,r,o);var i=S0(t,{level:n});return vt.API.__addimage__.arrayBufferToBinaryString(i)}function zS(t){var e=Array.apply([],t);return e.unshift(0),e}function Sp(t,e){var r=t.length,s=[];s[0]=1;for(var n=0;n<r;n+=1){var o=t[n-e]||0;s[n+1]=t[n]-o+256&255}return s}function Ap(t,e,r){var s=t.length,n=[];n[0]=2;for(var o=0;o<s;o+=1){var i=r&&r[o]||0;n[o+1]=t[o]-i+256&255}return n}function Cp(t,e,r){var s=t.length,n=[];n[0]=3;for(var o=0;o<s;o+=1){var i=t[o-e]||0,l=r&&r[o]||0;n[o+1]=t[o]+256-(i+l>>>1)&255}return n}function Pp(t,e,r){var s=t.length,n=[];n[0]=4;for(var o=0;o<s;o+=1){var i=qS(t[o-e]||0,r&&r[o]||0,r&&r[o-e]||0);n[o+1]=t[o]-i+256&255}return n}function qS(t,e,r){if(t===e&&e===r)return t;var s=Math.abs(e-r),n=Math.abs(t-r),o=Math.abs(t+e-r-r);return s<=n&&s<=o?t:n<=o?e:r}function HS(t){var e=t.map(function(r){return r.reduce(function(s,n){return s+Math.abs(n)},0)});return e.indexOf(Math.min.apply(null,e))}function Yu(t,e,r){var s=e*r,n=Math.floor(s/8),o=16-(s-8*n+r),i=(1<<r)-1;return Pv(t,n)>>o&i}function Np(t,e,r,s){var n=r*s,o=Math.floor(n/8),i=16-(n-8*o+s),l=(1<<s)-1,d=(e&l)<<i;(function(c,u,m){if(u+1<c.byteLength)c.setUint16(u,m,!1);else{var y=m>>8&255;c.setUint8(u,y)}})(t,o,Pv(t,o)&~(l<<i)&65535|d)}function Pv(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function WS(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,s=t[e++]|t[e++]<<8,n=t[e++],o=n>>7,i=1<<1+(7&n);t[e++],t[e++];var l=null,d=null;o&&(l=e,d=i,e+=3*i);var c=!0,u=[],m=0,y=null,h=0,w=null;for(this.width=r,this.height=s;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],1&E||(y=null),h=E>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var R=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,G=t[e++]|t[e++]<<8,z=t[e++]|t[e++]<<8,$=t[e++],I=$>>6&1,K=1<<1+(7&$),L=l,b=d,v=!1;$>>7&&(v=!0,L=e,b=K,e+=3*K);var C=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}u.push({x:R,y:T,width:G,height:z,has_local_palette:v,palette_offset:L,palette_size:b,data_offset:C,data_length:e-C,transparent_index:y,interlaced:!!I,delay:m,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,A){var p=this.frameInfo(N),P=p.width*p.height,Q=new Uint8Array(P);Lp(t,p.data_offset,Q,P);var H=p.palette_offset,q=p.transparent_index;q===null&&(q=256);var M=p.width,ae=r-M,ee=M,k=4*(p.y*r+p.x),O=4*((p.y+p.height)*r+p.x),U=k,B=4*ae;p.interlaced===!0&&(B+=4*r*7);for(var V=8,J=0,ce=Q.length;J<ce;++J){var ue=Q[J];if(ee===0&&(ee=M,(U+=B)>=O&&(B=4*ae+4*r*(V-1),U=k+(M+ae)*(V<<1),V>>=1)),ue===q)U+=4;else{var xe=t[H+3*ue],$e=t[H+3*ue+1],se=t[H+3*ue+2];A[U++]=se,A[U++]=$e,A[U++]=xe,A[U++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(N,A){var p=this.frameInfo(N),P=p.width*p.height,Q=new Uint8Array(P);Lp(t,p.data_offset,Q,P);var H=p.palette_offset,q=p.transparent_index;q===null&&(q=256);var M=p.width,ae=r-M,ee=M,k=4*(p.y*r+p.x),O=4*((p.y+p.height)*r+p.x),U=k,B=4*ae;p.interlaced===!0&&(B+=4*r*7);for(var V=8,J=0,ce=Q.length;J<ce;++J){var ue=Q[J];if(ee===0&&(ee=M,(U+=B)>=O&&(B=4*ae+4*r*(V-1),U=k+(M+ae)*(V<<1),V>>=1)),ue===q)U+=4;else{var xe=t[H+3*ue],$e=t[H+3*ue+1],se=t[H+3*ue+2];A[U++]=xe,A[U++]=$e,A[U++]=se,A[U++]=255}--ee}}}function Lp(t,e,r,s){for(var n=t[e++],o=1<<n,i=o+1,l=i+1,d=n+1,c=(1<<d)-1,u=0,m=0,y=0,h=t[e++],w=new Int32Array(4096),E=null;;){for(;u<16&&h!==0;)m|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<d)break;var R=m&c;if(m>>=d,u-=d,R!==o){if(R===i)break;for(var T=R<l?R:E,G=0,z=T;z>o;)z=w[z]>>8,++G;var $=z;if(y+G+(T!==R?1:0)>s)return void Zt.log("Warning, gif stream longer than expected.");r[y++]=$;var I=y+=G;for(T!==R&&(r[y++]=$),z=T;G--;)z=w[z],r[--I]=255&z,z>>=8;E!==null&&l<4096&&(w[l++]=E<<8|$,l>=c+1&&d<12&&(++d,c=c<<1|1)),E=R}else l=i+1,c=(1<<(d=n+1))-1,E=null}return y!==s&&Zt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ju(t){var e,r,s,n,o,i=Math.floor,l=new Array(64),d=new Array(64),c=new Array(64),u=new Array(64),m=new Array(65535),y=new Array(65535),h=new Array(64),w=new Array(64),E=[],R=0,T=7,G=new Array(64),z=new Array(64),$=new Array(64),I=new Array(256),K=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],b=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],v=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],p=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(k,O){for(var U=0,B=0,V=new Array,J=1;J<=16;J++){for(var ce=1;ce<=k[J];ce++)V[O[B]]=[],V[O[B]][0]=U,V[O[B]][1]=J,B++,U++;U*=2}return V}function H(k){for(var O=k[0],U=k[1]-1;U>=0;)O&1<<U&&(R|=1<<T),U--,--T<0&&(R==255?(q(255),q(0)):q(R),T=7,R=0)}function q(k){E.push(k)}function M(k){q(k>>8&255),q(255&k)}function ae(k,O,U,B,V){for(var J,ce=V[0],ue=V[240],xe=(function(be,Ie){var Ce,Ke,je,Be,Ge,Ye,ot,st,me,ke,Se=0;for(me=0;me<8;++me){Ce=be[Se],Ke=be[Se+1],je=be[Se+2],Be=be[Se+3],Ge=be[Se+4],Ye=be[Se+5],ot=be[Se+6];var Fe=Ce+(st=be[Se+7]),He=Ce-st,ze=Ke+ot,Je=Ke-ot,lt=je+Ye,tt=je-Ye,yt=Be+Ge,kt=Be-Ge,ir=Fe+yt,$r=Fe-yt,Yt=ze+lt,Ct=ze-lt;be[Se]=ir+Yt,be[Se+4]=ir-Yt;var Bt=.707106781*(Ct+$r);be[Se+2]=$r+Bt,be[Se+6]=$r-Bt;var Gn=.382683433*((ir=kt+tt)-(Ct=Je+He)),Xr=.5411961*ir+Gn,Ia=1.306562965*Ct+Gn,ma=.707106781*(Yt=tt+Je),wt=He+ma,Ra=He-ma;be[Se+5]=Ra+Xr,be[Se+3]=Ra-Xr,be[Se+1]=wt+Ia,be[Se+7]=wt-Ia,Se+=8}for(Se=0,me=0;me<8;++me){Ce=be[Se],Ke=be[Se+8],je=be[Se+16],Be=be[Se+24],Ge=be[Se+32],Ye=be[Se+40],ot=be[Se+48];var Oa=Ce+(st=be[Se+56]),Rs=Ce-st,Os=Ke+ot,dr=Ke-ot,Rr=je+Ye,Hr=je-Ye,Kn=Be+Ge,hn=Be-Ge,Qs=Oa+Kn,va=Oa-Kn,ea=Os+Rr,ta=Os-Rr;be[Se]=Qs+ea,be[Se+32]=Qs-ea;var Fs=.707106781*(ta+va);be[Se+16]=va+Fs,be[Se+48]=va-Fs;var Yn=.382683433*((Qs=hn+Hr)-(ta=dr+Rs)),ba=.5411961*Qs+Yn,Jn=1.306562965*ta+Yn,$o=.707106781*(ea=Hr+dr),Eo=Rs+$o,Mo=Rs-$o;be[Se+40]=Mo+ba,be[Se+24]=Mo-ba,be[Se+8]=Eo+Jn,be[Se+56]=Eo-Jn,Se++}for(me=0;me<64;++me)ke=be[me]*Ie[me],h[me]=ke>0?ke+.5|0:ke-.5|0;return h})(k,O),$e=0;$e<64;++$e)w[L[$e]]=xe[$e];var se=w[0]-U;U=w[0],se==0?H(B[0]):(H(B[y[J=32767+se]]),H(m[J]));for(var ie=63;ie>0&&w[ie]==0;)ie--;if(ie==0)return H(ce),U;for(var oe,j=1;j<=ie;){for(var le=j;w[j]==0&&j<=ie;)++j;var pe=j-le;if(pe>=16){oe=pe>>4;for(var _e=1;_e<=oe;++_e)H(ue);pe&=15}J=32767+w[j],H(V[(pe<<4)+y[J]]),H(m[J]),j++}return ie!=63&&H(ce),U}function ee(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(O){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var V=i((U[B]*O+50)/100);V=Math.min(Math.max(V,1),255),l[L[B]]=V}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ue=i((J[ce]*O+50)/100);ue=Math.min(Math.max(ue,1),255),d[L[ce]]=ue}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,se=0;se<8;se++)for(var ie=0;ie<8;ie++)c[$e]=1/(l[L[$e]]*xe[se]*xe[ie]*8),u[$e]=1/(d[L[$e]]*xe[se]*xe[ie]*8),$e++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,O){O&&ee(O),E=new Array,R=0,T=7,M(65496),M(65504),M(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),M(1),M(1),q(0),q(0),(function(){M(65499),M(132),q(0);for(var Ke=0;Ke<64;Ke++)q(l[Ke]);q(1);for(var je=0;je<64;je++)q(d[je])})(),(function(Ke,je){M(65472),M(17),q(8),M(je),M(Ke),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)})(k.width,k.height),(function(){M(65476),M(418),q(0);for(var Ke=0;Ke<16;Ke++)q(b[Ke+1]);for(var je=0;je<=11;je++)q(v[je]);q(16);for(var Be=0;Be<16;Be++)q(C[Be+1]);for(var Ge=0;Ge<=161;Ge++)q(S[Ge]);q(1);for(var Ye=0;Ye<16;Ye++)q(N[Ye+1]);for(var ot=0;ot<=11;ot++)q(A[ot]);q(17);for(var st=0;st<16;st++)q(p[st+1]);for(var me=0;me<=161;me++)q(P[me])})(),M(65498),M(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var U=0,B=0,V=0;R=0,T=7,this.encode.displayName="_encode_";for(var J,ce,ue,xe,$e,se,ie,oe,j,le=k.data,pe=k.width,_e=k.height,be=4*pe,Ie=0;Ie<_e;){for(J=0;J<be;){for($e=be*Ie+J,ie=-1,oe=0,j=0;j<64;j++)se=$e+(oe=j>>3)*be+(ie=4*(7&j)),Ie+oe>=_e&&(se-=be*(Ie+1+oe-_e)),J+ie>=be&&(se-=J+ie-be+4),ce=le[se++],ue=le[se++],xe=le[se++],G[j]=(K[ce]+K[ue+256|0]+K[xe+512|0]>>16)-128,z[j]=(K[ce+768|0]+K[ue+1024|0]+K[xe+1280|0]>>16)-128,$[j]=(K[ce+1280|0]+K[ue+1536|0]+K[xe+1792|0]>>16)-128;U=ae(G,c,U,e,s),B=ae(z,u,B,r,n),V=ae($,u,V,r,n),J+=32}Ie+=8}if(T>=0){var Ce=[];Ce[1]=T+1,Ce[0]=(1<<T+1)-1,H(Ce)}return M(65497),new Uint8Array(E)},t=t||50,(function(){for(var k=String.fromCharCode,O=0;O<256;O++)I[O]=k(O)})(),e=Q(b,v),r=Q(N,A),s=Q(C,S),n=Q(p,P),(function(){for(var k=1,O=2,U=1;U<=15;U++){for(var B=k;B<O;B++)y[32767+B]=U,m[32767+B]=[],m[32767+B][1]=U,m[32767+B][0]=B;for(var V=-(O-1);V<=-k;V++)y[32767+V]=U,m[32767+V]=[],m[32767+V][1]=U,m[32767+V][0]=O-1+V;k<<=1,O<<=1}})(),(function(){for(var k=0;k<256;k++)K[k]=19595*k,K[k+256|0]=38470*k,K[k+512|0]=7471*k+32768,K[k+768|0]=-11059*k,K[k+1024|0]=-21709*k,K[k+1280|0]=32768*k+8421375,K[k+1536|0]=-27439*k,K[k+1792|0]=-5329*k})(),ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ia(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $p(t){function e(v){if(!v)throw Error("assert :P")}function r(v,C,S){for(var N=0;4>N;N++)if(v[C+N]!=S.charCodeAt(N))return!0;return!1}function s(v,C,S,N,A){for(var p=0;p<A;p++)v[C+p]=S[N+p]}function n(v,C,S,N){for(var A=0;A<N;A++)v[C+A]=S}function o(v){return new Int32Array(v)}function i(v,C){for(var S=[],N=0;N<v;N++)S.push(new C);return S}function l(v,C){var S=[];return(function N(A,p,P){for(var Q=P[p],H=0;H<Q&&(A.push(P.length>p+1?[]:new C),!(P.length<p+1));H++)N(A[H],p+1,P)})(S,0,v),S}var d=function(){var v=this;function C(f,g){for(var _=1<<g-1>>>0;f&_;)_>>>=1;return _?(f&_-1)+_:f}function S(f,g,_,D,Z){e(!(D%_));do f[g+(D-=_)]=Z;while(0<D)}function N(f,g,_,D,Z){if(e(2328>=Z),512>=Z)var te=o(512);else if((te=o(Z))==null)return 0;return(function(re,ne,de,fe,we,De){var he,Ae,Ee=ne,Ue=1<<de,Te=o(16),qe=o(16);for(e(we!=0),e(fe!=null),e(re!=null),e(0<de),Ae=0;Ae<we;++Ae){if(15<fe[Ae])return 0;++Te[fe[Ae]]}if(Te[0]==we)return 0;for(qe[1]=0,he=1;15>he;++he){if(Te[he]>1<<he)return 0;qe[he+1]=qe[he]+Te[he]}for(Ae=0;Ae<we;++Ae)he=fe[Ae],0<fe[Ae]&&(De[qe[he]++]=Ae);if(qe[15]==1)return(fe=new A).g=0,fe.value=De[0],S(re,Ee,1,Ue,fe),Ue;var Ve,et=-1,Ze=Ue-1,bt=0,ct=1,Mt=1,gt=1<<de;for(Ae=0,he=1,we=2;he<=de;++he,we<<=1){if(ct+=Mt<<=1,0>(Mt-=Te[he]))return 0;for(;0<Te[he];--Te[he])(fe=new A).g=he,fe.value=De[Ae++],S(re,Ee+bt,we,gt,fe),bt=C(bt,he)}for(he=de+1,we=2;15>=he;++he,we<<=1){if(ct+=Mt<<=1,0>(Mt-=Te[he]))return 0;for(;0<Te[he];--Te[he]){if(fe=new A,(bt&Ze)!=et){for(Ee+=gt,Ve=1<<(et=he)-de;15>et&&!(0>=(Ve-=Te[et]));)++et,Ve<<=1;Ue+=gt=1<<(Ve=et-de),re[ne+(et=bt&Ze)].g=Ve+de,re[ne+et].value=Ee-ne-et}fe.g=he-de,fe.value=De[Ae++],S(re,Ee+(bt>>de),we,gt,fe),bt=C(bt,he)}}return ct!=2*qe[15]-1?0:Ue})(f,g,_,D,Z,te)}function A(){this.value=this.g=0}function p(){this.value=this.g=0}function P(){this.G=i(5,A),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(ka,p)}function Q(f,g,_,D){e(f!=null),e(g!=null),e(2147483648>D),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=_,f.Jd=g,f.Yc=_+D,f.Zc=4<=D?_+D-4+1:_,ce(f)}function H(f,g){for(var _=0;0<g--;)_|=xe(f,128)<<g;return _}function q(f,g){var _=H(f,g);return ue(f)?-_:_}function M(f,g,_,D){var Z,te=0;for(e(f!=null),e(g!=null),e(4294967288>D),f.Sb=D,f.Ra=0,f.u=0,f.h=0,4<D&&(D=4),Z=0;Z<D;++Z)te+=g[_+Z]<<8*Z;f.Ra=te,f.bb=D,f.oa=g,f.pa=_}function ae(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<xn-8>>>0,++f.bb,f.u-=8;B(f)&&(f.h=1,f.u=0)}function ee(f,g){if(e(0<=g),!f.h&&g<=Wi){var _=U(f)&yn[g];return f.u+=g,ae(f),_}return f.h=1,f.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(f){return f.Ra>>>(f.u&xn-1)>>>0}function B(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>xn}function V(f,g){f.u=g,f.h=B(f)}function J(f){f.u>=pr&&(e(f.u>=pr),ae(f))}function ce(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ue(f){return H(f,1)}function xe(f,g){var _=f.Ca;0>f.b&&ce(f);var D=f.b,Z=_*g>>>8,te=(f.I>>>D>Z)+0;for(te?(_-=Z,f.I-=Z+1<<D>>>0):_=Z+1,D=_,Z=0;256<=D;)Z+=8,D>>=8;return D=7^Z+Xc[D],f.b-=D,f.Ca=(_<<D)-1,te}function $e(f,g,_){f[g+0]=_>>24&255,f[g+1]=_>>16&255,f[g+2]=_>>8&255,f[g+3]=255&_}function se(f,g){return f[g+0]|f[g+1]<<8}function ie(f,g){return se(f,g)|f[g+2]<<16}function oe(f,g){return se(f,g)|se(f,g+2)<<16}function j(f,g){var _=1<<g;return e(f!=null),e(0<g),f.X=o(_),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function le(f,g){e(f!=null),e(g!=null),e(f.Xa==g.Xa),s(g.X,0,f.X,0,1<<g.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function _e(f,g,_,D){e(_!=null),e(D!=null);var Z=_[0],te=D[0];return Z==0&&(Z=(f*te+g/2)/g),te==0&&(te=(g*Z+f/2)/f),0>=Z||0>=te?0:(_[0]=Z,D[0]=te,1)}function be(f,g){return f+(1<<g)-1>>>g}function Ie(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function Ce(f,g){v[g]=function(_,D,Z,te,re,ne,de){var fe;for(fe=0;fe<re;++fe){var we=v[f](ne[de+fe-1],Z,te+fe);ne[de+fe]=Ie(_[D+fe],we)}}}function Ke(){this.ud=this.hd=this.jd=0}function je(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function Be(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Ge(f,g){return Be(f+(f-g+.5>>1))}function Ye(f,g,_){return Math.abs(g-_)-Math.abs(f-_)}function ot(f,g,_,D,Z,te,re){for(D=te[re-1],_=0;_<Z;++_)te[re+_]=D=Ie(f[g+_],D)}function st(f,g,_,D,Z){var te;for(te=0;te<_;++te){var re=f[g+te],ne=re>>8&255,de=16711935&(de=(de=16711935&re)+((ne<<16)+ne));D[Z+te]=(4278255360&re)+de>>>0}}function me(f,g){g.jd=255&f,g.hd=f>>8&255,g.ud=f>>16&255}function ke(f,g,_,D,Z,te){var re;for(re=0;re<D;++re){var ne=g[_+re],de=ne>>>8,fe=ne,we=255&(we=(we=ne>>>16)+((f.jd<<24>>24)*(de<<24>>24)>>>5));fe=255&(fe=(fe+=(f.hd<<24>>24)*(de<<24>>24)>>>5)+((f.ud<<24>>24)*(we<<24>>24)>>>5)),Z[te+re]=(4278255360&ne)+(we<<16)+fe}}function Se(f,g,_,D,Z){v[g]=function(te,re,ne,de,fe,we,De,he,Ae){for(de=De;de<he;++de)for(De=0;De<Ae;++De)fe[we++]=Z(ne[D(te[re++])])},v[f]=function(te,re,ne,de,fe,we,De){var he=8>>te.b,Ae=te.Ea,Ee=te.K[0],Ue=te.w;if(8>he)for(te=(1<<te.b)-1,Ue=(1<<he)-1;re<ne;++re){var Te,qe=0;for(Te=0;Te<Ae;++Te)Te&te||(qe=D(de[fe++])),we[De++]=Z(Ee[qe&Ue]),qe>>=he}else v["VP8LMapColor"+_](de,fe,Ee,Ue,we,De,re,ne,Ae)}}function Fe(f,g,_,D,Z){for(_=g+_;g<_;){var te=f[g++];D[Z++]=te>>16&255,D[Z++]=te>>8&255,D[Z++]=255&te}}function He(f,g,_,D,Z){for(_=g+_;g<_;){var te=f[g++];D[Z++]=te>>16&255,D[Z++]=te>>8&255,D[Z++]=255&te,D[Z++]=te>>24&255}}function ze(f,g,_,D,Z){for(_=g+_;g<_;){var te=(re=f[g++])>>16&240|re>>12&15,re=240&re|re>>28&15;D[Z++]=te,D[Z++]=re}}function Je(f,g,_,D,Z){for(_=g+_;g<_;){var te=(re=f[g++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;D[Z++]=te,D[Z++]=re}}function lt(f,g,_,D,Z){for(_=g+_;g<_;){var te=f[g++];D[Z++]=255&te,D[Z++]=te>>8&255,D[Z++]=te>>16&255}}function tt(f,g,_,D,Z,te){if(te==0)for(_=g+_;g<_;)$e(D,((te=f[g++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),Z+=32;else s(D,Z,f,g,_)}function yt(f,g){v[g][0]=v[f+"0"],v[g][1]=v[f+"1"],v[g][2]=v[f+"2"],v[g][3]=v[f+"3"],v[g][4]=v[f+"4"],v[g][5]=v[f+"5"],v[g][6]=v[f+"6"],v[g][7]=v[f+"7"],v[g][8]=v[f+"8"],v[g][9]=v[f+"9"],v[g][10]=v[f+"10"],v[g][11]=v[f+"11"],v[g][12]=v[f+"12"],v[g][13]=v[f+"13"],v[g][14]=v[f+"0"],v[g][15]=v[f+"0"]}function kt(f){return f==tu||f==ru||f==cd||f==su}function ir(){this.eb=[],this.size=this.A=this.fb=0}function $r(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ir,this.f.kb=new $r,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Gn(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Xr(f,g){var _=f.T,D=g.ba.f.RGBA,Z=D.eb,te=D.fb+f.ka*D.A,re=zs[g.ba.S],ne=f.y,de=f.O,fe=f.f,we=f.N,De=f.ea,he=f.W,Ae=g.cc,Ee=g.dc,Ue=g.Mc,Te=g.Nc,qe=f.ka,Ve=f.ka+f.T,et=f.U,Ze=et+1>>1;for(qe==0?re(ne,de,null,null,fe,we,De,he,fe,we,De,he,Z,te,null,null,et):(re(g.ec,g.fc,ne,de,Ae,Ee,Ue,Te,fe,we,De,he,Z,te-D.A,Z,te,et),++_);qe+2<Ve;qe+=2)Ae=fe,Ee=we,Ue=De,Te=he,we+=f.Rc,he+=f.Rc,te+=2*D.A,re(ne,(de+=2*f.fa)-f.fa,ne,de,Ae,Ee,Ue,Te,fe,we,De,he,Z,te-D.A,Z,te,et);return de+=f.fa,f.j+Ve<f.o?(s(g.ec,g.fc,ne,de,et),s(g.cc,g.dc,fe,we,Ze),s(g.Mc,g.Nc,De,he,Ze),_--):1&Ve||re(ne,de,null,null,fe,we,De,he,fe,we,De,he,Z,te+D.A,null,null,et),_}function Ia(f,g,_){var D=f.F,Z=[f.J];if(D!=null){var te=f.U,re=g.ba.S,ne=re==dd||re==cd;g=g.ba.f.RGBA;var de=[0],fe=f.ka;de[0]=f.T,f.Kb&&(fe==0?--de[0]:(--fe,Z[0]-=f.width),f.j+f.ka+f.T==f.o&&(de[0]=f.o-f.j-fe));var we=g.eb;fe=g.fb+fe*g.A,f=Nf(D,Z[0],f.width,te,de,we,fe+(ne?0:3),g.A),e(_==de),f&&kt(re)&&Yi(we,fe,ne,te,de,g.A)}return 0}function ma(f){var g=f.ma,_=g.ba.S,D=11>_,Z=_==id||_==ld||_==dd||_==eu||_==12||kt(_);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!ps(g.Oa,f,Z?11:12))return 0;if(Z&&kt(_)&&Bi(),f.da)alert("todo:use_scaling");else{if(D){if(g.Ib=Gn,f.Kb){if(_=f.U+1>>1,g.memory=o(f.U+2*_),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+_,g.Ib=Xr,Bi()}}else alert("todo:EmitYUV");Z&&(g.Jb=Ia,D&&no())}if(D&&!Hf){for(f=0;256>f;++f)c2[f]=89858*(f-128)+fd>>ud,h2[f]=-22014*(f-128)+fd,f2[f]=-45773*(f-128),u2[f]=113618*(f-128)+fd>>ud;for(f=Zi;f<ou;++f)g=76283*(f-16)+fd>>ud,g2[f-Zi]=Mr(g,255),p2[f-Zi]=Mr(g+8>>4,15);Hf=1}return 1}function wt(f){var g=f.ma,_=f.U,D=f.T;return e(!(1&f.ka)),0>=_||0>=D?0:(_=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,_),g.Dc+=_,1)}function Ra(f){f.ma.memory=null}function Oa(f,g,_,D){return ee(f,8)!=47?0:(g[0]=ee(f,14)+1,_[0]=ee(f,14)+1,D[0]=ee(f,1),ee(f,3)!=0?0:!f.h)}function Rs(f,g){if(4>f)return f+1;var _=f-2>>1;return(2+(1&f)<<_)+ee(g,_)+1}function Os(f,g){return 120<g?g-120:1<=(_=((_=Jv[g-1])>>4)*f+(8-(15&_)))?_:1;var _}function dr(f,g,_){var D=U(_),Z=f[g+=255&D].g-8;return 0<Z&&(V(_,_.u+8),D=U(_),g+=f[g].value,g+=D&(1<<Z)-1),V(_,_.u+f[g].g),f[g].value}function Rr(f,g,_){return _.g+=f.g,_.value+=f.value<<g>>>0,e(8>=_.g),f.g}function Hr(f,g,_){var D=f.xc;return e((g=D==0?0:f.vc[f.md*(_>>D)+(g>>D)])<f.Wb),f.Ya[g]}function Kn(f,g,_,D){var Z=f.ab,te=f.c*g,re=f.C;g=re+g;var ne=_,de=D;for(D=f.Ta,_=f.Ua;0<Z--;){var fe=f.gc[Z],we=re,De=g,he=ne,Ae=de,Ee=(de=D,ne=_,fe.Ea);switch(e(we<De),e(De<=fe.nc),fe.hc){case 2:zo(he,Ae,(De-we)*Ee,de,ne);break;case 0:var Ue=we,Te=De,qe=de,Ve=ne,et=(gt=fe).Ea;Ue==0&&(wa(he,Ae,null,null,1,qe,Ve),ot(he,Ae+1,0,0,et-1,qe,Ve+1),Ae+=et,Ve+=et,++Ue);for(var Ze=1<<gt.b,bt=Ze-1,ct=be(et,gt.b),Mt=gt.K,gt=gt.w+(Ue>>gt.b)*ct;Ue<Te;){var Rt=Mt,Tr=gt,Tt=1;for(_a(he,Ae,qe,Ve-et,1,qe,Ve);Tt<et;){var pt=(Tt&~bt)+Ze;pt>et&&(pt=et),(0,lo[Rt[Tr++]>>8&15])(he,Ae+ +Tt,qe,Ve+Tt-et,pt-Tt,qe,Ve+Tt),Tt=pt}Ae+=et,Ve+=et,++Ue&bt||(gt+=ct)}De!=fe.nc&&s(de,ne-Ee,de,ne+(De-we-1)*Ee,Ee);break;case 1:for(Ee=he,Te=Ae,et=(he=fe.Ea)-(Ve=he&~(qe=(Ae=1<<fe.b)-1)),Ue=be(he,fe.b),Ze=fe.K,fe=fe.w+(we>>fe.b)*Ue;we<De;){for(bt=Ze,ct=fe,Mt=new Ke,gt=Te+Ve,Rt=Te+he;Te<gt;)me(bt[ct++],Mt),Ha(Mt,Ee,Te,Ae,de,ne),Te+=Ae,ne+=Ae;Te<Rt&&(me(bt[ct++],Mt),Ha(Mt,Ee,Te,et,de,ne),Te+=et,ne+=et),++we&qe||(fe+=Ue)}break;case 3:if(he==de&&Ae==ne&&0<fe.b){for(Te=de,he=Ee=ne+(De-we)*Ee-(Ve=(De-we)*be(fe.Ea,fe.b)),Ae=de,qe=ne,Ue=[],Ve=(et=Ve)-1;0<=Ve;--Ve)Ue[Ve]=Ae[qe+Ve];for(Ve=et-1;0<=Ve;--Ve)Te[he+Ve]=Ue[Ve];Vi(fe,we,De,de,Ee,de,ne)}else Vi(fe,we,De,he,Ae,de,ne)}ne=D,de=_}de!=_&&s(D,_,ne,de,te)}function hn(f,g){var _=f.V,D=f.Ba+f.c*f.C,Z=g-f.C;if(e(g<=f.l.o),e(16>=Z),0<Z){var te=f.l,re=f.Ta,ne=f.Ua,de=te.width;if(Kn(f,Z,_,D),Z=ne=[ne],e((_=f.C)<(D=g)),e(te.v<te.va),D>te.o&&(D=te.o),_<te.j){var fe=te.j-_;_=te.j,Z[0]+=fe*de}if(_>=D?_=0:(Z[0]+=4*te.v,te.ka=_-te.j,te.U=te.va-te.v,te.T=D-_,_=1),_){if(ne=ne[0],11>(_=f.ca).S){var we=_.f.RGBA,De=(D=_.S,Z=te.U,te=te.T,fe=we.eb,we.A),he=te;for(we=we.fb+f.Ma*we.A;0<he--;){var Ae=re,Ee=ne,Ue=Z,Te=fe,qe=we;switch(D){case od:Gi(Ae,Ee,Ue,Te,qe);break;case id:ks(Ae,Ee,Ue,Te,qe);break;case tu:ks(Ae,Ee,Ue,Te,qe),Yi(Te,qe,0,Ue,1,0);break;case If:tr(Ae,Ee,Ue,Te,qe);break;case ld:tt(Ae,Ee,Ue,Te,qe,1);break;case ru:tt(Ae,Ee,Ue,Te,qe,1),Yi(Te,qe,0,Ue,1,0);break;case dd:tt(Ae,Ee,Ue,Te,qe,0);break;case cd:tt(Ae,Ee,Ue,Te,qe,0),Yi(Te,qe,1,Ue,1,0);break;case eu:Sa(Ae,Ee,Ue,Te,qe);break;case su:Sa(Ae,Ee,Ue,Te,qe),Pf(Te,qe,Ue,1,0);break;case Rf:er(Ae,Ee,Ue,Te,qe);break;default:e(0)}ne+=de,we+=De}f.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=_.height)}}f.C=g,e(f.C<=f.i)}function Qs(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var _=f.Ya[g].G,D=f.Ya[g].H;if(0<_[1][D[1]+0].g||0<_[2][D[2]+0].g||0<_[3][D[3]+0].g)return 0}return 1}function va(f,g,_,D,Z,te){if(f.Z!=0){var re=f.qd,ne=f.rd;for(e(wn[f.Z]!=null);g<_;++g)wn[f.Z](re,ne,D,Z,D,Z,te),re=D,ne=Z,Z+=te;f.qd=re,f.rd=ne}}function ea(f,g){var _=f.l.ma,D=_.Z==0||_.Z==1?f.l.j:f.C;if(D=f.C<D?D:f.C,e(g<=f.l.o),g>D){var Z=f.l.width,te=_.ca,re=_.tb+Z*D,ne=f.V,de=f.Ba+f.c*D,fe=f.gc;e(f.ab==1),e(fe[0].hc==3),Ho(fe[0],D,g,ne,de,te,re),va(_,D,g,te,re,Z)}f.C=f.Ma=g}function ta(f,g,_,D,Z,te,re){var ne=f.$/D,de=f.$%D,fe=f.m,we=f.s,De=_+f.$,he=De;Z=_+D*Z;var Ae=_+D*te,Ee=280+we.ua,Ue=f.Pb?ne:16777216,Te=0<we.ua?we.Wa:null,qe=we.wc,Ve=De<Ae?Hr(we,de,ne):null;e(f.C<te),e(Ae<=Z);var et=!1;e:for(;;){for(;et||De<Ae;){var Ze=0;if(ne>=Ue){var bt=De-_;e((Ue=f).Pb),Ue.wd=Ue.m,Ue.xd=bt,0<Ue.s.ua&&le(Ue.s.Wa,Ue.s.vb),Ue=ne+Xv}if(de&qe||(Ve=Hr(we,de,ne)),e(Ve!=null),Ve.Qb&&(g[De]=Ve.qb,et=!0),!et)if(J(fe),Ve.jc){Ze=fe,bt=g;var ct=De,Mt=Ve.pd[U(Ze)&ka-1];e(Ve.jc),256>Mt.g?(V(Ze,Ze.u+Mt.g),bt[ct]=Mt.value,Ze=0):(V(Ze,Ze.u+Mt.g-256),e(256<=Mt.value),Ze=Mt.value),Ze==0&&(et=!0)}else Ze=dr(Ve.G[0],Ve.H[0],fe);if(fe.h)break;if(et||256>Ze){if(!et)if(Ve.nd)g[De]=(Ve.qb|Ze<<8)>>>0;else{if(J(fe),et=dr(Ve.G[1],Ve.H[1],fe),J(fe),bt=dr(Ve.G[2],Ve.H[2],fe),ct=dr(Ve.G[3],Ve.H[3],fe),fe.h)break;g[De]=(ct<<24|et<<16|Ze<<8|bt)>>>0}if(et=!1,++De,++de>=D&&(de=0,++ne,re!=null&&ne<=te&&!(ne%16)&&re(f,ne),Te!=null))for(;he<De;)Ze=g[he++],Te.X[(506832829*Ze&4294967295)>>>Te.Mb]=Ze}else if(280>Ze){if(Ze=Rs(Ze-256,fe),bt=dr(Ve.G[4],Ve.H[4],fe),J(fe),bt=Os(D,bt=Rs(bt,fe)),fe.h)break;if(De-_<bt||Z-De<Ze)break e;for(ct=0;ct<Ze;++ct)g[De+ct]=g[De+ct-bt];for(De+=Ze,de+=Ze;de>=D;)de-=D,++ne,re!=null&&ne<=te&&!(ne%16)&&re(f,ne);if(e(De<=Z),de&qe&&(Ve=Hr(we,de,ne)),Te!=null)for(;he<De;)Ze=g[he++],Te.X[(506832829*Ze&4294967295)>>>Te.Mb]=Ze}else{if(!(Ze<Ee))break e;for(et=Ze-280,e(Te!=null);he<De;)Ze=g[he++],Te.X[(506832829*Ze&4294967295)>>>Te.Mb]=Ze;Ze=De,e(!(et>>>(bt=Te).Xa)),g[Ze]=bt.X[et],et=!0}et||e(fe.h==B(fe))}if(f.Pb&&fe.h&&De<Z)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&le(f.s.vb,f.s.Wa);else{if(fe.h)break e;re?.(f,ne>te?te:ne),f.a=0,f.$=De-_}return 1}return f.a=3,0}function Fs(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,e(f!=null)}function Yn(){var f=new lr;return f==null?null:(f.a=0,f.xb=jf,yt("Predictor","VP8LPredictors"),yt("Predictor","VP8LPredictors_C"),yt("PredictorAdd","VP8LPredictorsAdd"),yt("PredictorAdd","VP8LPredictorsAdd_C"),zo=st,Ha=ke,Gi=Fe,ks=He,Sa=ze,er=Je,tr=lt,v.VP8LMapColor32b=qo,v.VP8LMapColor8b=io,f)}function ba(f,g,_,D,Z){var te=1,re=[f],ne=[g],de=D.m,fe=D.s,we=null,De=0;e:for(;;){if(_)for(;te&&ee(de,1);){var he=re,Ae=ne,Ee=D,Ue=1,Te=Ee.m,qe=Ee.gc[Ee.ab],Ve=ee(Te,2);if(Ee.Oc&1<<Ve)te=0;else{switch(Ee.Oc|=1<<Ve,qe.hc=Ve,qe.Ea=he[0],qe.nc=Ae[0],qe.K=[null],++Ee.ab,e(4>=Ee.ab),Ve){case 0:case 1:qe.b=ee(Te,3)+2,Ue=ba(be(qe.Ea,qe.b),be(qe.nc,qe.b),0,Ee,qe.K),qe.K=qe.K[0];break;case 3:var et,Ze=ee(Te,8)+1,bt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(he[0]=be(qe.Ea,bt),qe.b=bt,et=Ue=ba(Ze,1,0,Ee,qe.K)){var ct,Mt=Ze,gt=qe,Rt=1<<(8>>gt.b),Tr=o(Rt);if(Tr==null)et=0;else{var Tt=gt.K[0],pt=gt.w;for(Tr[0]=gt.K[0][0],ct=1;ct<1*Mt;++ct)Tr[ct]=Ie(Tt[pt+ct],Tr[ct-1]);for(;ct<4*Rt;++ct)Tr[ct]=0;gt.K[0]=null,gt.K[0]=Tr,et=1}}Ue=et;break;case 2:break;default:e(0)}te=Ue}}if(re=re[0],ne=ne[0],te&&ee(de,1)&&!(te=1<=(De=ee(de,4))&&11>=De)){D.a=3;break e}var nt;if(nt=te)t:{var br,$t,Ot,ar=D,Vr=re,cs=ne,cr=De,Qr=_,us=ar.m,Dr=ar.s,Ft=[null],Wt=1,ur=0,Vt=Zv[cr];r:for(;;){if(Qr&&ee(us,1)){var Gr=ee(us,3)+2,na=be(Vr,Gr),yr=be(cs,Gr),vs=na*yr;if(!ba(na,yr,0,ar,Ft))break r;for(Ft=Ft[0],Dr.xc=Gr,br=0;br<vs;++br){var Jt=Ft[br]>>8&65535;Ft[br]=Jt,Jt>=Wt&&(Wt=Jt+1)}}if(us.h)break r;for($t=0;5>$t;++$t){var Ir=Of[$t];!$t&&0<cr&&(Ir+=1<<cr),ur<Ir&&(ur=Ir)}var _s=i(Wt*Vt,A),fs=Wt,Ss=i(fs,P);if(Ss==null)var As=null;else e(65536>=fs),As=Ss;var bs=o(ur);if(As==null||bs==null||_s==null){ar.a=1;break r}var Cs=_s;for(br=Ot=0;br<Wt;++br){var rr=As[br],Ps=rr.G,oa=rr.H,co=0,Ga=1,Kr=0;for($t=0;5>$t;++$t){Ir=Of[$t],Ps[$t]=Cs,oa[$t]=Ot,!$t&&0<cr&&(Ir+=1<<cr);a:{var gd,iu=Ir,pd=ar,Xi=bs,b2=Cs,y2=Ot,lu=0,_n=pd.m,x2=ee(_n,1);if(n(Xi,0,0,iu),x2){var k2=ee(_n,1)+1,w2=ee(_n,1),Gf=ee(_n,w2==0?1:8);Xi[Gf]=1,k2==2&&(Xi[Gf=ee(_n,8)]=1);var md=1}else{var Kf=o(19),Yf=ee(_n,4)+4;if(19<Yf){pd.a=3;var vd=0;break a}for(gd=0;gd<Yf;++gd)Kf[Yv[gd]]=ee(_n,3);var du=void 0,Qi=void 0,Jf=pd,_2=Kf,bd=iu,Zf=Xi,cu=0,Sn=Jf.m,Xf=8,Qf=i(128,A);s:for(;N(Qf,0,7,_2,19);){if(ee(Sn,1)){var S2=2+2*ee(Sn,3);if((du=2+ee(Sn,S2))>bd)break s}else du=bd;for(Qi=0;Qi<bd&&du--;){J(Sn);var eh=Qf[0+(127&U(Sn))];V(Sn,Sn.u+eh.g);var Vo=eh.value;if(16>Vo)Zf[Qi++]=Vo,Vo!=0&&(Xf=Vo);else{var A2=Vo==16,th=Vo-16,C2=Gv[th],rh=ee(Sn,Vv[th])+C2;if(Qi+rh>bd)break s;for(var P2=A2?Xf:0;0<rh--;)Zf[Qi++]=P2}}cu=1;break s}cu||(Jf.a=3),md=cu}(md=md&&!_n.h)&&(lu=N(b2,y2,8,Xi,iu)),md&&lu!=0?vd=lu:(pd.a=3,vd=0)}if(vd==0)break r;if(Ga&&Kv[$t]==1&&(Ga=Cs[Ot].g==0),co+=Cs[Ot].g,Ot+=vd,3>=$t){var el,uu=bs[0];for(el=1;el<Ir;++el)bs[el]>uu&&(uu=bs[el]);Kr+=uu}}if(rr.nd=Ga,rr.Qb=0,Ga&&(rr.qb=(Ps[3][oa[3]+0].value<<24|Ps[1][oa[1]+0].value<<16|Ps[2][oa[2]+0].value)>>>0,co==0&&256>Ps[0][oa[0]+0].value&&(rr.Qb=1,rr.qb+=Ps[0][oa[0]+0].value<<8)),rr.jc=!rr.Qb&&6>Kr,rr.jc){var yd,Ka=rr;for(yd=0;yd<ka;++yd){var An=yd,Cn=Ka.pd[An],xd=Ka.G[0][Ka.H[0]+An];256<=xd.value?(Cn.g=xd.g+256,Cn.value=xd.value):(Cn.g=0,Cn.value=0,An>>=Rr(xd,8,Cn),An>>=Rr(Ka.G[1][Ka.H[1]+An],16,Cn),An>>=Rr(Ka.G[2][Ka.H[2]+An],0,Cn),Rr(Ka.G[3][Ka.H[3]+An],24,Cn))}}}Dr.vc=Ft,Dr.Wb=Wt,Dr.Ya=As,Dr.yc=_s,nt=1;break t}nt=0}if(!(te=nt)){D.a=3;break e}if(0<De){if(fe.ua=1<<De,!j(fe.Wa,De)){D.a=1,te=0;break e}}else fe.ua=0;var fu=D,sh=re,N2=ne,hu=fu.s,gu=hu.xc;if(fu.c=sh,fu.i=N2,hu.md=be(sh,gu),hu.wc=gu==0?-1:(1<<gu)-1,_){D.xb=n2;break e}if((we=o(re*ne))==null){D.a=1,te=0;break e}te=(te=ta(D,we,0,re,ne,ne,null))&&!de.h;break e}return te?(Z!=null?Z[0]=we:(e(we==null),e(_)),D.$=0,_||Fs(fe)):Fs(fe),te}function Jn(f,g){var _=f.c*f.i,D=_+g+16*g;return e(f.c<=g),f.V=o(D),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+_+g,1)}function $o(f,g){var _=f.C,D=g-_,Z=f.V,te=f.Ba+f.c*_;for(e(g<=f.l.o);0<D;){var re=16<D?16:D,ne=f.l.ma,de=f.l.width,fe=de*re,we=ne.ca,De=ne.tb+de*_,he=f.Ta,Ae=f.Ua;Kn(f,re,Z,te),Lf(he,Ae,we,De,fe),va(ne,_,_+re,we,De,de),D-=re,Z+=re*f.c,_+=re}e(_==g),f.C=f.Ma=g}function Eo(){this.ub=this.yd=this.td=this.Rb=0}function Mo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ic(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Pi(){this.Yb=(function(){var f=[];return(function g(_,D,Z){for(var te=Z[D],re=0;re<te&&(_.push(Z.length>D+1?[]:0),!(Z.length<D+1));re++)g(_[re],D+1,Z)})(f,0,[3,11]),f})()}function Vl(){this.jb=o(3),this.Wc=l([4,8],Pi),this.Xc=l([4,17],Pi)}function Gl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function js(){this.ld=this.La=this.dd=this.tc=0}function Ni(){this.Na=this.la=0}function Kl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Li(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yl(){this.uc=this.M=this.Nb=0,this.wa=Array(new js),this.Y=0,this.ya=Array(new Li),this.aa=0,this.l=new To}function Jl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Zl(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new Eo,this.Kc=new Mo,this.ed=new Gl,this.Qa=new Ic,this.Ic=this.$c=this.Aa=0,this.D=new Yl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,k),this.ia=0,this.pb=i(4,Kl),this.Pa=new Vl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jl),this.Hd=0,this.rb=Array(new Ni),this.sb=0,this.wa=Array(new js),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Li),this.L=this.aa=0,this.gd=l([4,2],js),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function To(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rc(){var f=new Zl;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Ji||(Ji=Fa)),f}function Ar(f,g,_){return f.a==0&&(f.a=g,f.sc=_,f.cb=0),0}function Xl(f,g,_){return 3<=_&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function Ql(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return Ar(f,2,"null VP8Io passed to VP8GetHeaders()");var _=g.data,D=g.w,Z=g.ha;if(4>Z)return Ar(f,7,"Truncated header.");var te=_[D+0]|_[D+1]<<8|_[D+2]<<16,re=f.Od;if(re.Rb=!(1&te),re.td=te>>1&7,re.yd=te>>4&1,re.ub=te>>5,3<re.td)return Ar(f,3,"Incorrect keyframe parameters.");if(!re.yd)return Ar(f,4,"Frame not displayable.");D+=3,Z-=3;var ne=f.Kc;if(re.Rb){if(7>Z)return Ar(f,7,"cannot parse picture header");if(!Xl(_,D,Z))return Ar(f,3,"Bad code word");ne.c=16383&(_[D+4]<<8|_[D+3]),ne.Td=_[D+4]>>6,ne.i=16383&(_[D+6]<<8|_[D+5]),ne.Ud=_[D+6]>>6,D+=7,Z-=7,f.za=ne.c+15>>4,f.Ub=ne.i+15>>4,g.width=ne.c,g.height=ne.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,n((te=f.Pa).jb,0,255,te.jb.length),e((te=f.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,n(te.Zb,0,0,te.Zb.length),n(te.Lb,0,0,te.Lb)}if(re.ub>Z)return Ar(f,7,"bad partition length");Q(te=f.m,_,D,re.ub),D+=re.ub,Z-=re.ub,re.Rb&&(ne.Ld=ue(te),ne.Kd=ue(te)),ne=f.Qa;var de,fe=f.Pa;if(e(te!=null),e(ne!=null),ne.Cb=ue(te),ne.Cb){if(ne.Bb=ue(te),ue(te)){for(ne.Fb=ue(te),de=0;4>de;++de)ne.Zb[de]=ue(te)?q(te,7):0;for(de=0;4>de;++de)ne.Lb[de]=ue(te)?q(te,6):0}if(ne.Bb)for(de=0;3>de;++de)fe.jb[de]=ue(te)?H(te,8):255}else ne.Bb=0;if(te.Ka)return Ar(f,3,"cannot parse segment header");if((ne=f.ed).zd=ue(te),ne.Tb=H(te,6),ne.wb=H(te,3),ne.Pc=ue(te),ne.Pc&&ue(te)){for(fe=0;4>fe;++fe)ue(te)&&(ne.vd[fe]=q(te,6));for(fe=0;4>fe;++fe)ue(te)&&(ne.od[fe]=q(te,6))}if(f.L=ne.Tb==0?0:ne.zd?1:2,te.Ka)return Ar(f,3,"cannot parse filter header");var we=Z;if(Z=de=D,D=de+we,ne=we,f.Xb=(1<<H(f.m,2))-1,we<3*(fe=f.Xb))_=7;else{for(de+=3*fe,ne-=3*fe,we=0;we<fe;++we){var De=_[Z+0]|_[Z+1]<<8|_[Z+2]<<16;De>ne&&(De=ne),Q(f.Jc[+we],_,de,De),de+=De,ne-=De,Z+=3}Q(f.Jc[+fe],_,de,ne),_=de<D?0:5}if(_!=0)return Ar(f,_,"cannot parse partitions");for(_=H(de=f.m,7),Z=ue(de)?q(de,4):0,D=ue(de)?q(de,4):0,ne=ue(de)?q(de,4):0,fe=ue(de)?q(de,4):0,de=ue(de)?q(de,4):0,we=f.Qa,De=0;4>De;++De){if(we.Cb){var he=we.Zb[De];we.Fb||(he+=_)}else{if(0<De){f.pb[De]=f.pb[0];continue}he=_}var Ae=f.pb[De];Ae.Sc[0]=au[Mr(he+Z,127)],Ae.Sc[1]=nu[Mr(he+0,127)],Ae.Eb[0]=2*au[Mr(he+D,127)],Ae.Eb[1]=101581*nu[Mr(he+ne,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=au[Mr(he+fe,117)],Ae.Qc[1]=nu[Mr(he+de,127)],Ae.lc=he+de}if(!re.Rb)return Ar(f,4,"Not a key frame.");for(ue(te),re=f.Pa,_=0;4>_;++_){for(Z=0;8>Z;++Z)for(D=0;3>D;++D)for(ne=0;11>ne;++ne)fe=xe(te,s2[_][Z][D][ne])?H(te,8):t2[_][Z][D][ne],re.Wc[_][Z].Yb[D][ne]=fe;for(Z=0;17>Z;++Z)re.Xc[_][Z]=re.Wc[_][a2[Z]]}return f.kc=ue(te),f.kc&&(f.Bd=H(te,8)),f.cb=1}function Fa(f,g,_,D,Z,te,re){var ne=g[Z].Yb[_];for(_=0;16>Z;++Z){if(!xe(f,ne[_+0]))return Z;for(;!xe(f,ne[_+1]);)if(ne=g[++Z].Yb[0],_=0,Z==16)return 16;var de=g[Z+1].Yb;if(xe(f,ne[_+2])){var fe=f,we=0;if(xe(fe,(he=ne)[(De=_)+3]))if(xe(fe,he[De+6])){for(ne=0,De=2*(we=xe(fe,he[De+8]))+(he=xe(fe,he[De+9+we])),we=0,he=Qv[De];he[ne];++ne)we+=we+xe(fe,he[ne]);we+=3+(8<<De)}else xe(fe,he[De+7])?(we=7+2*xe(fe,165),we+=xe(fe,145)):we=5+xe(fe,159);else we=xe(fe,he[De+4])?3+xe(fe,he[De+5]):2;ne=de[2]}else we=1,ne=de[1];de=re+e2[Z],0>(fe=f).b&&ce(fe);var De,he=fe.b,Ae=(De=fe.Ca>>1)-(fe.I>>he)>>31;--fe.b,fe.Ca+=Ae,fe.Ca|=1,fe.I-=(De+1&Ae)<<he,te[de]=((we^Ae)-Ae)*D[(0<Z)+0]}return 16}function Zn(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,n(f.zc,0,0,f.zc.length),f.ja=0}function ra(f,g,_,D,Z){Z=f[g+_+32*D]+(Z>>3),f[g+_+32*D]=-256&Z?0>Z?0:255:Z}function Xn(f,g,_,D,Z,te){ra(f,g,0,_,D+Z),ra(f,g,1,_,D+te),ra(f,g,2,_,D-te),ra(f,g,3,_,D-Z)}function gr(f){return(20091*f>>16)+f}function $i(f,g,_,D){var Z,te=0,re=o(16);for(Z=0;4>Z;++Z){var ne=f[g+0]+f[g+8],de=f[g+0]-f[g+8],fe=(35468*f[g+4]>>16)-gr(f[g+12]),we=gr(f[g+4])+(35468*f[g+12]>>16);re[te+0]=ne+we,re[te+1]=de+fe,re[te+2]=de-fe,re[te+3]=ne-we,te+=4,g++}for(Z=te=0;4>Z;++Z)ne=(f=re[te+0]+4)+re[te+8],de=f-re[te+8],fe=(35468*re[te+4]>>16)-gr(re[te+12]),ra(_,D,0,0,ne+(we=gr(re[te+4])+(35468*re[te+12]>>16))),ra(_,D,1,0,de+fe),ra(_,D,2,0,de-fe),ra(_,D,3,0,ne-we),te++,D+=32}function Oc(f,g,_,D){var Z=f[g+0]+4,te=35468*f[g+4]>>16,re=gr(f[g+4]),ne=35468*f[g+1]>>16;Xn(_,D,0,Z+re,f=gr(f[g+1]),ne),Xn(_,D,1,Z+te,f,ne),Xn(_,D,2,Z-te,f,ne),Xn(_,D,3,Z-re,f,ne)}function Fc(f,g,_,D,Z){$i(f,g,_,D),Z&&$i(f,g+16,_,D+4)}function jc(f,g,_,D){vr(f,g+0,_,D,1),vr(f,g+32,_,D+128,1)}function ya(f,g,_,D){var Z;for(f=f[g+0]+4,Z=0;4>Z;++Z)for(g=0;4>g;++g)ra(_,D,g,Z,f)}function ed(f,g,_,D){f[g+0]&&Aa(f,g+0,_,D),f[g+16]&&Aa(f,g+16,_,D+4),f[g+32]&&Aa(f,g+32,_,D+128),f[g+48]&&Aa(f,g+48,_,D+128+4)}function td(f,g,_,D){var Z,te=o(16);for(Z=0;4>Z;++Z){var re=f[g+0+Z]+f[g+12+Z],ne=f[g+4+Z]+f[g+8+Z],de=f[g+4+Z]-f[g+8+Z],fe=f[g+0+Z]-f[g+12+Z];te[0+Z]=re+ne,te[8+Z]=re-ne,te[4+Z]=fe+de,te[12+Z]=fe-de}for(Z=0;4>Z;++Z)re=(f=te[0+4*Z]+3)+te[3+4*Z],ne=te[1+4*Z]+te[2+4*Z],de=te[1+4*Z]-te[2+4*Z],fe=f-te[3+4*Z],_[D+0]=re+ne>>3,_[D+16]=fe+de>>3,_[D+32]=re-ne>>3,_[D+48]=fe-de>>3,D+=64}function gn(f,g,_){var D,Z=g-32,te=ws,re=255-f[Z-1];for(D=0;D<_;++D){var ne,de=te,fe=re+f[g-1];for(ne=0;ne<_;++ne)f[g+ne]=de[fe+f[Z+ne]];g+=32}}function Ei(f,g){gn(f,g,4)}function Uc(f,g){gn(f,g,8)}function Bc(f,g){gn(f,g,16)}function zc(f,g){var _;for(_=0;16>_;++_)s(f,g+32*_,f,g-32,16)}function Mi(f,g){var _;for(_=16;0<_;--_)n(f,g,f[g-1],16),g+=32}function Qn(f,g,_){var D;for(D=0;16>D;++D)n(g,_+32*D,f,16)}function pn(f,g){var _,D=16;for(_=0;16>_;++_)D+=f[g-1+32*_]+f[g+_-32];Qn(D>>5,f,g)}function qc(f,g){var _,D=8;for(_=0;16>_;++_)D+=f[g-1+32*_];Qn(D>>4,f,g)}function eo(f,g){var _,D=8;for(_=0;16>_;++_)D+=f[g+_-32];Qn(D>>4,f,g)}function Ti(f,g){Qn(128,f,g)}function Pt(f,g,_){return f+2*g+_+2>>2}function Hc(f,g){var _,D=g-32;for(D=new Uint8Array([Pt(f[D-1],f[D+0],f[D+1]),Pt(f[D+0],f[D+1],f[D+2]),Pt(f[D+1],f[D+2],f[D+3]),Pt(f[D+2],f[D+3],f[D+4])]),_=0;4>_;++_)s(f,g+32*_,D,0,D.length)}function Wc(f,g){var _=f[g-1],D=f[g-1+32],Z=f[g-1+64],te=f[g-1+96];$e(f,g+0,16843009*Pt(f[g-1-32],_,D)),$e(f,g+32,16843009*Pt(_,D,Z)),$e(f,g+64,16843009*Pt(D,Z,te)),$e(f,g+96,16843009*Pt(Z,te,te))}function Vc(f,g){var _,D=4;for(_=0;4>_;++_)D+=f[g+_-32]+f[g-1+32*_];for(D>>=3,_=0;4>_;++_)n(f,g+32*_,D,4)}function Gc(f,g){var _=f[g-1+0],D=f[g-1+32],Z=f[g-1+64],te=f[g-1-32],re=f[g+0-32],ne=f[g+1-32],de=f[g+2-32],fe=f[g+3-32];f[g+0+96]=Pt(D,Z,f[g-1+96]),f[g+1+96]=f[g+0+64]=Pt(_,D,Z),f[g+2+96]=f[g+1+64]=f[g+0+32]=Pt(te,_,D),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=Pt(re,te,_),f[g+3+64]=f[g+2+32]=f[g+1+0]=Pt(ne,re,te),f[g+3+32]=f[g+2+0]=Pt(de,ne,re),f[g+3+0]=Pt(fe,de,ne)}function ja(f,g){var _=f[g+1-32],D=f[g+2-32],Z=f[g+3-32],te=f[g+4-32],re=f[g+5-32],ne=f[g+6-32],de=f[g+7-32];f[g+0+0]=Pt(f[g+0-32],_,D),f[g+1+0]=f[g+0+32]=Pt(_,D,Z),f[g+2+0]=f[g+1+32]=f[g+0+64]=Pt(D,Z,te),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=Pt(Z,te,re),f[g+3+32]=f[g+2+64]=f[g+1+96]=Pt(te,re,ne),f[g+3+64]=f[g+2+96]=Pt(re,ne,de),f[g+3+96]=Pt(ne,de,de)}function Ua(f,g){var _=f[g-1+0],D=f[g-1+32],Z=f[g-1+64],te=f[g-1-32],re=f[g+0-32],ne=f[g+1-32],de=f[g+2-32],fe=f[g+3-32];f[g+0+0]=f[g+1+64]=te+re+1>>1,f[g+1+0]=f[g+2+64]=re+ne+1>>1,f[g+2+0]=f[g+3+64]=ne+de+1>>1,f[g+3+0]=de+fe+1>>1,f[g+0+96]=Pt(Z,D,_),f[g+0+64]=Pt(D,_,te),f[g+0+32]=f[g+1+96]=Pt(_,te,re),f[g+1+32]=f[g+2+96]=Pt(te,re,ne),f[g+2+32]=f[g+3+96]=Pt(re,ne,de),f[g+3+32]=Pt(ne,de,fe)}function Kc(f,g){var _=f[g+0-32],D=f[g+1-32],Z=f[g+2-32],te=f[g+3-32],re=f[g+4-32],ne=f[g+5-32],de=f[g+6-32],fe=f[g+7-32];f[g+0+0]=_+D+1>>1,f[g+1+0]=f[g+0+64]=D+Z+1>>1,f[g+2+0]=f[g+1+64]=Z+te+1>>1,f[g+3+0]=f[g+2+64]=te+re+1>>1,f[g+0+32]=Pt(_,D,Z),f[g+1+32]=f[g+0+96]=Pt(D,Z,te),f[g+2+32]=f[g+1+96]=Pt(Z,te,re),f[g+3+32]=f[g+2+96]=Pt(te,re,ne),f[g+3+64]=Pt(re,ne,de),f[g+3+96]=Pt(ne,de,fe)}function Yc(f,g){var _=f[g-1+0],D=f[g-1+32],Z=f[g-1+64],te=f[g-1+96];f[g+0+0]=_+D+1>>1,f[g+2+0]=f[g+0+32]=D+Z+1>>1,f[g+2+32]=f[g+0+64]=Z+te+1>>1,f[g+1+0]=Pt(_,D,Z),f[g+3+0]=f[g+1+32]=Pt(D,Z,te),f[g+3+32]=f[g+1+64]=Pt(Z,te,te),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=te}function Do(f,g){var _=f[g-1+0],D=f[g-1+32],Z=f[g-1+64],te=f[g-1+96],re=f[g-1-32],ne=f[g+0-32],de=f[g+1-32],fe=f[g+2-32];f[g+0+0]=f[g+2+32]=_+re+1>>1,f[g+0+32]=f[g+2+64]=D+_+1>>1,f[g+0+64]=f[g+2+96]=Z+D+1>>1,f[g+0+96]=te+Z+1>>1,f[g+3+0]=Pt(ne,de,fe),f[g+2+0]=Pt(re,ne,de),f[g+1+0]=f[g+3+32]=Pt(_,re,ne),f[g+1+32]=f[g+3+64]=Pt(D,_,re),f[g+1+64]=f[g+3+96]=Pt(Z,D,_),f[g+1+96]=Pt(te,Z,D)}function Di(f,g){var _;for(_=0;8>_;++_)s(f,g+32*_,f,g-32,8)}function to(f,g){var _;for(_=0;8>_;++_)n(f,g,f[g-1],8),g+=32}function Io(f,g,_){var D;for(D=0;8>D;++D)n(g,_+32*D,f,8)}function Ro(f,g){var _,D=8;for(_=0;8>_;++_)D+=f[g+_-32]+f[g-1+32*_];Io(D>>4,f,g)}function Jc(f,g){var _,D=4;for(_=0;8>_;++_)D+=f[g+_-32];Io(D>>3,f,g)}function Ii(f,g){var _,D=4;for(_=0;8>_;++_)D+=f[g-1+32*_];Io(D>>3,f,g)}function Ri(f,g){Io(128,f,g)}function ro(f,g,_){var D=f[g-_],Z=f[g+0],te=3*(Z-D)+Qc[1020+f[g-2*_]-f[g+_]],re=nd[112+(te+4>>3)];f[g-_]=ws[255+D+nd[112+(te+3>>3)]],f[g+0]=ws[255+Z-re]}function so(f,g,_,D){var Z=f[g+0],te=f[g+_];return Bs[255+f[g-2*_]-f[g-_]]>D||Bs[255+te-Z]>D}function Oi(f,g,_,D){return 4*Bs[255+f[g-_]-f[g+0]]+Bs[255+f[g-2*_]-f[g+_]]<=D}function Oo(f,g,_,D,Z){var te=f[g-3*_],re=f[g-2*_],ne=f[g-_],de=f[g+0],fe=f[g+_],we=f[g+2*_],De=f[g+3*_];return 4*Bs[255+ne-de]+Bs[255+re-fe]>D?0:Bs[255+f[g-4*_]-te]<=Z&&Bs[255+te-re]<=Z&&Bs[255+re-ne]<=Z&&Bs[255+De-we]<=Z&&Bs[255+we-fe]<=Z&&Bs[255+fe-de]<=Z}function Fi(f,g,_,D){var Z=2*D+1;for(D=0;16>D;++D)Oi(f,g+D,_,Z)&&ro(f,g+D,_)}function ao(f,g,_,D){var Z=2*D+1;for(D=0;16>D;++D)Oi(f,g+D*_,1,Z)&&ro(f,g+D*_,1)}function ji(f,g,_,D){var Z;for(Z=3;0<Z;--Z)Fi(f,g+=4*_,_,D)}function Ui(f,g,_,D){var Z;for(Z=3;0<Z;--Z)ao(f,g+=4,_,D)}function xs(f,g,_,D,Z,te,re,ne){for(te=2*te+1;0<Z--;){if(Oo(f,g,_,te,re))if(so(f,g,_,ne))ro(f,g,_);else{var de=f,fe=g,we=_,De=de[fe-2*we],he=de[fe-we],Ae=de[fe+0],Ee=de[fe+we],Ue=de[fe+2*we],Te=27*(Ve=Qc[1020+3*(Ae-he)+Qc[1020+De-Ee]])+63>>7,qe=18*Ve+63>>7,Ve=9*Ve+63>>7;de[fe-3*we]=ws[255+de[fe-3*we]+Ve],de[fe-2*we]=ws[255+De+qe],de[fe-we]=ws[255+he+Te],de[fe+0]=ws[255+Ae-Te],de[fe+we]=ws[255+Ee-qe],de[fe+2*we]=ws[255+Ue-Ve]}g+=D}}function xa(f,g,_,D,Z,te,re,ne){for(te=2*te+1;0<Z--;){if(Oo(f,g,_,te,re))if(so(f,g,_,ne))ro(f,g,_);else{var de=f,fe=g,we=_,De=de[fe-we],he=de[fe+0],Ae=de[fe+we],Ee=nd[112+(4+(Ue=3*(he-De))>>3)],Ue=nd[112+(Ue+3>>3)],Te=Ee+1>>1;de[fe-2*we]=ws[255+de[fe-2*we]+Te],de[fe-we]=ws[255+De+Ue],de[fe+0]=ws[255+he-Ee],de[fe+we]=ws[255+Ae-Te]}g+=D}}function x(f,g,_,D,Z,te){xs(f,g,_,1,16,D,Z,te)}function X(f,g,_,D,Z,te){xs(f,g,1,_,16,D,Z,te)}function ge(f,g,_,D,Z,te){var re;for(re=3;0<re;--re)xa(f,g+=4*_,_,1,16,D,Z,te)}function ve(f,g,_,D,Z,te){var re;for(re=3;0<re;--re)xa(f,g+=4,1,_,16,D,Z,te)}function Ne(f,g,_,D,Z,te,re,ne){xs(f,g,Z,1,8,te,re,ne),xs(_,D,Z,1,8,te,re,ne)}function We(f,g,_,D,Z,te,re,ne){xs(f,g,1,Z,8,te,re,ne),xs(_,D,1,Z,8,te,re,ne)}function Xe(f,g,_,D,Z,te,re,ne){xa(f,g+4*Z,Z,1,8,te,re,ne),xa(_,D+4*Z,Z,1,8,te,re,ne)}function ft(f,g,_,D,Z,te,re,ne){xa(f,g+4,1,Z,8,te,re,ne),xa(_,D+4,1,Z,8,te,re,ne)}function mt(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function St(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Et(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ut(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new P,this.yc=new A}function lr(){this.xb=this.a=0,this.l=new To,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ut,this.ab=0,this.gc=i(4,Et),this.Oc=0}function Cr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new To,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Kt(f,g,_,D,Z,te,re){for(f=f==null?0:f[g+0],g=0;g<re;++g)Z[te+g]=f+_[D+g]&255,f=Z[te+g]}function Er(f,g,_,D,Z,te,re){var ne;if(f==null)Kt(null,null,_,D,Z,te,re);else for(ne=0;ne<re;++ne)Z[te+ne]=f[g+ne]+_[D+ne]&255}function Pr(f,g,_,D,Z,te,re){if(f==null)Kt(null,null,_,D,Z,te,re);else{var ne,de=f[g+0],fe=de,we=de;for(ne=0;ne<re;++ne)fe=we+(de=f[g+ne])-fe,we=_[D+ne]+(-256&fe?0>fe?0:255:fe)&255,fe=de,Z[te+ne]=we}}function Wr(f,g,_,D){var Z=g.width,te=g.o;if(e(f!=null&&g!=null),0>_||0>=D||_+D>te)return null;if(!f.Cc){if(f.ga==null){var re;if(f.ga=new Cr,(re=f.ga==null)||(re=g.width*g.o,e(f.Gb.length==0),f.Gb=o(re),f.Uc=0,f.Gb==null?re=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,re=1),re=!re),!re){re=f.ga;var ne=f.Fa,de=f.P,fe=f.qc,we=f.mb,De=f.nb,he=de+1,Ae=fe-1,Ee=re.l;if(e(ne!=null&&we!=null&&g!=null),wn[0]=null,wn[1]=Kt,wn[2]=Er,wn[3]=Pr,re.ca=we,re.tb=De,re.c=g.width,re.i=g.height,e(0<re.c&&0<re.i),1>=fe)g=0;else if(re.$a=3&ne[de+0],re.Z=ne[de+0]>>2&3,re.Lc=ne[de+0]>>4&3,de=ne[de+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||de)g=0;else if(Ee.put=wt,Ee.ac=ma,Ee.bc=Ra,Ee.ma=re,Ee.width=g.width,Ee.height=g.height,Ee.Da=g.Da,Ee.v=g.v,Ee.va=g.va,Ee.j=g.j,Ee.o=g.o,re.$a)e:{e(re.$a==1),g=Yn();t:for(;;){if(g==null){g=0;break e}if(e(re!=null),re.mc=g,g.c=re.c,g.i=re.i,g.l=re.l,g.l.ma=re,g.l.width=re.c,g.l.height=re.i,g.a=0,M(g.m,ne,he,Ae),!ba(re.c,re.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Qs(g.s)?(re.ic=1,ne=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o(ne),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(re.ic=0,g=Jn(g,re.c)),!g))break t;g=1;break e}re.mc=null,g=0}else g=Ae>=re.c*re.i;re=!g}if(re)return null;f.ga.Lc!=1?f.Ga=0:D=te-_}e(f.ga!=null),e(_+D<=te);e:{if(g=(ne=f.ga).c,te=ne.l.o,ne.$a==0){if(he=f.rc,Ae=f.Vc,Ee=f.Fa,de=f.P+1+_*g,fe=f.mb,we=f.nb+_*g,e(de<=f.P+f.qc),ne.Z!=0)for(e(wn[ne.Z]!=null),re=0;re<D;++re)wn[ne.Z](he,Ae,Ee,de,fe,we,g),he=fe,Ae=we,we+=g,de+=g;else for(re=0;re<D;++re)s(fe,we,Ee,de,g),he=fe,Ae=we,we+=g,de+=g;f.rc=he,f.Vc=Ae}else{if(e(ne.mc!=null),g=_+D,e((re=ne.mc)!=null),e(g<=re.i),re.C>=g)g=1;else if(ne.ic||no(),ne.ic){ne=re.V,he=re.Ba,Ae=re.c;var Ue=re.i,Te=(Ee=1,de=re.$/Ae,fe=re.$%Ae,we=re.m,De=re.s,re.$),qe=Ae*Ue,Ve=Ae*g,et=De.wc,Ze=Te<Ve?Hr(De,fe,de):null;e(Te<=qe),e(g<=Ue),e(Qs(De));t:for(;;){for(;!we.h&&Te<Ve;){if(fe&et||(Ze=Hr(De,fe,de)),e(Ze!=null),J(we),256>(Ue=dr(Ze.G[0],Ze.H[0],we)))ne[he+Te]=Ue,++Te,++fe>=Ae&&(fe=0,++de<=g&&!(de%16)&&ea(re,de));else{if(!(280>Ue)){Ee=0;break t}Ue=Rs(Ue-256,we);var bt,ct=dr(Ze.G[4],Ze.H[4],we);if(J(we),!(Te>=(ct=Os(Ae,ct=Rs(ct,we)))&&qe-Te>=Ue)){Ee=0;break t}for(bt=0;bt<Ue;++bt)ne[he+Te+bt]=ne[he+Te+bt-ct];for(Te+=Ue,fe+=Ue;fe>=Ae;)fe-=Ae,++de<=g&&!(de%16)&&ea(re,de);Te<Ve&&fe&et&&(Ze=Hr(De,fe,de))}e(we.h==B(we))}ea(re,de>g?g:de);break t}!Ee||we.h&&Te<qe?(Ee=0,re.a=we.h?5:3):re.$=Te,g=Ee}else g=ta(re,re.V,re.Ba,re.c,re.i,g,$o);if(!g){D=0;break e}}_+D>=te&&(f.Cc=1),D=1}if(!D)return null;if(f.Cc&&((D=f.ga)!=null&&(D.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+_*Z}function Ba(f,g,_,D,Z,te){for(;0<Z--;){var re,ne=f,de=g+(_?1:0),fe=f,we=g+(_?0:3);for(re=0;re<D;++re){var De=fe[we+4*re];De!=255&&(De*=32897,ne[de+4*re+0]=ne[de+4*re+0]*De>>23,ne[de+4*re+1]=ne[de+4*re+1]*De>>23,ne[de+4*re+2]=ne[de+4*re+2]*De>>23)}g+=te}}function mn(f,g,_,D,Z){for(;0<D--;){var te;for(te=0;te<_;++te){var re=f[g+2*te+0],ne=15&(fe=f[g+2*te+1]),de=4369*ne,fe=(240&fe|fe>>4)*de>>16;f[g+2*te+0]=(240&re|re>>4)*de>>16&240|(15&re|re<<4)*de>>16>>4&15,f[g+2*te+1]=240&fe|ne}g+=Z}}function Zc(f,g,_,D,Z,te,re,ne){var de,fe,we=255;for(fe=0;fe<Z;++fe){for(de=0;de<D;++de){var De=f[g+de];te[re+4*de]=De,we&=De}g+=_,re+=ne}return we!=255}function rd(f,g,_,D,Z){var te;for(te=0;te<Z;++te)_[D+te]=f[g+te]>>8}function no(){Yi=Ba,Pf=mn,Nf=Zc,Lf=rd}function sa(f,g,_){v[f]=function(D,Z,te,re,ne,de,fe,we,De,he,Ae,Ee,Ue,Te,qe,Ve,et){var Ze,bt=et-1>>1,ct=ne[de+0]|fe[we+0]<<16,Mt=De[he+0]|Ae[Ee+0]<<16;e(D!=null);var gt=3*ct+Mt+131074>>2;for(g(D[Z+0],255&gt,gt>>16,Ue,Te),te!=null&&(gt=3*Mt+ct+131074>>2,g(te[re+0],255&gt,gt>>16,qe,Ve)),Ze=1;Ze<=bt;++Ze){var Rt=ne[de+Ze]|fe[we+Ze]<<16,Tr=De[he+Ze]|Ae[Ee+Ze]<<16,Tt=ct+Rt+Mt+Tr+524296,pt=Tt+2*(Rt+Mt)>>3;gt=pt+ct>>1,ct=(Tt=Tt+2*(ct+Tr)>>3)+Rt>>1,g(D[Z+2*Ze-1],255&gt,gt>>16,Ue,Te+(2*Ze-1)*_),g(D[Z+2*Ze-0],255&ct,ct>>16,Ue,Te+(2*Ze-0)*_),te!=null&&(gt=Tt+Mt>>1,ct=pt+Tr>>1,g(te[re+2*Ze-1],255&gt,gt>>16,qe,Ve+(2*Ze-1)*_),g(te[re+2*Ze+0],255&ct,ct>>16,qe,Ve+(2*Ze+0)*_)),ct=Rt,Mt=Tr}1&et||(gt=3*ct+Mt+131074>>2,g(D[Z+et-1],255&gt,gt>>16,Ue,Te+(et-1)*_),te!=null&&(gt=3*Mt+ct+131074>>2,g(te[re+et-1],255&gt,gt>>16,qe,Ve+(et-1)*_)))}}function Bi(){zs[od]=o2,zs[id]=Uf,zs[If]=i2,zs[ld]=Bf,zs[dd]=zf,zs[eu]=qf,zs[Rf]=l2,zs[tu]=Uf,zs[ru]=Bf,zs[cd]=zf,zs[su]=qf}function Fo(f){return f&-16384?0>f?0:255:f>>d2}function vn(f,g){return Fo((19077*f>>8)+(26149*g>>8)-14234)}function Or(f,g,_){return Fo((19077*f>>8)-(6419*g>>8)-(13320*_>>8)+8708)}function za(f,g){return Fo((19077*f>>8)+(33050*g>>8)-17685)}function qa(f,g,_,D,Z){D[Z+0]=vn(f,_),D[Z+1]=Or(f,g,_),D[Z+2]=za(f,g)}function jo(f,g,_,D,Z){D[Z+0]=za(f,g),D[Z+1]=Or(f,g,_),D[Z+2]=vn(f,_)}function zi(f,g,_,D,Z){var te=Or(f,g,_);g=te<<3&224|za(f,g)>>3,D[Z+0]=248&vn(f,_)|te>>5,D[Z+1]=g}function ds(f,g,_,D,Z){var te=240&za(f,g)|15;D[Z+0]=240&vn(f,_)|Or(f,g,_)>>4,D[Z+1]=te}function sd(f,g,_,D,Z){D[Z+0]=255,qa(f,g,_,D,Z+1)}function Uo(f,g,_,D,Z){jo(f,g,_,D,Z),D[Z+3]=255}function ad(f,g,_,D,Z){qa(f,g,_,D,Z),D[Z+3]=255}function Mr(f,g){return 0>f?0:f>g?g:f}function Us(f,g,_){v[f]=function(D,Z,te,re,ne,de,fe,we,De){for(var he=we+(-2&De)*_;we!=he;)g(D[Z+0],te[re+0],ne[de+0],fe,we),g(D[Z+1],te[re+0],ne[de+0],fe,we+_),Z+=2,++re,++de,we+=2*_;1&De&&g(D[Z+0],te[re+0],ne[de+0],fe,we)}}function qi(f,g,_){return _==0?f==0?g==0?6:5:g==0?4:0:_}function Hi(f,g,_,D,Z){switch(f>>>30){case 3:vr(g,_,D,Z,0);break;case 2:Wa(g,_,D,Z);break;case 1:Aa(g,_,D,Z)}}function bn(f,g){var _,D,Z=g.M,te=g.Nb,re=f.oc,ne=f.pc+40,de=f.oc,fe=f.pc+584,we=f.oc,De=f.pc+600;for(_=0;16>_;++_)re[ne+32*_-1]=129;for(_=0;8>_;++_)de[fe+32*_-1]=129,we[De+32*_-1]=129;for(0<Z?re[ne-1-32]=de[fe-1-32]=we[De-1-32]=129:(n(re,ne-32-1,127,21),n(de,fe-32-1,127,9),n(we,De-32-1,127,9)),D=0;D<f.za;++D){var he=g.ya[g.aa+D];if(0<D){for(_=-1;16>_;++_)s(re,ne+32*_-4,re,ne+32*_+12,4);for(_=-1;8>_;++_)s(de,fe+32*_-4,de,fe+32*_+4,4),s(we,De+32*_-4,we,De+32*_+4,4)}var Ae=f.Gd,Ee=f.Hd+D,Ue=he.ad,Te=he.Hc;if(0<Z&&(s(re,ne-32,Ae[Ee].y,0,16),s(de,fe-32,Ae[Ee].f,0,8),s(we,De-32,Ae[Ee].ea,0,8)),he.Za){var qe=re,Ve=ne-32+16;for(0<Z&&(D>=f.za-1?n(qe,Ve,Ae[Ee].y[15],4):s(qe,Ve,Ae[Ee+1].y,0,4)),_=0;4>_;_++)qe[Ve+128+_]=qe[Ve+256+_]=qe[Ve+384+_]=qe[Ve+0+_];for(_=0;16>_;++_,Te<<=2)qe=re,Ve=ne+Wf[_],aa[he.Ob[_]](qe,Ve),Hi(Te,Ue,16*+_,qe,Ve)}else if(qe=qi(D,Z,he.Ob[0]),kn[qe](re,ne),Te!=0)for(_=0;16>_;++_,Te<<=2)Hi(Te,Ue,16*+_,re,ne+Wf[_]);for(_=he.Gc,qe=qi(D,Z,he.Dd),Va[qe](de,fe),Va[qe](we,De),Te=Ue,qe=de,Ve=fe,255&(he=0|_)&&(170&he?Wo(Te,256,qe,Ve):Ki(Te,256,qe,Ve)),he=we,Te=De,255&(_>>=8)&&(170&_?Wo(Ue,320,he,Te):Ki(Ue,320,he,Te)),Z<f.Ub-1&&(s(Ae[Ee].y,0,re,ne+480,16),s(Ae[Ee].f,0,de,fe+224,8),s(Ae[Ee].ea,0,we,De+224,8)),_=8*te*f.B,Ae=f.sa,Ee=f.ta+16*D+16*te*f.R,Ue=f.qa,he=f.ra+8*D+_,Te=f.Ha,qe=f.Ia+8*D+_,_=0;16>_;++_)s(Ae,Ee+_*f.R,re,ne+32*_,16);for(_=0;8>_;++_)s(Ue,he+_*f.B,de,fe+32*_,8),s(Te,qe+_*f.B,we,De+32*_,8)}}function Bo(f,g,_,D,Z,te,re,ne,de){var fe=[0],we=[0],De=0,he=de!=null?de.kd:0,Ae=de??new St;if(f==null||12>_)return 7;Ae.data=f,Ae.w=g,Ae.ha=_,g=[g],_=[_],Ae.gb=[Ae.gb];e:{var Ee=g,Ue=_,Te=Ae.gb;if(e(f!=null),e(Ue!=null),e(Te!=null),Te[0]=0,12<=Ue[0]&&!r(f,Ee[0],"RIFF")){if(r(f,Ee[0]+8,"WEBP")){Te=3;break e}var qe=oe(f,Ee[0]+4);if(12>qe||4294967286<qe){Te=3;break e}if(he&&qe>Ue[0]-8){Te=7;break e}Te[0]=qe,Ee[0]+=12,Ue[0]-=12}Te=0}if(Te!=0)return Te;for(qe=0<Ae.gb[0],_=_[0];;){e:{var Ve=f;Ue=g,Te=_;var et=fe,Ze=we,bt=Ee=[0];if((gt=De=[De])[0]=0,8>Te[0])Te=7;else{if(!r(Ve,Ue[0],"VP8X")){if(oe(Ve,Ue[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var ct=oe(Ve,Ue[0]+8),Mt=1+ie(Ve,Ue[0]+12);if(2147483648<=Mt*(Ve=1+ie(Ve,Ue[0]+15))){Te=3;break e}bt!=null&&(bt[0]=ct),et!=null&&(et[0]=Mt),Ze!=null&&(Ze[0]=Ve),Ue[0]+=18,Te[0]-=18,gt[0]=1}Te=0}}if(De=De[0],Ee=Ee[0],Te!=0)return Te;if(Ue=!!(2&Ee),!qe&&De)return 3;if(te!=null&&(te[0]=!!(16&Ee)),re!=null&&(re[0]=Ue),ne!=null&&(ne[0]=0),re=fe[0],Ee=we[0],De&&Ue&&de==null){Te=0;break}if(4>_){Te=7;break}if(qe&&De||!qe&&!De&&!r(f,g[0],"ALPH")){_=[_],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{ct=f,Te=g,qe=_;var gt=Ae.gb;et=Ae.na,Ze=Ae.P,bt=Ae.Sa,Mt=22,e(ct!=null),e(qe!=null),Ve=Te[0];var Rt=qe[0];for(e(et!=null),e(bt!=null),et[0]=null,Ze[0]=null,bt[0]=0;;){if(Te[0]=Ve,qe[0]=Rt,8>Rt){Te=7;break e}var Tr=oe(ct,Ve+4);if(4294967286<Tr){Te=3;break e}var Tt=8+Tr+1&-2;if(Mt+=Tt,0<gt&&Mt>gt){Te=3;break e}if(!r(ct,Ve,"VP8 ")||!r(ct,Ve,"VP8L")){Te=0;break e}if(Rt[0]<Tt){Te=7;break e}r(ct,Ve,"ALPH")||(et[0]=ct,Ze[0]=Ve+8,bt[0]=Tr),Ve+=Tt,Rt-=Tt}}if(_=_[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],Te!=0)break}_=[_],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(gt=f,Te=g,qe=_,et=Ae.gb[0],Ze=Ae.Ja,bt=Ae.xa,ct=Te[0],Ve=!r(gt,ct,"VP8 "),Mt=!r(gt,ct,"VP8L"),e(gt!=null),e(qe!=null),e(Ze!=null),e(bt!=null),8>qe[0])Te=7;else{if(Ve||Mt){if(gt=oe(gt,ct+4),12<=et&&gt>et-12){Te=3;break e}if(he&&gt>qe[0]-8){Te=7;break e}Ze[0]=gt,Te[0]+=8,qe[0]-=8,bt[0]=Mt}else bt[0]=5<=qe[0]&&gt[ct+0]==47&&!(gt[ct+4]>>5),Ze[0]=qe[0];Te=0}if(_=_[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],g=g[0],Te!=0)break;if(4294967286<Ae.Ja)return 3;if(ne==null||Ue||(ne[0]=Ae.xa?2:1),re=[re],Ee=[Ee],Ae.xa){if(5>_){Te=7;break}ne=re,he=Ee,Ue=te,f==null||5>_?f=0:5<=_&&f[g+0]==47&&!(f[g+4]>>5)?(qe=[0],gt=[0],et=[0],M(Ze=new O,f,g,_),Oa(Ze,qe,gt,et)?(ne!=null&&(ne[0]=qe[0]),he!=null&&(he[0]=gt[0]),Ue!=null&&(Ue[0]=et[0]),f=1):f=0):f=0}else{if(10>_){Te=7;break}ne=Ee,f==null||10>_||!Xl(f,g+3,_-3)?f=0:(he=f[g+0]|f[g+1]<<8|f[g+2]<<16,Ue=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=Ae.Ja||!Ue||!f?f=0:(re&&(re[0]=Ue),ne&&(ne[0]=f),f=1))}if(!f||(re=re[0],Ee=Ee[0],De&&(fe[0]!=re||we[0]!=Ee)))return 3;de!=null&&(de[0]=Ae,de.offset=g-de.w,e(4294967286>g-de.w),e(de.offset==de.ha-_));break}return Te==0||Te==7&&De&&de==null?(te!=null&&(te[0]|=Ae.na!=null&&0<Ae.na.length),D!=null&&(D[0]=re),Z!=null&&(Z[0]=Ee),0):Te}function ps(f,g,_){var D=g.width,Z=g.height,te=0,re=0,ne=D,de=Z;if(g.Da=f!=null&&0<f.Da,g.Da&&(ne=f.cd,de=f.bd,te=f.v,re=f.j,11>_||(te&=-2,re&=-2),0>te||0>re||0>=ne||0>=de||te+ne>D||re+de>Z))return 0;if(g.v=te,g.j=re,g.va=te+ne,g.o=re+de,g.U=ne,g.T=de,g.da=f!=null&&0<f.da,g.da){if(!_e(ne,de,_=[f.ib],te=[f.hb]))return 0;g.ib=_[0],g.hb=te[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*D/4&&g.hb<3*Z/4,g.Kb=0),1}function ms(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function oo(f,g,_,D){if(D==null||0>=f||0>=g)return 2;if(_!=null){if(_.Da){var Z=_.cd,te=_.bd,re=-2&_.v,ne=-2&_.j;if(0>re||0>ne||0>=Z||0>=te||re+Z>f||ne+te>g)return 2;f=Z,g=te}if(_.da){if(!_e(f,g,Z=[_.ib],te=[_.hb]))return 2;f=Z[0],g=te[0]}}D.width=f,D.height=g;e:{var de=D.width,fe=D.height;if(f=D.S,0>=de||0>=fe||!(f>=od&&13>f))f=2;else{if(0>=D.Rd&&D.sd==null){re=te=Z=g=0;var we=(ne=de*Vf[f])*fe;if(11>f||(te=(fe+1)/2*(g=(de+1)/2),f==12&&(re=(Z=de)*fe)),(fe=o(we+2*te+re))==null){f=1;break e}D.sd=fe,11>f?((de=D.f.RGBA).eb=fe,de.fb=0,de.A=ne,de.size=we):((de=D.f.kb).y=fe,de.O=0,de.fa=ne,de.Fd=we,de.f=fe,de.N=0+we,de.Ab=g,de.Cd=te,de.ea=fe,de.W=0+we+te,de.Db=g,de.Ed=te,f==12&&(de.F=fe,de.J=0+we+2*te),de.Tc=re,de.lb=Z)}if(g=1,Z=D.S,te=D.width,re=D.height,Z>=od&&13>Z)if(11>Z)f=D.f.RGBA,g&=(ne=Math.abs(f.A))*(re-1)+te<=f.size,g&=ne>=te*Vf[Z],g&=f.eb!=null;else{f=D.f.kb,ne=(te+1)/2,we=(re+1)/2,de=Math.abs(f.fa),fe=Math.abs(f.Ab);var De=Math.abs(f.Db),he=Math.abs(f.lb),Ae=he*(re-1)+te;g&=de*(re-1)+te<=f.Fd,g&=fe*(we-1)+ne<=f.Cd,g=(g&=De*(we-1)+ne<=f.Ed)&de>=te&fe>=ne&De>=ne,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,Z==12&&(g&=he>=te,g&=Ae<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||_!=null&&_.fd&&(f=ms(D)),f}var ka=64,yn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wi=24,xn=32,pr=8,Xc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),v.Predictor0=function(){return 4278190080},v.Predictor1=function(f){return f},v.Predictor2=function(f,g,_){return g[_+0]},v.Predictor3=function(f,g,_){return g[_+1]},v.Predictor4=function(f,g,_){return g[_-1]},v.Predictor5=function(f,g,_){return je(je(f,g[_+1]),g[_+0])},v.Predictor6=function(f,g,_){return je(f,g[_-1])},v.Predictor7=function(f,g,_){return je(f,g[_+0])},v.Predictor8=function(f,g,_){return je(g[_-1],g[_+0])},v.Predictor9=function(f,g,_){return je(g[_+0],g[_+1])},v.Predictor10=function(f,g,_){return je(je(f,g[_-1]),je(g[_+0],g[_+1]))},v.Predictor11=function(f,g,_){var D=g[_+0];return 0>=Ye(D>>24&255,f>>24&255,(g=g[_-1])>>24&255)+Ye(D>>16&255,f>>16&255,g>>16&255)+Ye(D>>8&255,f>>8&255,g>>8&255)+Ye(255&D,255&f,255&g)?D:f},v.Predictor12=function(f,g,_){var D=g[_+0];return(Be((f>>24&255)+(D>>24&255)-((g=g[_-1])>>24&255))<<24|Be((f>>16&255)+(D>>16&255)-(g>>16&255))<<16|Be((f>>8&255)+(D>>8&255)-(g>>8&255))<<8|Be((255&f)+(255&D)-(255&g)))>>>0},v.Predictor13=function(f,g,_){var D=g[_-1];return(Ge((f=je(f,g[_+0]))>>24&255,D>>24&255)<<24|Ge(f>>16&255,D>>16&255)<<16|Ge(f>>8&255,D>>8&255)<<8|Ge(255&f,255&D))>>>0};var wa=v.PredictorAdd0;v.PredictorAdd1=ot,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var _a=v.PredictorAdd2;Se("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Se("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var zo,Vi=v.ColorIndexInverseTransform,qo=v.MapARGB,Ho=v.VP8LColorIndexInverseTransformAlpha,io=v.MapAlpha,lo=v.VP8LPredictorsAdd=[];lo.length=16,(v.VP8LPredictors=[]).length=16,(v.VP8LPredictorsAdd_C=[]).length=16,(v.VP8LPredictors_C=[]).length=16;var Ha,Gi,ks,Sa,er,tr,mr,vr,Wa,Wo,Aa,Ki,pf,mf,vf,bf,yf,xf,kf,wf,_f,Sf,Af,Cf,Yi,Pf,Nf,Lf,$f=o(511),Ef=o(2041),Mf=o(225),Tf=o(767),Df=0,Qc=Ef,nd=Mf,ws=Tf,Bs=$f,od=0,id=1,If=2,ld=3,dd=4,eu=5,Rf=6,tu=7,ru=8,cd=9,su=10,Vv=[2,3,7],Gv=[3,3,11],Of=[280,256,256,256,40],Kv=[0,1,1,1,0],Yv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Xv=8,au=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],nu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ji=null,Qv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],e2=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ff=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],t2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],r2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],s2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],a2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],kn=[],aa=[],Va=[],n2=1,jf=2,wn=[],zs=[];sa("UpsampleRgbLinePair",qa,3),sa("UpsampleBgrLinePair",jo,3),sa("UpsampleRgbaLinePair",ad,4),sa("UpsampleBgraLinePair",Uo,4),sa("UpsampleArgbLinePair",sd,4),sa("UpsampleRgba4444LinePair",ds,2),sa("UpsampleRgb565LinePair",zi,2);var o2=v.UpsampleRgbLinePair,i2=v.UpsampleBgrLinePair,Uf=v.UpsampleRgbaLinePair,Bf=v.UpsampleBgraLinePair,zf=v.UpsampleArgbLinePair,qf=v.UpsampleRgba4444LinePair,l2=v.UpsampleRgb565LinePair,ud=16,fd=1<<ud-1,Zi=-227,ou=482,d2=6,Hf=0,c2=o(256),u2=o(256),f2=o(256),h2=o(256),g2=o(ou-Zi),p2=o(ou-Zi);Us("YuvToRgbRow",qa,3),Us("YuvToBgrRow",jo,3),Us("YuvToRgbaRow",ad,4),Us("YuvToBgraRow",Uo,4),Us("YuvToArgbRow",sd,4),Us("YuvToRgba4444Row",ds,2),Us("YuvToRgb565Row",zi,2);var Wf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hd=[0,2,8],m2=[8,7,6,4,4,2,2,2,1,1,1,1],v2=1;this.WebPDecodeRGBA=function(f,g,_,D,Z){var te=id,re=new mt,ne=new Yt;re.ba=ne,ne.S=te,ne.width=[ne.width],ne.height=[ne.height];var de=ne.width,fe=ne.height,we=new Ct;if(we==null||f==null)var De=2;else e(we!=null),De=Bo(f,g,_,we.width,we.height,we.Pd,we.Qd,we.format,null);if(De!=0?de=0:(de!=null&&(de[0]=we.width[0]),fe!=null&&(fe[0]=we.height[0]),de=1),de){ne.width=ne.width[0],ne.height=ne.height[0],D!=null&&(D[0]=ne.width),Z!=null&&(Z[0]=ne.height);e:{if(D=new To,(Z=new St).data=f,Z.w=g,Z.ha=_,Z.kd=1,g=[0],e(Z!=null),((f=Bo(Z.data,Z.w,Z.ha,null,null,null,g,null,Z))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(e(re!=null),D.data=Z.data,D.w=Z.w+Z.offset,D.ha=Z.ha-Z.offset,D.put=wt,D.ac=ma,D.bc=Ra,D.ma=re,Z.xa){if((f=Yn())==null){re=1;break e}if((function(he,Ae){var Ee=[0],Ue=[0],Te=[0];t:for(;;){if(he==null)return 0;if(Ae==null)return he.a=2,0;if(he.l=Ae,he.a=0,M(he.m,Ae.data,Ae.w,Ae.ha),!Oa(he.m,Ee,Ue,Te)){he.a=3;break t}if(he.xb=jf,Ae.width=Ee[0],Ae.height=Ue[0],!ba(Ee[0],Ue[0],1,he,null))break t;return 1}return e(he.a!=0),0})(f,D)){if(D=(g=oo(D.width,D.height,re.Oa,re.ba))==0){t:{D=f;r:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((_=D.l)!=null),e((Z=_.ma)!=null),D.xb!=0){if(D.ca=Z.ba,D.tb=Z.tb,e(D.ca!=null),!ps(Z.Oa,_,ld)){D.a=2;break r}if(!Jn(D,_.width)||_.da)break r;if((_.da||kt(D.ca.S))&&no(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&no()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!j(D.s.vb,D.s.Wa.Xa)){D.a=1;break r}D.xb=0}if(!ta(D,D.V,D.Ba,D.c,D.i,_.o,hn))break r;Z.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(g=f.a)}else g=f.a}else{if((f=new Rc)==null){re=1;break e}if(f.Fa=Z.na,f.P=Z.P,f.qc=Z.Sa,Ql(f,D)){if((g=oo(D.width,D.height,re.Oa,re.ba))==0){if(f.Aa=0,_=re.Oa,e((Z=f)!=null),_!=null){if(0<(de=0>(de=_.Md)?0:100<de?255:255*de/100)){for(fe=we=0;4>fe;++fe)12>(De=Z.pb[fe]).lc&&(De.ia=de*m2[0>De.lc?0:De.lc]>>3),we|=De.ia;we&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=_.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(he,Ae){if(he==null)return 0;if(Ae==null)return Ar(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!Ql(he,Ae))return 0;if(e(he.cb),Ae.ac==null||Ae.ac(Ae)){Ae.ob&&(he.L=0);var Ee=hd[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=Ae.v-Ee>>4,he.zb=Ae.j-Ee>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=Ae.o+15+Ee>>4,he.Hb=Ae.va+15+Ee>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var Ue=he.ed;for(Ee=0;4>Ee;++Ee){var Te;if(he.Qa.Cb){var qe=he.Qa.Lb[Ee];he.Qa.Fb||(qe+=Ue.Tb)}else qe=Ue.Tb;for(Te=0;1>=Te;++Te){var Ve=he.gd[Ee][Te],et=qe;if(Ue.Pc&&(et+=Ue.vd[0],Te&&(et+=Ue.od[0])),0<(et=0>et?0:63<et?63:et)){var Ze=et;0<Ue.wb&&(Ze=4<Ue.wb?Ze>>2:Ze>>1)>9-Ue.wb&&(Ze=9-Ue.wb),1>Ze&&(Ze=1),Ve.dd=Ze,Ve.tc=2*et+Ze,Ve.ld=40<=et?2:15<=et?1:0}else Ve.tc=0;Ve.La=Te}}}Ee=0}else Ar(he,6,"Frame setup failed"),Ee=he.a;if(Ee=Ee==0){if(Ee){he.$c=0,0<he.Aa||(he.Ic=v2);t:{Ee=he.Ic,Ue=4*(Ze=he.za);var bt=32*Ze,ct=Ze+1,Mt=0<he.L?Ze*(0<he.Aa?2:1):0,gt=(he.Aa==2?2:1)*Ze;if((Ve=Ue+832+(Te=3*(16*Ee+hd[he.L])/2*bt)+(qe=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=Ve)Ee=0;else{if(Ve>he.Vb){if(he.Vb=0,he.Ec=o(Ve),he.Fc=0,he.Ec==null){Ee=Ar(he,1,"no memory during frame initialization.");break t}he.Vb=Ve}Ve=he.Ec,et=he.Fc,he.Ac=Ve,he.Bc=et,et+=Ue,he.Gd=i(bt,Jl),he.Hd=0,he.rb=i(ct+1,Ni),he.sb=1,he.wa=Mt?i(Mt,js):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=Ze),e(!0),he.oc=Ve,he.pc=et,et+=832,he.ya=i(gt,Li),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=Ze),he.R=16*Ze,he.B=8*Ze,Ze=(bt=hd[he.L])*he.R,bt=bt/2*he.B,he.sa=Ve,he.ta=et+Ze,he.qa=he.sa,he.ra=he.ta+16*Ee*he.R+bt,he.Ha=he.qa,he.Ia=he.ra+8*Ee*he.B+bt,he.$c=0,et+=Te,he.mb=qe?Ve:null,he.nb=qe?et:null,e(et+qe<=he.Fc+he.Vb),Zn(he),n(he.Ac,he.Bc,0,Ue),Ee=1}}if(Ee){if(Ae.ka=0,Ae.y=he.sa,Ae.O=he.ta,Ae.f=he.qa,Ae.N=he.ra,Ae.ea=he.Ha,Ae.Vd=he.Ia,Ae.fa=he.R,Ae.Rc=he.B,Ae.F=null,Ae.J=0,!Df){for(Ee=-255;255>=Ee;++Ee)$f[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)Ef[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)Mf[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Tf[255+Ee]=0>Ee?0:255<Ee?255:Ee;Df=1}mr=td,vr=Fc,Wo=jc,Aa=ya,Ki=ed,Wa=Oc,pf=x,mf=X,vf=Ne,bf=We,yf=ge,xf=ve,kf=Xe,wf=ft,_f=Fi,Sf=ao,Af=ji,Cf=Ui,aa[0]=Vc,aa[1]=Ei,aa[2]=Hc,aa[3]=Wc,aa[4]=Gc,aa[5]=Ua,aa[6]=ja,aa[7]=Kc,aa[8]=Do,aa[9]=Yc,kn[0]=pn,kn[1]=Bc,kn[2]=zc,kn[3]=Mi,kn[4]=qc,kn[5]=eo,kn[6]=Ti,Va[0]=Ro,Va[1]=Uc,Va[2]=Di,Va[3]=to,Va[4]=Ii,Va[5]=Jc,Va[6]=Ri,Ee=1}else Ee=0}Ee&&(Ee=(function(Rt,Tr){for(Rt.M=0;Rt.M<Rt.Va;++Rt.M){var Tt,pt=Rt.Jc[Rt.M&Rt.Xb],nt=Rt.m,br=Rt;for(Tt=0;Tt<br.za;++Tt){var $t=nt,Ot=br,ar=Ot.Ac,Vr=Ot.Bc+4*Tt,cs=Ot.zc,cr=Ot.ya[Ot.aa+Tt];if(Ot.Qa.Bb?cr.$b=xe($t,Ot.Pa.jb[0])?2+xe($t,Ot.Pa.jb[2]):xe($t,Ot.Pa.jb[1]):cr.$b=0,Ot.kc&&(cr.Ad=xe($t,Ot.Bd)),cr.Za=!xe($t,145)+0,cr.Za){var Qr=cr.Ob,us=0;for(Ot=0;4>Ot;++Ot){var Dr,Ft=cs[0+Ot];for(Dr=0;4>Dr;++Dr){Ft=r2[ar[Vr+Dr]][Ft];for(var Wt=Ff[xe($t,Ft[0])];0<Wt;)Wt=Ff[2*Wt+xe($t,Ft[Wt])];Ft=-Wt,ar[Vr+Dr]=Ft}s(Qr,us,ar,Vr,4),us+=4,cs[0+Ot]=Ft}}else Ft=xe($t,156)?xe($t,128)?1:3:xe($t,163)?2:0,cr.Ob[0]=Ft,n(ar,Vr,Ft,4),n(cs,0,Ft,4);cr.Dd=xe($t,142)?xe($t,114)?xe($t,183)?1:3:2:0}if(br.m.Ka)return Ar(Rt,7,"Premature end-of-partition0 encountered.");for(;Rt.ja<Rt.za;++Rt.ja){if(br=pt,$t=(nt=Rt).rb[nt.sb-1],ar=nt.rb[nt.sb+nt.ja],Tt=nt.ya[nt.aa+nt.ja],Vr=nt.kc?Tt.Ad:0)$t.la=ar.la=0,Tt.Za||($t.Na=ar.Na=0),Tt.Hc=0,Tt.Gc=0,Tt.ia=0;else{var ur,Vt;if($t=ar,ar=br,Vr=nt.Pa.Xc,cs=nt.ya[nt.aa+nt.ja],cr=nt.pb[cs.$b],Ot=cs.ad,Qr=0,us=nt.rb[nt.sb-1],Ft=Dr=0,n(Ot,Qr,0,384),cs.Za)var Gr=0,na=Vr[3];else{Wt=o(16);var yr=$t.Na+us.Na;if(yr=Ji(ar,Vr[1],yr,cr.Eb,0,Wt,0),$t.Na=us.Na=(0<yr)+0,1<yr)mr(Wt,0,Ot,Qr);else{var vs=Wt[0]+3>>3;for(Wt=0;256>Wt;Wt+=16)Ot[Qr+Wt]=vs}Gr=1,na=Vr[0]}var Jt=15&$t.la,Ir=15&us.la;for(Wt=0;4>Wt;++Wt){var _s=1&Ir;for(vs=Vt=0;4>vs;++vs)Jt=Jt>>1|(_s=(yr=Ji(ar,na,yr=_s+(1&Jt),cr.Sc,Gr,Ot,Qr))>Gr)<<7,Vt=Vt<<2|(3<yr?3:1<yr?2:Ot[Qr+0]!=0),Qr+=16;Jt>>=4,Ir=Ir>>1|_s<<7,Dr=(Dr<<8|Vt)>>>0}for(na=Jt,Gr=Ir>>4,ur=0;4>ur;ur+=2){for(Vt=0,Jt=$t.la>>4+ur,Ir=us.la>>4+ur,Wt=0;2>Wt;++Wt){for(_s=1&Ir,vs=0;2>vs;++vs)yr=_s+(1&Jt),Jt=Jt>>1|(_s=0<(yr=Ji(ar,Vr[2],yr,cr.Qc,0,Ot,Qr)))<<3,Vt=Vt<<2|(3<yr?3:1<yr?2:Ot[Qr+0]!=0),Qr+=16;Jt>>=2,Ir=Ir>>1|_s<<5}Ft|=Vt<<4*ur,na|=Jt<<4<<ur,Gr|=(240&Ir)<<ur}$t.la=na,us.la=Gr,cs.Hc=Dr,cs.Gc=Ft,cs.ia=43690&Ft?0:cr.ia,Vr=!(Dr|Ft)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[Tt.$b][Tt.Za],nt.wa[nt.Y+nt.ja].La|=!Vr),br.Ka)return Ar(Rt,7,"Premature end-of-file encountered.")}if(Zn(Rt),nt=Tr,br=1,Tt=(pt=Rt).D,$t=0<pt.L&&pt.M>=pt.zb&&pt.M<=pt.Va,pt.Aa==0)t:{if(Tt.M=pt.M,Tt.uc=$t,bn(pt,Tt),br=1,Tt=(Vt=pt.D).Nb,$t=(Ft=hd[pt.L])*pt.R,ar=Ft/2*pt.B,Wt=16*Tt*pt.R,vs=8*Tt*pt.B,Vr=pt.sa,cs=pt.ta-$t+Wt,cr=pt.qa,Ot=pt.ra-ar+vs,Qr=pt.Ha,us=pt.Ia-ar+vs,Ir=(Jt=Vt.M)==0,Dr=Jt>=pt.Va-1,pt.Aa==2&&bn(pt,Vt),Vt.uc)for(_s=(yr=pt).D.M,e(yr.D.uc),Vt=yr.yb;Vt<yr.Hb;++Vt){Gr=Vt,na=_s;var fs=(Ss=(Kr=yr).D).Nb;ur=Kr.R;var Ss=Ss.wa[Ss.Y+Gr],As=Kr.sa,bs=Kr.ta+16*fs*ur+16*Gr,Cs=Ss.dd,rr=Ss.tc;if(rr!=0)if(e(3<=rr),Kr.L==1)0<Gr&&Sf(As,bs,ur,rr+4),Ss.La&&Cf(As,bs,ur,rr),0<na&&_f(As,bs,ur,rr+4),Ss.La&&Af(As,bs,ur,rr);else{var Ps=Kr.B,oa=Kr.qa,co=Kr.ra+8*fs*Ps+8*Gr,Ga=Kr.Ha,Kr=Kr.Ia+8*fs*Ps+8*Gr;fs=Ss.ld,0<Gr&&(mf(As,bs,ur,rr+4,Cs,fs),bf(oa,co,Ga,Kr,Ps,rr+4,Cs,fs)),Ss.La&&(xf(As,bs,ur,rr,Cs,fs),wf(oa,co,Ga,Kr,Ps,rr,Cs,fs)),0<na&&(pf(As,bs,ur,rr+4,Cs,fs),vf(oa,co,Ga,Kr,Ps,rr+4,Cs,fs)),Ss.La&&(yf(As,bs,ur,rr,Cs,fs),kf(oa,co,Ga,Kr,Ps,rr,Cs,fs))}}if(pt.ia&&alert("todo:DitherRow"),nt.put!=null){if(Vt=16*Jt,Jt=16*(Jt+1),Ir?(nt.y=pt.sa,nt.O=pt.ta+Wt,nt.f=pt.qa,nt.N=pt.ra+vs,nt.ea=pt.Ha,nt.W=pt.Ia+vs):(Vt-=Ft,nt.y=Vr,nt.O=cs,nt.f=cr,nt.N=Ot,nt.ea=Qr,nt.W=us),Dr||(Jt-=Ft),Jt>nt.o&&(Jt=nt.o),nt.F=null,nt.J=null,pt.Fa!=null&&0<pt.Fa.length&&Vt<Jt&&(nt.J=Wr(pt,nt,Vt,Jt-Vt),nt.F=pt.mb,nt.F==null&&nt.F.length==0)){br=Ar(pt,3,"Could not decode alpha data.");break t}Vt<nt.j&&(Ft=nt.j-Vt,Vt=nt.j,e(!(1&Ft)),nt.O+=pt.R*Ft,nt.N+=pt.B*(Ft>>1),nt.W+=pt.B*(Ft>>1),nt.F!=null&&(nt.J+=nt.width*Ft)),Vt<Jt&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=Vt-nt.j,nt.U=nt.va-nt.v,nt.T=Jt-Vt,br=nt.put(nt))}Tt+1!=pt.Ic||Dr||(s(pt.sa,pt.ta-$t,Vr,cs+16*pt.R,$t),s(pt.qa,pt.ra-ar,cr,Ot+8*pt.B,ar),s(pt.Ha,pt.Ia-ar,Qr,us+8*pt.B,ar))}if(!br)return Ar(Rt,6,"Output aborted.")}return 1})(he,Ae)),Ae.bc!=null&&Ae.bc(Ae),Ee&=1}return Ee?(he.cb=0,Ee):0})(f,D)||(g=f.a)}}else g=f.a}g==0&&re.Oa!=null&&re.Oa.fd&&(g=ms(re.ba))}re=g}te=re!=0?null:11>te?ne.f.RGBA.eb:ne.f.kb.y}else te=null;return te};var Vf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(v,C){for(var S="",N=0;N<4;N++)S+=String.fromCharCode(v[C++]);return S}function u(v,C){return v[C+0]|v[C+1]<<8}function m(v,C){return(v[C+0]|v[C+1]<<8|v[C+2]<<16)>>>0}function y(v,C){return(v[C+0]|v[C+1]<<8|v[C+2]<<16|v[C+3]<<24)>>>0}new d;var h=[0],w=[0],E=[],R=new d,T=t,G=(function(v,C){var S={},N=0,A=!1,p=0,P=0;if(S.frames=[],!(function(k,O){for(var U=0;U<4;U++)if(k[O+U]!="RIFF".charCodeAt(U))return!0;return!1})(v,C)){for(y(v,C+=4),C+=8;C<v.length;){var Q=c(v,C),H=y(v,C+=4);C+=4;var q=H+(1&H);switch(Q){case"VP8 ":case"VP8L":S.frames[N]===void 0&&(S.frames[N]={}),(ee=S.frames[N]).src_off=A?P:C-8,ee.src_size=p+H+8,N++,A&&(A=!1,p=0,P=0);break;case"VP8X":(ee=S.header={}).feature_flags=v[C];var M=C+4;ee.canvas_width=1+m(v,M),M+=3,ee.canvas_height=1+m(v,M),M+=3;break;case"ALPH":A=!0,p=q+8,P=C-8;break;case"ANIM":(ee=S.header).bgcolor=y(v,C),M=C+4,ee.loop_count=u(v,M),M+=2;break;case"ANMF":var ae,ee;(ee=S.frames[N]={}).offset_x=2*m(v,C),C+=3,ee.offset_y=2*m(v,C),C+=3,ee.width=1+m(v,C),C+=3,ee.height=1+m(v,C),C+=3,ee.duration=m(v,C),C+=3,ae=v[C++],ee.dispose=1&ae,ee.blend=ae>>1&1}Q!="ANMF"&&(C+=q)}return S}})(T,0);G.response=T,G.rgbaoutput=!0,G.dataurl=!1;var z=G.header?G.header:null,$=G.frames?G.frames:null;if(z){z.loop_counter=z.loop_count,h=[z.canvas_height],w=[z.canvas_width];for(var I=0;I<$.length&&$[I].blend!=0;I++);}var K=$[0],L=R.WebPDecodeRGBA(T,K.src_off,K.src_size,w,h);K.rgba=L,K.imgwidth=w[0],K.imgheight=h[0];for(var b=0;b<w[0]*h[0]*4;b++)E[b]=L[b];return this.width=w,this.height=h,this.data=E,this}(function(t){var e,r,s,n,o,i,l,d,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new d,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new i,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new i,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,d=this.internal.Matrix,c=new u}]);var m=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=k;Object.defineProperty(this,"pdf",{get:function(){return O}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(oe){U=!!oe}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(oe){B=!!oe}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(oe){isNaN(oe)||(V=oe)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(oe){isNaN(oe)||(J=oe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(oe){var j;typeof oe=="number"?j=[oe,oe,oe,oe]:((j=new Array(4))[0]=oe[0],j[1]=oe.length>=2?oe[1]:j[0],j[2]=oe.length>=3?oe[2]:j[0],j[3]=oe.length>=4?oe[3]:j[1]),c.margin=j}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(oe){ce=oe}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(oe){ue=oe}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(oe){xe=oe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(oe){oe instanceof u&&(c=oe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(oe){c.path=oe}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(oe){$e=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var j;j=y(oe),this.ctx.fillStyle=j.style,this.ctx.isFillTransparent=j.a===0,this.ctx.fillOpacity=j.a,this.pdf.setFillColor(j.r,j.g,j.b,{a:j.a}),this.pdf.setTextColor(j.r,j.g,j.b,{a:j.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var j=y(oe);this.ctx.strokeStyle=j.style,this.ctx.isStrokeTransparent=j.a===0,this.ctx.strokeOpacity=j.a,j.a===0?this.pdf.setDrawColor(255,255,255):(j.a,this.pdf.setDrawColor(j.r,j.g,j.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var se=null,ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return ie},set:function(oe){se=null,ie=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var j;if(this.ctx.font=oe,(j=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(oe))!==null){var le=j[1];j[2];var pe=j[3],_e=j[4];j[5];var be=j[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(Ie==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var Ce=(function(ke){var Se,Fe,He=[],ze=ke.trim();if(ze==="")return Ku;if(ze in pp)return[pp[ze]];for(;ze!=="";){switch(Fe=null,Se=(ze=vp(ze)).charAt(0)){case'"':case"'":Fe=US(ze.substring(1),Se);break;default:Fe=BS(ze)}if(Fe===null||(He.push(Fe[0]),(ze=vp(Fe[1]))!==""&&ze.charAt(0)!==","))return Ku;ze=ze.replace(/^,/,"")}return He})(be);if(this.fontFaces){var Ke=(function(ke,Se){if(se===null){var Fe=(function(He){var ze=[];return Object.keys(He).forEach(function(Je){He[Je].forEach(function(lt){var tt=null;switch(lt){case"bold":tt={family:Je,weight:"bold"};break;case"italic":tt={family:Je,style:"italic"};break;case"bolditalic":tt={family:Je,weight:"bold",style:"italic"};break;case"":case"normal":tt={family:Je}}tt!==null&&(tt.ref={name:Je,style:lt},ze.push(tt))})}),ze})(ke.getFontList());se=(function(He){for(var ze={},Je=0;Je<He.length;++Je){var lt=Gu(He[Je]),tt=lt.family,yt=lt.stretch,kt=lt.style,ir=lt.weight;ze[tt]=ze[tt]||{},ze[tt][yt]=ze[tt][yt]||{},ze[tt][yt][kt]=ze[tt][yt][kt]||{},ze[tt][yt][kt][ir]=lt}return ze})(Fe.concat(Se))}return se})(this.pdf,this.fontFaces),je=Ce.map(function(ke){return{family:ke,stretch:"normal",weight:pe,style:le}}),Be=(function(ke,Se,Fe){for(var He=(Fe=Fe||{}).defaultFontFamily||"times",ze=Object.assign({},jS,Fe.genericFontFamilies||{}),Je=null,lt=null,tt=0;tt<Se.length;++tt)if(ze[(Je=Gu(Se[tt])).family]&&(Je.family=ze[Je.family]),ke.hasOwnProperty(Je.family)){lt=ke[Je.family];break}if(!(lt=lt||ke[He]))throw new Error("Could not find a font-family for the rule '"+mp(Je)+"' and default family '"+He+"'.");if(lt=(function(yt,kt){if(kt[yt])return kt[yt];var ir=E0[yt],$r=ir<=E0.normal?-1:1,Yt=gp(kt,Av,ir,$r);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+yt);return Yt})(Je.stretch,lt),lt=(function(yt,kt){if(kt[yt])return kt[yt];for(var ir=Sv[yt],$r=0;$r<ir.length;++$r)if(kt[ir[$r]])return kt[ir[$r]];throw new Error("Could not find a matching font-style for "+yt)})(Je.style,lt),!(lt=(function(yt,kt){if(kt[yt])return kt[yt];if(yt===400&&kt[500])return kt[500];if(yt===500&&kt[400])return kt[400];var ir=FS[yt],$r=gp(kt,Cv,ir,yt<400?-1:1);if(!$r)throw new Error("Could not find a matching font-weight for value "+yt);return $r})(Je.weight,lt)))throw new Error("Failed to resolve a font for the rule '"+mp(Je)+"'.");return lt})(Ke,je);this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var Ge="";(pe==="bold"||parseInt(pe,10)>=700||le==="bold")&&(Ge="bold"),le==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var Ye="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<Ce.length;st++){if(this.pdf.internal.getFont(Ce[st],Ge,{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ce[st];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(Ce[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ye=Ce[st],Ge="bold";else if(this.pdf.internal.getFont(Ce[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ce[st],Ge="normal";break}}if(Ye===""){for(var me=0;me<Ce.length;me++)if(ot[Ce[me]]){Ye=ot[Ce[me]];break}}Ye=Ye===""?"Times":Ye,this.pdf.setFont(Ye,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};m.prototype.setLineDash=function(k){this.lineDash=k},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){$.call(this,"fill",!1)},m.prototype.stroke=function(){$.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(k,O){if(isNaN(k)||isNaN(O))throw Zt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new i(k,O));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new i(k,O)},m.prototype.closePath=function(){var k=new i(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&Gt(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){k=new i(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(k.x,k.y)},m.prototype.lineTo=function(k,O){if(isNaN(k)||isNaN(O))throw Zt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new i(k,O));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new i(U.x,U.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},m.prototype.quadraticCurveTo=function(k,O,U,B){if(isNaN(U)||isNaN(B)||isNaN(k)||isNaN(O))throw Zt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new i(U,B)),J=this.ctx.transform.applyToPoint(new i(k,O));this.path.push({type:"qct",x1:J.x,y1:J.y,x:V.x,y:V.y}),this.ctx.lastPoint=new i(V.x,V.y)},m.prototype.bezierCurveTo=function(k,O,U,B,V,J){if(isNaN(V)||isNaN(J)||isNaN(k)||isNaN(O)||isNaN(U)||isNaN(B))throw Zt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new i(V,J)),ue=this.ctx.transform.applyToPoint(new i(k,O)),xe=this.ctx.transform.applyToPoint(new i(U,B));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:xe.x,y2:xe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new i(ce.x,ce.y)},m.prototype.arc=function(k,O,U,B,V,J){if(isNaN(k)||isNaN(O)||isNaN(U)||isNaN(B)||isNaN(V))throw Zt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new i(k,O));k=ce.x,O=ce.y;var ue=this.ctx.transform.applyToPoint(new i(0,U)),xe=this.ctx.transform.applyToPoint(new i(0,0));U=Math.sqrt(Math.pow(ue.x-xe.x,2)+Math.pow(ue.y-xe.y,2))}Math.abs(V-B)>=2*Math.PI&&(B=0,V=2*Math.PI),this.path.push({type:"arc",x:k,y:O,radius:U,startAngle:B,endAngle:V,counterclockwise:J})},m.prototype.arcTo=function(k,O,U,B,V){throw new Error("arcTo not implemented.")},m.prototype.rect=function(k,O,U,B){if(isNaN(k)||isNaN(O)||isNaN(U)||isNaN(B))throw Zt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,O),this.lineTo(k+U,O),this.lineTo(k+U,O+B),this.lineTo(k,O+B),this.lineTo(k,O),this.lineTo(k+U,O),this.lineTo(k,O)},m.prototype.fillRect=function(k,O,U,B){if(isNaN(k)||isNaN(O)||isNaN(U)||isNaN(B))throw Zt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,O,U,B),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},m.prototype.strokeRect=function(k,O,U,B){if(isNaN(k)||isNaN(O)||isNaN(U)||isNaN(B))throw Zt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(k,O,U,B),this.stroke())},m.prototype.clearRect=function(k,O,U,B){if(isNaN(k)||isNaN(O)||isNaN(U)||isNaN(B))throw Zt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,O,U,B))},m.prototype.save=function(k){k=typeof k!="boolean"||k;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},m.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(O),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(k){var O,U,B,V;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))O=0,U=0,B=0,V=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(J!==null)O=parseInt(J[1]),U=parseInt(J[2]),B=parseInt(J[3]),V=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)O=parseInt(J[1]),U=parseInt(J[2]),B=parseInt(J[3]),V=parseFloat(J[4]);else{if(V=1,typeof k=="string"&&k.charAt(0)!=="#"){var ce=new vv(k);k=ce.ok?ce.toHex():"#000000"}k.length===4?(O=k.substring(1,2),O+=O,U=k.substring(2,3),U+=U,B=k.substring(3,4),B+=B):(O=k.substring(1,3),U=k.substring(3,5),B=k.substring(5,7)),O=parseInt(O,16),U=parseInt(U,16),B=parseInt(B,16)}}return{r:O,g:U,b:B,a:V,style:k}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(k,O,U,B){if(isNaN(O)||isNaN(U)||typeof k!="string")throw Zt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!h.call(this)){var V=q(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;N.call(this,{text:k,x:O,y:U,scale:J,angle:V,align:this.textAlign,maxWidth:B})}},m.prototype.strokeText=function(k,O,U,B){if(isNaN(O)||isNaN(U)||typeof k!="string")throw Zt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){B=isNaN(B)?void 0:B;var V=q(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;N.call(this,{text:k,x:O,y:U,scale:J,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:B})}},m.prototype.measureText=function(k){if(typeof k!="string")throw Zt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,U=this.pdf.internal.scaleFactor,B=O.internal.getFontSize(),V=O.getStringUnitWidth(k)*B/O.internal.scaleFactor;return new function(J){var ce=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:V*=Math.round(96*U/72*1e4)/1e4})},m.prototype.scale=function(k,O){if(isNaN(k)||isNaN(O))throw Zt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new d(k,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},m.prototype.rotate=function(k){if(isNaN(k))throw Zt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new d(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},m.prototype.translate=function(k,O){if(isNaN(k)||isNaN(O))throw Zt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new d(1,0,0,1,k,O);this.ctx.transform=this.ctx.transform.multiply(U)},m.prototype.transform=function(k,O,U,B,V,J){if(isNaN(k)||isNaN(O)||isNaN(U)||isNaN(B)||isNaN(V)||isNaN(J))throw Zt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new d(k,O,U,B,V,J);this.ctx.transform=this.ctx.transform.multiply(ce)},m.prototype.setTransform=function(k,O,U,B,V,J){k=isNaN(k)?1:k,O=isNaN(O)?0:O,U=isNaN(U)?0:U,B=isNaN(B)?1:B,V=isNaN(V)?0:V,J=isNaN(J)?0:J,this.ctx.transform=new d(k,O,U,B,V,J)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(k,O,U,B,V,J,ce,ue,xe){var $e=this.pdf.getImageProperties(k),se=1,ie=1,oe=1,j=1;B!==void 0&&ue!==void 0&&(oe=ue/B,j=xe/V,se=$e.width/B*ue/B,ie=$e.height/V*xe/V),J===void 0&&(J=O,ce=U,O=0,U=0),B!==void 0&&ue===void 0&&(ue=B,xe=V),B===void 0&&ue===void 0&&(ue=$e.width,xe=$e.height);for(var le,pe=this.ctx.transform.decompose(),_e=q(pe.rotate.shx),be=new d,Ie=(be=(be=(be=be.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale)).applyToRectangle(new l(J-O*oe,ce-U*j,B*se,V*ie)),Ce=R.call(this,Ie),Ke=[],je=0;je<Ce.length;je+=1)Ke.indexOf(Ce[je])===-1&&Ke.push(Ce[je]);if(z(Ke),this.autoPaging)for(var Be=Ke[0],Ge=Ke[Ke.length-1],Ye=Be;Ye<Ge+1;Ye++){this.pdf.setPage(Ye);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Ye===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Se=Ye===1?0:me+(Ye-2)*ke;if(this.ctx.clip_path.length!==0){var Fe=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(le,this.posX+this.margin[3],-Se+st+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=Fe}var He=JSON.parse(JSON.stringify(Ie));He=G([He],this.posX+this.margin[3],-Se+st+this.ctx.prevPageLastElemOffset)[0];var ze=(Ye>Be||Ye<Ge)&&E.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,ke,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",He.x,He.y,He.w,He.h,null,null,_e),ze&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,_e)};var R=function(k,O,U){var B=[];O=O||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":B.push(Math.floor((k.y+V)/U)+1);break;case"arc":B.push(Math.floor((k.y+V-k.radius)/U)+1),B.push(Math.floor((k.y+V+k.radius)/U)+1);break;case"qct":var J=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);B.push(Math.floor((J.y+V)/U)+1),B.push(Math.floor((J.y+J.h+V)/U)+1);break;case"bct":var ce=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);B.push(Math.floor((ce.y+V)/U)+1),B.push(Math.floor((ce.y+ce.h+V)/U)+1);break;case"rect":B.push(Math.floor((k.y+V)/U)+1),B.push(Math.floor((k.y+k.h+V)/U)+1)}for(var ue=0;ue<B.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<B[ue];)T.call(this);return B},T=function(){var k=this.fillStyle,O=this.strokeStyle,U=this.font,B=this.lineCap,V=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=O,this.font=U,this.lineCap=B,this.lineWidth=V,this.lineJoin=J},G=function(k,O,U){for(var B=0;B<k.length;B++)switch(k[B].type){case"bct":k[B].x2+=O,k[B].y2+=U;case"qct":k[B].x1+=O,k[B].y1+=U;default:k[B].x+=O,k[B].y+=U}return k},z=function(k){return k.sort(function(O,U){return O-U})},$=function(k,O){for(var U,B,V=this.fillStyle,J=this.strokeStyle,ce=this.lineCap,ue=this.lineWidth,xe=Math.abs(ue*this.ctx.transform.scaleX),$e=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),ie=JSON.parse(JSON.stringify(this.path)),oe=[],j=0;j<ie.length;j++)if(ie[j].x!==void 0)for(var le=R.call(this,ie[j]),pe=0;pe<le.length;pe+=1)oe.indexOf(le[pe])===-1&&oe.push(le[pe]);for(var _e=0;_e<oe.length;_e++)for(;this.pdf.internal.getNumberOfPages()<oe[_e];)T.call(this);if(z(oe),this.autoPaging)for(var be=oe[0],Ie=oe[oe.length-1],Ce=be;Ce<Ie+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=V,this.strokeStyle=J,this.lineCap=ce,this.lineWidth=xe,this.lineJoin=$e;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Ce===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=Ce===1?0:Be+(Ce-2)*Ge;if(this.ctx.clip_path.length!==0){var ot=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(U,this.posX+this.margin[3],-Ye+je+this.ctx.prevPageLastElemOffset),I.call(this,k,!0),this.path=ot}if(B=JSON.parse(JSON.stringify(se)),this.path=G(B,this.posX+this.margin[3],-Ye+je+this.ctx.prevPageLastElemOffset),O===!1||Ce===0){var st=(Ce>be||Ce<Ie)&&E.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Ge,null).clip().discardPath()),I.call(this,k,O),st&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=xe,I.call(this,k,O),this.lineWidth=ue;this.path=se},I=function(k,O){if((k!=="stroke"||O||!w.call(this))&&(k==="stroke"||O||!h.call(this))){for(var U,B,V=[],J=this.path,ce=0;ce<J.length;ce++){var ue=J[ce];switch(ue.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:ue,deltas:[],abs:[]});break;case"lt":var xe=V.length;if(J[ce-1]&&!isNaN(J[ce-1].x)&&(U=[ue.x-J[ce-1].x,ue.y-J[ce-1].y],xe>0)){for(;xe>=0;xe--)if(V[xe-1].close!==!0&&V[xe-1].begin!==!0){V[xe-1].deltas.push(U),V[xe-1].abs.push(ue);break}}break;case"bct":U=[ue.x1-J[ce-1].x,ue.y1-J[ce-1].y,ue.x2-J[ce-1].x,ue.y2-J[ce-1].y,ue.x-J[ce-1].x,ue.y-J[ce-1].y],V[V.length-1].deltas.push(U);break;case"qct":var $e=J[ce-1].x+2/3*(ue.x1-J[ce-1].x),se=J[ce-1].y+2/3*(ue.y1-J[ce-1].y),ie=ue.x+2/3*(ue.x1-ue.x),oe=ue.y+2/3*(ue.y1-ue.y),j=ue.x,le=ue.y;U=[$e-J[ce-1].x,se-J[ce-1].y,ie-J[ce-1].x,oe-J[ce-1].y,j-J[ce-1].x,le-J[ce-1].y],V[V.length-1].deltas.push(U);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(ue)}}B=O?null:k==="stroke"?"stroke":"fill";for(var pe=!1,_e=0;_e<V.length;_e++)if(V[_e].arc)for(var be=V[_e].abs,Ie=0;Ie<be.length;Ie++){var Ce=be[Ie];Ce.type==="arc"?b.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,O,!pe):A.call(this,Ce.x,Ce.y),pe=!0}else if(V[_e].close===!0)this.pdf.internal.out("h"),pe=!1;else if(V[_e].begin!==!0){var Ke=V[_e].start.x,je=V[_e].start.y;p.call(this,V[_e].deltas,Ke,je),pe=!0}B&&v.call(this,B),O&&C.call(this)}},K=function(k){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-U;case"top":return k+O-U;case"hanging":return k+O-2*U;case"middle":return k+O/2-U;default:return k}},L=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(O,U){this.colorStops.push([O,U])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(k,O,U,B,V,J,ce,ue,xe){for(var $e=Q.call(this,U,B,V,J),se=0;se<$e.length;se++){var ie=$e[se];se===0&&(xe?S.call(this,ie.x1+k,ie.y1+O):A.call(this,ie.x1+k,ie.y1+O)),P.call(this,k,O,ie.x2,ie.y2,ie.x3,ie.y3,ie.x4,ie.y4)}ue?C.call(this):v.call(this,ce)},v=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(k,O){this.pdf.internal.out(r(k)+" "+s(O)+" m")},N=function(k){var O;switch(k.align){case"right":case"end":O="right";break;case"center":O="center";break;default:O="left"}var U=this.pdf.getTextDimensions(k.text),B=K.call(this,k.y),V=L.call(this,B)-U.h,J=this.ctx.transform.applyToPoint(new i(k.x,B)),ce=this.ctx.transform.decompose(),ue=new d;ue=(ue=(ue=ue.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var xe,$e,se,ie=this.ctx.transform.applyToRectangle(new l(k.x,B,U.w,U.h)),oe=ue.applyToRectangle(new l(k.x,V,U.w,U.h)),j=R.call(this,oe),le=[],pe=0;pe<j.length;pe+=1)le.indexOf(j[pe])===-1&&le.push(j[pe]);if(z(le),this.autoPaging)for(var _e=le[0],be=le[le.length-1],Ie=_e;Ie<be+1;Ie++){this.pdf.setPage(Ie);var Ce=Ie===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],Be=je-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],Ye=Ge-this.margin[3],ot=Ie===1?0:Ke+(Ie-2)*Be;if(this.ctx.clip_path.length!==0){var st=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(xe,this.posX+this.margin[3],-1*ot+Ce),I.call(this,"fill",!0),this.path=st}var me=G([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-ot+Ce+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*k.scale),se=this.lineWidth,this.lineWidth=se*k.scale);var ke=this.autoPaging!=="text";if(ke||me.y+me.h<=je){if(ke||me.y>=Ce&&me.x<=Ge){var Se=ke?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Ge-me.x)[0],Fe=G([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-ot+Ce+this.ctx.prevPageLastElemOffset)[0],He=ke&&(Ie>_e||Ie<be)&&E.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Be,null).clip().discardPath()),this.pdf.text(Se,Fe.x,Fe.y,{angle:k.angle,align:O,renderingMode:k.renderingMode}),He&&this.pdf.restoreGraphicsState()}}else me.y<je&&(this.ctx.prevPageLastElemOffset+=je-me.y);k.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=se)}else k.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*k.scale),se=this.lineWidth,this.lineWidth=se*k.scale),this.pdf.text(k.text,J.x+this.posX,J.y+this.posY,{angle:k.angle,align:O,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=se)},A=function(k,O,U,B){U=U||0,B=B||0,this.pdf.internal.out(r(k+U)+" "+s(O+B)+" l")},p=function(k,O,U){return this.pdf.lines(k,O,U,null,null)},P=function(k,O,U,B,V,J,ce,ue){this.pdf.internal.out([e(n(U+k)),e(o(B+O)),e(n(V+k)),e(o(J+O)),e(n(ce+k)),e(o(ue+O)),"c"].join(" "))},Q=function(k,O,U,B){for(var V=2*Math.PI,J=Math.PI/2;O>U;)O-=V;var ce=Math.abs(U-O);ce<V&&B&&(ce=V-ce);for(var ue=[],xe=B?-1:1,$e=O;ce>1e-5;){var se=$e+xe*Math.min(ce,J);ue.push(H.call(this,k,$e,se)),ce-=Math.abs(se-$e),$e=se}return ue},H=function(k,O,U){var B=(U-O)/2,V=k*Math.cos(B),J=k*Math.sin(B),ce=V,ue=-J,xe=ce*ce+ue*ue,$e=xe+ce*V+ue*J,se=4/3*(Math.sqrt(2*xe*$e)-$e)/(ce*J-ue*V),ie=ce-se*ue,oe=ue+se*ce,j=ie,le=-oe,pe=B+O,_e=Math.cos(pe),be=Math.sin(pe);return{x1:k*Math.cos(O),y1:k*Math.sin(O),x2:ie*_e-oe*be,y2:ie*be+oe*_e,x3:j*_e-le*be,y3:j*be+le*_e,x4:k*Math.cos(U),y4:k*Math.sin(U)}},q=function(k){return 180*k/Math.PI},M=function(k,O,U,B,V,J){var ce=k+.5*(U-k),ue=O+.5*(B-O),xe=V+.5*(U-V),$e=J+.5*(B-J),se=Math.min(k,V,ce,xe),ie=Math.max(k,V,ce,xe),oe=Math.min(O,J,ue,$e),j=Math.max(O,J,ue,$e);return new l(se,oe,ie-se,j-oe)},ae=function(k,O,U,B,V,J,ce,ue){var xe,$e,se,ie,oe,j,le,pe,_e,be,Ie,Ce,Ke,je,Be=U-k,Ge=B-O,Ye=V-U,ot=J-B,st=ce-V,me=ue-J;for($e=0;$e<41;$e++)_e=(le=(se=k+(xe=$e/40)*Be)+xe*((oe=U+xe*Ye)-se))+xe*(oe+xe*(V+xe*st-oe)-le),be=(pe=(ie=O+xe*Ge)+xe*((j=B+xe*ot)-ie))+xe*(j+xe*(J+xe*me-j)-pe),$e==0?(Ie=_e,Ce=be,Ke=_e,je=be):(Ie=Math.min(Ie,_e),Ce=Math.min(Ce,be),Ke=Math.max(Ke,_e),je=Math.max(je,be));return new l(Math.round(Ie),Math.round(Ce),Math.round(Ke-Ie),Math.round(je-Ce))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,O,U=(k=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:O}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(vt.API),(function(t){var e=function(i){var l,d,c,u,m,y,h,w,E,R;for(d=[],c=0,u=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(m=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(y=(m=((m=((m=((m=(m-(R=m%85))/85)-(E=m%85))/85)-(w=m%85))/85)-(h=m%85))/85)%85,d.push(y+33,h+33,w+33,E+33,R+33)):d.push(122);return(function(T,G){for(var z=G;z>0;z--)T.pop()})(d,l.length),String.fromCharCode.apply(String,d)+"~>"},r=function(i){var l,d,c,u,m,y=String,h="length",w=255,E="charCodeAt",R="slice",T="replace";for(i[R](-2),i=i[R](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),c=[],u=0,m=(i+=l="uuuuu"[R](i[h]%5||5))[h];m>u;u+=5)d=52200625*(i[E](u)-33)+614125*(i[E](u+1)-33)+7225*(i[E](u+2)-33)+85*(i[E](u+3)-33)+(i[E](u+4)-33),c.push(w&d>>24,w&d>>16,w&d>>8,w&d);return(function(G,z){for(var $=z;$>0;$--)G.pop()})(c,l[h]),y.fromCharCode.apply(y,c)},s=function(i){return i.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var d="",c=0;c<i.length;c+=2)d+=String.fromCharCode("0x"+(i[c]+i[c+1]));return d},o=function(i){for(var l=new Uint8Array(i.length),d=i.length;d--;)l[d]=i.charCodeAt(d);return(l=S0(l)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(i,l){var d=0,c=i||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),d=0;d<l.length;d+=1)switch(l[d]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=s(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[d]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(vt.API),(function(t){t.loadFile=function(e,r,s){return(function(n,o,i){o=o!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=(function(d,c,u){var m=new XMLHttpRequest,y=0,h=function(w){var E=w.length,R=[],T=String.fromCharCode;for(y=0;y<E;y+=1)R.push(T(255&w.charCodeAt(y)));return R.join("")};if(m.open("GET",d,!c),m.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(m.onload=function(){m.status===200?u(h(this.responseText)):u(void 0)}),m.send(null),c&&m.status===200)return h(m.responseText)})(n,o,i)}catch{}return l})(e,r,s)},t.loadImageFile=t.loadFile})(vt.API),(function(t){function e(){return(At.html2canvas?Promise.resolve(At.html2canvas):Hd(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):Hd(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var d=Gt(l);return d==="undefined"?"undefined":d==="string"||l instanceof String?"string":d==="number"||l instanceof Number?"number":d==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":d==="object"?"object":"unknown"},n=function(l,d){var c=document.createElement(l);for(var u in d.className&&(c.className=d.className),d.innerHTML&&d.dompurify&&(c.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)c.style[u]=d.style[u];return c},o=function l(d,c){for(var u=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)c!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||u.appendChild(l(m,c));return d.nodeType===1&&(d.nodeName==="CANVAS"?(u.width=d.width,u.height=d.height,u.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(u.value=d.value),u.addEventListener("load",function(){u.scrollTop=d.scrollTop,u.scrollLeft=d.scrollLeft},!0)),u},i=function l(d){var c=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),c);return(u=u.setProgress(1,l,1,[l])).set(d)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,d){return l.__proto__=d||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,d){return this.then(function(){switch(d=d||(function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),d){case"string":return this.then(r).then(function(c){return this.set({src:n("div",{innerHTML:l,dompurify:c})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(d){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,d(this.prop.container,c)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(d){var c=this.opt.jsPDF,u=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var w=u[h],E=w.src.find(function(R){return R.format==="truetype"});E&&c.addFont(E.url,w.ref.name,w.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,c.context2d.save(!0),d(this.prop.container,y)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(l,d,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(l,d):this.outputPdf(l,d)},i.prototype.outputPdf=function(l,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,d)})},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(l){if(s(l)!=="object")return this;var d=Object.keys(l||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=l[c]};switch(c){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[c]=l[c]}}},this);return this.then(function(){return this.thenList(d)})},i.prototype.get=function(l,d){return this.then(function(){var c=l in i.template.prop?this.prop[l]:this.opt[l];return d?d(c):c})},i.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},i.prototype.setPageSize=function(l){function d(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(l=l||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:d(l.inner.width,l.k),height:d(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},i.prototype.setProgress=function(l,d,c,u){return l!=null&&(this.progress.val=l),d!=null&&(this.progress.state=d),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,d,c,u){return this.setProgress(l?this.progress.val+l:null,d||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(l,d){var c=this;return this.thenCore(l,d,function(u,m){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(y){return c.updateProgress(null,u),y}).then(u,m).then(function(y){return c.updateProgress(1),y})})},i.prototype.thenCore=function(l,d,c){c=c||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),d&&(d=d.bind(u));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:i.convert(Object.assign({},u),Promise.prototype),y=c.call(m,l,d);return i.convert(y,u.__proto__)},i.prototype.thenExternal=function(l,d){return Promise.prototype.then.call(this,l,d)},i.prototype.thenList=function(l){var d=this;return l.forEach(function(c){d=d.thenCore(c)}),d},i.prototype.catch=function(l){l&&(l=l.bind(this));var d=Promise.prototype.catch.call(this,l);return i.convert(d,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then(function(){throw new Error(l)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,vt.getPageSize=function(l,d,c){if(Gt(l)==="object"){var u=l;l=u.orientation,d=u.unit||d,c=u.format||c}d=d||"mm",c=c||"a4",l=(""+(l||"P")).toLowerCase();var m,y=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+d}var w,E=0,R=0;if(h.hasOwnProperty(y))E=h[y][1]/m,R=h[y][0]/m;else try{E=c[1],R=c[0]}catch{throw new Error("Invalid format: "+c)}if(l==="p"||l==="portrait")l="p",R>E&&(w=R,R=E,E=w);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",E>R&&(w=R,R=E,E=w)}return{width:R,height:E,unit:d,k:m,orientation:l}},t.html=function(l,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Gu):null;var c=new i(d);return d.worker?c:c.from(l).doCallback()}})(vt.API),vt.API.addJS=function(t){return yp=t,this.internal.events.subscribe("postPutResources",function(){Dd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yp+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dd!==void 0&&bp!==void 0&&this.internal.out("/Names <</JavaScript "+Dd+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),o=0;o<n.length;o++){var i=n[o],l=s.exec(i);if(l!=null){var d=l[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var m=r.internal.newObject();u.push(m);var y=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<u.length;o++)r.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,n,o){var i={title:n,options:o,children:[]};return s==null&&(s=this.root),s.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var n=0;n<s.children.length;n++)this.genIds_r(s.children[n])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var i=s.children[o];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var d=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<s.children.length;c++)this.renderItems(s.children[c])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,n){for(var o=0;o<n.children.length;o++)s.count++,this.count_r(s,n.children[o]);return s.count}}])})(vt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,s,n,o,i,l){var d,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(m){for(var y,h=256*m.charCodeAt(4)+m.charCodeAt(5),w=m.length,E={width:0,height:0,numcomponents:1},R=4;R<w;R+=2){if(R+=h,e.indexOf(m.charCodeAt(R+1))!==-1){y=256*m.charCodeAt(R+5)+m.charCodeAt(R+6),E={width:256*m.charCodeAt(R+7)+m.charCodeAt(R+8),height:y,numcomponents:m.charCodeAt(R+9)};break}h=256*m.charCodeAt(R+2)+m.charCodeAt(R+3)}return E})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:d.width,height:d.height,colorSpace:l,bitsPerComponent:8,filter:c,index:s,alias:n}}return u}})(vt.API),vt.API.processPNG=function(t,e,r,s){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var n,o=SS(t,{checkCrc:!0}),i=o.width,l=o.height,d=o.channels,c=o.palette,u=o.depth;n=c&&d===1?(function(L){for(var b=L.width,v=L.height,C=L.data,S=L.palette,N=L.depth,A=!1,p=[],P=[],Q=void 0,H=!1,q=0,M=0;M<S.length;M++){var ae=_g(S[M],4),ee=ae[0],k=ae[1],O=ae[2],U=ae[3];p.push(ee,k,O),U!=null&&(U===0?(q++,P.length<1&&P.push(M)):U<255&&(H=!0))}if(H||q>1){A=!0,P=void 0;var B=b*v;Q=new Uint8Array(B);for(var V=new DataView(C.buffer),J=0;J<B;J++){var ce=Yu(V,J,N),ue=_g(S[ce],4)[3];Q[J]=ue}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:C,alphaBytes:Q,needSMask:A,palette:p,mask:P}})(o):d===2||d===4?(function(L){for(var b=L.data,v=L.width,C=L.height,S=L.channels,N=L.depth,A=S===2?"DeviceGray":"DeviceRGB",p=S-1,P=v*C,Q=p,H=P*Q,q=1*P,M=Math.ceil(H*N/8),ae=Math.ceil(q*N/8),ee=new Uint8Array(M),k=new Uint8Array(ae),O=new DataView(b.buffer),U=new DataView(ee.buffer),B=new DataView(k.buffer),V=!1,J=0;J<P;J++){for(var ce=J*S,ue=0;ue<Q;ue++)Np(U,Yu(O,ce+ue,N),J*Q+ue,N);var xe=Yu(O,ce+Q,N);xe<(1<<N)-1&&(V=!0),Np(B,xe,1*J,N)}return{colorSpace:A,colorsPerPixel:p,colorBytes:ee,alphaBytes:k,needSMask:V}})(o):(function(L){var b=L.data,v=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:v,colorsPerPixel:v==="DeviceGray"?1:3,colorBytes:b instanceof Uint8Array?b:new Uint8Array(b.buffer),needSMask:!1}})(o);var m,y,h,w=n,E=w.colorSpace,R=w.colorsPerPixel,T=w.colorBytes,G=w.alphaBytes,z=w.needSMask,$=w.palette,I=w.mask,K=null;return s!==vt.API.image_compression.NONE&&typeof S0=="function"?(K=(function(L){var b;switch(L){case vt.API.image_compression.FAST:b=11;break;case vt.API.image_compression.MEDIUM:b=13;break;case vt.API.image_compression.SLOW:b=14;break;default:b=12}return b})(s),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(K," "),t=_p(T,i*R,R,s),z&&(h=_p(G,i,1,s))):(m=void 0,y="",t=T,z&&(h=G)),y+="/Colors ".concat(R," /BitsPerComponent ").concat(u," /Columns ").concat(i),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:m,decodeParameters:y,transparency:I,palette:$,sMask:h,predictor:K,width:i,height:l,bitsPerComponent:u,colorSpace:E}}},(function(t){t.processGIF89A=function(e,r,s,n){var o=new WS(e),i=o.width,l=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var c={data:d,width:i,height:l},u=new Ju(100).encode(c,100);return t.processJPEG.call(this,u,r,s,n)},t.processGIF87A=t.processGIF89A})(vt.API),ia.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:n,green:s,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ia.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Zt.log("bit decode error:"+r)}},ia.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,n=0;n<e;n++)for(var o=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+8*n*4,l=0;l<8&&8*n+l<this.width;l++){var d=this.palette[o>>7-l&1];this.data[i+4*l]=d.blue,this.data[i+4*l+1]=d.green,this.data[i+4*l+2]=d.red,this.data[i+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ia.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,n=0;n<t;n++){var o=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+2*n*4,l=o>>4,d=15&o,c=this.palette[l];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*n+1>=this.width)break;c=this.palette[d],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},ia.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*s;if(n<this.palette.length){var i=this.palette[n];this.data[o]=i.red,this.data[o+1]=i.green,this.data[o+2]=i.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},ia.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(o&e)/e*255|0,l=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,c=o>>15?255:0,u=s*this.width*4+4*n;this.data[u]=d,this.data[u+1]=l,this.data[u+2]=i,this.data[u+3]=c}this.pos+=t}},ia.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,d=(i>>5&r)/r*255|0,c=(i>>11)/e*255|0,u=n*this.width*4+4*o;this.data[u]=c,this.data[u+1]=d,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},ia.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*r;this.data[i]=o,this.data[i+1]=n,this.data[i+2]=s,this.data[i+3]=255}this.pos+=this.width%4}},ia.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=o,this.data[l+1]=n,this.data[l+2]=s,this.data[l+3]=i}},ia.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,s,n){var o=new ia(e,!1),i=o.width,l=o.height,d={data:o.getData(),width:i,height:l},c=new Ju(100).encode(d,100);return t.processJPEG.call(this,c,r,s,n)}})(vt.API),$p.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,s,n){var o=new $p(e),i=o.width,l=o.height,d={data:o.getData(),width:i,height:l},c=new Ju(100).encode(d,100);return t.processJPEG.call(this,c,r,s,n)}})(vt.API),vt.API.processRGBA=function(t,e,r){for(var s=t.data,n=s.length,o=new Uint8Array(n/4*3),i=new Uint8Array(n/4),l=0,d=0,c=0;c<n;c+=4){var u=s[c],m=s[c+1],y=s[c+2],h=s[c+3];o[l++]=u,o[l++]=m,o[l++]=y,i[d++]=h}var w=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:w,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zo=vt.API,Id=Zo.getCharWidthsArray=function(t,e){var r,s,n=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:n.metadata.Unicode.widths,d=l.fof?l.fof:1,c=e.kerning?e.kerning:n.metadata.Unicode.kerning,u=c.fof?c.fof:1,m=e.doKerning!==!1,y=0,h=t.length,w=0,E=l[0]||d,R=[];for(r=0;r<h;r++)s=t.charCodeAt(r),typeof n.metadata.widthOfString=="function"?R.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(s))+i*(1e3/o)||0)/1e3):(y=m&&Gt(c[s])==="object"&&!isNaN(parseInt(c[s][w],10))?c[s][w]/u:0,R.push((l[s]||E)/d+y)),w=s;return R},xp=Zo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),n=e.charSpace||this.internal.getCharSpace();return Zo.processArabic&&(t=Zo.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,r,n)/r:Id.apply(this,arguments).reduce(function(o,i){return o+i},0)},kp=function(t,e,r,s){for(var n=[],o=0,i=t.length,l=0;o!==i&&l+e[o]<r;)l+=e[o],o++;n.push(t.slice(0,o));var d=o;for(l=0;o!==i;)l+e[o]>s&&(n.push(t.slice(d,o)),l=0,d=o),l+=e[o],o++;return d!==o&&n.push(t.slice(d,o)),n},wp=function(t,e,r){r||(r={});var s,n,o,i,l,d,c,u=[],m=[u],y=r.textIndent||0,h=0,w=0,E=t.split(" "),R=Id.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?E[0].length+2:r.lineIndent||0){var T=Array(d).join(" "),G=[];E.map(function($){($=$.split(/\s*\n/)).length>1?G=G.concat($.map(function(I,K){return(K&&I.length?`
`:"")+I})):G.push($[0])}),E=G,d=xp.apply(this,[T,r])}for(o=0,i=E.length;o<i;o++){var z=0;if(s=E[o],d&&s[0]==`
`&&(s=s.substr(1),z=1),y+h+(w=(n=Id.apply(this,[s,r])).reduce(function($,I){return $+I},0))>e||z){if(w>e){for(l=kp.apply(this,[s,n,e-(y+h),e]),u.push(l.shift()),u=[l.pop()];l.length;)m.push([l.shift()]);w=n.slice(s.length-(u[0]?u[0].length:0)).reduce(function($,I){return $+I},0)}else u=[s];m.push(u),y=w+d,h=R}else u.push(s),y+=h+w,h=R}return c=d?function($,I){return(I?T:"")+$.join(" ")}:function($){return $.join(" ")},m.map(c)},Zo.splitTextToSize=function(t,e,r){var s,n=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var m=this.internal.getFont(u.fontName,u.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/n;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,o.lineIndent=r.lineIndent;var l,d,c=[];for(l=0,d=s.length;l<d;l++)c=c.concat(wp.apply(this,[s[l],i,o]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",s={},n={},o=0;o<16;o++)s[r[o]]=e[o],n[e[o]]=r[o];var i=function(y){return"0x"+parseInt(y,10).toString(16)},l=t.__fontmetrics__.compress=function(y){var h,w,E,R,T=["{"];for(var G in y){if(h=y[G],isNaN(parseInt(G,10))?w="'"+G+"'":(G=parseInt(G,10),w=(w=i(G).slice(2)).slice(0,-1)+n[w.slice(-1)]),typeof h=="number")h<0?(E=i(h).slice(3),R="-"):(E=i(h).slice(2),R=""),E=R+E.slice(0,-1)+n[E.slice(-1)];else{if(Gt(h)!=="object")throw new Error("Don't know what to do with value type "+Gt(h)+".");E=l(h)}T.push(w+E)}return T.push("}"),T.join("")},d=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,w,E,R,T={},G=1,z=T,$=[],I="",K="",L=y.length-1,b=1;b<L;b+=1)(R=y[b])=="'"?h?(E=h.join(""),h=void 0):h=[]:h?h.push(R):R=="{"?($.push([z,E]),z={},E=void 0):R=="}"?((w=$.pop())[0][w[1]]=z,E=void 0,z=w[0]):R=="-"?G=-1:E===void 0?s.hasOwnProperty(R)?(I+=s[R],E=parseInt(I,16)*G,G=1,I=""):I+=R:s.hasOwnProperty(R)?(K+=s[R],z[E]=parseInt(K,16)*G,G=1,E=void 0,K=""):K+=R;return T},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},m={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var h=y.font,w=m.Unicode[h.postScriptName];w&&(h.metadata.Unicode={},h.metadata.Unicode.widths=w.widths,h.metadata.Unicode.kerning=w.kerning);var E=u.Unicode[h.postScriptName];E&&(h.metadata.Unicode.encoding=E,h.encoding=E.codePages[0])}])})(vt.API),(function(t){var e=function(r){for(var s=r.length,n=new Uint8Array(s),o=0;o<s;o++)n[o]=r.charCodeAt(o);return n};t.API.events.push(["addFont",function(r){var s=void 0,n=r.font,o=r.instance;if(!n.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(s=o.existsFileInVFS(n.postScriptName)===!1?o.loadFile(n.postScriptName):o.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Vd(l)),i.metadata=t.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(n,s)}}])})(vt),vt.API.addSvgAsImage=function(t,e,r,s,n,o,i,l){if(isNaN(e)||isNaN(r))throw Zt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(n))throw Zt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=n;var c=d.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,d.width,d.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(At.canvg?Promise.resolve(At.canvg):Hd(()=>import("./index.es-Cn1kXGF7.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(u)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),e,r,s,n,i,l)})},vt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var n=0;n<this.internal.pages[s].length;n++)this.internal.pages[s][n]=this.internal.pages[s][n].replace(e,r);return this},vt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var s,n,o,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),d=[],c=0,u=0,m=0;function y(w,E){var R,T=!1;for(R=0;R<w.length;R+=1)w[R]===E&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=l.length;for(m=0;m<h;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Gt(t)==="object"){for(n in t)if(o=t[n],y(l,n)&&o!==void 0){if(r[n].type==="boolean"&&typeof o=="boolean")r[n].value=o;else if(r[n].type==="name"&&y(r[n].valueSet,o))r[n].value=o;else if(r[n].type==="integer"&&Number.isInteger(o))r[n].value=o;else if(r[n].type==="array"){for(c=0;c<o.length;c+=1)if(s=!0,o[c].length===1&&typeof o[c][0]=="number")d.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(s=!1);s===!0&&d.push([o[c][0]-1,o[c][1]-1].join(" "))}r[n].value="["+d.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,E=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?E.push("/"+w+" /"+r[w].value):E.push("/"+w+" "+r[w].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+i.length+l.length+n.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+o+i+l+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(vt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(o,i){for(var l,d=i.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],m=0,y=o.length;m<y;++m){if(l=i.metadata.characterToGlyph(o.charCodeAt(m)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=o.charCodeAt(m),d.indexOf(l)==-1&&(d.push(l),d.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(c[4-l.length],l)}return u.join("")},s=function(o){var i,l,d,c,u,m,y;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],m=0,y=(l=Object.keys(o).sort(function(h,w){return h-w})).length;m<y;m++)i=l[m],d.length>=100&&(u+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[i]!==void 0&&o[i]!==null&&typeof o[i].toString=="function"&&(c=("0000"+o[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),d.push("<"+i+"><"+c+">"));return d.length&&(u+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(i){var l=i.font,d=i.out,c=i.newObject,u=i.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",w=0;w<y.length;w++)h+=String.fromCharCode(y[w]);var E=c();u({data:h,addLength1:!0,objectId:E}),d("endobj");var R=c();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:R}),d("endobj");var T=c();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+ti(l.fontName)),d("/FontFile2 "+E+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),d("/Flags "+l.metadata.flags),d("/StemV "+l.metadata.stemV),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d(">>"),d("endobj");var G=c();d("<<"),d("/Type /Font"),d("/BaseFont /"+ti(l.fontName)),d("/FontDescriptor "+T+" 0 R"),d("/W "+t.API.PDFObject.convert(m)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+l.encoding+")"),d(">>"),d(">>"),d("endobj"),l.objectNumber=c(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+R+" 0 R"),d("/BaseFont /"+ti(l.fontName)),d("/Encoding /"+l.encoding),d("/DescendantFonts ["+G+" 0 R]"),d(">>"),d("endobj"),l.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(i){var l=i.font,d=i.out,c=i.newObject,u=i.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,y="",h=0;h<m.length;h++)y+=String.fromCharCode(m[h]);var w=c();u({data:y,addLength1:!0,objectId:w}),d("endobj");var E=c();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:E}),d("endobj");var R=c();d("<<"),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d("/StemV "+l.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+w+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),d("/FontName /"+ti(l.fontName)),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d(">>"),d("endobj"),l.objectNumber=c();for(var T=0;T<l.metadata.hmtx.widths.length;T++)l.metadata.hmtx.widths[T]=parseInt(l.metadata.hmtx.widths[T]*(1e3/l.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+ti(l.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),d("endobj"),l.isAlreadyPutted=!0}})(o)}]);var n=function(o){var i,l=o.text||"",d=o.x,c=o.y,u=o.options||{},m=o.mutex||{},y=m.pdfEscape,h=m.activeFontKey,w=m.fonts,E=h,R="",T=0,G="",z=w[E].encoding;if(w[E].encoding!=="Identity-H")return{text:l,x:d,y:c,options:u,mutex:m};for(G=l,E=h,Array.isArray(l)&&(G=l[0]),T=0;T<G.length;T+=1)w[E].metadata.hasOwnProperty("cmap")&&(i=w[E].metadata.cmap.unicode.codeMap[G[T].charCodeAt(0)]),i||G[T].charCodeAt(0)<256&&w[E].metadata.hasOwnProperty("Unicode")?R+=G[T]:R+="";var $="";return parseInt(E.slice(1))<14||z==="WinAnsiEncoding"?$=y(R,E).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):z==="Identity-H"&&($=r(R,w[E])),m.isHex=!0,{text:$,x:d,y:c,options:u,mutex:m}};e.events.push(["postProcessText",function(o){var i=o.text||"",l=[],d={text:i,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(i)){var c=0;for(c=0;c<i.length;c+=1)Array.isArray(i[c])&&i[c].length===3?l.push([n(Object.assign({},d,{text:i[c][0]})).text,i[c][1],i[c][2]]):l.push(n(Object.assign({},d,{text:i[c]})).text);o.text=l}else o.text=n(Object.assign({},d,{text:i})).text}])})(vt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,s){return e.call(this),this.internal.vFS[r]=s,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(vt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var n,o,i,l,d,c,u,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),G=!1,z=0;this.__bidiEngine__={};var $=function(S){var N=S.charCodeAt(),A=N>>8,p=E[A];return p!==void 0?m[256*p+(255&N)]:A===252||A===253?"AL":T.test(A)?"L":A===8?"R":"N"},I=function(S){for(var N,A=0;A<S.length;A++){if((N=$(S.charAt(A)))==="L")return!1;if(N==="R")return!0}return!1},K=function(S,N,A,p){var P,Q,H,q,M=N[p];switch(M){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":G=!1;break;case"N":case"AN":break;case"EN":G&&(M="AN");break;case"AL":G=!0,M="R";break;case"WS":case"BN":M="N";break;case"CS":p<1||p+1>=N.length||(P=A[p-1])!=="EN"&&P!=="AN"||(Q=N[p+1])!=="EN"&&Q!=="AN"?M="N":G&&(Q="AN"),M=Q===P?Q:"N";break;case"ES":M=(P=p>0?A[p-1]:"B")==="EN"&&p+1<N.length&&N[p+1]==="EN"?"EN":"N";break;case"ET":if(p>0&&A[p-1]==="EN"){M="EN";break}if(G){M="N";break}for(H=p+1,q=N.length;H<q&&N[H]==="ET";)H++;M=H<q&&N[H]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(q=N.length,H=p+1;H<q&&N[H]==="NSM";)H++;if(H<q){var ae=S[p],ee=ae>=1425&&ae<=2303||ae===64286;if(P=N[H],ee&&(P==="R"||P==="AL")){M="R";break}}}M=p<1||(P=N[p-1])==="B"?"N":A[p-1];break;case"B":G=!1,n=!0,M=z;break;case"S":o=!0,M="N"}return M},L=function(S,N,A){var p=S.split("");return A&&b(p,A,{hiLevel:z}),p.reverse(),N&&N.reverse(),p.join("")},b=function(S,N,A){var p,P,Q,H,q,M=-1,ae=S.length,ee=0,k=[],O=z?h:y,U=[];for(G=!1,n=!1,o=!1,P=0;P<ae;P++)U[P]=$(S[P]);for(Q=0;Q<ae;Q++){if(q=ee,k[Q]=K(S,U,k,Q),p=240&(ee=O[q][w[k[Q]]]),ee&=15,N[Q]=H=O[ee][5],p>0)if(p===16){for(P=M;P<Q;P++)N[P]=1;M=-1}else M=-1;if(O[ee][6])M===-1&&(M=Q);else if(M>-1){for(P=M;P<Q;P++)N[P]=H;M=-1}U[Q]==="B"&&(N[Q]=0),A.hiLevel|=H}o&&(function(B,V,J){for(var ce=0;ce<J;ce++)if(B[ce]==="S"){V[ce]=z;for(var ue=ce-1;ue>=0&&B[ue]==="WS";ue--)V[ue]=z}})(U,N,ae)},v=function(S,N,A,p,P){if(!(P.hiLevel<S)){if(S===1&&z===1&&!n)return N.reverse(),void(A&&A.reverse());for(var Q,H,q,M,ae=N.length,ee=0;ee<ae;){if(p[ee]>=S){for(q=ee+1;q<ae&&p[q]>=S;)q++;for(M=ee,H=q-1;M<H;M++,H--)Q=N[M],N[M]=N[H],N[H]=Q,A&&(Q=A[M],A[M]=A[H],A[H]=Q);ee=q}ee++}}},C=function(S,N,A){var p=S.split(""),P={hiLevel:z};return A||(A=[]),b(p,A,P),(function(Q,H,q){if(q.hiLevel!==0&&u)for(var M,ae=0;ae<Q.length;ae++)H[ae]===1&&(M=R.indexOf(Q[ae]))>=0&&(Q[ae]=R[M+1])})(p,A,P),v(2,p,N,A,P),v(1,p,N,A,P),p.join("")};return this.__bidiEngine__.doBidiReorder=function(S,N,A){if((function(P,Q){if(Q)for(var H=0;H<P.length;H++)Q[H]=H;l===void 0&&(l=I(P)),c===void 0&&(c=I(P))})(S,N),i||!d||c)if(i&&d&&l^c)z=l?1:0,S=L(S,N,A);else if(!i&&d&&c)z=l?1:0,S=C(S,N,A),S=L(S,N);else if(!i||l||d||c){if(i&&!d&&l^c)S=L(S,N),l?(z=0,S=C(S,N,A)):(z=1,S=C(S,N,A),S=L(S,N));else if(i&&l&&!d&&c)z=1,S=C(S,N,A),S=L(S,N);else if(!i&&!d&&l^c){var p=u;l?(z=1,S=C(S,N,A),z=0,u=!1,S=C(S,N,A),u=p):(z=0,S=C(S,N,A),S=L(S,N),z=1,u=!1,S=C(S,N,A),u=p,S=L(S,N))}}else z=0,S=C(S,N,A);else z=l?1:0,S=C(S,N,A);return S},this.__bidiEngine__.setOptions=function(S){S&&(i=S.isInputVisual,d=S.isOutputVisual,l=S.isInputRtl,c=S.isOutputRtl,u=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var n=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var i=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(n)==="[object Array]"){var l=0;for(i=[],l=0;l<n.length;l+=1)Object.prototype.toString.call(n[l])==="[object Array]"?i.push([r.doBidiReorder(n[l][0]),n[l][1],n[l][2]]):i.push([r.doBidiReorder(n[l])]);s.text=i}else s.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])})(vt),vt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new qn(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new oA(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new VS(this.contents),this.head=new KS(this),this.name=new QS(this),this.cmap=new Nv(this),this.toUnicode={},this.hhea=new YS(this),this.maxp=new eA(this),this.hmtx=new tA(this),this.post=new ZS(this),this.os2=new JS(this),this.loca=new nA(this),this.glyf=new rA(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,s,n,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,d,c;for(c=[],i=0,l=(d=this.bbox).length;i<l;i++)e=d[i],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(s=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,s){var n,o,i,l;for(i=0,o=0,l=(e=""+e).length;0<=l?o<l:o>l;o=0<=l?++o:--o)n=e.charCodeAt(o),i+=this.widthOfGlyph(this.characterToGlyph(n))+s*(1e3/r)||0;return i*(r/1e3)},t.prototype.lineHeight=function(e,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},t})();var pa,qn=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,s;for(s=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(e){var r,s,n;for(n=[],r=0,s=e.length;0<=s?r<s:r>s;r=0<=s?++r:--r)n.push(this.writeByte(e.charCodeAt(r)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,s,n,o,i,l,d;return e=this.readByte(),r=this.readByte(),s=this.readByte(),n=this.readByte(),o=this.readByte(),i=this.readByte(),l=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^n)+16777216*(255^o)+65536*(255^i)+256*(255^l)+(255^d)+1):72057594037927940*e+281474976710656*r+1099511627776*s+4294967296*n+16777216*o+65536*i+256*l+d},t.prototype.writeLongLong=function(e){var r,s;return r=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,s;for(r=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)r.push(this.readByte());return r},t.prototype.write=function(e){var r,s,n,o;for(o=[],s=0,n=e.length;s<n;s++)r=e[s],o.push(this.writeByte(r));return o},t})(),VS=(function(){var t;function e(r){var s,n,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,o=this.tableCount;0<=o?n<o:n>o;n=0<=o?++n:--n)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(r){var s,n,o,i,l,d,c,u,m,y,h,w,E;for(E in h=Object.keys(r).length,d=Math.log(2),m=16*Math.floor(Math.log(h)/d),i=Math.floor(m/d),u=16*h-m,(n=new qn).writeInt(this.scalarType),n.writeShort(h),n.writeShort(m),n.writeShort(i),n.writeShort(u),o=16*h,c=n.pos+o,l=null,w=[],r)for(y=r[E],n.writeString(E),n.writeInt(t(y)),n.writeInt(c),n.writeInt(y.length),w=w.concat(y),E==="head"&&(l=c),c+=y.length;c%4;)w.push(0),c++;return n.write(w),s=2981146554-t(n.data),n.pos=l+8,n.writeUInt32(s),n.data},t=function(r){var s,n,o,i;for(r=Lv.call(r);r.length%4;)r.push(0);for(o=new qn(r),n=0,s=0,i=r.length;s<i;s=s+=4)n+=o.readUInt32();return 4294967295&n},e})(),GS={}.hasOwnProperty,Da=function(t,e){for(var r in e)GS.call(e,r)&&(t[r]=e[r]);function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};pa=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var KS=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new qn).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),Ep=(function(){function t(e,r){var s,n,o,i,l,d,c,u,m,y,h,w,E,R,T,G,z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(h=e.readUInt16(),y=h/2,e.pos+=6,o=(function(){var $,I;for(I=[],d=$=0;0<=y?$<y:$>y;d=0<=y?++$:--$)I.push(e.readUInt16());return I})(),e.pos+=2,E=(function(){var $,I;for(I=[],d=$=0;0<=y?$<y:$>y;d=0<=y?++$:--$)I.push(e.readUInt16());return I})(),c=(function(){var $,I;for(I=[],d=$=0;0<=y?$<y:$>y;d=0<=y?++$:--$)I.push(e.readUInt16());return I})(),u=(function(){var $,I;for(I=[],d=$=0;0<=y?$<y:$>y;d=0<=y?++$:--$)I.push(e.readUInt16());return I})(),n=(this.length-e.pos+this.offset)/2,l=(function(){var $,I;for(I=[],d=$=0;0<=n?$<n:$>n;d=0<=n?++$:--$)I.push(e.readUInt16());return I})(),d=T=0,z=o.length;T<z;d=++T)for(R=o[d],s=G=w=E[d];w<=R?G<=R:G>=R;s=w<=R?++G:--G)u[d]===0?i=s+c[d]:(i=l[u[d]/2+(s-w)-(y-d)]||0)!==0&&(i+=c[d]),this.codeMap[s]=65535&i}e.pos=m}return t.encode=function(e,r){var s,n,o,i,l,d,c,u,m,y,h,w,E,R,T,G,z,$,I,K,L,b,v,C,S,N,A,p,P,Q,H,q,M,ae,ee,k,O,U,B,V,J,ce,ue,xe,$e,se;switch(p=new qn,i=Object.keys(e).sort(function(ie,oe){return ie-oe}),r){case"macroman":for(E=0,R=(function(){var ie=[];for(w=0;w<256;++w)ie.push(0);return ie})(),G={0:0},o={},P=0,M=i.length;P<M;P++)G[ue=e[n=i[P]]]==null&&(G[ue]=++E),o[n]={old:e[n],new:G[e[n]]},R[n]=G[e[n]];return p.writeUInt16(1),p.writeUInt16(0),p.writeUInt32(12),p.writeUInt16(0),p.writeUInt16(262),p.writeUInt16(0),p.write(R),{charMap:o,subtable:p.data,maxGlyphID:E+1};case"unicode":for(N=[],m=[],z=0,G={},s={},T=c=null,Q=0,ae=i.length;Q<ae;Q++)G[I=e[n=i[Q]]]==null&&(G[I]=++z),s[n]={old:I,new:G[I]},l=G[I]-n,T!=null&&l===c||(T&&m.push(T),N.push(n),c=l),T=n;for(T&&m.push(T),m.push(65535),N.push(65535),C=2*(v=N.length),b=2*Math.pow(Math.log(v)/Math.LN2,2),y=Math.log(b/2)/Math.LN2,L=2*v-b,d=[],K=[],h=[],w=H=0,ee=N.length;H<ee;w=++H){if(S=N[w],u=m[w],S===65535){d.push(0),K.push(0);break}if(S-(A=s[S].new)>=32768)for(d.push(0),K.push(2*(h.length+v-w)),n=q=S;S<=u?q<=u:q>=u;n=S<=u?++q:--q)h.push(s[n].new);else d.push(A-S),K.push(0)}for(p.writeUInt16(3),p.writeUInt16(1),p.writeUInt32(12),p.writeUInt16(4),p.writeUInt16(16+8*v+2*h.length),p.writeUInt16(0),p.writeUInt16(C),p.writeUInt16(b),p.writeUInt16(y),p.writeUInt16(L),J=0,k=m.length;J<k;J++)n=m[J],p.writeUInt16(n);for(p.writeUInt16(0),ce=0,O=N.length;ce<O;ce++)n=N[ce],p.writeUInt16(n);for(xe=0,U=d.length;xe<U;xe++)l=d[xe],p.writeUInt16(l);for($e=0,B=K.length;$e<B;$e++)$=K[$e],p.writeUInt16($);for(se=0,V=h.length;se<V;se++)E=h[se],p.writeUInt16(E);return{charMap:s,subtable:p.data,maxGlyphID:z+1}}},t})(),Nv=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,s,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r=new Ep(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var s,n;return r==null&&(r="macroman"),s=Ep.encode(e,r),(n=new qn).writeUInt16(0),n.writeUInt16(1),s.table=n.data.concat(s.subtable),s},t})(),YS=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),JS=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,s;for(s=[],r=0;r<10;++r)s.push(e.readByte());return s})(),this.charRange=(function(){var r,s;for(s=[],r=0;r<4;++r)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),ZS=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="post",t.prototype.parse=function(e){var r,s,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)r=e.readByte(),n.push(this.names.push(e.readString(r)));return n;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var i,l,d;for(d=[],o=i=0,l=this.file.maxp.numGlyphs;0<=l?i<l:i>l;o=0<=l?++i:--i)d.push(e.readUInt32());return d}).call(this)}},t})(),XS=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},QS=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="name",t.prototype.parse=function(e){var r,s,n,o,i,l,d,c,u,m,y;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(d={},o=u=0,m=s.length;u<m;o=++u)n=s[o],e.pos=n.offset,c=e.readString(n.length),i=new XS(c,n),d[y=n.nameID]==null&&(d[y]=[]),d[n.nameID].push(i);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t})(),eA=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),tA=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,s,n,o,i,l,d;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],r=c=0;0<=n?c<n:c>n;r=0<=n?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,m,y;for(y=[],c=0,u=(m=this.metrics).length;c<u;c++)o=m[c],y.push(o.advance);return y}).call(this),s=this.widths[this.widths.length-1],d=[],r=i=0;0<=n?i<n:i>n;r=0<=n?++i:--i)d.push(this.widths.push(s));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Lv=[].slice,rA=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,s,n,o,i,l,d,c,u,m;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(e),(n=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+s,i=(l=new qn(r.read(n))).readShort(),c=l.readShort(),m=l.readShort(),d=l.readShort(),u=l.readShort(),this.cache[e]=i===-1?new aA(l,c,m,d,u):new sA(l,i,c,m,d,u),this.cache[e]))},t.prototype.encode=function(e,r,s){var n,o,i,l,d;for(i=[],o=[],l=0,d=r.length;l<d;l++)n=e[r[l]],o.push(i.length),n&&(i=i.concat(n.encode(s)));return o.push(i.length),{table:i,offsets:o}},t})(),sA=(function(){function t(e,r,s,n,o,i){this.raw=e,this.numberOfContours=r,this.xMin=s,this.yMin=n,this.xMax=o,this.yMax=i,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),aA=(function(){function t(e,r,s,n,o){var i,l;for(this.raw=e,this.xMin=r,this.yMin=s,this.xMax=n,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return t.prototype.encode=function(){var e,r,s;for(r=new qn(Lv.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),nA=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,pa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,s;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var n,o;for(o=[],s=0,n=this.length;s<n;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var n,o;for(o=[],s=0,n=this.length;s<n;s+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var s=new Uint32Array(this.offsets.length),n=0,o=0,i=0;i<s.length;++i)if(s[i]=n,o<r.length&&r[o]==i){++o,s[i]=n;var l=this.offsets[i],d=this.offsets[i+1]-l;d>0&&(n+=d)}for(var c=new Array(4*s.length),u=0;u<s.length;++u)c[4*u+3]=255&s[u],c[4*u+2]=(65280&s[u])>>8,c[4*u+1]=(16711680&s[u])>>16,c[4*u]=(4278190080&s[u])>>24;return c},t})(),oA=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,s,n,o;for(r in n=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[r],e[r]=n[s];return e},t.prototype.glyphsFor=function(e){var r,s,n,o,i,l,d;for(n={},i=0,l=e.length;i<l;i++)n[o=e[i]]=this.font.glyf.glyphFor(o);for(o in r=[],n)(s=n[o])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(o in d=this.glyphsFor(r))s=d[o],n[o]=s;return n},t.prototype.encode=function(e,r){var s,n,o,i,l,d,c,u,m,y,h,w,E,R,T;for(n in s=Nv.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),h={0:0},T=s.charMap)h[(d=T[n]).old]=d.new;for(w in y=s.maxGlyphID,i)w in h||(h[w]=y++);return u=(function(G){var z,$;for(z in $={},G)$[G[z]]=z;return $})(h),m=Object.keys(u).sort(function(G,z){return G-z}),E=(function(){var G,z,$;for($=[],G=0,z=m.length;G<z;G++)l=m[G],$.push(u[l]);return $})(),o=this.font.glyf.encode(i,E,h),c=this.font.loca.encode(o.offsets,E),R={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},t})();vt.API.PDFObject=(function(){var t;function e(){}return t=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},e.convert=function(r){var s,n,o,i;if(Array.isArray(r))return"["+(function(){var l,d,c;for(c=[],l=0,d=r.length;l<d;l++)s=r[l],c.push(e.convert(s));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in o=["<<"],r)i=r[n],o.push("/"+n+" "+e.convert(i));return o.push(">>"),o.join(`
`)}return""+r},e})();const iA={class:"flex flex-col items-center p-8 bg-white dark:bg-black rounded-2xl shadow-lg max-w-4xl mx-auto text-black dark:text-red-400"},lA={class:"mb-8 flex gap-6 flex-wrap justify-center items-center bg-gray-50 dark:bg-red-600 p-6 rounded-xl border border-gray-200 dark:border-red-500"},dA={class:"flex flex-col gap-2 font-semibold text-black dark:text-black text-sm text-center"},cA={class:"flex flex-col gap-2 font-semibold text-black dark:text-black text-sm text-center"},uA={class:"flex flex-col gap-2 font-semibold text-black dark:text-black text-sm text-center"},fA={class:"flex flex-col gap-2 font-semibold text-black dark:text-black text-sm text-center"},hA=["innerHTML"],gA={key:1,class:"mt-2 font-semibold text-black dark:text-red-400"},Hs=600,Ws=40,Mp=12,pA=Dt({__name:"ZeroTarget",setup(t){const e=ye(null),r=ye(null),s=Hs/2,n=Hs/2,o=ye(100),i=ye("yd"),l=ye("mil"),d=ye(3),c=jn([]),u=ye(""),m=ye("");let y=null;qr(()=>{if(e.value){r.value=e.value.getContext("2d"),h();const I=e.value;I.addEventListener("touchstart",K=>{K.preventDefault(),K.stopPropagation();const L=I.getBoundingClientRect(),b=K.touches[0],v=I.width/L.width,C=I.height/L.height,S=(b.clientX-L.left)*v,N=(b.clientY-L.top)*C;R(S,N)},{passive:!1}),I.addEventListener("touchend",K=>{K.preventDefault(),K.stopPropagation()},{passive:!1}),I.addEventListener("touchmove",K=>{K.preventDefault(),K.stopPropagation()},{passive:!1})}});function h(){if(!r.value)return;const I=r.value;I.clearRect(0,0,Hs,Hs),I.strokeStyle="#f33",I.lineWidth=1,I.font="14px Arial",I.fillStyle="#f33";for(let b=-Mp/2;b<=Mp/2;b++){const v=s+b*Ws,C=n+b*Ws;I.beginPath(),I.moveTo(v,0),I.lineTo(v,Hs),I.stroke(),I.beginPath(),I.moveTo(0,C),I.lineTo(Hs,C),I.stroke();const S=Math.abs(b).toString();I.fillText(S,v-4,15),I.fillText(S,v-4,Hs-5),I.fillText(S,5,C+5),I.fillText(S,Hs-15,C+5)}I.strokeStyle="#f33",I.lineWidth=4,I.beginPath(),I.moveTo(s,0),I.lineTo(s,Hs),I.stroke(),I.beginPath(),I.moveTo(0,n),I.lineTo(Hs,n),I.stroke();const K=(b,v,C,S=2)=>{I.beginPath(),I.moveTo(b,v-C),I.lineTo(b+C,v),I.lineTo(b,v+C),I.lineTo(b-C,v),I.closePath(),I.lineWidth=S,I.strokeStyle="#f33",I.stroke()};[Ws*.5,Ws*1,Ws*1.5,Ws*2].forEach(b=>K(s,n,b));const L=Ws*4;if([[s-L,n-L],[s+L,n-L],[s-L,n+L],[s+L,n+L]].forEach(([b,v])=>{K(b,v,Ws*.5),K(b,v,Ws*1)}),c.forEach(b=>{I.beginPath(),I.arc(b.x,b.y,5,0,Math.PI*2),I.fillStyle="red",I.fill()}),y){I.strokeStyle="blue",I.lineWidth=2,I.beginPath(),I.moveTo(y.p1.x,y.p1.y),I.lineTo(y.p2.x,y.p2.y),I.stroke();const b=(y.p1.x+y.p2.x)/2,v=(y.p1.y+y.p2.y)/2;I.beginPath(),I.arc(b,v,y.maxDist/2,0,Math.PI*2),I.stroke()}}function w(){const I=i.value==="yd"?o.value:o.value*1.09361;return l.value==="mil"?3.6*(I/100):1.047*(I/100)}function E(I){const K=I.target.getBoundingClientRect(),L=I.target,b=L.width/K.width,v=L.height/K.height,C=(I.clientX-K.left)*b,S=(I.clientY-K.top)*v;R(C,S)}function R(I,K){c.push({x:I,y:K}),c.length>=d.value?T():u.value=`Shot ${c.length} recorded. Waiting for ${d.value-c.length} more shots.`,h()}function T(){const I=c.reduce((ce,ue)=>ce+ue.x,0)/c.length,K=c.reduce((ce,ue)=>ce+ue.y,0)/c.length,L=(I-s)/Ws,b=(n-K)/Ws,v=-L/w(),C=-b/w(),S=l.value==="mil"?.1:.05,N=Math.round(v/S),A=Math.round(C/S),p=L>=0?"RIGHT":"LEFT",P=b>=0?"UP":"DOWN",Q=v>0?"RIGHT":"LEFT",H=C>0?"UP":"DOWN",q=N>0?"RIGHT":"LEFT",M=A>0?"UP":"DOWN";u.value=`
    Group Center Offset: ${Math.abs(L).toFixed(2)}" ${p}, ${Math.abs(b).toFixed(2)}" ${P}
    (${Math.abs(L*2.54).toFixed(1)} cm ${p}, ${Math.abs(b*2.54).toFixed(1)} cm ${P})<br>
    Adjust: ${Math.abs(v).toFixed(2)} ${l.value} ${Q}, ${Math.abs(C).toFixed(2)} ${l.value} ${H}<br>
    Dial: ${Math.abs(N)} clicks ${q}, ${Math.abs(A)} clicks ${M}
  `;let ae=0,ee=c[0],k=c[0];for(let ce=0;ce<c.length;ce++)for(let ue=ce+1;ue<c.length;ue++){const xe=c[ce].x-c[ue].x,$e=c[ce].y-c[ue].y,se=Math.sqrt(xe*xe+$e*$e);se>ae&&(ae=se,ee=c[ce],k=c[ue])}y={p1:ee,p2:k,maxDist:ae};const O=ae/Ws,U=O*2.54,B=i.value==="yd"?o.value:o.value*1.09361,V=O/(B*1.047/100),J=U/(o.value*.1);i.value==="yd"?m.value=`Group Size: ${O.toFixed(2)}" (${V.toFixed(2)} MOA)`:m.value=`Group Size: ${U.toFixed(1)} cm (${J.toFixed(2)} MIL)`}function G(){c.length>0&&(c.pop(),u.value=c.length>0?`Removed last shot. ${c.length} remaining.`:"No shots placed.",c.length>=d.value?T():(y=null,m.value=""),h())}function z(){c.splice(0,c.length),u.value="Click on the target where your group landed",m.value="",y=null,h()}function $(){const b=new vt({unit:"mm",format:"a4",orientation:"portrait"}),v=210/2,C=297/2;b.setDrawColor(255,0,0),b.setTextColor(255,0,0),b.setLineWidth(.2);const S=Math.floor(v/25.4),N=Math.floor(C/25.4);for(let M=-S;M<=S;M++){const ae=v+M*25.4;b.line(ae,0,ae,297)}for(let M=-N;M<=N;M++){const ae=C+M*25.4;b.line(0,ae,210,ae)}b.setFontSize(8);for(let M=-S;M<=S;M++){const ae=Math.abs(M).toString(),ee=v+M*25.4;b.text(ae,ee+1,5),b.text(ae,ee+1,295)}for(let M=-N;M<=N;M++){const ae=Math.abs(M).toString(),ee=C+M*25.4;b.text(ae,2,ee+3),b.text(ae,206,ee+3)}b.setLineWidth(1),b.line(v,0,v,297),b.line(0,C,210,C);function A(M,ae,ee,k=.4){b.setLineWidth(k),b.line(M,ae-ee,M+ee,ae),b.line(M+ee,ae,M,ae+ee),b.line(M,ae+ee,M-ee,ae),b.line(M-ee,ae,M,ae-ee)}A(v,C,25.4*.5),A(v,C,25.4*1),A(v,C,25.4*1.5),A(v,C,25.4*2);const p=25.4*4;[[v-p,C-p],[v+p,C-p],[v-p,C+p],[v+p,C+p]].forEach(([M,ae])=>{A(M,ae,25.4*.5),A(M,ae,25.4*1)});const H=new Date().toISOString().split("T")[0],q=`DOPE-Zero-Target-${o.value}${i.value.toLowerCase()}-${H}.pdf`;b.save(q)}return(I,K)=>(W(),Y("div",iA,[a("div",lA,[a("label",dA,[K[4]||(K[4]=Qe(" Range to Target: ",-1)),Oe(a("input",{"onUpdate:modelValue":K[0]||(K[0]=L=>o.value=L),type:"number",min:"25",step:"25",class:"px-3 py-2 border-2 border-gray-300 dark:border-red-500 rounded-lg bg-gray-100 dark:!bg-black text-black dark:!text-red-400 font-medium transition-all min-w-[100px] focus:outline-none focus:border-blue-500 dark:focus:border-red-700"},null,512),[[dt,o.value,void 0,{number:!0}]])]),a("label",cA,[K[6]||(K[6]=Qe(" Distance Unit: ",-1)),Oe(a("select",{"onUpdate:modelValue":K[1]||(K[1]=L=>i.value=L),class:"px-3 py-2 border-2 border-gray-300 dark:border-red-500 rounded-lg bg-gray-100 dark:!bg-black text-black dark:!text-red-400 font-medium transition-all min-w-[100px] focus:outline-none focus:border-blue-500 dark:focus:border-red-700"},[...K[5]||(K[5]=[a("option",{value:"yd"},"Yards",-1),a("option",{value:"m"},"Meters",-1)])],512),[[_t,i.value]])]),a("label",uA,[K[8]||(K[8]=Qe(" Adjustment Unit: ",-1)),Oe(a("select",{"onUpdate:modelValue":K[2]||(K[2]=L=>l.value=L),class:"px-3 py-2 border-2 border-gray-300 dark:border-red-500 rounded-lg bg-gray-100 dark:!bg-black text-black dark:!text-red-400 font-medium transition-all min-w-[100px] focus:outline-none focus:border-blue-500 dark:focus:border-red-700"},[...K[7]||(K[7]=[a("option",{value:"mil"},"MIL",-1),a("option",{value:"moa"},"MOA",-1)])],512),[[_t,l.value]])]),a("label",fA,[K[9]||(K[9]=Qe(" Group Size (number of rounds): ",-1)),Oe(a("input",{"onUpdate:modelValue":K[3]||(K[3]=L=>d.value=L),type:"number",min:"2",max:"10",class:"px-3 py-2 border-2 border-gray-300 dark:border-red-500 rounded-lg bg-gray-100 dark:!bg-black text-black dark:!text-red-400 font-medium transition-all min-w-[100px] focus:outline-none focus:border-blue-500 dark:focus:border-red-700"},null,512),[[dt,d.value,void 0,{number:!0}]])])]),a("canvas",{ref_key:"canvasRef",ref:e,width:Hs,height:Hs,onClick:E,class:"border-3 border-gray-300 dark:border-red-400 rounded-xl cursor-crosshair bg-white shadow-md transition-transform hover:scale-105 relative z-10 touch-none"},null,512),u.value?(W(),Y("div",{key:0,class:"mt-6 font-bold text-black dark:text-black bg-gray-100 dark:bg-red-600 p-4 rounded-lg border-l-4 border-gray-400 dark:border-red-500 max-w-2xl text-center leading-relaxed",innerHTML:u.value},null,8,hA)):Re("",!0),m.value?(W(),Y("div",gA,F(m.value),1)):Re("",!0),a("div",{class:"mt-6 flex gap-4 flex-wrap justify-center"},[a("button",{onClick:$,class:"px-6 py-3 bg-blue-600 dark:bg-red-600 hover:bg-blue-700 dark:hover:bg-red-700 text-white dark:text-black font-semibold rounded-lg transition-all shadow-md hover:shadow-lg hover:-translate-y-1 active:translate-y-0"},"  Download PDF Target "),a("button",{onClick:G,class:"px-6 py-3 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 text-white dark:text-black font-semibold rounded-lg transition-all shadow-md hover:shadow-lg hover:-translate-y-1 active:translate-y-0"}," Undo Last Shot "),a("button",{onClick:z,class:"px-6 py-3 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 text-white dark:text-black font-semibold rounded-lg transition-all shadow-md hover:shadow-lg hover:-translate-y-1 active:translate-y-0"}," Clear All ")])]))}}),mA=Lr(pA,[["__scopeId","data-v-b758c686"]]),vA={class:"min-h-screen bg-white dark:bg-red-500 transition-colors duration-300"},bA={class:"bg-white dark:bg-black border-b border-gray-300 dark:border-red-600"},yA={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},xA={class:"text-center"},kA={class:"flex items-center justify-center mb-4"},wA={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},_A={class:"space-y-8"},SA={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},AA={class:"flex items-start space-x-4"},CA={class:"flex-shrink-0"},PA={class:"w-10 h-10 bg-gradient-to-br from-gray-500 to-gray-600 dark:from-red-600 dark:to-red-700 rounded-lg flex items-center justify-center"},NA={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},LA={class:"grid md:grid-cols-3 gap-6"},$A={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},EA={class:"flex items-center mb-4"},MA={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},TA={class:"flex items-center mb-4"},DA={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},IA={class:"flex items-center mb-4"},RA=Dt({__name:"ZeroView",setup(t){return(e,r)=>(W(),Y("div",vA,[a("div",bA,[a("div",yA,[a("div",xA,[a("div",kA,[Me(Le(Br),{class:"w-12 h-12 text-gray-600 dark:text-red-400 mr-4"}),r[0]||(r[0]=a("h1",{class:"text-4xl font-bold bg-gradient-to-r from-gray-700 to-gray-800 dark:from-red-400 dark:to-red-500 bg-clip-text text-transparent font-display"}," Zero Target ",-1))]),r[1]||(r[1]=a("p",{class:"text-lg text-gray-600 dark:text-red-400 max-w-3xl mx-auto"}," Interactive zeroing tool for precise scope adjustments. Click on the target where your shots landed to calculate required corrections. ",-1))])])]),a("div",wA,[a("div",_A,[a("div",SA,[a("div",AA,[a("div",CA,[a("div",PA,[Me(Le(sf),{class:"w-5 h-5 text-white dark:text-black"})])]),r[2]||(r[2]=a("div",null,[a("h3",{class:"text-lg font-semibold text-black dark:text-red-500 mb-2"}," How to Use the Zero Target "),a("div",{class:"space-y-2 text-gray-700 dark:text-red-400"},[a("p",null,"1. Set your range distance and preferred units"),a("p",null,"2. Specify the number of rounds in your group"),a("p",null,"3. Click on the target grid where each shot landed"),a("p",null,"4. Get precise scope adjustment recommendations")])],-1))])]),a("div",NA,[Me(mA)]),a("div",LA,[a("div",$A,[a("div",EA,[Me(Le(dc),{class:"w-6 h-6 text-gray-600 dark:text-red-400 mr-3"}),r[3]||(r[3]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-500"}," Scope Adjustment Tips ",-1))]),r[4]||(r[4]=Ht('<div class="space-y-3 text-sm text-gray-700 dark:text-red-400" data-v-e048dcac><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>MIL:</strong> 1 click = 0.1 MIL = 10cm per 100m</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>MOA:</strong> 1 click = 1/4 MOA = ~1&quot; per 100 yards</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>Windage:</strong> Move reticle toward impact</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>Elevation:</strong> Move reticle toward impact</p></div></div>',1))]),a("div",MA,[a("div",TA,[Me(Le(lc),{class:"w-6 h-6 text-gray-600 dark:text-red-400 mr-3"}),r[5]||(r[5]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-500"}," Printable PDF Target ",-1))]),r[6]||(r[6]=Ht('<div class="space-y-3 text-sm text-gray-700 dark:text-red-400" data-v-e048dcac><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>A4 Paper:</strong> Prints perfectly on standard paper</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>1&quot; Grid:</strong> Accurate scaling for your zero distance</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>Reference:</strong> Corner diamonds and center crosshairs</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>Instructions:</strong> Printed guidance on target</p></div></div>',1))]),a("div",DA,[a("div",IA,[Me(Le(Hl),{class:"w-6 h-6 text-gray-600 dark:text-red-400 mr-3"}),r[7]||(r[7]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-500"}," Target Grid Reference ",-1))]),r[8]||(r[8]=Ht('<div class="space-y-3 text-sm text-gray-700 dark:text-red-400" data-v-e048dcac><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac>Grid squares represent 1-inch intervals</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac>Center crosshairs mark point of aim</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac>Red diamonds provide aiming references</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac>Blue overlay shows group spread analysis</p></div></div>',1))])])])])]))}}),pV=Lr(RA,[["__scopeId","data-v-e048dcac"]]),OA={class:"min-h-screen bg-white dark:bg-red-500 py-6"},FA={class:"max-w-7xl mx-auto px-4 space-y-8"},jA={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4"},UA=["value"],BA={key:0,label:"Common Pistol Calibers"},zA=["value"],qA={key:1,label:"PCC Calibers"},HA=["value"],WA=["label"],VA=["value"],GA={key:0,class:"text-red-600 dark:text-red-400 mt-2"},KA={key:0,value:"0.5"},YA={key:1,value:"0.25"},JA={key:2,value:"0.05"},ZA={key:3,value:"0.1"},XA={class:"flex gap-2"},QA={class:"mb-6"},eC={class:"flex justify-between items-center mb-3"},tC={key:0,class:"text-sm text-gray-600 dark:text-red-400 italic"},rC={key:1,class:"space-y-3"},sC={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},aC=["onUpdate:modelValue"],nC=["onUpdate:modelValue"],oC=["onUpdate:modelValue"],iC={class:"md:col-span-2"},lC=["onUpdate:modelValue"],dC={class:"flex items-end"},cC=["onClick"],uC={class:"mb-6 p-4 bg-blue-50 dark:bg-red-900/10 rounded-md border border-blue-200 dark:border-red-500"},fC={class:"flex items-start gap-3"},hC={class:"flex-shrink-0 mt-1"},gC={class:"flex-1"},pC={class:"flex items-center justify-between mb-2"},mC={class:"flex items-center gap-2 cursor-pointer"},vC={key:0,class:"flex gap-2 flex-wrap"},bC={class:"flex items-center gap-1 px-2 py-1 bg-white dark:bg-red-600 rounded border border-gray-300 dark:border-red-400 text-sm"},yC={class:"flex items-center gap-1 px-2 py-1 bg-white dark:bg-red-600 rounded border border-gray-300 dark:border-red-400 text-sm"},xC={class:"flex items-center gap-1 px-2 py-1 bg-white dark:bg-red-600 rounded border border-gray-300 dark:border-red-400 text-sm"},kC={class:"mb-6"},wC={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_C={key:0,class:"mt-2"},SC={class:"flex flex-wrap gap-2"},AC=["src","alt"],CC=["onClick"],PC={key:0,class:"mt-2"},NC={class:"flex flex-wrap gap-2"},LC=["src","alt"],$C=["onClick"],EC={class:"flex gap-4"},MC={type:"submit",class:"bg-blue-600 dark:bg-red-600 hover:bg-blue-700 dark:hover:bg-red-700 text-white dark:text-black px-6 py-2 rounded-md transition-colors"},TC={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},DC={key:0,class:"overflow-x-auto"},IC={class:"w-full border-collapse"},RC={class:"py-3 px-4 text-black dark:text-red-400"},OC={class:"py-3 px-4 text-black dark:text-red-400"},FC={class:"py-3 px-4 text-black dark:text-red-400"},jC={class:"py-3 px-4 text-black dark:text-red-400 text-right"},UC={class:"py-3 px-4 text-black dark:text-red-400"},BC={key:0,class:"text-sm"},zC={key:1,class:"text-gray-500 dark:text-red-300"},qC={class:"py-3 px-4 text-black dark:text-red-400 text-right"},HC={class:"py-3 px-4"},WC=["onClick"],VC=["onClick"],GC=["onClick"],KC={key:1,class:"text-gray-600 dark:text-red-400"},YC={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},JC={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ZC={class:"inline-block align-bottom bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full border border-gray-200 dark:border-red-500"},XC={class:"px-6 py-4 border-b border-gray-200 dark:border-red-500"},QC={class:"flex items-center justify-between"},eP={class:"text-lg font-medium text-gray-900 dark:text-red-600",id:"modal-title"},tP={key:0,class:"p-6"},rP={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},sP={class:"space-y-4"},aP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},nP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},oP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},iP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},lP={class:"space-y-4"},dP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},cP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},uP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},fP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},hP={class:"space-y-4"},gP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},pP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},mP={key:0},vP={key:1},bP={class:"mt-6 pt-6 border-t border-gray-200 dark:border-red-500"},yP={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},xP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},kP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},wP={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},_P={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},SP={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-red-500"},AP={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},CP=["src","alt"],PP={class:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1 rounded-b"},NP=Dt({__name:"RiflesView",setup(t){const e=Vn(),r=Pe(()=>e.profiles),s=ye(!1),n=ye(null),o=ye({make:"",variant:"",type:"",caliber:"",serialNumber:"",licenceNumber:"",licenceExpiryDate:"",barrelLength:"",opticsType:"rifle-scope",opticsMeasurement:"MOA",scopeAdjustmentValue:.25,zeroDistance:"100",zeroDistanceUnit:"yards",competencies:[],rifleImages:[],licenceImages:[],notificationsEnabled:!0,notificationMonths:[6,3,1]}),i=ye(null),l=ye([]),d=ye(),c=ye(),u=Pe(()=>o.value.type==="semi-auto-handgun"||o.value.type==="pistol"),m=Pe(()=>o.value.type==="pistol-calibre-carbine");Sr(()=>o.value.opticsMeasurement,A=>{A==="MIL"?o.value.scopeAdjustmentValue=.1:A==="MOA"&&(o.value.scopeAdjustmentValue=.25)}),qr(()=>{fetch("./dope_tables/dope_yards.csv").then(A=>A.text()).then(A=>{const P=x0.parse(A,{header:!0,skipEmptyLines:!0}).data.map(Q=>Q.Caliber&&Q.Caliber.trim()).filter(Q=>!!Q);l.value=Array.from(new Set(P)).sort()}).catch(()=>{l.value=[]}),y()});function y(){const A=[],p=new Date;r.value.forEach(P=>{if(P.licenceExpiryDate){const Q=new Date(P.licenceExpiryDate),H=Math.round((Q.getTime()-p.getTime())/(1e3*60*60*24*30));H<=6&&H>0?A.push(` ${P.make}: Firearm licence expires in ${H} month(s)`):H<=0&&A.push(` ${P.make}: Firearm licence has EXPIRED`)}P.competencies&&P.competencies.length>0&&P.competencies.forEach(Q=>{const H=new Date(Q.expiryDate),q=Math.round((H.getTime()-p.getTime())/(1e3*60*60*24*30));q<=6&&q>0?A.push(` ${P.make} - ${Q.competencyType}: Expires in ${q} month(s)`):q<=0&&A.push(` ${P.make} - ${Q.competencyType}: Has EXPIRED`)})}),A.length>0&&alert(` Expiry Notifications:

`+A.join(`
`))}function h(A){if(!A)return"-";const p=hg.find(P=>P.value===A);return p?p.label:A}function w(A){return A?new Date(A).toLocaleDateString():""}function E(A){n.value=A,s.value=!0}function R(){s.value=!1,n.value=null}function T(A){const p=A.target;p.files&&z(p.files,"rifle")}function G(A){const p=A.target;p.files&&z(p.files,"licence")}function z(A,p){for(let P=0;P<A.length;P++){const Q=A[P],H=new FileReader;H.onload=q=>{const M={id:`${Date.now()}_${P}`,filename:Q.name,type:p,url:q.target?.result,uploadDate:new Date,size:Q.size,mimeType:Q.type};p==="rifle"?o.value.rifleImages.push(M):o.value.licenceImages.push(M)},H.readAsDataURL(Q)}}function $(A,p){A==="rifle"?o.value.rifleImages.splice(p,1):o.value.licenceImages.splice(p,1)}function I(){o.value.competencies.push({id:`comp_${Date.now()}`,competencyType:"",referenceNumber:"",issueDate:new Date,expiryDate:new Date,issuingAuthority:"",notes:""})}function K(A){o.value.competencies.splice(A,1)}function L(A){if(!o.value.notificationsEnabled||o.value.notificationMonths.length===0)return;const p=[],P=new Date;if(A.licenceExpiryDate){const Q=new Date(A.licenceExpiryDate);o.value.notificationMonths.forEach(H=>{const q=new Date(Q);if(q.setMonth(q.getMonth()-H),P>=q&&P<Q){const M=Math.round((Q.getTime()-P.getTime())/2592e6);p.push(` Firearm licence expires in ${M} month(s)`)}})}A.competencies&&A.competencies.forEach(Q=>{if(Q.expiryDate){const H=new Date(Q.expiryDate);o.value.notificationMonths.forEach(q=>{const M=new Date(H);if(M.setMonth(M.getMonth()-q),P>=M&&P<H){const ae=Math.round((H.getTime()-P.getTime())/2592e6);p.push(` ${Q.competencyType} expires in ${ae} month(s)`)}})}}),p.length>0&&alert(`Expiry Notifications:

${p.join(`
`)}`)}function b(){const A=[...o.value.rifleImages,...o.value.licenceImages],p=o.value.competencies.map(Q=>({...Q,issueDate:Q.issueDate?new Date(Q.issueDate):new Date,expiryDate:Q.expiryDate?new Date(Q.expiryDate):new Date})),P={make:o.value.make,name:o.value.make,variant:o.value.variant||void 0,type:o.value.type,caliber:o.value.caliber,serialNumber:o.value.serialNumber||void 0,licenceNumber:o.value.licenceNumber||void 0,licenceExpiryDate:o.value.licenceExpiryDate?new Date(o.value.licenceExpiryDate):void 0,competencies:p.length>0?p:void 0,images:A.length>0?A:void 0,barrelLength:Number(o.value.barrelLength)||0,opticsType:o.value.opticsType,opticsMeasurement:o.value.opticsMeasurement,scopeAdjustmentValue:Number(o.value.scopeAdjustmentValue)||(o.value.opticsMeasurement==="MOA"?.25:.1),zeroDistance:Number(o.value.zeroDistance)||100,zeroDistanceUnit:o.value.zeroDistanceUnit,muzzleVelocity:0,ballisticCoefficient:0,dragModel:"G1",scopeHeight:1.5,twistRate:"",bulletWeight:0};i.value?e.updateProfile(i.value,P):e.createProfile(P),L(P),N()}function v(A){const p=A.images?.filter(H=>H.type==="rifle")||[],P=A.images?.filter(H=>H.type==="licence")||[],Q=(A.competencies||[]).map(H=>({...H,expiryDate:H.expiryDate?new Date(H.expiryDate).toISOString().split("T")[0]:""}));o.value={make:A.make||A.name||"",variant:A.variant||"",type:A.type||"",caliber:A.caliber||"",serialNumber:A.serialNumber||"",licenceNumber:A.licenceNumber||"",licenceExpiryDate:A.licenceExpiryDate?new Date(A.licenceExpiryDate).toISOString().split("T")[0]:"",competencies:Q,barrelLength:A.barrelLength?.toString()||"",opticsType:A.opticsType||"rifle-scope",opticsMeasurement:A.opticsMeasurement||"MOA",scopeAdjustmentValue:A.scopeAdjustmentValue||(A.opticsMeasurement==="MOA"?.25:.1),zeroDistance:A.zeroDistance?.toString()||"100",zeroDistanceUnit:A.zeroDistanceUnit||"yards",rifleImages:p,licenceImages:P,notificationsEnabled:!0,notificationMonths:[6,3,1]},i.value=A.id,window.scrollTo({top:0,behavior:"smooth"})}function C(A){confirm("Are you sure you want to delete this firearm?")&&(e.deleteProfile(A),i.value===A&&N())}function S(){N()}function N(){o.value={make:"",variant:"",type:"",caliber:"",serialNumber:"",licenceNumber:"",licenceExpiryDate:"",barrelLength:"",opticsType:"rifle-scope",opticsMeasurement:"MOA",scopeAdjustmentValue:.25,zeroDistance:"100",zeroDistanceUnit:"yards",competencies:[],rifleImages:[],licenceImages:[],notificationsEnabled:!0,notificationMonths:[6,3,1]},i.value=null,d.value&&(d.value.value=""),c.value&&(c.value.value="")}return(A,p)=>(W(),Y("div",OA,[a("div",FA,[a("form",{onSubmit:Is(b,["prevent"]),class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6 mb-8"},[p[55]||(p[55]=a("h2",{class:"text-lg font-semibold mb-4 text-black dark:text-red-400"},"Add Firearm",-1)),a("div",jA,[a("div",null,[p[17]||(p[17]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},[Qe("Make "),a("span",{class:"text-red-500"},"*")],-1)),Oe(a("input",{"onUpdate:modelValue":p[0]||(p[0]=P=>o.value.make=P),type:"text",required:"",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"e.g., Glock, Remington, Ruger"},null,512),[[dt,o.value.make]])]),a("div",null,[p[18]||(p[18]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Variant",-1)),Oe(a("input",{"onUpdate:modelValue":p[1]||(p[1]=P=>o.value.variant=P),type:"text",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"e.g., 17, 700, 10/22"},null,512),[[dt,o.value.variant]])]),a("div",null,[p[20]||(p[20]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},[Qe("Type "),a("span",{class:"text-red-500"},"*")],-1)),Oe(a("select",{"onUpdate:modelValue":p[2]||(p[2]=P=>o.value.type=P),required:"",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[p[19]||(p[19]=a("option",{value:"",disabled:""},"Select Type",-1)),(W(!0),Y(rt,null,it(Le(hg),P=>(W(),Y("option",{key:P.value,value:P.value},F(P.label),9,UA))),128))],512),[[_t,o.value.type]])]),a("div",null,[p[22]||(p[22]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},[Qe("Calibre "),a("span",{class:"text-red-500"},"*")],-1)),Oe(a("select",{"onUpdate:modelValue":p[3]||(p[3]=P=>o.value.caliber=P),required:"",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[p[21]||(p[21]=a("option",{value:"",disabled:""},"Select Calibre",-1)),u.value?(W(),Y("optgroup",BA,[(W(!0),Y(rt,null,it(Le(zx),P=>(W(),Y("option",{key:P,value:P},F(P),9,zA))),128))])):Re("",!0),m.value?(W(),Y("optgroup",qA,[(W(!0),Y(rt,null,it(Le(qx),P=>(W(),Y("option",{key:P,value:P},F(P),9,HA))),128))])):Re("",!0),a("optgroup",{label:u.value||m.value?"Other Calibers":"Available Calibers"},[(W(!0),Y(rt,null,it(l.value,P=>(W(),Y("option",{key:P,value:P},F(P),9,VA))),128))],8,WA)],512),[[_t,o.value.caliber]]),l.value.length===0?(W(),Y("div",GA,"No calibres available. Please check DOPE table loading.")):Re("",!0)]),a("div",null,[p[23]||(p[23]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Serial Number",-1)),Oe(a("input",{"onUpdate:modelValue":p[4]||(p[4]=P=>o.value.serialNumber=P),type:"text",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"Firearm serial number"},null,512),[[dt,o.value.serialNumber]])]),a("div",null,[p[24]||(p[24]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Licence Number",-1)),Oe(a("input",{"onUpdate:modelValue":p[5]||(p[5]=P=>o.value.licenceNumber=P),type:"text",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"Firearms licence number"},null,512),[[dt,o.value.licenceNumber]])]),a("div",null,[p[25]||(p[25]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Licence Expiry Date",-1)),Oe(a("input",{"onUpdate:modelValue":p[6]||(p[6]=P=>o.value.licenceExpiryDate=P),type:"date",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},null,512),[[dt,o.value.licenceExpiryDate]])]),a("div",null,[p[26]||(p[26]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Barrel Length (inches)",-1)),Oe(a("input",{"onUpdate:modelValue":p[7]||(p[7]=P=>o.value.barrelLength=P),type:"number",min:"0",step:"0.1",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"e.g. 16.5"},null,512),[[dt,o.value.barrelLength]])]),a("div",null,[p[28]||(p[28]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},[Qe("Optics Type "),a("span",{class:"text-red-500"},"*")],-1)),Oe(a("select",{"onUpdate:modelValue":p[8]||(p[8]=P=>o.value.opticsType=P),required:"",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[...p[27]||(p[27]=[a("option",{value:"iron-sights"},"Iron Sights",-1),a("option",{value:"red-dot"},"Red Dot Sight",-1),a("option",{value:"rifle-scope"},"Rifle Scope",-1)])],512),[[_t,o.value.opticsType]])]),a("div",null,[p[30]||(p[30]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Optics Measurement",-1)),Oe(a("select",{"onUpdate:modelValue":p[9]||(p[9]=P=>o.value.opticsMeasurement=P),class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[...p[29]||(p[29]=[a("option",{value:"MOA"},"MOA",-1),a("option",{value:"MIL"},"MIL",-1)])],512),[[_t,o.value.opticsMeasurement]])]),a("div",null,[p[31]||(p[31]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Scope Adjustment Value (per click)",-1)),Oe(a("select",{"onUpdate:modelValue":p[10]||(p[10]=P=>o.value.scopeAdjustmentValue=P),class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[o.value.opticsMeasurement==="MOA"?(W(),Y("option",KA,"0.50 MOA")):Re("",!0),o.value.opticsMeasurement==="MOA"?(W(),Y("option",YA,"0.25 MOA")):Re("",!0),o.value.opticsMeasurement==="MOA"?(W(),Y("option",JA,"0.05 MOA")):Re("",!0),o.value.opticsMeasurement==="MIL"?(W(),Y("option",ZA,"0.1 MIL")):Re("",!0)],512),[[_t,o.value.scopeAdjustmentValue]]),p[32]||(p[32]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"}," Amount of windage/elevation adjustment per turret click ",-1))]),a("div",null,[p[35]||(p[35]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Zeroed Distance",-1)),a("div",XA,[Oe(a("select",{"onUpdate:modelValue":p[11]||(p[11]=P=>o.value.zeroDistance=P),class:"flex-1 px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[...p[33]||(p[33]=[Ht('<option value="25" data-v-85022cd1>25</option><option value="50" data-v-85022cd1>50</option><option value="100" data-v-85022cd1>100</option><option value="200" data-v-85022cd1>200</option><option value="300" data-v-85022cd1>300</option>',5)])],512),[[_t,o.value.zeroDistance]]),Oe(a("select",{"onUpdate:modelValue":p[12]||(p[12]=P=>o.value.zeroDistanceUnit=P),class:"flex-1 px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[...p[34]||(p[34]=[a("option",{value:"yards"},"Yards",-1),a("option",{value:"meters"},"Meters",-1)])],512),[[_t,o.value.zeroDistanceUnit]])]),p[36]||(p[36]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"}," Distance at which the firearm is zeroed ",-1))])]),a("div",QA,[a("div",eC,[p[38]||(p[38]=a("h3",{class:"text-md font-medium text-black dark:text-red-400"},"Firearm Competencies",-1)),a("button",{type:"button",onClick:I,class:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 dark:bg-red-600 hover:bg-blue-700 dark:hover:bg-red-700 text-white dark:text-black rounded-md transition-colors"},[Me(Le(li),{size:16}),p[37]||(p[37]=Qe(" Add Competency ",-1))])]),o.value.competencies.length===0?(W(),Y("div",tC,"No competencies added yet")):(W(),Y("div",rC,[(W(!0),Y(rt,null,it(o.value.competencies,(P,Q)=>(W(),Y("div",{key:Q,class:"p-4 bg-gray-50 dark:bg-red-900/20 rounded-md border border-gray-200 dark:border-red-500"},[a("div",sC,[a("div",null,[p[39]||(p[39]=a("label",{class:"block text-xs font-medium mb-1 text-black dark:text-red-400"},"Competency Type",-1)),Oe(a("input",{"onUpdate:modelValue":H=>P.competencyType=H,type:"text",class:"w-full px-2 py-1 text-sm bg-white dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"e.g., Range Safety Officer"},null,8,aC),[[dt,P.competencyType]])]),a("div",null,[p[40]||(p[40]=a("label",{class:"block text-xs font-medium mb-1 text-black dark:text-red-400"},"Reference Number",-1)),Oe(a("input",{"onUpdate:modelValue":H=>P.referenceNumber=H,type:"text",class:"w-full px-2 py-1 text-sm bg-white dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"Competency reference #"},null,8,nC),[[dt,P.referenceNumber]])]),a("div",null,[p[41]||(p[41]=a("label",{class:"block text-xs font-medium mb-1 text-black dark:text-red-400"},"Expiry Date",-1)),Oe(a("input",{"onUpdate:modelValue":H=>P.expiryDate=H,type:"date",class:"w-full px-2 py-1 text-sm bg-white dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-red-400"},null,8,oC),[[dt,P.expiryDate]])]),a("div",iC,[p[42]||(p[42]=a("label",{class:"block text-xs font-medium mb-1 text-black dark:text-red-400"},"Issuing Authority (Optional)",-1)),Oe(a("input",{"onUpdate:modelValue":H=>P.issuingAuthority=H,type:"text",class:"w-full px-2 py-1 text-sm bg-white dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"e.g., National Firearms Authority"},null,8,lC),[[dt,P.issuingAuthority]])]),a("div",dC,[a("button",{type:"button",onClick:H=>K(Q),class:"flex items-center gap-1 px-3 py-1 text-sm bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors"},[Me(Le(df),{size:14}),p[43]||(p[43]=Qe(" Remove ",-1))],8,cC)])])]))),128))]))]),a("div",uC,[a("div",fC,[a("div",hC,[(W(),It(ls(o.value.notificationsEnabled?Le(px):Le(gx)),{size:20,class:"text-blue-600 dark:text-red-400"}))]),a("div",gC,[a("div",pC,[p[45]||(p[45]=a("h3",{class:"text-md font-medium text-black dark:text-red-400"},"Expiry Notifications",-1)),a("label",mC,[Oe(a("input",{"onUpdate:modelValue":p[13]||(p[13]=P=>o.value.notificationsEnabled=P),type:"checkbox",class:"w-4 h-4 text-blue-600 dark:text-red-600 rounded focus:ring-blue-500 dark:focus:ring-red-500"},null,512),[[Ur,o.value.notificationsEnabled]]),p[44]||(p[44]=a("span",{class:"text-sm text-black dark:text-red-400"},"Enable notifications",-1))])]),p[49]||(p[49]=a("p",{class:"text-sm text-gray-600 dark:text-red-400 mb-2"},"Get notified before your licence and competencies expire",-1)),o.value.notificationsEnabled?(W(),Y("div",vC,[a("label",bC,[Oe(a("input",{"onUpdate:modelValue":p[14]||(p[14]=P=>o.value.notificationMonths=P),type:"checkbox",value:"6",class:"w-3 h-3"},null,512),[[Ur,o.value.notificationMonths]]),p[46]||(p[46]=a("span",{class:"text-black dark:text-black"},"6 months",-1))]),a("label",yC,[Oe(a("input",{"onUpdate:modelValue":p[15]||(p[15]=P=>o.value.notificationMonths=P),type:"checkbox",value:"3",class:"w-3 h-3"},null,512),[[Ur,o.value.notificationMonths]]),p[47]||(p[47]=a("span",{class:"text-black dark:text-black"},"3 months",-1))]),a("label",xC,[Oe(a("input",{"onUpdate:modelValue":p[16]||(p[16]=P=>o.value.notificationMonths=P),type:"checkbox",value:"1",class:"w-3 h-3"},null,512),[[Ur,o.value.notificationMonths]]),p[48]||(p[48]=a("span",{class:"text-black dark:text-black"},"1 month",-1))])])):Re("",!0)])])]),a("div",kC,[p[54]||(p[54]=a("h3",{class:"text-md font-medium mb-3 text-black dark:text-red-400"},"Images",-1)),a("div",wC,[a("div",null,[p[50]||(p[50]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Firearm Images",-1)),a("input",{ref_key:"rifleImageInput",ref:d,type:"file",accept:"image/*",multiple:"",onChange:T,class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},null,544),p[51]||(p[51]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"},"Upload images of your firearm",-1)),o.value.rifleImages&&o.value.rifleImages.length>0?(W(),Y("div",_C,[a("div",SC,[(W(!0),Y(rt,null,it(o.value.rifleImages,(P,Q)=>(W(),Y("div",{key:Q,class:"relative"},[a("img",{src:P.url,alt:P.filename,class:"w-16 h-16 object-cover rounded border"},null,8,AC),a("button",{type:"button",onClick:H=>$("rifle",Q),class:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs flex items-center justify-center"},"",8,CC)]))),128))])])):Re("",!0)]),a("div",null,[p[52]||(p[52]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Licence Images",-1)),a("input",{ref_key:"licenceImageInput",ref:c,type:"file",accept:"image/*",multiple:"",onChange:G,class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},null,544),p[53]||(p[53]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"},"Upload images of your licence",-1)),o.value.licenceImages&&o.value.licenceImages.length>0?(W(),Y("div",PC,[a("div",NC,[(W(!0),Y(rt,null,it(o.value.licenceImages,(P,Q)=>(W(),Y("div",{key:Q,class:"relative"},[a("img",{src:P.url,alt:P.filename,class:"w-16 h-16 object-cover rounded border"},null,8,LC),a("button",{type:"button",onClick:H=>$("licence",Q),class:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs flex items-center justify-center"},"",8,$C)]))),128))])])):Re("",!0)])])]),a("div",EC,[a("button",MC,F(i.value?"Update":"Add")+" Firearm",1),i.value?(W(),Y("button",{key:0,type:"button",onClick:S,class:"bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-800 text-black dark:text-red-400 px-6 py-2 rounded-md border border-gray-300 dark:border-red-400 transition-colors"},"Cancel")):Re("",!0)])],32),a("div",TC,[p[57]||(p[57]=a("h2",{class:"text-lg font-semibold mb-4 text-black dark:text-red-400"},"Your Firearms",-1)),r.value.length?(W(),Y("div",DC,[a("table",IC,[p[56]||(p[56]=a("thead",null,[a("tr",{class:"border-b border-gray-200 dark:border-red-400"},[a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[120px]"},"Make"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[100px]"},"Type"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[100px]"},"Calibre"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[120px]"},"Barrel Length"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[140px]"},"Licence Expiry"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[120px]"},"Zeroed Distance"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[160px]"},"Actions")])],-1)),a("tbody",null,[(W(!0),Y(rt,null,it(r.value,P=>(W(),Y("tr",{key:P.id,class:"border-b border-gray-100 dark:border-red-400 hover:bg-gray-50 dark:hover:bg-gray-900"},[a("td",RC,F(P.make||P.name),1),a("td",OC,F(h(P.type)),1),a("td",FC,F(P.caliber),1),a("td",jC,F(P.barrelLength)+'"',1),a("td",UC,[P.licenceExpiryDate?(W(),Y("span",BC,F(w(P.licenceExpiryDate)),1)):(W(),Y("span",zC,"-"))]),a("td",qC,F(P.zeroDistance||100)+" "+F(P.zeroDistanceUnit||"yards"),1),a("td",HC,[a("button",{onClick:Q=>E(P),class:"text-green-600 dark:text-green-500 hover:text-green-800 dark:hover:text-green-300 px-2 transition-colors"},"View",8,WC),a("button",{onClick:Q=>v(P),class:"text-blue-600 dark:text-red-500 hover:text-blue-800 dark:hover:text-red-300 px-2 transition-colors"},"Edit",8,VC),a("button",{onClick:Q=>C(P.id),class:"text-red-600 dark:text-red-500 hover:text-red-800 dark:hover:text-red-300 px-2 transition-colors"},"Delete",8,GC)])]))),128))])])])):(W(),Y("div",KC,"No firearms saved yet."))])]),s.value?(W(),Y("div",YC,[a("div",JC,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:R}),a("div",ZC,[a("div",XC,[a("div",QC,[a("h3",eP,F(n.value?.make||n.value?.name)+" Details ",1),a("button",{onClick:R,class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300"},[Me(Le(Po),{class:"w-6 h-6"})])])]),n.value?(W(),Y("div",tP,[a("div",rP,[a("div",sP,[p[62]||(p[62]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 border-b border-gray-200 dark:border-red-500 pb-2"},"Basic Information",-1)),a("div",null,[p[58]||(p[58]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Make",-1)),a("div",aP,F(n.value.make||n.value.name||"-"),1)]),a("div",null,[p[59]||(p[59]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Type",-1)),a("div",nP,F(h(n.value.type)),1)]),a("div",null,[p[60]||(p[60]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Caliber",-1)),a("div",oP,F(n.value.caliber||"-"),1)]),a("div",null,[p[61]||(p[61]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Barrel Length",-1)),a("div",iP,F(n.value.barrelLength?n.value.barrelLength+'"':"-"),1)])]),a("div",lP,[p[67]||(p[67]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 border-b border-gray-200 dark:border-red-500 pb-2"},"Optics & Zeroing",-1)),a("div",null,[p[63]||(p[63]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Optics Measurement",-1)),a("div",dP,F(n.value.opticsMeasurement||"MOA"),1)]),a("div",null,[p[64]||(p[64]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Scope Adjustment Value",-1)),a("div",cP,F(n.value.scopeAdjustmentValue||.25)+" "+F(n.value.opticsMeasurement||"MOA"),1)]),a("div",null,[p[65]||(p[65]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Zeroed Distance",-1)),a("div",uP,F(n.value.zeroDistance||100)+" "+F(n.value.zeroDistanceUnit||"yards"),1)]),a("div",null,[p[66]||(p[66]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Scope Height",-1)),a("div",fP,F(n.value.scopeHeight||1.5)+'"',1)])]),a("div",hP,[p[70]||(p[70]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 border-b border-gray-200 dark:border-red-500 pb-2"},"Licensing",-1)),a("div",null,[p[68]||(p[68]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Licence Number",-1)),a("div",gP,F(n.value.licenceNumber||"-"),1)]),a("div",null,[p[69]||(p[69]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Licence Expiry Date",-1)),a("div",pP,[n.value.licenceExpiryDate?(W(),Y("span",mP,F(w(n.value.licenceExpiryDate)),1)):(W(),Y("span",vP,"-"))])])])]),a("div",bP,[p[75]||(p[75]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 mb-4"},"Ballistic Data",-1)),a("div",yP,[a("div",null,[p[71]||(p[71]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Muzzle Velocity",-1)),a("div",xP,F(n.value.muzzleVelocity||0)+" fps",1)]),a("div",null,[p[72]||(p[72]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Bullet Weight",-1)),a("div",kP,F(n.value.bulletWeight||0)+" grains",1)]),a("div",null,[p[73]||(p[73]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Ballistic Coefficient",-1)),a("div",wP,F(n.value.ballisticCoefficient||0),1)]),a("div",null,[p[74]||(p[74]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Drag Model",-1)),a("div",_P,F(n.value.dragModel||"G1"),1)])])]),n.value.images&&n.value.images.length>0?(W(),Y("div",SP,[p[76]||(p[76]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 mb-4"},"Images",-1)),a("div",AP,[(W(!0),Y(rt,null,it(n.value.images,(P,Q)=>(W(),Y("div",{key:Q,class:"relative"},[a("img",{src:P.url,alt:P.filename,class:"w-full h-24 object-cover rounded border border-gray-200 dark:border-red-500"},null,8,CP),a("div",PP,F(P.type==="rifle"?"Firearm":"Licence"),1)]))),128))])])):Re("",!0)])):Re("",!0),a("div",{class:"px-6 py-4 border-t border-gray-200 dark:border-red-500 bg-gray-50 dark:bg-red-700/10"},[a("div",{class:"flex justify-end"},[a("button",{onClick:R,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"}," Close ")])])])])])):Re("",!0)]))}}),mV=Lr(NP,[["__scopeId","data-v-85022cd1"]]);function Tp(t){return t.sportType==="IPSC"}function LP(t){return t.sportType==="IDPA"}class $P{calculateHitPoints(e,r){switch(e){case"A":return 5;case"C":return r==="MAJOR"?4:3;case"D":return r==="MAJOR"?2:1;case"MISS":return 0;case"NO_SHOOT":return 0;default:return 0}}calculateTotalPoints(e,r){const s=e.reduce((o,i)=>o+i.points,0),n=r.reduce((o,i)=>o+Math.abs(i.points),0);return Math.max(0,s-n)}calculateHitFactor(e,r){return r<=0?0:Number((e/r).toFixed(4))}calculateStagePoints(e,r,s){if(r<=0)return 0;const n=e/r;return Number((n*s).toFixed(2))}calculateStagePercent(e,r){return r<=0?0:Number((e/r*100).toFixed(2))}calculatePowerFactor(e,r){return Number((e*r/1e3).toFixed(2))}classifyPowerFactor(e){return e>=170?"MAJOR":"MINOR"}processShot(e,r,s,n,o){const i=e.map(c=>({...c,points:this.calculateHitPoints(c.zone,n)})),l=this.calculateTotalPoints(i,r),d=this.calculateHitFactor(l,s);return{id:o||`shot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,hits:i,penalties:r,stageTime:s,totalPoints:l,hitFactor:d}}calculateStageResults(e,r,s){const n=new Map;for(const[l,d]of r){const c=d.reduce((y,h)=>y+h.totalPoints,0),u=d.reduce((y,h)=>y+h.stageTime,0),m=this.calculateHitFactor(c,u);n.set(l,{stageId:e.id,stageName:e.name,shots:d,totalPoints:c,totalTime:u,hitFactor:m,stagePoints:0,stagePlace:0,stagePercent:0})}const o=Math.max(...Array.from(n.values()).map(l=>l.hitFactor));for(const l of n.values())l.stagePoints=this.calculateStagePoints(l.hitFactor,o,e.stagePoints),l.stagePercent=this.calculateStagePercent(l.hitFactor,o);return Array.from(n.values()).sort((l,d)=>d.hitFactor-l.hitFactor).forEach((l,d)=>{l.stagePlace=d+1}),n}calculateMatchResults(e,r){const s=[];for(const i of e.shooters){const l=[];let d=0;for(const c of e.stages){const u=r.get(c.id);if(u&&u.has(i.id)){const m=u.get(i.id);l.push(m),d+=m.stagePoints}}s.push({shooterId:i.id,shooterName:i.name,division:i.division,powerFactor:i.powerFactor||"MINOR",stageResults:l,totalPoints:d,overallPlace:0,divisionPlace:0,totalPercent:0})}s.sort((i,l)=>l.totalPoints-i.totalPoints);const n=s[0]?.totalPoints||0;s.forEach((i,l)=>{i.overallPlace=l+1,i.totalPercent=n>0?Number((i.totalPoints/n*100).toFixed(2)):0});const o=new Map;s.forEach(i=>{const l=i.division;o.has(l)||o.set(l,[]),o.get(l).push(i)});for(const i of o.values())i.sort((l,d)=>d.totalPoints-l.totalPoints),i.forEach((l,d)=>{l.divisionPlace=d+1});return s}validateShot(e,r){const s=[],n=e.hits.length;n<r.minimumRounds&&s.push(`Minimum ${r.minimumRounds} rounds required, only ${n} recorded`);const o=e.hits.filter(l=>!["A","C","D","MISS","NO_SHOOT"].includes(l.zone));o.length>0&&s.push(`Invalid zones detected: ${o.map(l=>l.zone).join(", ")}`),e.stageTime<=0&&s.push("Stage time must be greater than 0");const i=e.penalties.filter(l=>!["MISS","NO_SHOOT","PROCEDURAL","FOOT_FAULT","FAILURE_TO_ENGAGE"].includes(l.type));return i.length>0&&s.push(`Invalid penalty types: ${i.map(l=>l.type).join(", ")}`),{valid:s.length===0,errors:s}}generateShooterStatistics(e){if(e.length===0)return{averagePercent:0,bestPercent:0,averagePlace:0,bestPlace:0,improvementTrend:"STABLE",strongStages:[],weakStages:[]};const r=e.map(h=>h.totalPercent),s=e.map(h=>h.overallPlace),n=r.reduce((h,w)=>h+w,0)/r.length,o=Math.max(...r),i=s.reduce((h,w)=>h+w,0)/s.length,l=Math.min(...s);let d="STABLE";if(e.length>=3){const h=r.slice(-3),w=r.slice(0,-3),E=h.reduce((T,G)=>T+G,0)/h.length,R=w.reduce((T,G)=>T+G,0)/w.length;E>R+2?d="IMPROVING":E<R-2&&(d="DECLINING")}const c=new Map;e.forEach(h=>{h.stageResults.forEach(w=>{c.has(w.stageName)||c.set(w.stageName,[]),c.get(w.stageName).push(w.stagePercent)})});const u=Array.from(c.entries()).map(([h,w])=>({stage:h,average:w.reduce((E,R)=>E+R,0)/w.length}));u.sort((h,w)=>w.average-h.average);const m=u.slice(0,3).map(h=>h.stage),y=u.slice(-3).map(h=>h.stage);return{averagePercent:Number(n.toFixed(2)),bestPercent:o,averagePlace:Number(i.toFixed(1)),bestPlace:l,improvementTrend:d,strongStages:m,weakStages:y}}}const Dp=new $P;class EP{calculatePenaltySeconds(e){switch(e){case"DOWN_0":return 0;case"DOWN_1":return 1;case"DOWN_3":return 3;case"MISS":return 5;case"NON_THREAT":return 5;default:return 0}}calculateTotalTime(e,r,s){const n=r.reduce((i,l)=>i+l.penaltySeconds,0),o=s.reduce((i,l)=>i+l.seconds,0);return Number((e+n+o).toFixed(2))}calculateStagePoints(e,r){return Math.max(1,r-e+1)}getProceduralPenaltySeconds(e){switch(e){case"NON_THREAT":return 5;case"PROCEDURAL":return 3;case"COVER_VIOLATION":return 3;case"FOOT_FAULT":return 3;case"FAILURE_TO_ENGAGE":return 5;default:return 3}}validateMagazineCapacity(e,r){switch(e){case"CDP":return r<=8;case"ESP":return r<=10;case"SSP":return r<=10;case"CCP":return r<=8;case"BUG":return r<=5;case"PCC":return r<=10;default:return!0}}processShot(e,r,s,n){const o=e.map(l=>({...l,penaltySeconds:this.calculatePenaltySeconds(l.zone)})),i=this.calculateTotalTime(s,o,r);return{id:n||`idpa_shot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,hits:o,penalties:r,stageTime:s,totalTime:i}}calculateStageResults(e,r){const s=new Map;for(const[i,l]of r){const d=l.reduce((c,u)=>c+u.totalTime,0);s.set(i,{stageId:e.id,stageName:e.name,shots:l,totalTime:d,stagePlace:0,stagePoints:0})}const n=Array.from(s.values()).sort((i,l)=>i.totalTime-l.totalTime),o=n.length;return n.forEach((i,l)=>{i.stagePlace=l+1,i.stagePoints=this.calculateStagePoints(i.stagePlace,o)}),s}calculateMatchResults(e,r){const s=[];for(const o of e.shooters){const i=[];let l=0,d=0;for(const c of e.stages){const u=r.get(c.id);if(u&&u.has(o.id)){const m=u.get(o.id);i.push(m),l+=m.totalTime,d+=m.stagePoints}}s.push({shooterId:o.id,shooterName:o.name,division:o.division,stageResults:i,totalTime:l,totalPoints:d,overallPlace:0,divisionPlace:0})}s.sort((o,i)=>i.totalPoints-o.totalPoints),s.forEach((o,i)=>{o.overallPlace=i+1});const n=new Map;s.forEach(o=>{const i=o.division;n.has(i)||n.set(i,[]),n.get(i).push(o)});for(const o of n.values())o.sort((i,l)=>l.totalPoints-i.totalPoints),o.forEach((i,l)=>{i.divisionPlace=l+1});return s}validateShot(e,r,s){const n=[],o=new Map;e.hits.forEach(c=>{const u=o.get(c.targetNumber)||0;o.set(c.targetNumber,u+1)});const i=r.stringCount;for(let c=1;c<=r.targetCount;c++){const u=o.get(c)||0;u<i&&n.push(`Target ${c} requires ${i} shots, only ${u} recorded`)}e.stageTime<=0&&n.push("Stage time must be greater than 0");const l=e.hits.filter(c=>!["DOWN_0","DOWN_1","DOWN_3","MISS","NON_THREAT"].includes(c.zone));l.length>0&&n.push(`Invalid zones detected: ${l.map(c=>c.zone).join(", ")}`);const d=e.penalties.filter(c=>!["NON_THREAT","PROCEDURAL","FOOT_FAULT","FAILURE_TO_ENGAGE","COVER_VIOLATION"].includes(c.type));if(d.length>0&&n.push(`Invalid penalty types: ${d.map(c=>c.type).join(", ")}`),r.maxRounds){const c=e.hits.length;this.validateMagazineCapacity(s,c)||n.push(`Magazine capacity exceeded for ${s} division`)}return{valid:n.length===0,errors:n}}generateShooterStatistics(e){if(e.length===0)return{averageTime:0,bestTime:0,averagePoints:0,bestPoints:0,averagePlace:0,bestPlace:0,improvementTrend:"STABLE",strongStages:[],weakStages:[]};const r=e.map(R=>R.totalTime),s=e.map(R=>R.totalPoints),n=e.map(R=>R.overallPlace),o=r.reduce((R,T)=>R+T,0)/r.length,i=Math.min(...r),l=s.reduce((R,T)=>R+T,0)/s.length,d=Math.max(...s),c=n.reduce((R,T)=>R+T,0)/n.length,u=Math.min(...n);let m="STABLE";if(e.length>=3){const R=s.slice(-3),T=s.slice(0,-3);if(T.length>0){const G=R.reduce(($,I)=>$+I,0)/R.length,z=T.reduce(($,I)=>$+I,0)/T.length;G>z+5?m="IMPROVING":G<z-5&&(m="DECLINING")}}const y=new Map;e.forEach(R=>{R.stageResults.forEach(T=>{y.has(T.stageName)||y.set(T.stageName,[]),y.get(T.stageName).push(T.stagePoints)})});const h=Array.from(y.entries()).map(([R,T])=>({stage:R,average:T.reduce((G,z)=>G+z,0)/T.length}));h.sort((R,T)=>T.average-R.average);const w=h.slice(0,3).map(R=>R.stage),E=h.slice(-3).map(R=>R.stage);return{averageTime:Number(o.toFixed(2)),bestTime:i,averagePoints:Number(l.toFixed(1)),bestPoints:d,averagePlace:Number(c.toFixed(1)),bestPlace:u,improvementTrend:m,strongStages:w,weakStages:E}}calculateClassificationPoints(e,r){if(r<=0)return 0;const s=r/e*100;return Number(Math.min(100,s).toFixed(2))}determineClassification(e){return e>=95?"Master":e>=85?"Expert":e>=75?"Sharpshooter":e>=60?"Marksman":"Novice"}}const Ip=new EP;class Rp{constructor(e=60){this.cache=new Map,this.ttl=e*1e3}get(e){const r=this.cache.get(e);if(r){if(Date.now()-r.timestamp>this.ttl){this.cache.delete(e);return}return r.value}}set(e,r){this.cache.set(e,{value:r,timestamp:Date.now()})}has(e){return this.get(e)!==void 0}clear(){this.cache.clear()}size(){return this.cache.size}}class yo extends Error{constructor(e,r,s){super(r),this.code=e,this.context=s,this.name="SportsError",Object.setPrototypeOf(this,yo.prototype)}getUserMessage(){return{INVALID_MATCH:"The match data is invalid or corrupted",INVALID_SHOOTER:"The shooter information is invalid",INVALID_SCORE:"The score data is invalid",INVALID_STAGE:"The stage information is missing",MATCH_NOT_FOUND:"The match could not be found",SHOOTER_NOT_FOUND:"The shooter could not be found",STAGE_NOT_FOUND:"The stage could not be found",STORAGE_ERROR:"Failed to save or retrieve data",CALCULATION_ERROR:"Failed to calculate results",PERMISSION_DENIED:"You do not have permission to perform this action"}[this.code]||"An unexpected error occurred"}log(){console.error(`[${this.name}] ${this.code}: ${this.message}`,this.context)}}class Fr extends yo{constructor(e,r,s){super("VALIDATION_ERROR",r,s),this.field=e,this.name="ValidationError",Object.setPrototypeOf(this,Fr.prototype)}}class Ls{static notEmpty(e,r){if(!e||typeof e=="string"&&e.trim()==="")throw new Fr(r,`${r} cannot be empty`)}static isValidUUID(e,r){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))throw new Fr(r,`${r} is not a valid UUID`)}static isInRange(e,r,s,n){if(e<s||e>n)throw new Fr(r,`${r} must be between ${s} and ${n}`)}static isOneOf(e,r,s){if(!s.includes(e))throw new Fr(r,`${r} must be one of: ${s.join(", ")}`)}static matches(e,r,s){if(!s.test(e))throw new Fr(r,`${r} format is invalid`)}static hasRequiredFields(e,r,s){for(const n of s)if(!(n in e)||e[n]===void 0||e[n]===null)throw new Fr(r,`${r} missing required field: ${n}`)}static isValidDate(e,r,s=!1){const n=typeof e=="string"?new Date(e):e;if(isNaN(n.getTime()))throw new Fr(r,`${r} is not a valid date`);if(!s&&n<new Date)throw new Fr(r,`${r} cannot be in the past`)}static isValidEmail(e,r){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))throw new Fr(r,`${r} is not a valid email address`)}}const Ci=wi("sports",()=>{const t=ha(),e=new Rp(300),r=new Rp(600);function s(){const me=t.currentUserDataKeys;return{matches:me?.sportsMatches||"sports_matches",results:me?.sportsResults||"sports_results",practiceSessions:me?.sportsPracticeSessions||"sports_practice_sessions",shooters:me?.sportsShooters||"sports_shooters"}}const n=ye([]),o=ye(new Map),i=ye([]),l=ye([]),d=ye(null),c=ye(null),u=ye(new Map),m=ye(new Map),y=ye(new Map),h=ye(new Map),w=ye(new Map),E=ye([]),R=ye(new Map),T=Pe(()=>n.value.sort((me,ke)=>new Date(ke.date).getTime()-new Date(me.date).getTime())),G=Pe(()=>n.value.filter(me=>me.status==="IN_PROGRESS")),z=Pe(()=>()=>n.value.filter(me=>me.status==="COMPLETED")),$=Pe(()=>me=>n.value.filter(ke=>ke.sportType===me)),I=Pe(()=>me=>{const ke=`results_${me}`,Se=e.get(ke);if(Se)return Se;const Fe=[];try{if(o.value&&o.value instanceof Map&&o.value.size>0)for(const[,He]of o.value)Array.isArray(He)&&He.length>0&&Fe.push(...He.filter(ze=>me==="IPSC"?"hitFactor"in ze||"totalPercent"in ze:"totalTime"in ze&&"totalPoints"in ze))}catch(He){console.warn("Error in getShooterResults:",He)}return e.set(ke,Fe),Fe}),K=Pe(()=>(me,ke)=>{const Se=`stats_${me}_${ke}`,Fe=r.get(Se);if(Fe)return Fe;const He=I.value(ke).filter(Je=>Je.shooterId===me);let ze;if(He.length===0)ze={shooterId:me,sportType:ke,matchesParticipated:0,averagePercent:0,bestPercent:0,averagePlace:0,bestPlace:0,trend:"STABLE",lastMatch:new Date};else if(ke==="IPSC"){const Je=He,lt=Dp.generateShooterStatistics(Je);ze={shooterId:me,sportType:ke,matchesParticipated:Je.length,averagePercent:lt.averagePercent,bestPercent:lt.bestPercent,averagePlace:lt.averagePlace,bestPlace:lt.bestPlace,trend:lt.improvementTrend,lastMatch:new Date(Math.max(...Je.map(tt=>n.value.find(yt=>yt.results.has(tt.shooterId))?.date.getTime()||0)))}}else{const Je=He,lt=Ip.generateShooterStatistics(Je);ze={shooterId:me,sportType:ke,matchesParticipated:Je.length,averagePercent:lt.averagePoints/Je.length*10,bestPercent:lt.bestPoints/Je.length*10,averagePlace:lt.averagePlace,bestPlace:lt.bestPlace,trend:lt.improvementTrend,lastMatch:new Date(Math.max(...Je.map(tt=>n.value.find(yt=>yt.results.has(tt.shooterId))?.date.getTime()||0)))}}return r.set(Se,ze),ze});function L(me,ke,Se,Fe,He,ze){try{if(Ls.notEmpty(me,"name"),Ls.isOneOf(ke,"sportType",["IPSC","IDPA"]),Ls.notEmpty(Se,"location"),Ls.isValidDate(Fe,"date",!0),Ls.notEmpty(He,"stages"),He.length===0)throw new Fr("INVALID_STAGES","Match must have at least one stage",{field:"stages"})}catch(tt){throw tt instanceof Fr?(console.error("Match creation validation failed:",tt.log()),tt):new Fr("UNKNOWN_ERROR","Unexpected validation error",{originalError:tt})}const Je={id:In(),name:me,date:Fe,location:Se,sportType:ke,stages:He,shooters:[],results:new Map,status:"SETUP",notes:ze};let lt;return ke==="IPSC"?lt={...Je,sportType:"IPSC",matchDirector:t.currentProfile?.name||"Unknown"}:lt={...Je,sportType:"IDPA",safetyOfficer:t.currentProfile?.name||"Unknown"},n.value.push(lt),J(),lt}function b(me){const ke=n.value.findIndex(Se=>Se.id===me.id);return ke===-1?!1:(n.value[ke]=me,J(),!0)}function v(me){return n.value.find(ke=>ke.id===me)}function C(me,ke){const Se=n.value.find(Fe=>Fe.id===me);return!Se||Se.shooters.find(Fe=>Fe.id===ke.id)?!1:(Se.shooters.push(ke),J(),!0)}function S(me,ke){const Se=n.value.find(He=>He.id===me);if(!Se)return!1;const Fe=Se.shooters.findIndex(He=>He.id===ke);return Fe===-1?!1:(Se.shooters.splice(Fe,1),Se.results.delete(ke),J(),!0)}function N(me,ke,Se,Fe){try{try{Ls.notEmpty(me,"matchId"),Ls.isValidUUID(me,"matchId"),Ls.notEmpty(ke,"shooterId"),Ls.notEmpty(Se,"stageId"),Ls.hasRequiredFields(Fe,"scoreData",["type","targets","totalPoints","totalTime"])}catch(tt){throw tt instanceof Fr&&console.error("Score data validation failed:",tt.log()),tt}const He=n.value.find(tt=>tt.id===me);if(!He)throw new yo("MATCH_NOT_FOUND",`Match with ID ${me} not found`,{matchId:me});let ze=He.results.get(ke);if(!ze){const tt=He.shooters.find(yt=>yt.id===ke);if(!tt)throw new yo("SHOOTER_NOT_IN_MATCH",`Shooter ${ke} not found in match`,{shooterId:ke,matchId:me});Tp(He)?ze={shooterId:ke,shooterName:tt.name,division:tt.division,powerFactor:tt.powerFactor,stageResults:[],totalPoints:0,overallPlace:0,divisionPlace:0,totalPercent:0}:ze={shooterId:ke,shooterName:tt.name,division:tt.division,stageResults:[],totalTime:0,totalPoints:0,overallPlace:0,divisionPlace:0},He.results.set(ke,ze)}console.log("Current shooter results before update:",JSON.stringify(ze,null,2));const Je=ze.stageResults.findIndex(tt=>tt.stageId===Se);if(console.log("Score data type:",Fe.type),console.log("Is IPSC?",Fe.type==="IPSC"),console.log("Existing result index:",Je),Fe.type==="IPSC"){const tt={stageId:Se,stageName:He.stages.find(yt=>yt.id===Se)?.name||`Stage ${Se}`,shots:Fe.targets.flatMap(yt=>yt.shots.map(kt=>({zone:kt.zone,points:kt.points||0}))),totalPoints:Fe.totalPoints,totalTime:Fe.totalTime,hitFactor:Fe.hitFactor,stagePoints:0,stagePlace:0,stagePercent:0};Je>=0?(ze.stageResults[Je]=tt,console.log("Updated existing stage result at index:",Je)):(ze.stageResults.push(tt),console.log("Added new stage result. New length:",ze.stageResults.length)),console.log("Stage result after update:",tt),console.log("All stage results after update:",JSON.stringify(ze.stageResults,null,2)),He.results.set(ke,ze)}else{const tt={stageId:Se,stageName:He.stages.find(yt=>yt.id===Se)?.name||`Stage ${Se}`,shots:Fe.targets.flatMap(yt=>yt.shots.map(kt=>({zone:kt.zone,penaltyTime:kt.penaltyTime||0}))),totalTime:Fe.totalTime,stagePlace:0,stagePoints:0};Je>=0?ze.stageResults[Je]=tt:ze.stageResults.push(tt)}console.log("After score update, match results Map size:",He.results.size);const lt=He.results.get(ke);return console.log("=== UPDATED SHOOTER DATA ==="),console.log("Shooter ID:",ke),console.log("Shooter Name:",lt?.shooterName),console.log("Stage results count:",lt?.stageResults.length),console.log("Stage results:",JSON.stringify(lt?.stageResults,null,2)),J(),Ye(),ot(),console.log("updateShooterStageResult completed successfully"),!0}catch(He){if(He instanceof yo||He instanceof Fr)console.error("Score update error:",He.log());else{const ze=new yo("SCORE_UPDATE_FAILED","Unexpected error during score update",{originalError:String(He),shooterId:ke,matchId:me,stageId:Se});console.error("Score update error:",ze.log())}return!1}}function A(me){const ke=n.value.find(Se=>Se.id===me);return!ke||ke.status!=="SETUP"?!1:(ke.status="IN_PROGRESS",d.value=ke,J(),!0)}function p(me){const ke=n.value.find(Se=>Se.id===me);return!ke||ke.status!=="IN_PROGRESS"?!1:(ke.status="COMPLETED",d.value?.id===me&&(d.value=null),J(),!0)}function P(me){const ke=n.value.find(Se=>Se.id===me);if(!ke)return!1;try{if(Tp(ke)){const Se=new Map,Fe=Dp.calculateMatchResults(ke,Se);o.value.set(me,Fe),Fe.forEach(He=>{ke.results.set(He.shooterId,He)})}else if(LP(ke)){const Se=new Map,Fe=Ip.calculateMatchResults(ke,Se);o.value.set(me,Fe),Fe.forEach(He=>{ke.results.set(He.shooterId,He)})}return J(),Ye(),ot(),!0}catch(Se){return console.error("Error calculating match results:",Se),!1}}function Q(me,ke,Se,Fe,He,ze="HANDGUN"){try{Ls.notEmpty(me,"name"),Ls.notEmpty(ke,"division"),Se&&Se.length>0&&Ls.isValidEmail(Se,"email")}catch(lt){throw lt instanceof Fr?(console.error("Shooter creation validation failed:",lt.log()),lt):new Fr("UNKNOWN_ERROR","Unexpected validation error",{originalError:lt})}const Je={id:In(),name:me,division:ke,email:Se,membershipNumber:Fe,powerFactor:He,firearmCategory:ze};return l.value.push(Je),J(),Je}function H(me,ke,Se,Fe){const He={id:In(),name:me,date:new Date,sportType:ke,stages:Se,shots:[],notes:Fe};return c.value=He,i.value.push(He),J(),He}function q(){const me=c.value;return me&&(c.value=null,J()),me}function M(me){const ke=n.value.findIndex(Se=>Se.id===me);return ke===-1?!1:(n.value.splice(ke,1),o.value.delete(me),d.value?.id===me&&(d.value=null),J(),Ye(),ot(),!0)}function ae(me){return n.value.find(Se=>Se.id===me)?.shooters||[]}function ee(me,ke){const Se=n.value.find(He=>He.id===me);if(!Se)return!1;const Fe={id:In(),...ke};return Se.shooters.push(Fe),J(),!0}function k(me,ke){const Se=n.value.find(He=>He.id===me);if(!Se)return!1;const Fe=Se.shooters.findIndex(He=>He.id===ke);return Fe===-1?!1:(Se.shooters.splice(Fe,1),Se.results.delete(ke),J(),!0)}function O(me,ke,Se){const Fe=n.value.find(ze=>ze.id===me);if(!Fe)return!1;const He=Fe.shooters.find(ze=>ze.id===ke);return He?(Object.assign(He,Se),J(),!0):!1}function U(me){const ke=n.value.find(He=>He.id===me);if(!ke)return null;const Se=o.value.get(me)||[],Fe={};for(const[He,ze]of ke.results.entries())Fe[He]=ze;return{match:{...ke,results:Fe},calculatedResults:Se,exportDate:new Date().toISOString()}}function B(me){try{const ke=me.match,Se=me.calculatedResults||[];return ke.results=new Map(ke.results||[]),ke.date=new Date(ke.date),n.value.push(ke),Se.length>0&&o.value.set(ke.id,Se),J(),!0}catch(ke){return console.error("Error importing match data:",ke),!1}}function V(){n.value=[],o.value.clear(),i.value=[],l.value=[],d.value=null,c.value=null;const me=s();localStorage.removeItem(me.matches),localStorage.removeItem(me.results),localStorage.removeItem(me.practiceSessions),localStorage.removeItem(me.shooters)}function J(){console.log("saveToStorage function called");try{const me=s(),ke=n.value.map(Fe=>{const He=Array.from(Fe.results.entries());if(console.log("Raw results entries:",He.length),He.length>0){console.log("First entry before clone:",He[0]);const Je=He[0][1];console.log("Shooter stageResults before clone:",Je.stageResults),console.log("Is array?",Array.isArray(Je.stageResults)),console.log("Length:",Je.stageResults?.length)}const ze=JSON.parse(JSON.stringify(He));if(console.log("Results after JSON clone:",ze.length),ze.length>0){console.log("First entry after clone:",ze[0]);const Je=ze[0][1];console.log("Shooter stageResults after clone:",Je.stageResults),console.log("Stage results length after clone:",Je.stageResults?.length||0)}return{...Fe,results:ze}});if(console.log("Saving matches to storage:",ke),console.log("Matches count:",ke.length),ke.length>0&&(console.log("First match results:",ke[0].results),ke[0].results.length>0)){console.log("First shooter results:",ke[0].results[0]);const Fe=ke[0].results[0][1];console.log("Shooter stage results:",Fe.stageResults),console.log("Stage results length:",Fe.stageResults?.length||0)}localStorage.setItem(me.matches,JSON.stringify(ke)),localStorage.setItem(me.practiceSessions,JSON.stringify(i.value)),localStorage.setItem(me.shooters,JSON.stringify(l.value));const Se=Array.from(o.value.entries());localStorage.setItem(me.results,JSON.stringify(Se)),console.log("Data saved to localStorage successfully")}catch(me){console.error("Failed to save sports data:",me)}}function ce(){try{const me=s();n.value=[],i.value=[],l.value=[],o.value=new Map;const ke=localStorage.getItem(me.matches);if(ke){const ze=JSON.parse(ke);Array.isArray(ze)&&(n.value=ze.map(Je=>{let lt=new Map;if(Je.results)try{Array.isArray(Je.results)?(console.log("Loading match results from array format, entries:",Je.results.length),Je.results.forEach(([tt,yt])=>{console.log("Loading shooter result:",tt,yt);const kt={...yt,stageResults:Array.isArray(yt.stageResults)?[...yt.stageResults.map(ir=>({...ir}))]:[]};console.log("Cloned value with stageResults:",kt.stageResults.length),lt.set(tt,kt)})):Je.results instanceof Map?lt=Je.results:typeof Je.results=="object"&&(lt=new Map(Object.entries(Je.results)))}catch(tt){console.warn("Error parsing match results, using empty Map:",tt),lt=new Map}return{...Je,date:new Date(Je.date),results:lt}}))}const Se=localStorage.getItem(me.practiceSessions);if(Se){const ze=JSON.parse(Se);Array.isArray(ze)&&(i.value=ze.map(Je=>({...Je,date:new Date(Je.date)})))}const Fe=localStorage.getItem(me.shooters);if(Fe){const ze=JSON.parse(Fe);Array.isArray(ze)&&(l.value=ze)}const He=localStorage.getItem(me.results);if(He){const ze=JSON.parse(He);Array.isArray(ze)?o.value=new Map(ze):ze&&typeof ze=="object"&&(o.value=new Map(Object.entries(ze)))}}catch(me){console.error("Failed to load sports data:",me),n.value=[],i.value=[],l.value=[],o.value=new Map}}const ue=()=>{n.value=[],o.value.clear(),i.value=[],l.value=[],d.value=null,c.value=null,ce()};ce(),typeof window<"u"&&window.addEventListener("userProfileChanged",ue);function xe(me){const ke=n.value.find(Se=>Se.id===me);return ke?(u.value.set(me,{id:me,currentStage:null,activeScorers:new Set,queueStatus:new Map,lastUpdate:Date.now(),broadcastEnabled:!0}),ke.stages.forEach(Se=>{h.value.set(Se.id,[])}),!0):!1}function $e(me,ke){const Se=u.value.get(me);return Se?(Object.assign(Se,ke,{lastUpdate:Date.now()}),be(me,"match-state",ke),!0):!1}function se(me,ke,Se){const Fe=`${me}-${ke}-${Se}`;return m.value.set(Fe,{id:Fe,matchId:me,stageId:ke,squadId:Se,startTime:Date.now(),isRunning:!0,currentTime:0}),be(me,"timer-start",{stageId:ke,squadId:Se,timerId:Fe}),Fe}function ie(me,ke){const Se=m.value.get(me);if(!Se)return null;const Fe=ke||Date.now()-Se.startTime;return Se.endTime=Date.now(),Se.finalTime=Fe,Se.isRunning=!1,be(Se.matchId,"timer-stop",{timerId:me,finalTime:Fe,stageId:Se.stageId,squadId:Se.squadId}),Se}function oe(me,ke,Se,Fe){const He=h.value.get(Se)||[];h.value.forEach(Je=>{const lt=Je.findIndex(tt=>tt.squadId===ke);lt>-1&&Je.splice(lt,1)});const ze={squadId:ke,matchId:me,assignedAt:Date.now(),estimatedStartTime:_e(Se,Fe||He.length)};return Fe!==void 0&&Fe<He.length?He.splice(Fe,0,ze):He.push(ze),h.value.set(Se,He),be(me,"queue-update",{stageId:Se,squadId:ke,position:Fe}),!0}function j(me,ke,Se,Fe){const He=`${me}-${ke}-${Se}`;return w.value.set(He,{matchId:me,shooterId:ke,stageId:Se,scoreData:Fe,timestamp:Date.now()}),n.value.find(Je=>Je.id===me)&&be(me,"score-update",{shooterId:ke,stageId:Se,scoreData:Fe}),!0}function le(me,ke,Se,Fe){const He={id:In(),type:me,title:ke,message:Se,matchId:Fe,timestamp:Date.now(),read:!1};return E.value.unshift(He),E.value.length>100&&(E.value=E.value.slice(0,100)),He}function pe(me,ke,Se){const Fe=`${me}-${ke}`;return R.value.set(Fe,Se),be(me,"scorer-assigned",{stageId:ke,scorerId:Se}),le("scoring","Scorer Assigned","Scorer assigned to stage",me),!0}function _e(me,ke){return Date.now()+ke*9e5}function be(me,ke,Se){const Fe=new CustomEvent("realtimeMatchUpdate",{detail:{matchId:me,updateType:ke,data:Se,timestamp:Date.now()}});typeof window<"u"&&window.dispatchEvent(Fe)}function Ie(me){const ke=n.value.find(Fe=>Fe.id===me),Se=u.value.get(me);return!ke||!Se?null:{match:{id:ke.id,name:ke.name,status:ke.status,sportType:ke.sportType},leaderboard:[...ke.results.entries()].slice(0,10),currentStage:Se.currentStage,activeTimers:Array.from(m.value.entries()).filter(([Fe])=>Fe.startsWith(me)),queueStatus:Object.fromEntries(h.value.entries()),lastUpdate:Se.lastUpdate}}function Ce(me){return u.value.delete(me),Array.from(m.value.keys()).filter(Fe=>Fe.startsWith(me)).forEach(Fe=>m.value.delete(Fe)),Array.from(R.value.keys()).filter(Fe=>Fe.startsWith(me)).forEach(Fe=>R.value.delete(Fe)),!0}const Ke=Pe(()=>Array.from(u.value.values())),je=Pe(()=>me=>{const ke=Array.from(m.value.values());return me?ke.filter(Se=>Se.matchId===me&&Se.isRunning):ke.filter(Se=>Se.isRunning)}),Be=Pe(()=>E.value.filter(me=>!me.read)),Ge=Pe(()=>me=>h.value.get(me)||[]);function Ye(me){e.clear()}function ot(me,ke){r.clear()}function st(){e.clear(),r.clear()}return{matches:n,matchResults:o,practiceSessions:i,shooters:l,currentMatch:d,currentPracticeSession:c,liveMatches:u,matchTimers:m,squadAssignments:y,stageQueues:h,realTimeUpdates:w,notifications:E,currentScorers:R,getAllMatches:T,getActiveMatches:G,getCompletedMatches:z,getMatchesByType:$,getShooterResults:I,getShooterStatistics:K,getLiveMatches:Ke,getActiveTimers:je,getUnreadNotifications:Be,getStageQueue:Ge,createMatch:L,updateMatch:b,getMatch:v,addShooterToMatch:C,removeShooterFromMatch:S,updateShooterStageResult:N,startMatch:A,completeMatch:p,calculateMatchResults:P,createShooter:Q,startPracticeSession:H,endPracticeSession:q,deleteMatch:M,exportMatchData:U,importMatchData:B,clearAllData:V,loadFromStorage:ce,saveToStorage:J,getCompetitors:ae,addCompetitor:ee,deleteCompetitor:k,updateCompetitor:O,initializeLiveMatch:xe,updateLiveMatchState:$e,startStageTimer:se,stopStageTimer:ie,assignSquadToStage:oe,updateScoreRealTime:j,addSystemNotification:le,assignScorer:pe,getBroadcastData:Ie,cleanupLiveMatch:Ce,invalidateResultCache:Ye,invalidateStatisticsCache:ot,clearAllCaches:st}}),MP={class:"h-full flex flex-col"},TP={class:"shrink-0 px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700"},DP={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},IP={class:"flex-1 overflow-y-auto p-4 sm:p-6"},RP={class:"max-w-4xl mx-auto space-y-6"},OP={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 sm:p-6"},FP={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},jP={class:"sm:col-span-2"},UP=["value"],BP={class:"sm:col-span-2"},zP={class:"bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-lg border border-blue-200 dark:border-blue-700 p-4 sm:p-6"},qP={class:"text-md font-medium text-gray-900 dark:text-white mb-3 flex items-center"},HP={class:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm"},WP={class:"font-medium text-gray-900 dark:text-white"},VP={class:"font-medium text-gray-900 dark:text-white"},GP={class:"font-medium text-gray-900 dark:text-white"},KP={class:"font-medium text-gray-900 dark:text-white"},YP={class:"shrink-0 px-4 sm:px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"},JP={class:"max-w-4xl mx-auto flex justify-between items-center"},ZP=["disabled"],XP=Dt({__name:"MatchConfigurationStep",props:{sportType:{},matchData:{}},emits:["update","complete"],setup(t,{emit:e}){const r=t,s=e,n=ye({...r.matchData}),o=Pe(()=>n.value.name?.trim()&&n.value.location?.trim()&&n.value.date&&n.value.stageCount>0&&n.value.defaultFirearmCategory),i=c=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(c)),l=()=>{o.value&&s("complete",n.value)};return Sr(n,()=>{s("update",n.value)},{deep:!0}),(c,u)=>(W(),Y("div",MP,[a("div",TP,[u[7]||(u[7]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Match Configuration",-1)),a("p",DP," Set up your "+F(c.sportType)+" match details and configure stages ",1)]),a("div",IP,[a("div",RP,[a("div",OP,[u[15]||(u[15]=a("h4",{class:"text-md font-medium text-gray-900 dark:text-white mb-4"},"Basic Information",-1)),a("div",FP,[a("div",jP,[u[8]||(u[8]=a("label",{for:"matchName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Match Name * ",-1)),Oe(a("input",{id:"matchName","onUpdate:modelValue":u[0]||(u[0]=m=>n.value.name=m),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter match name"},null,512),[[dt,n.value.name]])]),a("div",null,[u[9]||(u[9]=a("label",{for:"location",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Location * ",-1)),Oe(a("input",{id:"location","onUpdate:modelValue":u[1]||(u[1]=m=>n.value.location=m),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter location"},null,512),[[dt,n.value.location]])]),a("div",null,[u[10]||(u[10]=a("label",{for:"date",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Match Date * ",-1)),Oe(a("input",{id:"date","onUpdate:modelValue":u[2]||(u[2]=m=>n.value.date=m),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[dt,n.value.date]])]),a("div",null,[u[11]||(u[11]=a("label",{for:"stageCount",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Number of Stages * ",-1)),Oe(a("select",{id:"stageCount","onUpdate:modelValue":u[3]||(u[3]=m=>n.value.stageCount=m),onChange:u[4]||(u[4]=(...m)=>c.updateStageConfiguration&&c.updateStageConfiguration(...m)),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(W(),Y(rt,null,it(20,m=>a("option",{key:m,value:m},F(m)+" Stages",9,UP)),64))],544),[[_t,n.value.stageCount,void 0,{number:!0}]])]),a("div",null,[u[13]||(u[13]=a("label",{for:"defaultFirearmCategory",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Primary Firearm Category * ",-1)),Oe(a("select",{id:"defaultFirearmCategory","onUpdate:modelValue":u[5]||(u[5]=m=>n.value.defaultFirearmCategory=m),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...u[12]||(u[12]=[Ht('<option value="" data-v-715bf56f>Select Primary Category</option><option value="HANDGUN" data-v-715bf56f>Handgun</option><option value="RIFLE" data-v-715bf56f>Rifle</option><option value="PCC" data-v-715bf56f>PCC (Pistol Caliber Carbine)</option><option value="SHOTGUN" data-v-715bf56f>Shotgun</option>',5)])],512),[[_t,n.value.defaultFirearmCategory]])]),a("div",BP,[u[14]||(u[14]=a("label",{for:"notes",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Match Notes (Optional) ",-1)),Oe(a("textarea",{id:"notes","onUpdate:modelValue":u[6]||(u[6]=m=>n.value.notes=m),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional notes about the match"},null,512),[[dt,n.value.notes]])])])]),a("div",zP,[a("h4",qP,[Me(Le(Js),{class:"w-5 h-5 mr-2 text-green-600"}),u[16]||(u[16]=Qe(" Configuration Summary ",-1))]),a("div",HP,[a("div",null,[u[17]||(u[17]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Match Type:",-1)),a("div",WP,F(c.sportType),1)]),a("div",null,[u[18]||(u[18]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Stages:",-1)),a("div",VP,F(n.value.stageCount),1)]),a("div",null,[u[19]||(u[19]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Primary Firearm:",-1)),a("div",GP,F(n.value.defaultFirearmCategory||"Not set"),1)]),a("div",null,[u[20]||(u[20]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Date:",-1)),a("div",KP,F(i(n.value.date)),1)])])])])]),a("div",YP,[a("div",JP,[u[22]||(u[22]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Step 1 of 6: Configure your match settings ",-1)),a("button",{onClick:l,disabled:!o.value,class:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Me(Le(Pm),{class:"w-4 h-4 mr-2 inline"}),u[21]||(u[21]=Qe(" Setup Now Complete ",-1))],8,ZP)])])]))}}),QP=Lr(XP,[["__scopeId","data-v-715bf56f"]]),e9={class:"h-full overflow-y-auto p-6"},t9={class:"max-w-4xl mx-auto"},r9={class:"space-y-4"},s9={class:"flex items-center justify-between mb-4"},a9={class:"text-lg font-medium text-gray-900 dark:text-white"},n9={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},o9=["onUpdate:modelValue","placeholder"],i9=["onUpdate:modelValue"],l9=["onUpdate:modelValue"],d9={class:"mt-4"},c9=["onUpdate:modelValue"],u9={key:0,class:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"},f9={class:"text-sm text-red-600 dark:text-red-400"},h9={class:"mt-6 flex justify-end"},g9=["disabled"],p9=Dt({__name:"StageSetupStep",props:{stageCount:{},initialStages:{}},emits:["update","complete"],setup(t,{emit:e}){const r=t,s=e,n=ye([]),o=ye("");qr(()=>{r.initialStages&&r.initialStages.length>0?n.value=r.initialStages.map(d=>({...d})):n.value=Array.from({length:r.stageCount},(d,c)=>({name:`Stage ${c+1}`,paperTargets:6,steelTargets:0,description:""}))});const i=Pe(()=>n.value.every(d=>d.name.trim()!==""&&d.paperTargets+d.steelTargets>0&&d.paperTargets>=0&&d.steelTargets>=0&&d.paperTargets+d.steelTargets<=20)),l=()=>{o.value="";for(let d=0;d<n.value.length;d++){const c=n.value[d];if(!c.name.trim()){o.value=`Stage ${d+1} needs a name`;return}const u=(c.paperTargets||0)+(c.steelTargets||0);if(u===0){o.value=`Stage ${d+1} needs at least one target (paper or steel)`;return}if(u>20){o.value=`Stage ${d+1} has too many targets (max 20 total)`;return}}s("update",n.value),s("complete")};return(d,c)=>(W(),Y("div",e9,[a("div",t9,[c[4]||(c[4]=a("div",{class:"mb-6"},[a("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},"Configure Your Stages"),a("p",{class:"text-gray-600 dark:text-gray-400"}," Set up each stage with a name, number of targets, and target type (Paper or Steel). ")],-1)),a("div",r9,[(W(!0),Y(rt,null,it(n.value,(u,m)=>(W(),Y("div",{key:m,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6"},[a("div",s9,[a("h4",a9," Stage "+F(m+1),1)]),a("div",n9,[a("div",null,[c[0]||(c[0]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Stage Name ",-1)),Oe(a("input",{"onUpdate:modelValue":y=>u.name=y,type:"text",placeholder:`Stage ${m+1}`,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,8,o9),[[dt,u.name]])]),a("div",null,[c[1]||(c[1]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Paper Targets ",-1)),Oe(a("input",{"onUpdate:modelValue":y=>u.paperTargets=y,type:"number",min:"0",max:"20",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,8,i9),[[dt,u.paperTargets,void 0,{number:!0}]])]),a("div",null,[c[2]||(c[2]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Steel Targets ",-1)),Oe(a("input",{"onUpdate:modelValue":y=>u.steelTargets=y,type:"number",min:"0",max:"20",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,8,l9),[[dt,u.steelTargets,void 0,{number:!0}]])])]),a("div",d9,[c[3]||(c[3]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Description (Optional) ",-1)),Oe(a("textarea",{"onUpdate:modelValue":y=>u.description=y,rows:"2",placeholder:"Add stage details, scoring rules, or special instructions...",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"},null,8,c9),[[dt,u.description]])])]))),128))]),o.value?(W(),Y("div",u9,[a("p",f9,F(o.value),1)])):Re("",!0),a("div",h9,[a("button",{onClick:l,class:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!i.value}," Continue to Configuration Summary ",8,g9)])])]))}}),m9=Lr(p9,[["__scopeId","data-v-a830faf2"]]),v9={class:"h-full overflow-y-auto p-6"},b9={class:"max-w-5xl mx-auto"},y9={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6"},x9={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},k9={class:"text-gray-900 dark:text-white mt-1"},w9={class:"text-gray-900 dark:text-white mt-1"},_9={class:"text-gray-900 dark:text-white mt-1"},S9={class:"text-gray-900 dark:text-white mt-1"},A9={key:0,class:"md:col-span-2"},C9={class:"text-gray-900 dark:text-white mt-1"},P9={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6"},N9={class:"flex items-center justify-between mb-4"},L9={class:"text-lg font-medium text-gray-900 dark:text-white"},$9={class:"overflow-x-auto"},E9={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},M9={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},T9={class:"px-4 py-3 whitespace-nowrap"},D9={class:"text-sm font-medium text-gray-900 dark:text-white"},I9={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},R9={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white"},O9={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white"},F9={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white"},j9={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},U9={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},B9={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},z9={class:"text-lg font-semibold text-gray-900 dark:text-white"},q9={class:"text-lg font-semibold text-gray-900 dark:text-white"},H9={class:"text-lg font-semibold text-gray-900 dark:text-white"},W9={class:"text-lg font-semibold text-gray-900 dark:text-white"},V9=Dt({__name:"ConfigurationSummaryStep",props:{matchData:{},stageConfiguration:{},sportType:{}},emits:["complete","editMatch","editStages"],setup(t,{emit:e}){const r=t,s=e,n=Pe(()=>r.stageConfiguration.reduce((y,h)=>y+(h.paperTargets||0),0)),o=Pe(()=>r.stageConfiguration.reduce((y,h)=>y+(h.steelTargets||0),0)),i=Pe(()=>r.stageConfiguration.reduce((y,h)=>y+l(h),0)),l=y=>(y.paperTargets||0)*2+(y.steelTargets||0),d=y=>{const h=typeof y=="string"?new Date(y):y;return new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}).format(h)},c=()=>{s("editMatch")},u=()=>{s("editStages")},m=()=>{s("complete")};return(y,h)=>(W(),Y("div",v9,[a("div",b9,[h[11]||(h[11]=a("div",{class:"mb-6"},[a("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},"Configuration Summary"),a("p",{class:"text-gray-600 dark:text-gray-400"}," Review your match and stage configuration before adding shooters. ")],-1)),a("div",y9,[a("div",{class:"flex items-center justify-between mb-4"},[h[0]||(h[0]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Match Details",-1)),a("button",{onClick:c,class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}," Edit Match ")]),a("div",x9,[a("div",null,[h[1]||(h[1]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Match Name",-1)),a("p",k9,F(y.matchData.name),1)]),a("div",null,[h[2]||(h[2]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Sport Type",-1)),a("p",w9,F(y.sportType),1)]),a("div",null,[h[3]||(h[3]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Location",-1)),a("p",_9,F(y.matchData.location),1)]),a("div",null,[h[4]||(h[4]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Date",-1)),a("p",S9,F(d(y.matchData.date)),1)]),y.matchData.notes?(W(),Y("div",A9,[h[5]||(h[5]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Notes",-1)),a("p",C9,F(y.matchData.notes),1)])):Re("",!0)])]),a("div",P9,[a("div",N9,[a("h4",L9," Stage Configuration ("+F(y.stageConfiguration.length)+" "+F(y.stageConfiguration.length===1?"Stage":"Stages")+") ",1),a("button",{onClick:u,class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}," Edit Stages ")]),a("div",$9,[a("table",E9,[h[6]||(h[6]=a("thead",{class:"bg-gray-50 dark:bg-gray-900"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Stage "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Paper Targets "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Steel Targets "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Total Targets "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Min Rounds ")])],-1)),a("tbody",M9,[(W(!0),Y(rt,null,it(y.stageConfiguration,(w,E)=>(W(),Y("tr",{key:E},[a("td",T9,[a("div",D9,F(w.name),1),w.description?(W(),Y("div",I9,F(w.description),1)):Re("",!0)]),a("td",R9,F(w.paperTargets||0),1),a("td",O9,F(w.steelTargets||0),1),a("td",F9,F((w.paperTargets||0)+(w.steelTargets||0)),1),a("td",j9,F(l(w)),1)]))),128))])])]),a("div",U9,[a("div",B9,[a("div",null,[h[7]||(h[7]=a("label",{class:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Total Stages",-1)),a("p",z9,F(y.stageConfiguration.length),1)]),a("div",null,[h[8]||(h[8]=a("label",{class:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Total Paper",-1)),a("p",q9,F(n.value),1)]),a("div",null,[h[9]||(h[9]=a("label",{class:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Total Steel",-1)),a("p",H9,F(o.value),1)]),a("div",null,[h[10]||(h[10]=a("label",{class:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Total Rounds",-1)),a("p",W9,F(i.value),1)])])])]),a("div",{class:"mt-6 flex justify-end"},[a("button",{onClick:m,class:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"}," Continue to Add Shooters ")])])]))}}),G9=Lr(V9,[["__scopeId","data-v-80e33b29"]]),K9={class:"h-full flex flex-col"},Y9={class:"shrink-0 px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700"},J9={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Z9={class:"flex-1 overflow-y-auto p-4 sm:p-6"},X9={class:"max-w-4xl mx-auto space-y-6"},Q9={class:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-700 p-4 sm:p-6"},eN={class:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center"},tN={class:"mb-4"},rN={class:"flex items-center"},sN={key:0,class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},aN=["value"],nN=["value"],oN={key:0,class:"sm:col-span-2"},iN={class:"sm:col-span-2"},lN={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 sm:p-6"},dN={class:"flex items-center justify-between mb-4"},cN={class:"text-md font-medium text-gray-900 dark:text-white flex items-center"},uN={key:0,class:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-600"},fN={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},hN=["value"],gN=["value"],pN=["value"],mN={key:0,class:"sm:col-span-2"},vN={class:"mt-4 flex justify-end space-x-2"},bN=["disabled"],yN={key:1,class:"space-y-3"},xN={class:"flex items-center space-x-3"},kN={class:"flex flex-col items-center space-y-1"},wN=["onClick","disabled"],_N={class:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full font-bold text-sm"},SN=["onClick","disabled"],AN={class:"flex-1"},CN={class:"flex items-center"},PN={class:"font-medium text-gray-900 dark:text-white"},NN={key:0,class:"ml-2 px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 rounded-full"},LN={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},$N={key:0},EN={key:1},MN={class:"flex items-center space-x-2"},TN=["onClick"],DN=["onClick"],IN={key:2,class:"text-center py-8 text-gray-500 dark:text-gray-400"},RN={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 sm:p-6"},ON={class:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center"},FN={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},jN={class:"bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-lg border border-blue-200 dark:border-blue-700 p-4 sm:p-6"},UN={class:"text-md font-medium text-gray-900 dark:text-white mb-3 flex items-center"},BN={class:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm"},zN={class:"font-medium text-gray-900 dark:text-white"},qN={class:"font-medium text-gray-900 dark:text-white"},HN={class:"font-medium text-gray-900 dark:text-white"},WN={class:"font-medium text-gray-900 dark:text-white"},VN={class:"shrink-0 px-4 sm:px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"},GN={class:"max-w-4xl mx-auto"},KN={key:0,class:"mb-3 text-sm text-red-600 dark:text-red-400"},YN={key:0},JN={key:1},ZN={class:"flex justify-between items-center"},XN=["disabled"],QN=Dt({__name:"ShooterManagementStep",props:{matchData:{},sportType:{}},emits:["update","complete"],setup(t,{emit:e}){const r=t,s=e,n=Ci(),o=ha(),i=ye(!1),l=ye({name:"",division:"",firearmCategory:r.matchData.defaultFirearmCategory||"",powerFactor:"",classification:"",personalNotes:""}),d=ye(!1),c=ye({name:"",division:"",firearmCategory:r.matchData.defaultFirearmCategory||"",powerFactor:"",classification:""}),u=ye([]),m=ye(0),y=Pe(()=>r.sportType==="IPSC"?["OPEN","LIMITED","LIMITED_10","PRODUCTION","STANDARD","CLASSIC"]:["CDP","ESP","SSP","CCP","BUG","PCC"]),h=Pe(()=>r.sportType==="IDPA"?["NOVICE","MARKSMAN","SHARPSHOOTER","EXPERT","MASTER","DISTINGUISHED_MASTER"]:["D","C","B","A","M","GM"]),w=Pe(()=>i.value?l.value.name.trim()!==""&&l.value.division!==""&&l.value.firearmCategory!=="":!0),E=Pe(()=>{const A=[...u.value];if(i.value&&l.value.name.trim()){const p={id:`personal_${Date.now()}`,name:l.value.name.trim(),division:l.value.division,firearmCategory:l.value.firearmCategory,powerFactor:l.value.powerFactor||void 0,classification:l.value.classification||void 0,personalNotes:l.value.personalNotes||void 0,isCurrentUser:!0},P=Math.min(m.value,A.length);A.splice(P,0,p)}return A}),R=Pe(()=>c.value.name.trim()!==""&&c.value.division!==""),T=Pe(()=>{const A=E.value.length>0,p=w.value,P=A&&p;return console.log("Shooter configuration check:",{totalShooters:E.value.length,hasPersonal:i.value,personalValid:p,otherCount:u.value.length,isConfigured:P,allShooters:E.value}),P}),G=()=>{if(!R.value)return;const A={id:`shooter_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:c.value.name.trim(),division:c.value.division,firearmCategory:c.value.firearmCategory,powerFactor:c.value.powerFactor||void 0,classification:c.value.classification||void 0,isCurrentUser:!1};u.value.push(A),c.value={name:"",division:"",firearmCategory:r.matchData.defaultFirearmCategory||"",powerFactor:"",classification:""},d.value=!1,C()},z=A=>{const p=u.value[A];alert(`Edit functionality for ${p.name} would open here`)},$=A=>{confirm("Are you sure you want to remove this shooter?")&&(u.value.splice(A,1),C())},I=()=>{c.value={name:"",division:"",firearmCategory:r.matchData.defaultFirearmCategory||"",powerFactor:"",classification:""},d.value=!1},K=()=>{const A=[{id:`import_${Date.now()}_1`,name:"John Smith",division:r.sportType==="IPSC"?"LIMITED":"ESP",firearmCategory:"HANDGUN",classification:r.sportType==="IPSC"?"A":"EXPERT",isCurrentUser:!1},{id:`import_${Date.now()}_2`,name:"Sarah Johnson",division:r.sportType==="IPSC"?"PRODUCTION":"SSP",firearmCategory:"HANDGUN",classification:r.sportType==="IPSC"?"B":"MARKSMAN",isCurrentUser:!1}];u.value.push(...A),C()},L=()=>{alert("CSV import functionality would open a file picker here")},b=()=>{const p=["Alex Turner","Jamie Wilson","Morgan Davis","Casey Thompson"].map((P,Q)=>({id:`sample_${Date.now()}_${Q}`,name:P,division:y.value[Q%y.value.length],firearmCategory:"HANDGUN",classification:h.value[Q%h.value.length],isCurrentUser:!1}));u.value.push(...p),C()},v=()=>{if(console.log("completeShooterSetup called",{configured:T.value,shooterCount:E.value.length,shooters:E.value}),!T.value){console.warn("Cannot proceed: No shooters configured");return}const A=n.createMatch(r.matchData.name,r.sportType,r.matchData.location,new Date(r.matchData.date),r.matchData.stages,r.matchData.notes||void 0);for(const p of E.value)n.addShooterToMatch(A.id,p);s("complete",{shooters:E.value,match:A})},C=()=>{s("update",E.value)},S=A=>{if(A===0)return;const p=[...E.value],P=p[A],Q=p[A-1];if(P.isCurrentUser)m.value=Math.max(0,m.value-1);else if(Q.isCurrentUser)m.value++;else{const H=u.value.findIndex(M=>M.name===P.name),q=u.value.findIndex(M=>M.name===Q.name);if(H!==-1&&q!==-1){const M=u.value[H];u.value[H]=u.value[q],u.value[q]=M}}C()},N=A=>{if(A===E.value.length-1)return;const p=[...E.value],P=p[A],Q=p[A+1];if(P.isCurrentUser)m.value=Math.min(E.value.length-1,m.value+1);else if(Q.isCurrentUser)m.value--;else{const H=u.value.findIndex(M=>M.name===P.name),q=u.value.findIndex(M=>M.name===Q.name);if(H!==-1&&q!==-1){const M=u.value[H];u.value[H]=u.value[q],u.value[q]=M}}C()};return Sr(i,A=>{if(A&&o.currentProfile){const p=o.currentProfile;if(l.value.name=p.name||"",p.preferences){const P=p.preferences;P.defaultDivision&&(l.value.division=P.defaultDivision),P.defaultFirearmCategory&&(l.value.firearmCategory=P.defaultFirearmCategory),P.classification&&(l.value.classification=P.classification),P.powerFactor&&r.sportType==="IPSC"&&(l.value.powerFactor=P.powerFactor)}}}),(A,p)=>(W(),Y("div",K9,[a("div",Y9,[p[13]||(p[13]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Shooter Management",-1)),a("p",J9," Add shooters to your "+F(A.matchData.name)+" match and identify yourself for score tracking ",1)]),a("div",Z9,[a("div",X9,[a("div",Q9,[a("h4",eN,[Me(Le(xi),{class:"w-5 h-5 mr-2 text-green-600"}),p[14]||(p[14]=Qe(" Personal Competitor Setup ",-1))]),a("div",tN,[a("label",rN,[Oe(a("input",{"onUpdate:modelValue":p[0]||(p[0]=P=>i.value=P),type:"checkbox",class:"rounded border-gray-300 text-green-600 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50"},null,512),[[Ur,i.value]]),p[15]||(p[15]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," Include myself as a competitor to track my performance ",-1))])]),i.value?(W(),Y("div",sN,[a("div",null,[p[16]||(p[16]=a("label",{for:"personalName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Your Name * ",-1)),Oe(a("input",{id:"personalName","onUpdate:modelValue":p[1]||(p[1]=P=>l.value.name=P),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your name"},null,512),[[dt,l.value.name]])]),a("div",null,[p[18]||(p[18]=a("label",{for:"personalDivision",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Division * ",-1)),Oe(a("select",{id:"personalDivision","onUpdate:modelValue":p[2]||(p[2]=P=>l.value.division=P),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"},[p[17]||(p[17]=a("option",{value:""},"Select Division",-1)),(W(!0),Y(rt,null,it(y.value,P=>(W(),Y("option",{key:P,value:P},F(P),9,aN))),128))],512),[[_t,l.value.division]])]),a("div",null,[p[20]||(p[20]=a("label",{for:"personalFirearm",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Firearm Category * ",-1)),Oe(a("select",{id:"personalFirearm","onUpdate:modelValue":p[3]||(p[3]=P=>l.value.firearmCategory=P),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"},[...p[19]||(p[19]=[Ht('<option value="" data-v-4b27e835>Select Firearm</option><option value="HANDGUN" data-v-4b27e835>Handgun</option><option value="RIFLE" data-v-4b27e835>Rifle</option><option value="PCC" data-v-4b27e835>PCC (Pistol Caliber Carbine)</option><option value="SHOTGUN" data-v-4b27e835>Shotgun</option>',5)])],512),[[_t,l.value.firearmCategory]])]),a("div",null,[p[22]||(p[22]=a("label",{for:"personalClassification",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Classification ",-1)),Oe(a("select",{id:"personalClassification","onUpdate:modelValue":p[4]||(p[4]=P=>l.value.classification=P),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"},[p[21]||(p[21]=a("option",{value:""},"Select Classification",-1)),(W(!0),Y(rt,null,it(h.value,P=>(W(),Y("option",{key:P,value:P},F(P),9,nN))),128))],512),[[_t,l.value.classification]])]),A.sportType==="IPSC"?(W(),Y("div",oN,[p[24]||(p[24]=a("label",{for:"personalPowerFactor",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Power Factor ",-1)),Oe(a("select",{id:"personalPowerFactor","onUpdate:modelValue":p[5]||(p[5]=P=>l.value.powerFactor=P),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"},[...p[23]||(p[23]=[a("option",{value:""},"Select Power Factor",-1),a("option",{value:"MAJOR"},"Major",-1),a("option",{value:"MINOR"},"Minor",-1)])],512),[[_t,l.value.powerFactor]])])):Re("",!0),a("div",iN,[p[25]||(p[25]=a("label",{for:"personalNotes",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Personal Notes (Optional) ",-1)),Oe(a("textarea",{id:"personalNotes","onUpdate:modelValue":p[6]||(p[6]=P=>l.value.personalNotes=P),rows:"2",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Equipment setup, goals, etc."},null,512),[[dt,l.value.personalNotes]])])])):Re("",!0)]),a("div",lN,[a("div",dN,[a("h4",cN,[Me(Le(fg),{class:"w-5 h-5 mr-2 text-blue-600"}),p[26]||(p[26]=Qe(" All Shooters ",-1))]),a("button",{onClick:p[7]||(p[7]=P=>d.value=!d.value),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},[Me(Le(li),{class:"w-4 h-4 mr-1 inline"}),p[27]||(p[27]=Qe(" Add Shooter ",-1))])]),d.value?(W(),Y("div",uN,[p[40]||(p[40]=a("h5",{class:"font-medium text-gray-900 dark:text-white mb-3"},"Add New Shooter",-1)),a("div",fN,[a("div",null,[p[28]||(p[28]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Name * ",-1)),Oe(a("input",{"onUpdate:modelValue":p[8]||(p[8]=P=>c.value.name=P),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter shooter name"},null,512),[[dt,c.value.name]])]),a("div",null,[p[30]||(p[30]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Division * ",-1)),Oe(a("select",{"onUpdate:modelValue":p[9]||(p[9]=P=>c.value.division=P),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[p[29]||(p[29]=a("option",{value:""},"Select Division",-1)),(W(!0),Y(rt,null,it(y.value,P=>(W(),Y("option",{key:P,value:P},F(P),9,hN))),128))],512),[[_t,c.value.division]])]),a("div",null,[p[35]||(p[35]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Firearm Category ",-1)),Oe(a("select",{"onUpdate:modelValue":p[10]||(p[10]=P=>c.value.firearmCategory=P),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[a("option",{value:A.matchData.defaultFirearmCategory},F(A.matchData.defaultFirearmCategory)+" (Match Default)",9,gN),p[31]||(p[31]=a("option",{value:"HANDGUN"},"Handgun",-1)),p[32]||(p[32]=a("option",{value:"RIFLE"},"Rifle",-1)),p[33]||(p[33]=a("option",{value:"PCC"},"PCC",-1)),p[34]||(p[34]=a("option",{value:"SHOTGUN"},"Shotgun",-1))],512),[[_t,c.value.firearmCategory]])]),a("div",null,[p[37]||(p[37]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Classification ",-1)),Oe(a("select",{"onUpdate:modelValue":p[11]||(p[11]=P=>c.value.classification=P),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[p[36]||(p[36]=a("option",{value:""},"Select Classification",-1)),(W(!0),Y(rt,null,it(h.value,P=>(W(),Y("option",{key:P,value:P},F(P),9,pN))),128))],512),[[_t,c.value.classification]])]),A.sportType==="IPSC"?(W(),Y("div",mN,[p[39]||(p[39]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Power Factor ",-1)),Oe(a("select",{"onUpdate:modelValue":p[12]||(p[12]=P=>c.value.powerFactor=P),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...p[38]||(p[38]=[a("option",{value:""},"Select Power Factor",-1),a("option",{value:"MAJOR"},"Major",-1),a("option",{value:"MINOR"},"Minor",-1)])],512),[[_t,c.value.powerFactor]])])):Re("",!0)]),a("div",vN,[a("button",{onClick:I,class:"px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600"}," Cancel "),a("button",{onClick:G,disabled:!R.value,class:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Add Shooter ",8,bN)])])):Re("",!0),E.value.length>0?(W(),Y("div",yN,[(W(!0),Y(rt,null,it(E.value,(P,Q)=>(W(),Y("div",{key:P.id||Q,class:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg transition-all hover:border-gray-300 dark:hover:border-gray-500 hover:shadow-md"},[a("div",xN,[a("div",kN,[a("button",{onClick:H=>S(Q),disabled:Q===0,class:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move up"},[Me(Le(yx),{class:"w-4 h-4"})],8,wN),a("div",_N,F(Q+1),1),a("button",{onClick:H=>N(Q),disabled:Q===E.value.length-1,class:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move down"},[Me(Le(rf),{class:"w-4 h-4"})],8,SN)]),a("div",AN,[a("div",CN,[a("div",PN,[Qe(F(P.name)+" ",1),P.isCurrentUser?(W(),Y("span",NN," You ")):Re("",!0)])]),a("div",LN,[Qe(F(P.division)+"  "+F(P.firearmCategory)+" ",1),P.classification?(W(),Y("span",$N,"  "+F(P.classification),1)):Re("",!0),A.sportType==="IPSC"&&P.powerFactor?(W(),Y("span",EN,"  "+F(P.powerFactor),1)):Re("",!0)])])]),a("div",MN,[P.isCurrentUser?Re("",!0):(W(),Y("button",{key:0,onClick:H=>z(Q),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded"},[Me(Le($x),{class:"w-4 h-4"})],8,TN)),P.isCurrentUser?Re("",!0):(W(),Y("button",{key:1,onClick:H=>$(Q),class:"p-2 text-red-400 hover:text-red-600 dark:hover:text-red-300 rounded"},[Me(Le(df),{class:"w-4 h-4"})],8,DN))])]))),128))])):(W(),Y("div",IN,[Me(Le(fg),{class:"w-12 h-12 mx-auto mb-3 opacity-50"}),p[41]||(p[41]=a("p",null,"No shooters added yet. Add shooters to start the match.",-1))]))]),a("div",RN,[a("h4",ON,[Me(Le(Tl),{class:"w-5 h-5 mr-2 text-purple-600"}),p[42]||(p[42]=Qe(" Quick Import ",-1))]),a("div",FN,[a("button",{onClick:K,class:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-purple-300 dark:hover:border-purple-500 transition-colors"},[Me(Le(nf),{class:"w-6 h-6 mx-auto mb-2 text-purple-600"}),p[43]||(p[43]=a("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Previous Match",-1)),p[44]||(p[44]=a("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Import shooters from last match",-1))]),a("button",{onClick:L,class:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-purple-300 dark:hover:border-purple-500 transition-colors"},[Me(Le(lc),{class:"w-6 h-6 mx-auto mb-2 text-purple-600"}),p[45]||(p[45]=a("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"CSV File",-1)),p[46]||(p[46]=a("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Import from spreadsheet",-1))]),a("button",{onClick:b,class:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-purple-300 dark:hover:border-purple-500 transition-colors"},[Me(Le(Il),{class:"w-6 h-6 mx-auto mb-2 text-purple-600"}),p[47]||(p[47]=a("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Sample Data",-1)),p[48]||(p[48]=a("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Add sample shooters for testing",-1))])])]),a("div",jN,[a("h4",UN,[Me(Le(Js),{class:"w-5 h-5 mr-2 text-green-600"}),p[49]||(p[49]=Qe(" Shooter Configuration Summary ",-1))]),a("div",BN,[a("div",null,[p[50]||(p[50]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Total Shooters:",-1)),a("div",zN,F(E.value.length),1)]),a("div",null,[p[51]||(p[51]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Personal Shooter:",-1)),a("div",qN,F(i.value?"Included":"Not included"),1)]),a("div",null,[p[52]||(p[52]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Ready to Start:",-1)),a("div",HN,F(E.value.length>0?"Yes":"No"),1)]),a("div",null,[p[53]||(p[53]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Your Tracking:",-1)),a("div",WN,F(i.value?"Enabled":"Disabled"),1)])])])])]),a("div",VN,[a("div",GN,[T.value?Re("",!0):(W(),Y("div",KN,[E.value.length===0?(W(),Y("span",YN,"  Please add at least one shooter to continue ")):i.value&&!w.value?(W(),Y("span",JN,"  Please fill in all required fields for your personal competitor (Name, Division, Firearm Category) ")):Re("",!0)])),a("div",ZN,[p[54]||(p[54]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Step 2 of 4: Add all shooters and configure personal tracking ",-1)),a("button",{onClick:v,disabled:!T.value,class:at(["px-6 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",T.value?"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500 cursor-pointer":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[Me(Le(Pm),{class:"w-4 h-4 mr-2 inline"}),Qe(" All Shooters Configured ("+F(E.value.length)+") ",1)],10,XN)])])])]))}}),eL=Lr(QN,[["__scopeId","data-v-4b27e835"]]),tL={class:"scoring-interface bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 rounded-xl shadow-2xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700"},rL={class:"mb-6 sm:mb-8"},sL={class:"flex flex-col sm:flex-row justify-between items-start mb-6 pb-6 border-b border-gray-200 dark:border-gray-700 gap-4"},aL={class:"flex-1 min-w-0"},nL={class:"flex items-center space-x-2 sm:space-x-3 mb-2"},oL={class:"text-xl sm:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-red-600 to-red-700 dark:from-red-400 dark:to-red-500 truncate"},iL={class:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 ml-3 sm:ml-4 line-clamp-2"},lL={class:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0"},dL={class:"hidden xs:block px-2 sm:px-4 py-1 sm:py-2 bg-gray-100 dark:bg-gray-800 rounded-lg"},cL={class:"text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide"},uL={class:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-4"},fL={class:"lg:col-span-2"},hL=["value"],gL={key:0},pL={key:0,class:"lg:col-span-1 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-lg p-3 sm:p-4 border border-blue-200 dark:border-blue-700"},mL={class:"space-y-1 sm:space-y-2 text-xs sm:text-sm"},vL={class:"flex justify-between gap-2"},bL={class:"text-blue-600 dark:text-blue-400 font-medium truncate"},yL={class:"flex justify-between gap-2"},xL={class:"text-blue-600 dark:text-blue-400 font-medium truncate"},kL={key:0,class:"flex justify-between gap-2 pt-1 sm:pt-2 border-t border-blue-300 dark:border-blue-600"},wL={class:"text-blue-600 dark:text-blue-400 font-mono font-bold"},_L={key:0,class:"space-y-4 sm:space-y-6"},SL={class:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 rounded-xl p-4 sm:p-6 border-2 border-red-200 dark:border-red-700/50 shadow-lg"},AL={class:"mb-4 flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600"},CL={class:"flex items-center cursor-pointer"},PL={class:"text-xs text-gray-500 dark:text-gray-400"},NL={key:0,class:"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4 lg:space-x-6"},LL={class:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 shadow-md w-full sm:w-auto"},$L={class:"text-4xl sm:text-5xl font-mono font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-red-700 dark:from-red-400 dark:to-red-300 text-center"},EL={class:"flex flex-wrap gap-2 sm:gap-3 w-full sm:w-auto justify-center sm:justify-start"},ML=["disabled"],TL=["disabled"],DL={key:1,class:"space-y-3"},IL={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-md"},RL={class:"text-sm text-gray-600 dark:text-gray-400 flex items-center"},OL={class:"rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50"},FL={class:"p-4 sm:p-6"},jL={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4"},UL={class:"font-bold text-gray-900 dark:text-white mb-4 text-center text-lg"},BL={class:"space-y-3"},zL={class:"text-xs font-semibold text-gray-600 dark:text-gray-400 min-w-max"},qL=["onUpdate:modelValue"],HL=["onClick"],WL={class:"rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50"},VL={class:"p-6"},GL={class:"space-y-3"},KL=["onUpdate:modelValue"],YL=["onUpdate:modelValue"],JL=["onClick"],ZL={class:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 border-2 border-green-300 dark:border-green-700 rounded-xl p-6 shadow-lg"},XL={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},QL={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-green-200 dark:border-green-700/50"},e$={class:"block text-3xl font-mono font-bold text-green-600 dark:text-green-400"},t$={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-green-200 dark:border-green-700/50"},r$={class:"block text-2xl font-mono font-bold text-green-600 dark:text-green-400"},s$={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-green-200 dark:border-green-700/50"},a$={class:"block text-3xl font-mono font-bold text-green-600 dark:text-green-400"},n$={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-green-200 dark:border-green-700/50"},o$={class:"block text-xs font-mono font-bold text-green-600 dark:text-green-400 space-y-1"},i$={key:1,class:"space-y-6"},l$={class:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border-2 border-purple-200 dark:border-purple-700/50 shadow-lg"},d$={class:"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-6"},c$={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md min-w-max"},u$={class:"text-5xl font-mono font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400"},f$={class:"flex flex-wrap gap-3 flex-1 justify-center sm:justify-start"},h$=["disabled"],g$=["disabled"],p$={class:"rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50"},m$={class:"p-6"},v$={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},b$={class:"font-bold text-gray-900 dark:text-white mb-4 text-center text-lg"},y$={class:"space-y-3"},x$={class:"text-xs font-semibold text-gray-600 dark:text-gray-400 min-w-max"},k$=["onUpdate:modelValue"],w$=["onClick"],_$={class:"rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50"},S$={class:"p-6"},A$={class:"space-y-3"},C$=["onUpdate:modelValue"],P$=["onUpdate:modelValue"],N$=["onClick"],L$={class:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 border-2 border-blue-300 dark:border-blue-700 rounded-xl p-6 shadow-lg"},$$={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},E$={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-blue-200 dark:border-blue-700/50"},M$={class:"block text-2xl font-mono font-bold text-blue-600 dark:text-blue-400"},T$={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-blue-200 dark:border-blue-700/50"},D$={class:"block text-2xl font-mono font-bold text-orange-600 dark:text-orange-400"},I$={class:"bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/40 dark:to-emerald-900/40 rounded-lg p-4 shadow-sm border-2 border-green-300 dark:border-green-700 col-span-2 md:col-span-1"},R$={class:"block text-3xl font-mono font-bold text-green-600 dark:text-green-400"},O$={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-blue-200 dark:border-blue-700/50 col-span-2 md:col-span-1"},F$={class:"block text-xs font-mono font-bold text-blue-600 dark:text-blue-400"},j$={key:2,class:"flex flex-col sm:flex-row justify-end gap-4 pt-8 border-t-2 border-gray-200 dark:border-gray-700"},U$=["disabled"],B$=Dt({__name:"ScoringInterface",props:{match:{},stageData:{},preSelectedShooterId:{}},emits:["close","scoreUpdated"],setup(t,{emit:e}){const r=t,s=e,n=ye(""),o=Pe(()=>r.match.shooters.find(ee=>ee.id===n.value)),i=ye(0),l=ye(!1),d=ye(null),c=ye(!1),u=ye(""),m=Pe(()=>{if(c.value&&u.value){const ee=parseFloat(u.value);return isNaN(ee)?0:ee}return i.value}),y=ye([]),h=ye([]),w=ye([]),E=ye([]),R=Pe(()=>{const ee={A:0,C:0,D:0,MISS:0,NO_SHOOT:0};let k=0;y.value.forEach(B=>{const V=[...B.shots].sort((J,ce)=>{const ue=J.zone==="A"?5:J.zone==="C"?3:J.zone==="D"?1:J.zone==="NO_SHOOT"?-10:0;return(ce.zone==="A"?5:ce.zone==="C"?3:ce.zone==="D"?1:ce.zone==="NO_SHOOT"?-10:0)-ue});B.shots.forEach(J=>{J.zone&&ee[J.zone]++}),V.slice(0,2).forEach(J=>{if(J.zone)switch(J.zone){case"A":k+=5;break;case"C":k+=3;break;case"D":k+=1;break;case"NO_SHOOT":k-=10;break}})});const O=h.value.reduce(B=>B+10,0);k-=O;const U=m.value>0?k/m.value:0;return{totalPoints:k,totalTime:m.value,hitFactor:U,breakdown:ee,penaltyPoints:O}}),T=Pe(()=>{const ee={DOWN_0:0,DOWN_1:0,DOWN_3:0,MISS:0,NON_THREAT:0};let k=0;w.value.forEach(U=>{const B=[...U.shots].sort((V,J)=>{const ce=V.zone==="DOWN_0"?0:V.zone==="DOWN_1"?.5:V.zone==="DOWN_3"?1.5:V.zone==="MISS"||V.zone==="NON_THREAT"?5:0,ue=J.zone==="DOWN_0"?0:J.zone==="DOWN_1"?.5:J.zone==="DOWN_3"?1.5:J.zone==="MISS"||J.zone==="NON_THREAT"?5:0;return ce-ue});U.shots.forEach(V=>{V.zone&&ee[V.zone]++}),B.slice(0,2).forEach(V=>{if(V.zone)switch(V.zone){case"DOWN_1":k+=.5;break;case"DOWN_3":k+=1.5;break;case"MISS":k+=5;break;case"NON_THREAT":k+=5;break}})});const O=E.value.reduce((U,B)=>{switch(B.type){case"PROCEDURAL":return U+3;case"FOOT_FAULT":return U+3;case"COVER_VIOLATION":return U+3;case"FAILURE_TO_ENGAGE":return U+5;default:return U}},0);return k+=O,{rawTime:m.value,penaltyTime:k,totalTime:m.value+k,breakdown:ee,proceduralPenalties:O}}),G=Pe(()=>o.value?r.match.sportType==="IPSC"?y.value.some(ee=>ee.shots.some(k=>k.zone!==""))&&m.value>0:w.value.some(ee=>ee.shots.some(k=>k.zone!==""))&&m.value>0:!1),z=ee=>{if(ee<60)return ee.toFixed(2)+"s";const k=Math.floor(ee/60),O=ee%60;return`${k}:${O.toFixed(2)}`},$=()=>{if(l.value)return;l.value=!0;const ee=Date.now()-i.value*1e3;d.value=window.setInterval(()=>{i.value=(Date.now()-ee)/1e3},10)},I=()=>{l.value&&(l.value=!1,d.value&&(clearInterval(d.value),d.value=null))},K=()=>{I(),i.value=0},L=()=>{o.value&&(r.match.sportType==="IPSC"?b():v(),q())},b=()=>{const ee=r.stageData;y.value=[];const k=ee.paperTargets||0;for(let U=0;U<k;U++)y.value.push({id:`paper_${U+1}`,name:`Paper ${U+1}`,type:"PAPER",shots:[{zone:"",points:0},{zone:"",points:0}]});const O=ee.steelTargets||0;for(let U=0;U<O;U++)y.value.push({id:`steel_${U+1}`,name:`Steel ${U+1}`,type:"STEEL",shots:[{zone:"",points:0}]});h.value=[]},v=()=>{const ee=r.stageData;w.value=Array.from({length:ee.targetCount||3},(k,O)=>({id:`target_${O+1}`,name:`Target ${O+1}`,shots:[{zone:"",penaltyTime:0},{zone:"",penaltyTime:0}]})),E.value=[]},C=ee=>{ee.shots.push({zone:"",points:0})},S=ee=>{ee.shots.push({zone:"",penaltyTime:0})},N=()=>{h.value.push({type:"",points:10,description:""})},A=ee=>{h.value.splice(ee,1)},p=()=>{E.value.push({type:"",seconds:3,description:""})},P=ee=>{E.value.splice(ee,1)},Q=()=>{},H=()=>{},q=()=>{if(!o.value||!r.stageData)return;const ee=r.match.results.get(o.value.id);if(!ee)return;const k=ee.stageResults.find(O=>O.stageId===r.stageData.id);if(!k){console.log("No existing score found for this shooter/stage");return}if(console.log("Loading existing score:",k),r.match.sportType==="IPSC"&&k.shots){i.value=k.totalTime||0;const O=r.stageData;y.value=[];let U=0;for(let B=0;B<(O.paperTargets||0);B++){const V=[];for(;U<k.shots.length&&(V.length<2||k.shots[U]?.zone)&&(V.push({zone:k.shots[U]?.zone||"",points:k.shots[U]?.points||0}),U++,!(V.length>=2&&U<k.shots.length&&!k.shots[U]?.zone)););y.value.push({id:`paper_${B+1}`,name:`Paper ${B+1}`,type:"PAPER",shots:V.length>0?V:[{zone:"",points:0},{zone:"",points:0}]})}for(let B=0;B<(O.steelTargets||0);B++){const V=[];for(;U<k.shots.length&&(V.length<1||k.shots[U]?.zone)&&(V.push({zone:k.shots[U]?.zone||"",points:k.shots[U]?.points||0}),U++,!(V.length>=1&&U<k.shots.length&&!k.shots[U]?.zone)););y.value.push({id:`steel_${B+1}`,name:`Steel ${B+1}`,type:"STEEL",shots:V.length>0?V:[{zone:"",points:0}]})}console.log("Loaded IPSC targets:",y.value)}if(r.match.sportType==="IDPA"&&k.shots){i.value=k.totalTime||0;const O=Math.ceil(k.shots.length/r.stageData.targetCount);w.value=[];for(let U=0;U<r.stageData.targetCount;U++){const B=k.shots.slice(U*O,(U+1)*O);w.value.push({id:`target_${U+1}`,name:`Target ${U+1}`,shots:B.map(V=>({zone:V.zone||"",penaltyTime:V.penaltyTime||0}))})}console.log("Loaded IDPA targets:",w.value)}},M=()=>{r.match.sportType==="IPSC"?b():v(),K()},ae=()=>{if(console.log("=== SAVE SCORE CLICKED ==="),console.log("selectedShooter:",o.value),console.log("hasValidScore:",G.value),console.log("currentTime:",i.value),!o.value||!G.value){console.warn("Save score aborted:",{hasShooter:!!o.value,hasValidScore:G.value,selectedShooter:o.value,currentTime:i.value}),alert("Cannot save: Missing shooter or invalid score data");return}const ee=r.match.sportType==="IPSC"?{type:"IPSC",...R.value,targets:y.value,penalties:h.value}:{type:"IDPA",...T.value,targets:w.value,penalties:E.value};console.log("ScoringInterface: Saving score",{shooterId:o.value.id,stageId:r.stageData.id,scoreData:ee}),console.log("Emitting scoreUpdated event..."),s("scoreUpdated",o.value.id,r.stageData.id,ee),console.log("Emitting close event..."),s("close"),console.log("=== SAVE SCORE COMPLETE ===")};return Sr(()=>r.stageData,()=>{o.value&&L()}),qr(()=>{r.preSelectedShooterId&&(n.value=r.preSelectedShooterId,L())}),(ee,k)=>(W(),Y("div",tL,[a("div",rL,[a("div",sL,[a("div",aL,[a("div",nL,[k[4]||(k[4]=a("div",{class:"w-1 h-6 sm:h-8 bg-gradient-to-b from-red-500 to-red-600 rounded-full"},null,-1)),a("h2",oL,F(ee.stageData.name),1)]),a("p",iL,F(ee.stageData.description),1)]),a("div",lL,[a("div",dL,[a("span",cL,F(ee.match.sportType),1)]),a("button",{onClick:k[0]||(k[0]=O=>ee.$emit("close")),class:"inline-flex items-center justify-center w-10 h-10 p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200"},[Me(Le(Po),{class:"w-5 h-5 sm:w-6 sm:h-6"})])])]),a("div",uL,[a("div",fL,[k[6]||(k[6]=a("label",{for:"shooter-select",class:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 sm:mb-3 uppercase tracking-wide"},[Qe(" Select Shooter "),a("span",{class:"text-red-500"},"*")],-1)),Oe(a("select",{id:"shooter-select","onUpdate:modelValue":k[1]||(k[1]=O=>n.value=O),onChange:L,class:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 hover:border-red-300 dark:hover:border-red-600 min-h-10 sm:min-h-auto"},[k[5]||(k[5]=a("option",{value:""},"Choose a shooter...",-1)),(W(!0),Y(rt,null,it(ee.match.shooters,O=>(W(),Y("option",{key:O.id,value:O.id},[Qe(F(O.name)+" ("+F(O.division)+") ",1),O.isCurrentUser?(W(),Y("span",gL," - You")):Re("",!0)],8,hL))),128))],544),[[_t,n.value]])]),o.value?(W(),Y("div",pL,[a("div",mL,[a("div",vL,[k[7]||(k[7]=a("span",{class:"font-semibold text-gray-700 dark:text-gray-300"},"Division:",-1)),a("span",bL,F(o.value.division),1)]),a("div",yL,[k[8]||(k[8]=a("span",{class:"font-semibold text-gray-700 dark:text-gray-300"},"Firearm:",-1)),a("span",xL,F(o.value.firearmCategory),1)]),o.value.powerFactor&&ee.match.sportType==="IPSC"?(W(),Y("div",kL,[k[9]||(k[9]=a("span",{class:"font-semibold text-gray-700 dark:text-gray-300"},"PF:",-1)),a("span",wL,F(o.value.powerFactor),1)])):Re("",!0)])])):Re("",!0)])]),ee.match.sportType==="IPSC"&&o.value?(W(),Y("div",_L,[a("div",SL,[k[13]||(k[13]=a("h3",{class:"text-base sm:text-lg font-bold text-gray-900 dark:text-white mb-3 sm:mb-4 flex items-center"},[a("span",{class:"inline-block w-2 h-5 sm:h-6 bg-gradient-to-b from-red-500 to-red-600 rounded mr-2 sm:mr-3"}),Qe(" Timer ")],-1)),a("div",AL,[a("label",CL,[Oe(a("input",{type:"checkbox","onUpdate:modelValue":k[2]||(k[2]=O=>c.value=O),class:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[Ur,c.value]]),k[10]||(k[10]=a("span",{class:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300"},"Use External Timer",-1))]),a("span",PL,F(c.value?"Manual Entry":"Internal Timer"),1)]),c.value?(W(),Y("div",DL,[a("div",IL,[k[11]||(k[11]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Enter Time (seconds)",-1)),Oe(a("input",{type:"number","onUpdate:modelValue":k[3]||(k[3]=O=>u.value=O),step:"0.01",min:"0",placeholder:"e.g., 3.45",class:"w-full px-4 py-3 text-2xl font-mono font-bold border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[dt,u.value]])]),a("div",RL,[k[12]||(k[12]=a("span",{class:"inline-block w-2 h-2 bg-blue-500 rounded-full mr-2"},null,-1)),Qe(" "+F(u.value?`Time entered: ${u.value}s`:"Enter time from external device"),1)])])):(W(),Y("div",NL,[a("div",LL,[a("div",$L,F(z(i.value)),1)]),a("div",EL,[a("button",{onClick:$,disabled:l.value,class:"flex-1 sm:flex-none px-4 sm:px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold rounded-lg hover:shadow-lg hover:from-green-600 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md min-h-10"},"  Start ",8,ML),a("button",{onClick:I,disabled:!l.value,class:"flex-1 sm:flex-none px-4 sm:px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold rounded-lg hover:shadow-lg hover:from-red-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md min-h-10"},"  Stop ",8,TL),a("button",{onClick:K,class:"flex-1 sm:flex-none px-4 sm:px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-semibold rounded-lg hover:shadow-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md min-h-10"},"  Reset ")])]))]),a("div",OL,[k[15]||(k[15]=a("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 px-4 sm:px-6 py-3 sm:py-4"},[a("h3",{class:"text-base sm:text-lg font-bold text-white flex items-center"},[a("span",{class:"inline-block w-2 h-5 sm:h-6 bg-white rounded mr-2 sm:mr-3"}),Qe(" Target Scoring ")])],-1)),a("div",FL,[a("div",jL,[(W(!0),Y(rt,null,it(y.value,O=>(W(),Y("div",{key:O.id,class:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-shadow duration-200"},[a("h4",UL,F(O.name),1),a("div",BL,[(W(!0),Y(rt,null,it(O.shots,(U,B)=>(W(),Y("div",{key:B,class:"flex items-center space-x-2"},[a("span",zL,"Shot "+F(B+1)+":",1),Oe(a("select",{"onUpdate:modelValue":V=>U.zone=V,onChange:Q,class:"flex-1 text-xs px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all hover:border-blue-400 dark:hover:border-blue-600"},[...k[14]||(k[14]=[Ht('<option value="" data-v-024ed7a9>-</option><option value="A" data-v-024ed7a9>A (5 pts)</option><option value="C" data-v-024ed7a9>C (3 pts)</option><option value="D" data-v-024ed7a9>D (1 pt)</option><option value="MISS" data-v-024ed7a9>Miss (0 pts)</option><option value="NO_SHOOT" data-v-024ed7a9>No-Shoot (-10 pts)</option>',6)])],40,qL),[[_t,U.zone]])]))),128)),a("button",{onClick:U=>C(O),class:"w-full text-xs px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105 font-semibold shadow-md"}," + Add Shot ",8,HL)])]))),128))])])]),a("div",WL,[k[17]||(k[17]=a("div",{class:"bg-gradient-to-r from-yellow-500 to-yellow-600 px-6 py-4"},[a("h3",{class:"text-lg font-bold text-white flex items-center"},[a("span",{class:"inline-block w-2 h-6 bg-white rounded mr-3"}),Qe(" Penalties ")])],-1)),a("div",VL,[a("div",GL,[(W(!0),Y(rt,null,it(h.value,(O,U)=>(W(),Y("div",{key:U,class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow"},[Oe(a("select",{"onUpdate:modelValue":B=>O.type=B,onChange:Q,class:"flex-shrink-0 px-4 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all hover:border-yellow-400"},[...k[16]||(k[16]=[a("option",{value:""},"Select Penalty",-1),a("option",{value:"PROCEDURAL"},"Procedural (-10 pts)",-1),a("option",{value:"FOOT_FAULT"},"Foot Fault (-10 pts)",-1),a("option",{value:"FAILURE_TO_ENGAGE"},"Failure to Engage (-10 pts)",-1)])],40,KL),[[_t,O.type]]),Oe(a("input",{"onUpdate:modelValue":B=>O.description=B,placeholder:"Description (optional)",class:"flex-1 px-4 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all hover:border-yellow-400"},null,8,YL),[[dt,O.description]]),a("button",{onClick:B=>A(U),class:"flex-shrink-0 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-200 transform hover:scale-105 font-semibold shadow-md"},"  Remove ",8,JL)]))),128)),a("button",{onClick:N,class:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105 font-bold shadow-md"}," + Add Penalty ")])])]),a("div",ZL,[k[22]||(k[22]=a("h3",{class:"text-lg font-bold text-green-800 dark:text-green-300 mb-4 flex items-center"},[a("span",{class:"inline-block w-2 h-6 bg-gradient-to-b from-green-500 to-emerald-600 rounded mr-3"}),Qe(" Score Summary ")],-1)),a("div",XL,[a("div",QL,[k[18]||(k[18]=a("span",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2"},"Total Points",-1)),a("span",e$,F(R.value.totalPoints),1)]),a("div",t$,[k[19]||(k[19]=a("span",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2"},"Time",-1)),a("span",r$,F(z(R.value.totalTime)),1)]),a("div",s$,[k[20]||(k[20]=a("span",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2"},"Hit Factor",-1)),a("span",a$,F(R.value.hitFactor.toFixed(4)),1)]),a("div",n$,[k[21]||(k[21]=a("span",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2"},"Breakdown",-1)),a("span",o$,[a("span",null,"A:"+F(R.value.breakdown.A)+" C:"+F(R.value.breakdown.C),1),a("span",null,"D:"+F(R.value.breakdown.D)+" M:"+F(R.value.breakdown.MISS),1),a("span",null,"NS:"+F(R.value.breakdown.NO_SHOOT),1)])])])])])):ee.match.sportType==="IDPA"&&o.value?(W(),Y("div",i$,[a("div",l$,[k[23]||(k[23]=a("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center"},[a("span",{class:"inline-block w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-600 rounded mr-3"}),Qe(" Timer ")],-1)),a("div",d$,[a("div",c$,[a("div",u$,F(z(i.value)),1)]),a("div",f$,[a("button",{onClick:$,disabled:l.value,class:"px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold rounded-lg hover:shadow-lg hover:from-green-600 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 disabled:hover:scale-100 shadow-md"},"  Start ",8,h$),a("button",{onClick:I,disabled:!l.value,class:"px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold rounded-lg hover:shadow-lg hover:from-red-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 disabled:hover:scale-100 shadow-md"},"  Stop ",8,g$),a("button",{onClick:K,class:"px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-semibold rounded-lg hover:shadow-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 transform hover:scale-105 shadow-md"},"  Reset ")])])]),a("div",p$,[k[25]||(k[25]=a("div",{class:"bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-4"},[a("h3",{class:"text-lg font-bold text-white flex items-center"},[a("span",{class:"inline-block w-2 h-6 bg-white rounded mr-3"}),Qe(" Target Scoring ")])],-1)),a("div",m$,[a("div",v$,[(W(!0),Y(rt,null,it(w.value,O=>(W(),Y("div",{key:O.id,class:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-shadow duration-200"},[a("h4",b$,F(O.name),1),a("div",y$,[(W(!0),Y(rt,null,it(O.shots,(U,B)=>(W(),Y("div",{key:B,class:"flex items-center space-x-2"},[a("span",x$,"Shot "+F(B+1)+":",1),Oe(a("select",{"onUpdate:modelValue":V=>U.zone=V,onChange:H,class:"flex-1 text-xs px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all hover:border-indigo-400 dark:hover:border-indigo-600"},[...k[24]||(k[24]=[Ht('<option value="" data-v-024ed7a9>-</option><option value="DOWN_0" data-v-024ed7a9>Down 0 (0 sec)</option><option value="DOWN_1" data-v-024ed7a9>Down 1 (+0.5 sec)</option><option value="DOWN_3" data-v-024ed7a9>Down 3 (+1.5 sec)</option><option value="MISS" data-v-024ed7a9>Miss (+5.0 sec)</option><option value="NON_THREAT" data-v-024ed7a9>Non-Threat (+5.0 sec)</option>',6)])],40,k$),[[_t,U.zone]])]))),128)),a("button",{onClick:U=>S(O),class:"w-full text-xs px-3 py-2 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-lg hover:from-indigo-600 hover:to-indigo-700 transition-all duration-200 transform hover:scale-105 font-semibold shadow-md"}," + Add Shot ",8,w$)])]))),128))])])]),a("div",_$,[k[27]||(k[27]=a("div",{class:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4"},[a("h3",{class:"text-lg font-bold text-white flex items-center"},[a("span",{class:"inline-block w-2 h-6 bg-white rounded mr-3"}),Qe(" Penalties ")])],-1)),a("div",S$,[a("div",A$,[(W(!0),Y(rt,null,it(E.value,(O,U)=>(W(),Y("div",{key:U,class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow"},[Oe(a("select",{"onUpdate:modelValue":B=>O.type=B,onChange:H,class:"flex-shrink-0 px-4 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all hover:border-orange-400"},[...k[26]||(k[26]=[Ht('<option value="" data-v-024ed7a9>Select Penalty</option><option value="PROCEDURAL" data-v-024ed7a9>Procedural (+3.0 sec)</option><option value="FOOT_FAULT" data-v-024ed7a9>Foot Fault (+3.0 sec)</option><option value="FAILURE_TO_ENGAGE" data-v-024ed7a9>Failure to Engage (+5.0 sec)</option><option value="COVER_VIOLATION" data-v-024ed7a9>Cover Violation (+3.0 sec)</option>',5)])],40,C$),[[_t,O.type]]),Oe(a("input",{"onUpdate:modelValue":B=>O.description=B,placeholder:"Description (optional)",class:"flex-1 px-4 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all hover:border-orange-400"},null,8,P$),[[dt,O.description]]),a("button",{onClick:B=>P(U),class:"flex-shrink-0 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-200 transform hover:scale-105 font-semibold shadow-md"},"  Remove ",8,N$)]))),128)),a("button",{onClick:p,class:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105 font-bold shadow-md"}," + Add Penalty ")])])]),a("div",L$,[k[32]||(k[32]=a("h3",{class:"text-lg font-bold text-blue-800 dark:text-blue-300 mb-4 flex items-center"},[a("span",{class:"inline-block w-2 h-6 bg-gradient-to-b from-blue-500 to-cyan-600 rounded mr-3"}),Qe(" Score Summary ")],-1)),a("div",$$,[a("div",E$,[k[28]||(k[28]=a("span",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2"},"Raw Time",-1)),a("span",M$,F(z(T.value.rawTime)),1)]),a("div",T$,[k[29]||(k[29]=a("span",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2"},"Penalties",-1)),a("span",D$,F(z(T.value.penaltyTime)),1)]),a("div",I$,[k[30]||(k[30]=a("span",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2"},"Total Time",-1)),a("span",R$,F(z(T.value.totalTime)),1)]),a("div",O$,[k[31]||(k[31]=a("span",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2"},"Breakdown",-1)),a("span",F$,"0: "+F(T.value.breakdown.DOWN_0)+", 1: "+F(T.value.breakdown.DOWN_1)+", 3: "+F(T.value.breakdown.DOWN_3)+", M: "+F(T.value.breakdown.MISS),1)])])])])):Re("",!0),o.value?(W(),Y("div",j$,[a("button",{onClick:M,class:"px-6 py-3 text-sm font-bold text-gray-700 dark:text-gray-300 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 border-2 border-gray-400 dark:border-gray-600 rounded-lg hover:from-gray-300 hover:to-gray-400 dark:hover:from-gray-600 dark:hover:to-gray-500 transition-all duration-200 transform hover:scale-105 shadow-md uppercase tracking-wide"},"  Clear Score "),a("button",{onClick:ae,disabled:!G.value,class:"px-8 py-3 text-sm font-bold text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed rounded-lg transition-all duration-200 transform hover:scale-105 disabled:hover:scale-100 shadow-lg uppercase tracking-wide"},"  Save Score ",8,U$)])):Re("",!0)]))}}),$v=Lr(B$,[["__scopeId","data-v-024ed7a9"]]),z$={class:"h-full flex flex-col"},q$={class:"shrink-0 px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700"},H$={class:"flex items-center justify-between"},W$={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},V$={key:0,class:"text-right"},G$={class:"text-sm font-medium text-gray-900 dark:text-white"},K$={class:"text-xs text-gray-600 dark:text-gray-400"},Y$={class:"flex-1 overflow-hidden flex flex-col lg:flex-row"},J$={class:"w-full lg:w-80 border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 overflow-y-auto"},Z$={class:"p-4"},X$={class:"space-y-2"},Q$=["onClick"],eE={class:"flex items-center justify-between"},tE={class:"font-medium text-gray-900 dark:text-white flex items-center"},rE={class:"text-xs text-gray-600 dark:text-gray-400"},sE={class:"text-xs text-gray-600 dark:text-gray-400"},aE={class:"flex-1 overflow-y-auto"},nE={key:0,class:"p-6 text-center"},oE={key:1,class:"h-full"},iE={key:2,class:"p-6"},lE={class:"mb-6"},dE={class:"flex items-center justify-between mb-4"},cE={class:"text-2xl font-bold text-gray-900 dark:text-white"},uE={class:"text-gray-600 dark:text-gray-400"},fE={class:"flex items-center space-x-2"},hE={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4"},gE={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},pE={class:"lg:col-span-2"},mE={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},vE={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},bE=["onClick"],yE={class:"flex items-center justify-between"},xE={class:"font-medium text-gray-900 dark:text-white flex items-center"},kE={key:0,class:"ml-2 px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 rounded-full"},wE={class:"text-xs text-gray-600 dark:text-gray-400"},_E={class:"flex items-center space-x-2"},SE={class:"space-y-4"},AE={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},CE={class:"space-y-2 text-sm"},PE={key:0},NE={class:"flex justify-between"},LE={class:"font-medium text-gray-900 dark:text-white"},$E={class:"flex justify-between"},EE={class:"font-medium text-gray-900 dark:text-white"},ME={class:"flex justify-between"},TE={class:"font-medium text-gray-900 dark:text-white"},DE={key:1},IE={class:"flex justify-between"},RE={class:"font-medium text-gray-900 dark:text-white"},OE={class:"flex justify-between"},FE={class:"font-medium text-gray-900 dark:text-white"},jE={class:"flex justify-between"},UE={class:"font-medium text-gray-900 dark:text-white text-right"},BE={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},zE={class:"space-y-2"},qE={key:0,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},HE={class:"overflow-x-auto"},WE={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},VE={class:"bg-gray-50 dark:bg-gray-900"},GE={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},KE={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},YE={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},JE={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},ZE={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},XE={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},QE={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},eM=["onClick"],tM={class:"shrink-0 px-4 sm:px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"},rM={class:"max-w-6xl mx-auto flex justify-between items-center"},sM={class:"text-sm text-gray-600 dark:text-gray-400"},aM=["disabled"],nM=Dt({__name:"MatchExecutionStep",props:{match:{}},emits:["complete"],setup(t,{emit:e}){const r=t,s=e,n=Ci(),o=Pe(()=>{if(!r.match)return console.log("MatchExecutionStep: No match in props"),null;console.log("MatchExecutionStep: currentMatch computed",{matchId:r.match.id,matchName:r.match.name,shootersCount:r.match.shooters?.length||0,stagesCount:r.match.stages?.length||0,resultsMapSize:r.match.results?.size||0});const H=n.getMatch(r.match.id);return H?(console.log("Got fresh match from store, results size:",H.results.size),H):(console.log("Using props.match (fresh match not found)"),r.match)}),i=ye(null),l=ye(null),d=ye(!1),c=ye(new Set),u=ye(0),m=Pe(()=>(u.value,o.value?.results||new Map)),y=Pe(()=>c.value.size),h=Pe(()=>o.value?c.value.size===o.value.stages.length:!1),w=Pe(()=>!i.value||!o.value?!1:o.value.shooters.every(H=>K(H.id,i.value.id))),E=Pe(()=>{if(!i.value||!o.value)return[];console.log("MatchExecutionStep: stageResults computed - recalculating for stage:",i.value.name);const H=m.value;console.log("Match results Map size:",H.size);const q=[];for(const M of o.value.shooters){const ae=H.get(M.id);if(console.log(`Shooter ${M.name} (${M.id}) results:`,JSON.stringify(ae,null,2)),ae){console.log("  Stage results count:",ae.stageResults.length),console.log("  Looking for stageId:",i.value.id);const ee=ae.stageResults.find(k=>(console.log(`    Comparing ${k.stageId} === ${i.value?.id}`,k.stageId===i.value?.id),k.stageId===i.value?.id));console.log("  Found stage result:",JSON.stringify(ee,null,2)),ee&&q.push({...ee,shooterId:M.id})}}return console.log("Final stage results array length:",q.length),q.sort((M,ae)=>o.value?.sportType==="IPSC"?ae.hitFactor-M.hitFactor:M.totalTime-ae.totalTime)}),R=H=>{i.value=H,l.value=null,d.value=!1},T=H=>{l.value=H},G=()=>{if(console.log("startScoring called",{hasStage:!!i.value,stageName:i.value?.name,hasShooter:!!l.value,shooterName:l.value?.name,hasMatch:!!o.value}),!i.value||!l.value){alert("Please select both a stage and a shooter first");return}console.log("Opening scoring interface for",l.value.name,"on",i.value.name),d.value=!0,console.log("showScoringInterface set to:",d.value)},z=()=>{d.value=!1},$=(H,q,M)=>{if(console.log("MatchExecutionStep: handleScoreUpdated called",{shooterId:H,stageId:q,scoreData:M,matchId:r.match?.id}),!r.match){console.error("No match available in handleScoreUpdated");return}console.log("Calling updateShooterStageResult...");const ae=n.updateShooterStageResult(r.match.id,H,q,M);console.log("updateShooterStageResult success:",ae),u.value++,console.log("Triggered reactivity update, count:",u.value),d.value=!1,console.log("Scoring interface closed"),w.value&&(c.value.add(q),console.log("Stage marked as complete:",q)),console.log("Current stage results count:",E.value.length)},I=H=>c.value.has(H),K=(H,q)=>{if(!o.value)return!1;const ae=m.value.get(H);return ae?ae.stageResults.some(ee=>ee.stageId===q):!1},L=H=>{if(!o.value)return"0/0";m.value;let q=0;for(const M of o.value.shooters)K(M.id,H)&&q++;return`${q}/${o.value.shooters.length}`},b=H=>{if(!o.value||o.value.shooters.length===0)return 0;m.value;let q=0;for(const M of o.value.shooters)K(M.id,H)&&q++;return Math.round(q/o.value.shooters.length*100)},v=H=>o.value?.shooters.find(M=>M.id===H)?.name||"Unknown",C=H=>{if(H<60)return H.toFixed(2)+"s";const q=Math.floor(H/60),M=H%60;return`${q}:${M.toFixed(2)}`},S=()=>{if(!i.value)return;const H=E.value.length>0;if(console.log("markStageComplete called",{stageId:i.value.id,stageName:i.value.name,scoresCount:E.value.length,canComplete:w.value}),!H){alert(`No scores recorded for ${i.value.name}. Please:

1. Select a shooter
2. Click "Start Scoring"
3. Enter shots and time
4. Click "Save Score" (green button)
5. Then mark stage complete`);return}c.value.add(i.value.id),console.log("Stage marked as complete:",i.value.id)},N=()=>{i.value&&c.value.delete(i.value.id)},A=()=>{console.log("Viewing detailed results for:",i.value?.name)},p=()=>{if(!(!i.value||!r.match)&&confirm("Are you sure you want to reset all scores for this stage? This action cannot be undone.")){for(const H of r.match.shooters)console.log("Resetting scores for shooter:",H.name,"on stage:",i.value.name);c.value.delete(i.value.id)}},P=H=>{const q=r.match?.shooters.find(M=>M.id===H.shooterId);q&&i.value&&(l.value=q,d.value=!0)},Q=()=>{if(!r.match||!h.value)return;const H={...r.match,status:"COMPLETED"},q=[];for(const M of H.shooters){const ae=H.results.get(M.id);if(ae){let ee=0;H.sportType==="IPSC"?ee=ae.stageResults.reduce((O,U)=>O+(U.hitFactor||0),0):ee=-ae.stageResults.reduce((O,U)=>O+(U.totalTime||0),0),q.push({shooterId:M.id,score:ee})}}q.sort((M,ae)=>ae.score-M.score),q.forEach((M,ae)=>{const ee=ae+1,k=H.results.get(M.shooterId);k&&(k.overallPlace=ee);const O=H.shooters.find(U=>U.id===M.shooterId);O&&(O.overallPlace=ee)}),console.log(" Calculated overall placements:",q.map(M=>({id:M.shooterId,place:H.results.get(M.shooterId)?.overallPlace,shooterPlace:H.shooters.find(ae=>ae.id===M.shooterId)?.overallPlace}))),n.updateMatch(H),s("complete",H)};return(H,q)=>(W(),Y("div",z$,[a("div",q$,[a("div",H$,[a("div",null,[q[0]||(q[0]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Match Execution",-1)),a("p",W$," Run and score all stages for "+F(H.match?.name),1)]),H.match?(W(),Y("div",V$,[a("div",G$," Progress: "+F(y.value)+" / "+F(H.match.stages.length)+" stages ",1),a("div",K$,F(Math.round(y.value/H.match.stages.length*100))+"% Complete ",1)])):Re("",!0)])]),a("div",Y$,[a("div",J$,[a("div",Z$,[q[1]||(q[1]=a("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Stages",-1)),a("div",X$,[(W(!0),Y(rt,null,it(H.match?.stages||[],(M,ae)=>(W(),Y("div",{key:M.id,class:at(["p-3 rounded-lg border cursor-pointer transition-colors",i.value?.id===M.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500",I(M.id)?"ring-2 ring-green-500":""]),onClick:ee=>R(M)},[a("div",eE,[a("div",null,[a("div",tE,[Qe(" Stage "+F(ae+1)+" ",1),I(M.id)?(W(),It(Le(Js),{key:0,class:"w-4 h-4 ml-2 text-green-600"})):Re("",!0)]),a("div",rE,F(M.name),1)]),a("div",sE,F(L(M.id)),1)])],10,Q$))),128))])])]),a("div",aE,[i.value?d.value?(W(),Y("div",oE,[i.value&&l.value&&H.match?(W(),It($v,{key:0,match:H.match,"stage-data":i.value,"pre-selected-shooter-id":l.value.id,onClose:z,onScoreUpdated:$},null,8,["match","stage-data","pre-selected-shooter-id"])):Re("",!0)])):(W(),Y("div",iE,[a("div",lE,[a("div",dE,[a("div",null,[a("h3",cE,F(i.value.name),1),a("p",uE,F(i.value.description),1)]),a("div",fE,[I(i.value.id)?(W(),Y("button",{key:0,onClick:N,class:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors"},[Me(Le(b0),{class:"w-4 h-4 mr-2 inline"}),q[4]||(q[4]=Qe(" Reopen Stage ",-1))])):w.value?(W(),Y("button",{key:1,onClick:S,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"},[Me(Le(Js),{class:"w-4 h-4 mr-2 inline"}),q[5]||(q[5]=Qe(" Stage Complete ",-1))])):Re("",!0)])]),a("div",hE,[a("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-300",style:Ta({width:b(i.value.id)+"%"})},null,4)])]),a("div",gE,[a("div",pE,[a("div",mE,[q[6]||(q[6]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-4"},"Shooters",-1)),a("div",vE,[(W(!0),Y(rt,null,it(H.match?.shooters||[],M=>(W(),Y("div",{key:M.id,class:at(["p-4 border rounded-lg cursor-pointer transition-colors",K(M.id,i.value.id)?"border-green-500 bg-green-50 dark:bg-green-900/20":l.value?.id===M.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"]),onClick:ae=>T(M)},[a("div",yE,[a("div",null,[a("div",xE,[Qe(F(M.name)+" ",1),M.isCurrentUser?(W(),Y("span",kE," You ")):Re("",!0)]),a("div",wE,F(M.division)+"  "+F(M.firearmCategory),1)]),a("div",_E,[K(M.id,i.value.id)?(W(),It(Le(Js),{key:0,class:"w-5 h-5 text-green-600"})):Re("",!0),l.value?.id===M.id?(W(),Y("button",{key:1,onClick:Is(G,["stop"]),class:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700"}," Score ")):Re("",!0)])])],10,bE))),128))])])]),a("div",SE,[a("div",AE,[q[13]||(q[13]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-3"},"Stage Details",-1)),a("div",CE,[H.match?.sportType==="IPSC"?(W(),Y("div",PE,[a("div",NE,[q[7]||(q[7]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Targets:",-1)),a("span",LE,F(i.value.targetCount),1)]),a("div",$E,[q[8]||(q[8]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Min Rounds:",-1)),a("span",EE,F(i.value.minimumRounds),1)]),a("div",ME,[q[9]||(q[9]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Max Points:",-1)),a("span",TE,F(i.value.maximumPoints),1)])])):(W(),Y("div",DE,[a("div",IE,[q[10]||(q[10]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Targets:",-1)),a("span",RE,F(i.value.targetCount),1)]),a("div",OE,[q[11]||(q[11]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Max Rounds:",-1)),a("span",FE,F(i.value.maxRounds),1)]),a("div",jE,[q[12]||(q[12]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Scenario:",-1)),a("span",UE,F(i.value.scenario),1)])]))])]),a("div",BE,[q[17]||(q[17]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-3"},"Quick Actions",-1)),a("div",zE,[l.value?(W(),Y("button",{key:0,onClick:G,class:"w-full px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm"},[Me(Le(Mm),{class:"w-4 h-4 mr-2 inline"}),q[14]||(q[14]=Qe(" Start Scoring ",-1))])):Re("",!0),a("button",{onClick:A,class:"w-full px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm"},[Me(Le(tf),{class:"w-4 h-4 mr-2 inline"}),q[15]||(q[15]=Qe(" View Results ",-1))]),a("button",{onClick:p,class:"w-full px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm"},[Me(Le(b0),{class:"w-4 h-4 mr-2 inline"}),q[16]||(q[16]=Qe(" Reset Scores ",-1))])])])])]),E.value.length>0?(W(),Y("div",qE,[q[22]||(q[22]=a("div",{class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700"},[a("h4",{class:"font-medium text-gray-900 dark:text-white"},"Current Stage Results")],-1)),a("div",HE,[a("table",WE,[a("thead",VE,[a("tr",null,[q[18]||(q[18]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Place ",-1)),q[19]||(q[19]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Shooter ",-1)),a("th",GE,F(H.match?.sportType==="IPSC"?"Hit Factor":"Total Time"),1),q[20]||(q[20]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Points ",-1)),q[21]||(q[21]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Actions ",-1))])]),a("tbody",KE,[(W(!0),Y(rt,null,it(E.value,(M,ae)=>(W(),Y("tr",{key:M.shooterId},[a("td",YE,F(ae+1),1),a("td",JE,F(v(M.shooterId)),1),a("td",ZE,F(H.match?.sportType==="IPSC"?M.hitFactor?.toFixed(4):C(M.totalTime)),1),a("td",XE,F(M.totalPoints||M.points),1),a("td",QE,[a("button",{onClick:ee=>P(M),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"}," Edit ",8,eM)])]))),128))])])])])):Re("",!0)])):(W(),Y("div",nE,[Me(Le(Br),{class:"w-16 h-16 mx-auto text-gray-400 mb-4"}),q[2]||(q[2]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Select a Stage",-1)),q[3]||(q[3]=a("p",{class:"text-gray-600 dark:text-gray-400"}," Choose a stage from the sidebar to begin scoring ",-1))]))])]),a("div",tM,[a("div",rM,[a("div",sM," Step 3 of 4: Complete all "+F(H.match?.stages.length||0)+" stages to finish the match ",1),a("button",{onClick:Q,disabled:!h.value,class:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Me(Le(Ds),{class:"w-4 h-4 mr-2 inline"}),q[23]||(q[23]=Qe(" Match Complete ",-1))],8,aM)])])]))}}),oM=Lr(nM,[["__scopeId","data-v-6de19637"]]);function Ev(t,e,r,s,n){s=s||{};var o=1.15,i=n.internal.scaleFactor,l=n.internal.getFontSize()/i,d=n.getLineHeightFactor?n.getLineHeightFactor():o,c=l*d,u=/\r\n|\r|\n/g,m="",y=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(m=typeof t=="string"?t.split(u):t,y=m.length||1),r+=l*(2-o),s.valign==="middle"?r-=y/2*c:s.valign==="bottom"&&(r-=y*c),s.halign==="center"||s.halign==="right"){var h=l;if(s.halign==="center"&&(h*=.5),m&&y>=1){for(var w=0;w<m.length;w++)n.text(m[w],e-n.getStringUnitWidth(m[w])*h,r),r+=c;return n}e-=n.getStringUnitWidth(t)*h}return s.halign==="justify"?n.text(t,e,r,{maxWidth:s.maxWidth||100,align:"justify"}):n.text(t,e,r),n}var Op={},hi=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Op=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var s,n,o;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var i=this.jsPDFDocument.internal.getFont(),l=i.fontStyle,d=i.fontName;if(e.font&&(d=e.font),e.fontStyle){l=e.fontStyle;var c=this.getFontList()[d];c&&c.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),l=c[0])}if(this.jsPDFDocument.setFont(d,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(s=this.jsPDFDocument).setFillColor.apply(s,u),u=t.unifyColor(e.textColor),u&&(n=this.jsPDFDocument).setTextColor.apply(n,u),u=t.unifyColor(e.lineColor),u&&(o=this.jsPDFDocument).setDrawColor.apply(o,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,s){return this.jsPDFDocument.splitTextToSize(e,r,s)},t.prototype.rect=function(e,r,s,n,o){return this.jsPDFDocument.rect(e,r,s,n,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Op||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),M0=function(t,e){return M0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},M0(t,e)};function Mv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");M0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Tv=(function(t){Mv(e,t);function e(r){var s=t.call(this)||this;return s._element=r,s}return e})(Array);function iM(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function lM(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function pc(t,e,r){r.applyStyles(e,!0);var s=Array.isArray(t)?t:[t],n=s.map(function(o){return r.getTextWidth(o)}).reduce(function(o,i){return Math.max(o,i)},0);return n}function Dv(t,e,r,s){var n=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:n,lineColor:o});var i=Iv(n,!1);i&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),s.y-r.y,i)}function Iv(t,e){var r=t>0,s=e||e===0;return r&&s?"DF":r?"S":s?"F":null}function Dc(t,e){var r,s,n,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(s=t.top)!==null&&s!==void 0?s:e,right:(n=t.right)!==null&&n!==void 0?n:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Rv(t,e){var r=Dc(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function dM(t,e,r,s,n){var o={},i=1.3333333333333333,l=Zu(e,function(z){return n.getComputedStyle(z).backgroundColor});l!=null&&(o.fillColor=l);var d=Zu(e,function(z){return n.getComputedStyle(z).color});d!=null&&(o.textColor=d);var c=uM(s,r);c&&(o.cellPadding=c);var u="borderTopColor",m=i*r,y=s.borderTopWidth;if(s.borderBottomWidth===y&&s.borderRightWidth===y&&s.borderLeftWidth===y){var h=(parseFloat(y)||0)/m;h&&(o.lineWidth=h)}else o.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/m,right:(parseFloat(s.borderRightWidth)||0)/m,bottom:(parseFloat(s.borderBottomWidth)||0)/m,left:(parseFloat(s.borderLeftWidth)||0)/m},o.lineWidth.top||(o.lineWidth.right?u="borderRightColor":o.lineWidth.bottom?u="borderBottomColor":o.lineWidth.left&&(u="borderLeftColor"));var w=Zu(e,function(z){return n.getComputedStyle(z)[u]});w!=null&&(o.lineColor=w);var E=["left","right","center","justify"];E.indexOf(s.textAlign)!==-1&&(o.halign=s.textAlign),E=["middle","bottom","top"],E.indexOf(s.verticalAlign)!==-1&&(o.valign=s.verticalAlign);var R=parseInt(s.fontSize||"");isNaN(R)||(o.fontSize=R/i);var T=cM(s);T&&(o.fontStyle=T);var G=(s.fontFamily||"").toLowerCase();return t.indexOf(G)!==-1&&(o.font=G),o}function cM(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Zu(t,e){var r=Ov(t,e);if(!r)return null;var s=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var n=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],o=parseInt(s[4]);return o===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Ov(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Ov(t.parentElement,e):r}function uM(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],s=96/(72/e),n=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=r.map(function(l){return parseInt(l||"0")/s}),i=Dc(o,0);return n>i.top&&(i.top=n),n>i.bottom&&(i.bottom=n),i}function Fv(t,e,r,s,n){var o,i;s===void 0&&(s=!1),n===void 0&&(n=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var d=Object.keys(t.getFontList()),c=t.scaleFactor(),u=[],m=[],y=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:u,body:m,foot:y};for(var h=0;h<l.rows.length;h++){var w=l.rows[h],E=(i=(o=w?.parentElement)===null||o===void 0?void 0:o.tagName)===null||i===void 0?void 0:i.toLowerCase(),R=fM(d,c,r,w,s,n);R&&(E==="thead"?u.push(R):E==="tfoot"?y.push(R):m.push(R))}return{head:u,body:m,foot:y}}function fM(t,e,r,s,n,o){for(var i=new Tv(s),l=0;l<s.cells.length;l++){var d=s.cells[l],c=r.getComputedStyle(d);if(n||c.display!=="none"){var u=void 0;o&&(u=dM(t,d,e,c,r)),i.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:u,_element:d,content:hM(d)})}}var m=r.getComputedStyle(s);if(i.length>0&&(n||m.display!=="none"))return i}function hM(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function gM(t,e,r){for(var s=0,n=[t,e,r];s<n.length;s++){var o=n[s];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function ln(t,e,r,s,n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1;i<arguments.length;i++){var l=arguments[i];if(l!=null)for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d])}return o}function jv(t,e){var r=new hi(t),s=r.getDocumentOptions(),n=r.getGlobalOptions();gM(n,s,e);var o=ln({},n,s,e),i;typeof window<"u"&&(i=window);var l=pM(n,s,e),d=mM(n,s,e),c=vM(r,o),u=yM(r,o,i);return{id:e.tableId,content:u,hooks:d,styles:l,settings:c}}function pM(t,e,r){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(d){if(d==="columnStyles"){var c=t[d],u=e[d],m=r[d];s.columnStyles=ln({},c,u,m)}else{var y=[t,e,r],h=y.map(function(w){return w[d]||{}});s[d]=ln({},h[0],h[1],h[2])}},o=0,i=Object.keys(s);o<i.length;o++){var l=i[o];n(l)}return s}function mM(t,e,r){for(var s=[t,e,r],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,i=s;o<i.length;o++){var l=i[o];l.didParseCell&&n.didParseCell.push(l.didParseCell),l.willDrawCell&&n.willDrawCell.push(l.willDrawCell),l.didDrawCell&&n.didDrawCell.push(l.didDrawCell),l.willDrawPage&&n.willDrawPage.push(l.willDrawPage),l.didDrawPage&&n.didDrawPage.push(l.didDrawPage)}return n}function vM(t,e){var r,s,n,o,i,l,d,c,u,m,y,h,w=Dc(e.margin,40/t.scaleFactor()),E=(r=bM(t,e.startY))!==null&&r!==void 0?r:w.top,R;e.showFoot===!0?R="everyPage":e.showFoot===!1?R="never":R=(s=e.showFoot)!==null&&s!==void 0?s:"everyPage";var T;e.showHead===!0?T="everyPage":e.showHead===!1?T="never":T=(n=e.showHead)!==null&&n!==void 0?n:"everyPage";var G=(o=e.useCss)!==null&&o!==void 0?o:!1,z=e.theme||(G?"plain":"striped"),$=!!e.horizontalPageBreak,I=(i=e.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:G,theme:z,startY:E,margin:w,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:T,showFoot:R,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:$,horizontalPageBreakRepeat:I,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function bM(t,e){var r=t.getLastAutoTable(),s=t.scaleFactor(),n=t.pageNumber(),o=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;o=i===n}return typeof e=="number"?e:(e==null||e===!1)&&o&&r?.finalY!=null?r.finalY+20/s:null}function yM(t,e,r){var s=e.head||[],n=e.body||[],o=e.foot||[];if(e.html){var i=e.includeHiddenHtml;if(r){var l=Fv(t,e.html,r,i,e.useCss)||{};s=l.head||s,n=l.body||s,o=l.foot||s}else console.error("Cannot parse html in non browser environment")}var d=e.columns||xM(s,n,o);return{columns:d,head:s,body:n,foot:o}}function xM(t,e,r){var s=t[0]||e[0]||r[0]||[],n=[];return Object.keys(s).filter(function(o){return o!=="_element"}).forEach(function(o){var i=1,l;Array.isArray(s)?l=s[parseInt(o)]:l=s[o],typeof l=="object"&&!Array.isArray(l)&&(i=l?.colSpan||1);for(var d=0;d<i;d++){var c=void 0;Array.isArray(s)?c=n.length:c=o+(d>0?"_".concat(d):"");var u={dataKey:c};n.push(u)}}),n}var T0=(function(){function t(e,r,s){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=s,this.doc=e.getDocument()}return t})(),kM=(function(t){Mv(e,t);function e(r,s,n,o,i,l){var d=t.call(this,r,s,l)||this;return d.cell=n,d.row=o,d.column=i,d.section=o.section,d}return e})(T0),wM=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,s){return r+s.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,s){return r+s.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,s,n,o,i){for(var l=0,d=r;l<d.length;l++){var c=d[l],u=new kM(e,this,s,n,o,i),m=c(u)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var s=0,n=this.hooks.didDrawPage;s<n.length;s++){var o=n[s];o(new T0(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var s=0,n=this.hooks.willDrawPage;s<n.length;s++){var o=n[s];o(new T0(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(n,o){return n+o.wrappedWidth},0);return r}else{var s=this.settings.margin;return e-s.left-s.right}},t})(),Uv=(function(){function t(e,r,s,n,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof Tv&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=s,this.cells=n,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(s,n){var o;return Math.max(s,((o=r.cells[n.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(s){var n=r.cells[s.index];return n?n.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var s=this;return e.reduce(function(n,o){var i=s.cells[o.index];if(!i)return 0;var l=r.getLineHeight(i.styles.fontSize),d=i.padding("vertical"),c=d+l;return c>n?c:n},0)},t})(),Bv=(function(){function t(e,r,s){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=s,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(n=e.content)!==null&&n!==void 0?n:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var i=o!=null?""+o:"",l=/\r\n|\r|\n/g;this.text=i.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");s=this.x+n/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var s=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/e*r,o=s*n+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Dc(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),_M=(function(){function t(e,r,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=s}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,s=0,n=e.allRows();s<n.length;s++){var o=n[s],i=o.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},t})();function SM(t,e){AM(t,e);var r=[],s=0;e.columns.forEach(function(o){var i=o.getMaxCustomCellWidth(e);i?o.width=i:(o.width=o.wrappedWidth,r.push(o)),s+=o.width});var n=e.getWidth(t.pageSize().width)-s;n&&(n=D0(r,n,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),n&&(n=D0(r,n,function(o){return o.minWidth})),n=Math.abs(n),!e.settings.horizontalPageBreak&&n>.1/t.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),PM(e),NM(e,t),CM(e)}function AM(t,e){var r=t.scaleFactor(),s=e.settings.horizontalPageBreak,n=Rv(t,e);e.allRows().forEach(function(o){for(var i=0,l=e.columns;i<l.length;i++){var d=l[i],c=o.cells[d.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(t,u,c,o,d,null);var m=c.padding("horizontal");c.contentWidth=pc(c.text,c.styles,t)+m;var y=pc(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=y+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||s===!0)c.contentWidth>n?(c.minWidth=n,c.wrappedWidth=n):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var h=10/r;c.minWidth=c.styles.minCellWidth||h,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(o){for(var i=0,l=e.columns;i<l.length;i++){var d=l[i],c=o.cells[d.index];if(c&&c.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,c.wrappedWidth),d.minWidth=Math.max(d.minWidth,c.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},m=u.cellWidth||u.minCellWidth;m&&typeof m=="number"&&(d.minWidth=m,d.wrappedWidth=m)}c&&(c.colSpan>1&&!d.minWidth&&(d.minWidth=c.minWidth),c.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=c.minWidth))}})}function D0(t,e,r){for(var s=e,n=t.reduce(function(h,w){return h+w.wrappedWidth},0),o=0;o<t.length;o++){var i=t[o],l=i.wrappedWidth/n,d=s*l,c=i.width+d,u=r(i),m=c<u?u:c;e-=m-i.width,i.width=m}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(h){return e<0?h.width>r(h):!0});y.length&&(e=D0(y,e,r))}return e}function CM(t){for(var e={},r=1,s=t.allRows(),n=0;n<s.length;n++)for(var o=s[n],i=0,l=t.columns;i<l.length;i++){var d=l[i],c=e[d.index];if(r>1)r--,delete o.cells[d.index];else if(c)c.cell.height+=o.height,r=c.cell.colSpan,delete o.cells[d.index],c.left--,c.left<=1&&delete e[d.index];else{var u=o.cells[d.index];if(!u)continue;if(u.height=o.height,u.rowSpan>1){var m=s.length-n,y=u.rowSpan>m?m:u.rowSpan;e[d.index]={cell:u,left:y,row:o}}}}}function PM(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var s=e[r],n=null,o=0,i=0,l=0;l<t.columns.length;l++){var d=t.columns[l];if(i-=1,i>1&&t.columns[l+1])o+=d.width,delete s.cells[d.index];else if(n){var c=n;delete s.cells[d.index],n=null,c.width=d.width+o}else{var c=s.cells[d.index];if(!c)continue;if(i=c.colSpan,o=0,c.colSpan>1){n=c,o+=d.width;continue}c.width=d.width+o}}}function NM(t,e){for(var r={count:0,height:0},s=0,n=t.allRows();s<n.length;s++){for(var o=n[s],i=0,l=t.columns;i<l.length;i++){var d=l[i],c=o.cells[d.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Fp(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=Fp(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var m=c.styles.overflow(c.text,u);typeof m=="string"?c.text=[m]:c.text=m}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<y*c.rowSpan?r={height:y,count:c.rowSpan}:r&&r.count>0&&r.height>y&&(y=r.height),y>o.height&&(o.height=y)}}r.count--}}function Fp(t,e,r,s,n){return t.map(function(o){return LM(o,e,r,s,n)})}function LM(t,e,r,s,n){var o=1e4*s.scaleFactor();if(e=Math.ceil(e*o)/o,e>=pc(t,r,s))return t;for(;e<pc(t+n,r,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+n}function zv(t,e){var r=new hi(t),s=$M(e,r.scaleFactor()),n=new wM(e,s);return SM(r,n),r.applyStyles(r.userStyles),n}function $M(t,e){var r=t.content,s=MM(r.columns);if(r.head.length===0){var n=jp(s,"head");n&&r.head.push(n)}if(r.foot.length===0){var n=jp(s,"foot");n&&r.foot.push(n)}var o=t.settings.theme,i=t.styles;return{columns:s,head:Xu("head",r.head,s,i,o,e),body:Xu("body",r.body,s,i,o,e),foot:Xu("foot",r.foot,s,i,o,e)}}function Xu(t,e,r,s,n,o){var i={},l=e.map(function(d,c){for(var u=0,m={},y=0,h=0,w=0,E=r;w<E.length;w++){var R=E[w];if(i[R.index]==null||i[R.index].left===0)if(h===0){var T=void 0;Array.isArray(d)?T=d[R.index-y-u]:T=d[R.dataKey];var G={};typeof T=="object"&&!Array.isArray(T)&&(G=T?.styles||{});var z=TM(t,R,c,n,s,o,G),$=new Bv(T,z,t);m[R.dataKey]=$,m[R.index]=$,h=$.colSpan-1,i[R.index]={left:$.rowSpan-1,times:h}}else h--,y++;else i[R.index].left--,h=i[R.index].times,u++}return new Uv(d,c,t,m)});return l}function jp(t,e){var r={};return t.forEach(function(s){if(s.raw!=null){var n=EM(e,s.raw);n!=null&&(r[s.dataKey]=n)}}),Object.keys(r).length>0?r:null}function EM(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function MM(t){return t.map(function(e,r){var s,n;return typeof e=="object"?n=(s=e.dataKey)!==null&&s!==void 0?s:r:n=r,new _M(n,e,r)})}function TM(t,e,r,s,n,o,i){var l=lM(s),d;t==="head"?d=n.headStyles:t==="body"?d=n.bodyStyles:t==="foot"&&(d=n.footStyles);var c=ln({},l.table,l[t],n.styles,d),u=n.columnStyles[e.dataKey]||n.columnStyles[e.index]||{},m=t==="body"?u:{},y=t==="body"&&r%2===0?ln({},l.alternateRow,n.alternateRowStyles):{},h=iM(o),w=ln({},h,c,y,m);return ln(w,i)}function DM(t,e,r){var s;r===void 0&&(r={});var n=Rv(t,e),o=new Map,i=[],l=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(y){var h=e.columns.find(function(w){return w.dataKey===y||w.index===y});h&&!o.has(h.index)&&(o.set(h.index,!0),i.push(h.index),l.push(e.columns[h.index]),n-=h.wrappedWidth)});for(var c=!0,u=(s=r?.start)!==null&&s!==void 0?s:0;u<e.columns.length;){if(o.has(u)){u++;continue}var m=e.columns[u].wrappedWidth;if(c||n>=m)c=!1,i.push(u),l.push(e.columns[u]),n-=m;else break;u++}return{colIndexes:i,columns:l,lastIndex:u-1}}function IM(t,e){for(var r=[],s=0;s<e.columns.length;s++){var n=DM(t,e,{start:s});n.columns.length&&(r.push(n),s=n.lastIndex)}return r}function qv(t,e){var r=e.settings,s=r.startY,n=r.margin,o={x:n.left,y:s},i=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=s+n.bottom+i;if(r.pageBreak==="avoid"){var d=e.body,c=d.reduce(function(y,h){return y+h.height},0);l+=c}var u=new hi(t);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(Wv(u),o.y=n.top),e.callWillDrawPageHooks(u,o);var m=ln({},o);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?RM(u,e,m,o):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(y){return un(u,e,y,o,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(y,h){var w=h===e.body.length-1;mc(u,e,y,w,m,o,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(y){return un(u,e,y,o,e.columns)})),Dv(u,e,m,o),e.callEndPageHooks(u,o),e.finalY=o.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function RM(t,e,r,s){var n=IM(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(c,u){t.applyStyles(t.userStyles),u>0?wl(t,e,r,s,c.columns,!0):Up(t,e,s,c.columns),OM(t,e,r,s,c.columns),Qu(t,e,s,c.columns)});else for(var i=-1,l=n[0],d=function(){var c=i;if(l){t.applyStyles(t.userStyles);var u=l.columns;i>=0?wl(t,e,r,s,u,!0):Up(t,e,s,u),c=Bp(t,e,i+1,s,u),Qu(t,e,s,u)}var m=c-i;n.slice(1).forEach(function(y){t.applyStyles(t.userStyles),wl(t,e,r,s,y.columns,!0),Bp(t,e,i+1,s,y.columns,m),Qu(t,e,s,y.columns)}),i=c};i<e.body.length-1;)d()}function Up(t,e,r,s){var n=e.settings;t.applyStyles(t.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(o){return un(t,e,o,r,s)})}function OM(t,e,r,s,n){t.applyStyles(t.userStyles),e.body.forEach(function(o,i){var l=i===e.body.length-1;mc(t,e,o,l,r,s,n)})}function Bp(t,e,r,s,n,o){t.applyStyles(t.userStyles),o=o??e.body.length;var i=Math.min(r+o,e.body.length),l=-1;return e.body.slice(r,i).forEach(function(d,c){var u=r+c===e.body.length-1,m=Hv(t,e,u,s);d.canEntireRowFit(m,n)&&(un(t,e,d,s,n),l=r+c)}),l}function Qu(t,e,r,s){var n=e.settings;t.applyStyles(t.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(o){return un(t,e,o,r,s)})}function FM(t,e,r){var s=r.getLineHeight(t.styles.fontSize),n=t.padding("vertical"),o=Math.floor((e-n)/s);return Math.max(0,o)}function jM(t,e,r,s){var n={};t.spansMultiplePages=!0,t.height=0;for(var o=0,i=0,l=r.columns;i<l.length;i++){var d=l[i],c=t.cells[d.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new Bv(c.raw,c.styles,c.section);u=ln(u,c),u.text=[];var m=FM(c,e,s);c.text.length>m&&(u.text=c.text.splice(m,c.text.length));var y=s.scaleFactor(),h=s.getLineHeightFactor();c.contentHeight=c.getContentHeight(y,h),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),u.contentHeight=u.getContentHeight(y,h),u.contentHeight>o&&(o=u.contentHeight),n[d.index]=u}}var w=new Uv(t.raw,-1,t.section,n,!0);w.height=o;for(var E=0,R=r.columns;E<R.length;E++){var d=R[E],u=w.cells[d.index];u&&(u.height=w.height);var c=t.cells[d.index];c&&(c.height=t.height)}return w}function UM(t,e,r,s){var n=t.pageSize().height,o=s.settings.margin,i=o.top+o.bottom,l=n-i;e.section==="body"&&(l-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var d=e.getMinimumRowHeight(s.columns,t),c=d<r;if(d>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(s.columns),m=e.getMaxCellHeight(s.columns)>l;return m?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||s.settings.rowPageBreak==="avoid")}function mc(t,e,r,s,n,o,i){var l=Hv(t,e,s,o);if(r.canEntireRowFit(l,i))un(t,e,r,o,i);else if(UM(t,r,l,e)){var d=jM(r,l,e,t);un(t,e,r,o,i),wl(t,e,n,o,i),mc(t,e,d,s,n,o,i)}else wl(t,e,n,o,i),mc(t,e,r,s,n,o,i)}function un(t,e,r,s,n){s.x=e.settings.margin.left;for(var o=0,i=n;o<i.length;o++){var l=i[o],d=r.cells[l.index];if(!d){s.x+=l.width;continue}t.applyStyles(d.styles),d.x=s.x,d.y=s.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,d,r,l,s);if(c===!1){s.x+=l.width;continue}BM(t,d,s);var u=d.getTextPos();Ev(d.text,u.x,u.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,d,r,l,s),s.x+=l.width}s.y+=r.height}function BM(t,e,r){var s=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof s.lineWidth=="number"){var n=Iv(s.lineWidth,s.fillColor);n&&t.rect(e.x,r.y,e.width,e.height,n)}else typeof s.lineWidth=="object"&&(s.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),zM(t,e,r,s.lineWidth))}function zM(t,e,r,s){var n,o,i,l;s.top&&(n=r.x,o=r.y,i=r.x+e.width,l=r.y,s.right&&(i+=.5*s.right),s.left&&(n-=.5*s.left),d(s.top,n,o,i,l)),s.bottom&&(n=r.x,o=r.y+e.height,i=r.x+e.width,l=r.y+e.height,s.right&&(i+=.5*s.right),s.left&&(n-=.5*s.left),d(s.bottom,n,o,i,l)),s.left&&(n=r.x,o=r.y,i=r.x,l=r.y+e.height,s.top&&(o-=.5*s.top),s.bottom&&(l+=.5*s.bottom),d(s.left,n,o,i,l)),s.right&&(n=r.x+e.width,o=r.y,i=r.x+e.width,l=r.y+e.height,s.top&&(o-=.5*s.top),s.bottom&&(l+=.5*s.bottom),d(s.right,n,o,i,l));function d(c,u,m,y,h){t.getDocument().setLineWidth(c),t.getDocument().line(u,m,y,h,"S")}}function Hv(t,e,r,s){var n=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&r)&&(n+=e.getFootHeight(e.columns)),t.pageSize().height-s.y-n}function wl(t,e,r,s,n,o){n===void 0&&(n=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(l){return un(t,e,l,s,n)}),e.callEndPageHooks(t,s);var i=e.settings.margin;Dv(t,e,r,s),Wv(t),e.pageNumber++,s.x=i.left,s.y=i.top,r.y=i.top,e.callWillDrawPageHooks(t,s),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return un(t,e,l,s,n)}),t.applyStyles(t.userStyles))}function Wv(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function qM(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var s=e[0],n=jv(this,s),o=zv(this,n);return qv(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,s,n){Ev(e,r,s,n,this)},t.API.autoTableSetDefaults=function(e){return hi.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){hi.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var s;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new hi(this),o=Fv(n,e,window,r,!1),i=o.head,l=o.body,d=((s=i[0])===null||s===void 0?void 0:s.map(function(c){return c.content}))||[];return{columns:d,rows:l,data:l}}}var e0;function zp(t,e){var r=jv(t,e),s=zv(t,r);qv(t,s)}try{if(typeof window<"u"&&window){var qp=window,Hp=qp.jsPDF||((e0=qp.jspdf)===null||e0===void 0?void 0:e0.jsPDF);Hp&&qM(Hp)}}catch(t){console.error("Could not apply autoTable plugin",t)}const HM={class:"h-full flex flex-col"},WM={class:"shrink-0 px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700"},VM={class:"flex items-center justify-between"},GM={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},KM={class:"flex items-center space-x-3"},YM={class:"flex items-center space-x-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer"},JM={class:"flex-1 overflow-y-auto p-4 sm:p-6"},ZM={class:"max-w-7xl mx-auto space-y-6"},XM={class:"bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-lg border border-blue-200 dark:border-blue-700 p-6"},QM={class:"flex items-center justify-between mb-4"},eT={class:"text-xl font-semibold text-gray-900 dark:text-white flex items-center"},tT={class:"text-right"},rT={class:"text-2xl font-bold text-gray-900 dark:text-white"},sT={class:"text-sm text-gray-600 dark:text-gray-400"},aT={class:"grid grid-cols-2 sm:grid-cols-4 gap-4"},nT={class:"text-center"},oT={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},iT={class:"text-center"},lT={class:"text-2xl font-bold text-green-600 dark:text-green-400"},dT={class:"text-center"},cT={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},uT={class:"text-center"},fT={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},hT={key:0,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6"},gT={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},pT={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},mT={class:"space-y-4"},vT={class:"grid grid-cols-2 gap-4"},bT={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 text-center"},yT={class:"text-xl font-bold text-gray-900 dark:text-white"},xT={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 text-center"},kT={class:"text-xl font-bold text-gray-900 dark:text-white"},wT={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 text-center"},_T={class:"text-xl font-bold text-gray-900 dark:text-white"},ST={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 text-center"},AT={class:"text-xl font-bold text-gray-900 dark:text-white"},CT={class:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-700 p-4"},PT={class:"font-medium text-gray-900 dark:text-white mb-2 flex items-center"},NT={class:"space-y-2 text-sm"},LT={class:"text-gray-700 dark:text-gray-300"},$T={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4"},ET={class:"space-y-2"},MT={class:"text-sm text-gray-600 dark:text-gray-400 w-16"},TT={class:"flex-1 mx-2 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},DT={class:"text-sm font-medium text-gray-900 dark:text-white w-12 text-right"},IT={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},RT={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},OT={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center"},FT={class:"overflow-x-auto"},jT={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},UT={class:"bg-gray-50 dark:bg-gray-900"},BT={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},zT={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},qT={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},HT={class:"flex items-center"},WT={class:"mr-2"},VT={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},GT={class:"flex items-center"},KT={key:0,class:"ml-2 px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 rounded-full"},YT={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},JT={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ZT={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},XT={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},QT={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},eD={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},tD={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center"},rD={class:"p-6"},sD={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4"},aD={class:"font-medium text-gray-900 dark:text-white mb-2"},nD={class:"space-y-2 text-sm"},oD={class:"flex justify-between"},iD={class:"font-medium text-gray-900 dark:text-white"},lD={class:"flex justify-between"},dD={class:"font-medium text-gray-900 dark:text-white"},cD={class:"flex justify-between"},uD={class:"font-medium text-gray-900 dark:text-white"},fD={class:"flex justify-between"},hD={class:"font-medium text-gray-900 dark:text-white"},gD={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6"},pD={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},mD={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},vD={class:"shrink-0 px-4 sm:px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"},bD={class:"max-w-7xl mx-auto flex justify-between items-center"},yD=Dt({__name:"AnalysisReportsStep",props:{match:{}},emits:["complete"],setup(t,{emit:e}){const r=t,s=ye(!0),n=e,o=()=>{if(!r.match)return new Map;const $=new Map;for(const I of r.match.stages){const K=[];for(const b of r.match.shooters){const v=r.match.results.get(b.id);if(v){const C=v.stageResults.find(S=>S.stageId===I.id);if(C){let S=0;r.match.sportType==="IPSC"&&"hitFactor"in C?S=C.hitFactor||0:r.match.sportType==="IDPA"&&"totalTime"in C&&(S=C.totalTime||0),K.push({shooterId:b.id,score:S})}}}r.match.sportType==="IPSC"?K.sort((b,v)=>v.score-b.score):K.sort((b,v)=>b.score-v.score);const L=new Map;K.forEach((b,v)=>{L.set(b.shooterId,v+1)}),$.set(I.id,L)}return $},i=Pe(()=>{if(!r.match)return null;const $=r.match.shooters.find(H=>H.isCurrentUser);if(!$)return null;const I=r.match.results.get($.id);if(!I)return null;let K=I.totalPoints||0;K===0&&I.stageResults.length>0&&(K=I.stageResults.reduce((H,q)=>"totalPoints"in q&&typeof q.totalPoints=="number"?H+q.totalPoints:"stagePoints"in q&&typeof q.stagePoints=="number"?H+q.stagePoints:H,0));const v=Array.from(r.match.results.entries()).map(([H,q])=>{let M=q.totalPoints||0;return M===0&&q.stageResults.length>0&&(M=q.stageResults.reduce((ae,ee)=>"totalPoints"in ee&&typeof ee.totalPoints=="number"?ae+ee.totalPoints:"stagePoints"in ee&&typeof ee.stagePoints=="number"?ae+ee.stagePoints:ae,0)),{id:H,points:M}}).map(H=>H.points).sort((H,q)=>q-H).findIndex(H=>H===K)+1,C=o();let S=0,N=0;for(const H of I.stageResults){const q=C.get(H.stageId);if(q){const M=q.get($.id);M&&(S+=M,N++)}}const A=N>0?S/N:0;let p=0,P=0;for(const H of I.stageResults)if("shots"in H&&Array.isArray(H.shots)){const q=H.shots;P+=q.length,p+=q.filter(M=>M.points>0||M.zone&&!M.zone.includes("MISS")).length}const Q=P>0?p/P*100:0;return{overallPlace:v,averagePlace:A,totalPoints:K,accuracy:Q,stageResults:I.stageResults}}),l=Pe(()=>{if(!r.match)return 0;let $=0;for(const I of r.match.shooters){const K=r.match.results.get(I.id);if(K)for(const L of K.stageResults)"shots"in L&&($+=L.shots?.length||0)}return $}),d=Pe(()=>{if(!i.value)return[];const $=[];return i.value.accuracy>85&&$.push({type:"positive",icon:Ix,message:"Excellent accuracy! Your shot placement is consistently strong."}),i.value.averagePlace<3?$.push({type:"positive",icon:Dl,message:"Great stage consistency - you're placing well across all stages."}):$.push({type:"improvement",icon:yi,message:"Focus on speed transitions between targets to improve stage times."}),$.push({type:"tip",icon:dg,message:"Consider practicing draw to first shot for better overall times."}),$}),c=Pe(()=>{if(!i.value||!r.match)return[];const $=o(),I=r.match.shooters.find(K=>K.isCurrentUser);return I?i.value.stageResults.map(K=>{const L=$.get(K.stageId),b=L&&L.get(I.id)||0,v=L?L.size:r.match.shooters.length,C=b>0&&v>1?Math.max(0,100-(b-1)/(v-1)*100):b===1?100:0;return{stageId:K.stageId,place:b,performance:C}}):[]}),u=Pe(()=>{if(!r.match)return[];const $=o(),I=[];for(const K of r.match.shooters){const L=r.match.results.get(K.id);let b=L?.totalPoints||0;b===0&&L?.stageResults.length&&(b=L.stageResults.reduce((N,A)=>"totalPoints"in A&&typeof A.totalPoints=="number"?N+A.totalPoints:"stagePoints"in A&&typeof A.stagePoints=="number"?N+A.stagePoints:N,0));let v=0,C=0,S=0;if(L&&L.stageResults){let N=0,A=0,p=0;for(const P of L.stageResults){"hitFactor"in P&&typeof P.hitFactor=="number"&&(N+=P.hitFactor,p++),"totalTime"in P&&typeof P.totalTime=="number"?A+=P.totalTime:"time"in P&&typeof P.time=="number"&&(A+=P.time);const Q=$.get(P.stageId);Q&&Q.get(K.id)===1&&S++}v=p>0?N/p:0,C=A}I.push({shooterId:K.id,shooterName:K.name,division:K.division,isCurrentUser:K.isCurrentUser,totalPoints:b,averageHitFactor:v,totalTime:C,stagesWon:S})}return r.match.sportType==="IPSC"?I.sort((K,L)=>L.averageHitFactor-K.averageHitFactor):I.sort((K,L)=>K.totalTime-L.totalTime)}),m=Pe(()=>r.match?r.match.stages.map($=>{const I=[];for(const A of r.match.shooters){const p=r.match.results.get(A.id);if(p){const P=p.stageResults.find(Q=>Q.stageId===$.id);P&&I.push({shooterName:A.name,score:r.match.sportType==="IPSC"?"hitFactor"in P?P.hitFactor:0:"time"in P?P.time:0,stageResult:P})}}const K=r.match.sportType==="IPSC"?I.sort((A,p)=>p.score-A.score):I.sort((A,p)=>A.score-p.score),L=K.length>0?K[0].shooterName:"N/A",b=K.length>0?K[0].score:0,v=I.reduce((A,p)=>A+p.score,0),C=I.length>0?v/I.length:0,S=I.length>0?I.reduce((A,p)=>A+Math.pow(p.score-C,2),0)/I.length:0,N=Math.min(5,Math.max(1,Math.floor(S/2)+2));return{stageId:$.id,stageName:$.name,winner:L,bestScore:b,averageScore:C,difficulty:N}}):[]),y=$=>$?new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(new Date($)):"",h=$=>{if($<60)return $.toFixed(2)+"s";const I=Math.floor($/60),K=$%60;return`${I}:${K.toFixed(2)}`},w=$=>$===1?"st":$===2?"nd":$===3?"rd":"th",E=()=>{if(r.match)try{const $=new vt,I=$.internal.pageSize.getWidth(),K=$.internal.pageSize.getHeight(),L=20;let b=L;const v=p=>b+p>K-L?($.addPage(),b=L,!0):!1;$.setFontSize(20),$.setFont("helvetica","bold"),$.text("Match Analysis Report",I/2,b,{align:"center"}),b+=15,$.setFontSize(12),$.setFont("helvetica","bold"),$.text(`${r.match.name}`,L,b),b+=7,$.setFontSize(10),$.setFont("helvetica","normal"),$.text(`Date: ${y(r.match.date)}`,L,b),b+=5,$.text(`Location: ${r.match.location}`,L,b),b+=5,$.text(`Sport Type: ${r.match.sportType}`,L,b),b+=5,$.text(`Stages: ${r.match.stages.length}`,L,b),b+=5,$.text(`Competitors: ${r.match.shooters.length}`,L,b),b+=15,s.value&&i.value&&(v(60),$.setFontSize(14),$.setFont("helvetica","bold"),$.text("Personal Performance",L,b),b+=10,$.setFontSize(10),$.setFont("helvetica","normal"),$.text(`Overall Place: ${i.value.overallPlace}${w(i.value.overallPlace)} of ${r.match.shooters.length}`,L,b),b+=6,$.text(`Average Stage Place: ${i.value.averagePlace.toFixed(1)}`,L,b),b+=6,$.text(`Total Points: ${i.value.totalPoints}`,L,b),b+=6,b+=6,$.text(`Accuracy: ${i.value.accuracy.toFixed(1)}%`,L,b),b+=15),v(80),$.setFontSize(14),$.setFont("helvetica","bold"),$.text("Overall Results",L,b),b+=10;const C=o(),S=u.value.map((p,P)=>{let Q=0,H=0;const q=r.match.results.get(p.shooterId);if(q)for(const ae of q.stageResults){const ee=C.get(ae.stageId);if(ee){const k=ee.get(p.shooterId);k&&(Q+=k,H++)}}const M=H>0?Q/H:0;return[(P+1).toString(),p.shooterName,p.division,p.totalPoints.toFixed(2),M.toFixed(1),p.stagesWon.toString()]});if(zp($,{startY:b,head:[["Place","Shooter","Division","Total Points","Avg Stage Place","Stages Won"]],body:S,theme:"striped",headStyles:{fillColor:[59,130,246],textColor:255},margin:{left:L,right:L},styles:{fontSize:9},columnStyles:{0:{cellWidth:20},1:{cellWidth:50},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:35},5:{cellWidth:25}}}),b=$.lastAutoTable.finalY+15,r.match.stages.length>0){v(80),$.setFontSize(14),$.setFont("helvetica","bold"),$.text("Stage Results",L,b),b+=10;const p=C;r.match.stages.forEach((P,Q)=>{v(40),$.setFontSize(11),$.setFont("helvetica","bold"),$.text(`Stage ${Q+1}: ${P.name}`,L,b),b+=7;const H=[],q=p.get(P.id);r.match&&(r.match.shooters.forEach(M=>{const ae=r.match.results.get(M.id);if(ae){const ee=ae.stageResults.find(k=>k.stageId===P.id);if(ee){const k=q?.get(M.id)||0;let O=0;r.match.sportType==="IPSC"&&"hitFactor"in ee?O=ee.hitFactor||0:r.match.sportType==="IDPA"&&"totalTime"in ee&&(O=ee.totalTime||0),H.push([k.toString(),M.name,O.toFixed(r.match.sportType==="IPSC"?4:2)])}}}),H.sort((M,ae)=>parseInt(M[0])-parseInt(ae[0])),zp($,{startY:b,head:[["Place","Shooter",r.match.sportType==="IPSC"?"Hit Factor":"Time"]],body:H.slice(0,10),theme:"striped",headStyles:{fillColor:[16,185,129],textColor:255},margin:{left:L,right:L},styles:{fontSize:8},columnStyles:{0:{cellWidth:20},1:{cellWidth:100},2:{cellWidth:40}}}),b=$.lastAutoTable.finalY+10)})}const N=$.internal.getNumberOfPages();for(let p=1;p<=N;p++)$.setPage(p),$.setFontSize(8),$.setFont("helvetica","normal"),$.setTextColor(128,128,128),$.text(`Generated by That's DOPE - Page ${p} of ${N}`,I/2,K-10,{align:"center"});const A=`${r.match.name.replace(/[^a-z0-9]/gi,"_")}_Analysis_${new Date().toISOString().split("T")[0]}.pdf`;$.save(A)}catch($){console.error("Error generating PDF:",$),alert("Error generating PDF. Please try again.")}},R=()=>{if(r.match)try{const $=[];$.push(["Match Analysis Report"]),$.push(["Match Name",r.match.name]),$.push(["Date",y(r.match.date)]),$.push(["Location",r.match.location]),$.push(["Sport Type",r.match.sportType]),$.push(["Stages",r.match.stages.length.toString()]),$.push(["Competitors",r.match.shooters.length.toString()]),$.push([]),s.value&&i.value&&($.push(["Personal Performance"]),$.push(["Overall Place",`${i.value.overallPlace} of ${r.match.shooters.length}`]),$.push(["Average Stage Place",i.value.averagePlace.toFixed(1)]),$.push(["Total Points",i.value.totalPoints.toString()]),$.push(["Accuracy",`${i.value.accuracy.toFixed(1)}%`]),$.push([])),$.push(["Overall Results"]),$.push(["Place","Shooter","Division","Total Points","Average Stage Place","Stages Won"]);const I=o();u.value.forEach((N,A)=>{let p=0,P=0;const Q=r.match.results.get(N.shooterId);if(Q)for(const q of Q.stageResults){const M=I.get(q.stageId);if(M){const ae=M.get(N.shooterId);ae&&(p+=ae,P++)}}const H=P>0?p/P:0;$.push([(A+1).toString(),N.shooterName,N.division,N.totalPoints.toFixed(2),H.toFixed(1),N.stagesWon.toString()])}),$.push([]),$.push(["Stage-by-Stage Results"]);const K=I;r.match.stages.forEach((N,A)=>{$.push([]),$.push([`Stage ${A+1}: ${N.name}`]),$.push(["Place","Shooter",r.match.sportType==="IPSC"?"Hit Factor":"Time (s)"]);const p=[],P=K.get(N.id);r.match&&(r.match.shooters.forEach(Q=>{const H=r.match.results.get(Q.id);if(H){const q=H.stageResults.find(M=>M.stageId===N.id);if(q){const M=P?.get(Q.id)||0;let ae=0;r.match.sportType==="IPSC"&&"hitFactor"in q?ae=q.hitFactor||0:r.match.sportType==="IDPA"&&"totalTime"in q&&(ae=q.totalTime||0),p.push({place:M,shooter:Q.name,score:ae.toFixed(r.match.sportType==="IPSC"?4:2)})}}}),p.sort((Q,H)=>Q.place-H.place),p.forEach(Q=>{$.push([Q.place.toString(),Q.shooter,Q.score])}))});const L=$.map(N=>N.map(A=>{const p=A.toString();return p.includes(",")||p.includes('"')||p.includes(`
`)?`"${p.replace(/"/g,'""')}"`:p}).join(",")).join(`
`),b=new Blob([L],{type:"text/csv;charset=utf-8;"}),v=window.URL.createObjectURL(b),C=document.createElement("a");C.href=v;const S=`${r.match.name.replace(/[^a-z0-9]/gi,"_")}_Analysis_${new Date().toISOString().split("T")[0]}.csv`;C.download=S,C.click(),window.URL.revokeObjectURL(v)}catch($){console.error("Error generating CSV:",$),alert("Error generating CSV. Please try again.")}},T=()=>{const $=`${window.location.origin}/match-results/${r.match?.id}`;navigator.share?navigator.share({title:`${r.match?.name} Results`,text:`Check out the results from ${r.match?.name}`,url:$}):(navigator.clipboard.writeText($),alert("Results link copied to clipboard!"))},G=()=>{alert("Match has been saved to your match history for future reference")},z=()=>{n("complete")};return($,I)=>(W(),Y("div",HM,[a("div",WM,[a("div",VM,[a("div",null,[I[1]||(I[1]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Analysis & Reports",-1)),a("p",GM," Review results, analyze performance, and export data for "+F($.match?.name),1)]),a("div",KM,[a("label",YM,[Oe(a("input",{"onUpdate:modelValue":I[0]||(I[0]=K=>s.value=K),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Ur,s.value]]),I[2]||(I[2]=a("span",null,"Include Personal Performance",-1))]),a("button",{onClick:E,class:"px-3 py-1.5 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors"},[Me(Le(lc),{class:"w-4 h-4 mr-1 inline"}),I[3]||(I[3]=Qe(" PDF ",-1))]),a("button",{onClick:R,class:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors"},[Me(Le(Tl),{class:"w-4 h-4 mr-1 inline"}),I[4]||(I[4]=Qe(" CSV ",-1))])])])]),a("div",JM,[a("div",ZM,[a("div",XM,[a("div",QM,[a("h4",eT,[Me(Le(Ds),{class:"w-6 h-6 mr-2 text-yellow-600"}),I[5]||(I[5]=Qe(" Match Summary ",-1))]),a("div",tT,[a("div",rT,F($.match?.sportType),1),a("div",sT,F(y($.match?.date)),1)])]),a("div",aT,[a("div",nT,[a("div",oT,F($.match?.stages.length||0),1),I[6]||(I[6]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Stages",-1))]),a("div",iT,[a("div",lT,F($.match?.shooters.length||0),1),I[7]||(I[7]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Shooters",-1))]),a("div",dT,[a("div",cT,F(l.value),1),I[8]||(I[8]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Shots",-1))]),a("div",uT,[a("div",fT,F($.match?.location),1),I[9]||(I[9]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Location",-1))])])]),i.value?(W(),Y("div",hT,[a("h4",gT,[Me(Le(xi),{class:"w-5 h-5 mr-2 text-green-600"}),I[10]||(I[10]=Qe(" Your Performance ",-1))]),a("div",pT,[a("div",mT,[a("div",vT,[a("div",bT,[a("div",yT,F(i.value.overallPlace),1),I[11]||(I[11]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Overall Place",-1))]),a("div",xT,[a("div",kT,F(i.value.averagePlace.toFixed(1)),1),I[12]||(I[12]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Avg Stage Place",-1))]),a("div",wT,[a("div",_T,F(i.value.totalPoints),1),I[13]||(I[13]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Points",-1))]),a("div",ST,[a("div",AT,F(i.value.accuracy.toFixed(1))+"%",1),I[14]||(I[14]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Accuracy",-1))])]),a("div",CT,[a("h5",PT,[Me(Le(dg),{class:"w-4 h-4 mr-2 text-purple-600"}),I[15]||(I[15]=Qe(" AI Performance Analysis ",-1))]),a("div",NT,[(W(!0),Y(rt,null,it(d.value,K=>(W(),Y("div",{key:K.type,class:"flex items-start"},[(W(),It(ls(K.icon),{class:"w-4 h-4 mr-2 mt-0.5 text-purple-600 shrink-0"})),a("span",LT,F(K.message),1)]))),128))])])]),a("div",$T,[I[16]||(I[16]=a("h5",{class:"font-medium text-gray-900 dark:text-white mb-3"},"Stage Performance",-1)),a("div",ET,[(W(!0),Y(rt,null,it(c.value,(K,L)=>(W(),Y("div",{key:K.stageId,class:"flex items-center"},[a("span",MT,"Stage "+F(L+1),1),a("div",TT,[a("div",{class:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-green-500",style:Ta({width:K.performance+"%"})},null,4)]),a("span",DT,F(K.place)+F(w(K.place)),1)]))),128))])])])])):Re("",!0),a("div",IT,[a("div",RT,[a("h4",OT,[Me(Le(tf),{class:"w-5 h-5 mr-2 text-blue-600"}),I[17]||(I[17]=Qe(" Overall Results ",-1))])]),a("div",FT,[a("table",jT,[a("thead",UT,[a("tr",null,[I[18]||(I[18]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Place ",-1)),I[19]||(I[19]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Shooter ",-1)),I[20]||(I[20]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Division ",-1)),I[21]||(I[21]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Total Points ",-1)),a("th",BT,F($.match?.sportType==="IPSC"?"Avg Hit Factor":"Total Time"),1),I[22]||(I[22]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Stages Won ",-1))])]),a("tbody",zT,[(W(!0),Y(rt,null,it(u.value,(K,L)=>(W(),Y("tr",{key:K.shooterId,class:at(K.isCurrentUser?"bg-green-50 dark:bg-green-900/20":"")},[a("td",qT,[a("div",HT,[a("span",WT,F(L+1),1),L===0?(W(),It(Le(Ds),{key:0,class:"w-4 h-4 text-yellow-500"})):L===1?(W(),It(Le(Cx),{key:1,class:"w-4 h-4 text-gray-400"})):L===2?(W(),It(Le(ql),{key:2,class:"w-4 h-4 text-amber-600"})):Re("",!0)])]),a("td",VT,[a("div",GT,[Qe(F(K.shooterName)+" ",1),K.isCurrentUser?(W(),Y("span",KT," You ")):Re("",!0)])]),a("td",YT,F(K.division),1),a("td",JT,F(K.totalPoints),1),a("td",ZT,F($.match?.sportType==="IPSC"?K.averageHitFactor?.toFixed(4):h(K.totalTime||0)),1),a("td",XT,F(K.stagesWon),1)],2))),128))])])])]),a("div",QT,[a("div",eD,[a("h4",tD,[Me(Le(Br),{class:"w-5 h-5 mr-2 text-red-600"}),I[23]||(I[23]=Qe(" Stage Breakdown ",-1))])]),a("div",rD,[a("div",sD,[(W(!0),Y(rt,null,it(m.value,(K,L)=>(W(),Y("div",{key:K.stageId,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:border-gray-300 dark:hover:border-gray-500 transition-colors"},[a("h5",aD," Stage "+F(L+1)+": "+F(K.stageName),1),a("div",nD,[a("div",oD,[I[24]||(I[24]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Winner:",-1)),a("span",iD,F(K.winner),1)]),a("div",lD,[I[25]||(I[25]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Best Score:",-1)),a("span",dD,F($.match?.sportType==="IPSC"?K.bestScore?.toFixed(4):h(K.bestScore||0)),1)]),a("div",cD,[I[26]||(I[26]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Avg Score:",-1)),a("span",uD,F($.match?.sportType==="IPSC"?K.averageScore?.toFixed(4):h(K.averageScore||0)),1)]),a("div",fD,[I[27]||(I[27]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Difficulty:",-1)),a("span",hD,F(K.difficulty)+"/5",1)])])]))),128))])])]),a("div",gD,[a("h4",pD,[Me(Le(ug),{class:"w-5 h-5 mr-2 text-indigo-600"}),I[28]||(I[28]=Qe(" Export & Share ",-1))]),a("div",mD,[a("button",{onClick:E,class:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-red-300 dark:hover:border-red-500 transition-colors"},[Me(Le(lc),{class:"w-8 h-8 mx-auto mb-2 text-red-600"}),I[29]||(I[29]=a("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"PDF Report",-1)),I[30]||(I[30]=a("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Complete match results",-1))]),a("button",{onClick:R,class:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-green-300 dark:hover:border-green-500 transition-colors"},[Me(Le(Tl),{class:"w-8 h-8 mx-auto mb-2 text-green-600"}),I[31]||(I[31]=a("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"CSV Data",-1)),I[32]||(I[32]=a("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Raw results data",-1))]),a("button",{onClick:T,class:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-blue-300 dark:hover:border-blue-500 transition-colors"},[Me(Le(ug),{class:"w-8 h-8 mx-auto mb-2 text-blue-600"}),I[33]||(I[33]=a("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Share Link",-1)),I[34]||(I[34]=a("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Public results page",-1))]),a("button",{onClick:G,class:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-purple-300 dark:hover:border-purple-500 transition-colors"},[Me(Le(of),{class:"w-8 h-8 mx-auto mb-2 text-purple-600"}),I[35]||(I[35]=a("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Save Match",-1)),I[36]||(I[36]=a("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"For future reference",-1))])])])])]),a("div",vD,[a("div",bD,[I[38]||(I[38]=a("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Step 4 of 4: Match analysis complete - review results and export data ",-1)),a("button",{onClick:z,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},[Me(Le(Js),{class:"w-4 h-4 mr-2 inline"}),I[37]||(I[37]=Qe(" Finish & Return to Sports ",-1))])])])]))}}),xD=Lr(yD,[["__scopeId","data-v-c91bc658"]]),kD={class:"fixed inset-0 z-[99999] overflow-hidden !z-[99999]","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",style:{"z-index":"99999 !important",position:"fixed !important"}},wD={class:"relative h-full flex items-center justify-center p-2 sm:p-4 z-[99999]"},_D={class:"relative bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-7xl h-full max-h-[98vh] overflow-hidden flex flex-col z-[99999]"},SD={class:"shrink-0 px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700"},AD={class:"flex items-center justify-between mb-4"},CD={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white"},PD={class:"w-full"},ND={class:"flex items-center justify-between mb-2"},LD={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},$D={class:"text-sm text-gray-500 dark:text-gray-400"},ED={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},MD={class:"hidden sm:flex justify-between mt-4"},TD={key:1},DD={class:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300 hidden md:block"},ID={class:"flex-1 overflow-hidden relative"},RD={class:"w-full shrink-0 h-full overflow-y-auto"},OD={class:"w-full shrink-0 h-full overflow-y-auto"},FD={class:"w-full shrink-0 h-full overflow-y-auto"},jD={class:"w-full shrink-0 h-full overflow-y-auto"},UD={class:"w-full shrink-0 h-full overflow-y-auto"},BD={class:"w-full shrink-0 h-full overflow-y-auto"},zD={class:"shrink-0 px-4 sm:px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"},qD={class:"flex justify-between items-center"},HD={key:1},WD={class:"flex space-x-2"},VD={class:"sm:hidden mt-3"},GD={class:"flex justify-center space-x-2"},KD=["onClick","disabled"],YD=Dt({__name:"MatchWizard",props:{sportType:{},initialData:{},initialMatch:{},startAtStep:{default:1},clearOnMount:{type:Boolean,default:!0}},emits:["close","complete"],setup(t,{emit:e}){const r=t,s=e,n=ye(1),o=ye(1),i=ye({name:"",location:"",date:new Date().toISOString().split("T")[0],stageCount:6,notes:"",defaultFirearmCategory:"",stages:[]}),l=ye([]),d=ye([]),c=ye(null),u=Pe(()=>[{number:1,title:"Match Setup"},{number:2,title:"Stage Setup"},{number:3,title:"Configuration Summary"},{number:4,title:"Add Shooters"},{number:5,title:"Run Match"},{number:6,title:"Results & Analysis"}]),m=()=>{switch(n.value){case 1:return"Create & Configure Match";case 2:return"Setup Stages";case 3:return"Review Configuration";case 4:return"Add Shooters to Match";case 5:return"Run & Score Match";case 6:return"Analysis & Reports";default:return"Match Wizard"}},y=H=>H<n.value?"bg-green-500 text-white border-green-500":H===n.value?"bg-blue-500 text-white border-blue-500":"bg-gray-200 text-gray-500 border-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:border-gray-600",h=H=>H<n.value?"bg-green-500 text-white":H===n.value?"bg-blue-500 text-white":H<=o.value?"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300":"bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-600 cursor-not-allowed",w=H=>{i.value={...i.value,...H},S()},E=H=>{l.value=H,S()},R=H=>{d.value=H,S()},T=H=>{H<=o.value&&(n.value=H)},G=()=>{n.value>1&&n.value--},z=H=>{w(H),l.value=Array.from({length:H.stageCount||6},(q,M)=>({name:`Stage ${M+1}`,paperTargets:6,steelTargets:0,description:""})),o.value=Math.max(o.value,2),n.value=2},$=()=>{i.value.stages=l.value.map((H,q)=>({id:`stage_${q+1}_${Date.now()}`,name:H.name,description:H.description||"",paperTargets:H.paperTargets||0,steelTargets:H.steelTargets||0,targetCount:(H.paperTargets||0)+(H.steelTargets||0),minimumRounds:(H.paperTargets||0)*2+(H.steelTargets||0),maximumPoints:60,stagePoints:0,startPosition:"Standing"})),o.value=Math.max(o.value,3),n.value=3},I=()=>{o.value=Math.max(o.value,4),n.value=4},K=H=>{d.value=H.shooters,c.value=H.match,o.value=Math.max(o.value,5),n.value=5,S()},L=H=>{c.value=H,o.value=Math.max(o.value,6),n.value=6,S()},b=()=>{c.value&&(A(),s("complete",c.value))},v=()=>{b()},C=H=>{console.log("Saving wizard progress...",{currentStep:n.value,matchData:i.value,shooterCount:d.value?.length||0}),S();const q=H?.target;if(q){const M=q.textContent;q.classList.add("bg-green-500","dark:bg-green-600"),q.textContent="Saved!",setTimeout(()=>{q.classList.remove("bg-green-500","dark:bg-green-600"),M&&(q.textContent=M)},1500)}else alert("Progress saved successfully!")},S=()=>{const H={currentStep:n.value,maxAccessibleStep:o.value,matchData:i.value,stageConfiguration:l.value,shooterData:d.value,createdMatch:c.value,sportType:r.sportType,timestamp:Date.now()};console.log("Saving wizard state to localStorage:",H);try{const q=JSON.stringify(H);localStorage.setItem("matchWizardState",q),console.log("Successfully saved to localStorage, size:",q.length,"bytes"),localStorage.getItem("matchWizardState")?console.log("Verification: Data successfully persisted to localStorage"):console.error("Verification failed: Data not found in localStorage after save")}catch(q){console.error("Failed to save wizard state:",q)}},N=()=>{const H=localStorage.getItem("matchWizardState");if(H)try{const q=JSON.parse(H);q.sportType===r.sportType&&Date.now()-q.timestamp<1440*60*1e3&&(n.value=q.currentStep||1,o.value=q.maxAccessibleStep||1,i.value=q.matchData||i.value,l.value=q.stageConfiguration||[],d.value=q.shooterData||[],c.value=q.createdMatch||null)}catch{console.warn("Could not load wizard state from localStorage")}},A=()=>{localStorage.removeItem("matchWizardState")},p=()=>{window.innerWidth<640||P()},P=()=>{n.value>1?confirm("Are you sure you want to close? Your progress will be saved and you can continue later.")&&(C(),s("close")):s("close")},Q=()=>{n.value>1?G():s("close")};return qr(()=>{r.initialMatch&&r.startAtStep?(c.value=r.initialMatch,n.value=r.startAtStep,o.value=Math.max(r.startAtStep,o.value)):(r.clearOnMount&&A(),N()),window.addEventListener("popstate",Q),document.body.style.overflow="hidden"}),Bl(()=>{window.removeEventListener("popstate",Q),document.body.style.overflow=""}),(H,q)=>(W(),Y("div",kD,[a("div",{class:"absolute inset-0 bg-black/75 backdrop-blur-sm transition-opacity z-[99998]","aria-hidden":"true",onClick:p}),a("div",wD,[a("div",_D,[a("div",SD,[a("div",AD,[a("h2",CD,F(m()),1),a("button",{onClick:P,class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800"},[Me(Le(Po),{class:"w-5 h-5 sm:w-6 sm:h-6"})])]),a("div",PD,[a("div",ND,[a("span",LD," Step "+F(n.value)+" of 6 ",1),a("span",$D,F(Math.round(n.value/6*100))+"% Complete ",1)]),a("div",ED,[a("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-300 ease-out",style:Ta({width:n.value/6*100+"%"})},null,4)])]),a("div",MD,[(W(!0),Y(rt,null,it(u.value,M=>(W(),Y("div",{key:M.number,class:at(["flex items-center",{"opacity-50":M.number>n.value}])},[a("div",{class:at(["flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium border-2 transition-colors",y(M.number)])},[M.number<n.value?(W(),It(Le(Js),{key:0,class:"w-5 h-5"})):(W(),Y("span",TD,F(M.number),1))],2),a("span",DD,F(M.title),1)],2))),128))])]),a("div",ID,[a("div",{class:"flex transition-transform duration-300 ease-in-out h-full",style:Ta({transform:`translateX(-${(n.value-1)*100}%)`})},[a("div",RD,[n.value>=1?(W(),It(QP,{key:0,"sport-type":H.sportType,"match-data":i.value,onUpdate:w,onComplete:z},null,8,["sport-type","match-data"])):Re("",!0)]),a("div",OD,[n.value>=2?(W(),It(m9,{key:0,"stage-count":i.value.stageCount,"initial-stages":l.value,onUpdate:E,onComplete:$},null,8,["stage-count","initial-stages"])):Re("",!0)]),a("div",FD,[n.value>=3?(W(),It(G9,{key:0,matchData:i.value,stageConfiguration:l.value,sportType:r.sportType,onComplete:I,onEditMatch:q[0]||(q[0]=M=>T(1)),onEditStages:q[1]||(q[1]=M=>T(2))},null,8,["matchData","stageConfiguration","sportType"])):Re("",!0)]),a("div",jD,[n.value>=4?(W(),It(eL,{key:0,"match-data":i.value,"sport-type":H.sportType,onUpdate:R,onComplete:K},null,8,["match-data","sport-type"])):Re("",!0)]),a("div",UD,[n.value>=5?(W(),It(oM,{key:0,match:c.value,onComplete:L},null,8,["match"])):Re("",!0)]),a("div",BD,[n.value>=6?(W(),It(xD,{key:0,match:c.value,onComplete:b},null,8,["match"])):Re("",!0)])],4)]),a("div",zD,[a("div",qD,[n.value>1?(W(),Y("button",{key:0,onClick:G,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},[Me(Le(bx),{class:"w-4 h-4 mr-1 inline"}),q[3]||(q[3]=Qe(" Previous ",-1))])):(W(),Y("div",HD)),a("div",WD,[n.value<6?(W(),Y("button",{key:0,onClick:q[2]||(q[2]=M=>C(M)),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors"},[Me(Le(of),{class:"w-4 h-4 mr-1 inline"}),q[4]||(q[4]=Qe(" Save Progress ",-1))])):Re("",!0),n.value===6?(W(),Y("button",{key:1,onClick:v,class:"px-6 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors"},[Me(Le(Ds),{class:"w-4 h-4 mr-1 inline"}),q[5]||(q[5]=Qe(" Complete Match ",-1))])):Re("",!0)])]),a("div",VD,[a("div",GD,[(W(!0),Y(rt,null,it(u.value,M=>(W(),Y("button",{key:M.number,onClick:ae=>T(M.number),disabled:M.number>o.value,class:at(["px-3 py-1 text-xs rounded-full transition-colors",h(M.number)])},F(M.number),11,KD))),128))])])])])])]))}}),JD=Lr(YD,[["__scopeId","data-v-aeac9020"]]),ZD={class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[99999] flex items-center justify-center p-4",style:{"z-index":"99999 !important",position:"fixed !important"}},XD={class:"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-7xl w-full max-h-[95vh] overflow-hidden z-[99999]"},QD={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},eI={class:"text-2xl font-bold text-gray-900 dark:text-white"},tI={class:"text-sm text-gray-600 dark:text-gray-400"},rI={class:"flex h-[calc(95vh-80px)]"},sI={class:"w-80 border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 overflow-y-auto"},aI={class:"p-4 border-b border-gray-200 dark:border-gray-700"},nI={class:"flex items-center justify-between mb-3"},oI={class:"space-y-2 text-sm"},iI={class:"flex justify-between"},lI={class:"font-medium text-gray-900 dark:text-white"},dI={class:"flex justify-between"},cI={class:"font-medium text-gray-900 dark:text-white"},uI={class:"p-4 border-b border-gray-200 dark:border-gray-700"},fI={class:"space-y-2"},hI=["onClick"],gI={class:"flex items-center justify-between"},pI={class:"font-medium text-gray-900 dark:text-white"},mI={key:0,class:"text-green-600 dark:text-green-400 text-xs ml-1"},vI={class:"text-xs text-gray-600 dark:text-gray-400"},bI={class:"text-right"},yI={class:"text-xs text-gray-600 dark:text-gray-400"},xI={class:"p-4 border-b border-gray-200 dark:border-gray-700"},kI={class:"space-y-2"},wI=["onClick"],_I={class:"p-4"},SI={class:"space-y-2"},AI=["onClick"],CI={class:"flex items-center justify-between"},PI={class:"font-medium text-gray-900 dark:text-white"},NI={class:"text-xs text-gray-600 dark:text-gray-400"},LI={class:"flex items-center space-x-2"},$I=["onClick"],EI={class:"text-xs text-gray-600 dark:text-gray-400"},MI={class:"flex-1 overflow-y-auto"},TI={key:0},DI={key:1,class:"p-6"},II={class:"mb-6"},RI={class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},OI={class:"text-gray-600 dark:text-gray-400"},FI={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},jI={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},UI={class:"space-y-2 text-sm"},BI={key:0,class:"grid grid-cols-2 gap-4"},zI={class:"font-medium text-gray-900 dark:text-white ml-2"},qI={class:"font-medium text-gray-900 dark:text-white ml-2"},HI={class:"font-medium text-gray-900 dark:text-white ml-2"},WI={class:"font-medium text-gray-900 dark:text-white ml-2"},VI={key:1,class:"grid grid-cols-2 gap-4"},GI={class:"font-medium text-gray-900 dark:text-white ml-2"},KI={class:"font-medium text-gray-900 dark:text-white ml-2"},YI={class:"font-medium text-gray-900 dark:text-white ml-2"},JI={class:"font-medium text-gray-900 dark:text-white ml-2"},ZI={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},XI={class:"space-y-2"},QI={key:0,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},eR={class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700"},tR={class:"font-medium text-gray-900 dark:text-white"},rR={class:"overflow-x-auto"},sR={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},aR={class:"bg-gray-50 dark:bg-gray-900"},nR={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},oR={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},iR={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},lR={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},dR={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},cR={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},uR={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},fR={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},hR=["onClick"],gR={key:2,class:"p-6"},pR={class:"text-center py-12"},mR={class:"mt-6"},vR=Dt({__name:"MatchDetailsModal",props:{match:{}},emits:["close","save","viewAnalytics"],setup(t,{emit:e}){const r=t,s=e,n=Ci(),o=ye(null),i=ye(null),l=ye(!1),d=ye(0);r.match.stages.length>0&&!i.value&&(i.value=r.match.stages[0],console.log("Auto-selected first stage:",i.value.name));const c=Pe(()=>{if(d.value,!i.value)return[];console.log("stageResults computed - recalculating for stage:",i.value.name),console.log("Match results Map size:",r.match.results.size);const b=[];for(const v of r.match.shooters){const C=r.match.results.get(v.id);if(console.log(`Shooter ${v.name} (${v.id}) results:`,JSON.stringify(C,null,2)),C){console.log("  Stage results count:",C.stageResults.length),console.log("  Stage results array:",JSON.stringify(C.stageResults,null,2)),console.log("  Looking for stageId:",i.value?.id);const S=C.stageResults.find(N=>(console.log(`    Comparing ${N.stageId} === ${i.value?.id}`,N.stageId===i.value?.id),N.stageId===i.value?.id));console.log("  Found stage result:",JSON.stringify(S,null,2)),S&&b.push({...S,shooterId:v.id})}}return console.log("Final stage results array:",b),b.sort((v,C)=>r.match.sportType==="IPSC"?C.hitFactor-v.hitFactor:v.totalTime-C.totalTime)}),u=b=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(b)),m=b=>{if(b<60)return b.toFixed(2)+"s";const v=Math.floor(b/60),C=b%60;return`${v}:${C.toFixed(2)}`},y=b=>{switch(b){case"SETUP":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"IN_PROGRESS":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"COMPLETED":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},h=b=>{const v=r.match.results.get(b);return v?`${v.stageResults.length} / ${r.match.stages.length}`:"0 / "+r.match.stages.length},w=b=>{let v=0;for(const C of r.match.shooters){const S=r.match.results.get(C.id);S&&S.stageResults.some(N=>N.stageId===b)&&v++}return`${v} / ${r.match.shooters.length}`},E=b=>r.match.shooters.find(C=>C.id===b)?.name||"Unknown",R=b=>{i.value=b,l.value=!1},T=b=>{if(console.log("startScoring called",{stage:b.name,shooter:o.value?.name}),!o.value){alert("Please select a shooter from the sidebar first");return}i.value=b,l.value=!0,console.log("Scoring interface opened for",o.value.name,"on",b.name)},G=()=>{l.value=!1},z=(b,v,C)=>{console.log("MatchDetailsModal: handleScoreUpdated called",{shooterId:b,stageId:v,scoreData:C,matchId:r.match.id});const S=n.updateShooterStageResult(r.match.id,b,v,C);if(console.log("updateShooterStageResult success:",S),!S){alert("Failed to save score. Please try again.");return}d.value++,console.log("Incremented resultsTrigger to:",d.value);const N=n.getMatch(r.match.id);N&&(console.log("Emitting updated match with results Map size:",N.results.size),s("save",N)),l.value=!1,console.log("Score save completed, scoring interface closed")},$=()=>{const b={...r.match,status:"IN_PROGRESS"};n.updateMatch(b),s("save",b)},I=()=>{s("viewAnalytics",r.match),console.log("Navigating to Analysis & Reports for:",r.match.name)},K=()=>{if(!i.value){alert("Please select a stage first");return}const b=prompt("Enter new stage name:",i.value.name);if(b&&b.trim()){const v=r.match.stages.findIndex(C=>C.id===i.value.id);if(v>=0){const C=[...r.match.stages];C[v]={...C[v],name:b.trim()};const S={...r.match,stages:C};n.updateMatch(S),s("save",S),i.value=C[v],console.log("Stage name updated to:",b)}}},L=b=>{console.log("Editing score for:",b);const v=r.match.shooters.find(C=>C.id===b.shooterId);if(!v){console.error("Shooter not found for result:",b);return}o.value=v,i.value=r.match.stages.find(C=>C.id===b.stageId)||null,l.value=!0,console.log("Opening scoring interface for editing:",{shooter:v.name,stage:i.value?.name})};return(b,v)=>(W(),Y("div",ZD,[a("div",XD,[a("div",QD,[a("div",null,[a("h2",eI,F(b.match.name),1),a("p",tI,F(b.match.location)+"  "+F(u(b.match.date))+"  "+F(b.match.sportType),1)]),a("button",{onClick:v[0]||(v[0]=C=>b.$emit("close")),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800"},[Me(Le(Po),{class:"w-6 h-6"})])]),a("div",rI,[a("div",sI,[a("div",aI,[a("div",nI,[v[2]||(v[2]=a("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Match Status",-1)),a("span",{class:at([y(b.match.status),"px-2 py-1 text-xs font-medium rounded-full"])},F(b.match.status),3)]),a("div",oI,[a("div",iI,[v[3]||(v[3]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Stages:",-1)),a("span",lI,F(b.match.stages.length),1)]),a("div",dI,[v[4]||(v[4]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Shooters:",-1)),a("span",cI,F(b.match.shooters.length),1)])])]),a("div",uI,[v[5]||(v[5]=a("h3",{class:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-3"},"Shooters",-1)),a("div",fI,[(W(!0),Y(rt,null,it(b.match.shooters,C=>(W(),Y("div",{key:C.id,class:at(["p-3 rounded-lg border cursor-pointer transition-colors",o.value?.id===C.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"]),onClick:S=>o.value=C},[a("div",gI,[a("div",null,[a("div",pI,[Qe(F(C.name)+" ",1),C.isCurrentUser?(W(),Y("span",mI," (You) ")):Re("",!0)]),a("div",vI,F(C.division)+"  "+F(C.firearmCategory),1)]),a("div",bI,[a("div",yI,F(h(C.id)),1)])])],10,hI))),128))])]),a("div",xI,[v[6]||(v[6]=a("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Select Shooter",-1)),a("div",kI,[(W(!0),Y(rt,null,it(b.match.shooters,C=>(W(),Y("div",{key:C.id,class:at(["p-2 rounded-lg cursor-pointer transition-colors text-sm",o.value?.id===C.id?"bg-blue-100 dark:bg-blue-900/40 text-blue-900 dark:text-blue-100":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"]),onClick:S=>o.value=C},F(C.name),11,wI))),128))])]),a("div",_I,[v[7]||(v[7]=a("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Stages",-1)),a("div",SI,[(W(!0),Y(rt,null,it(b.match.stages,(C,S)=>(W(),Y("div",{key:C.id,class:at(["p-3 rounded-lg border cursor-pointer transition-colors",i.value?.id===C.id?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"]),onClick:N=>R(C)},[a("div",CI,[a("div",null,[a("div",PI," Stage "+F(S+1),1),a("div",NI,F(C.name),1)]),a("div",LI,[o.value&&b.match.status==="IN_PROGRESS"?(W(),Y("button",{key:0,onClick:Is(N=>T(C),["stop"]),class:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700"}," Score ",8,$I)):Re("",!0),a("div",EI,F(w(C.id)),1)])])],10,AI))),128))])])]),a("div",MI,[l.value&&i.value&&o.value?(W(),Y("div",TI,[Me($v,{match:b.match,stageData:i.value,"pre-selected-shooter-id":o.value.id,onClose:G,onScoreUpdated:z},null,8,["match","stageData","pre-selected-shooter-id"])])):i.value?(W(),Y("div",DI,[a("div",II,[a("h3",RI,F(i.value.name),1),a("p",OI,F(i.value.description),1)]),a("div",FI,[a("div",jI,[v[16]||(v[16]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-3"},"Stage Configuration",-1)),a("div",UI,[b.match.sportType==="IPSC"?(W(),Y("div",BI,[a("div",null,[v[8]||(v[8]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Target Count:",-1)),a("span",zI,F(i.value.targetCount),1)]),a("div",null,[v[9]||(v[9]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Max Points:",-1)),a("span",qI,F(i.value.maximumPoints),1)]),a("div",null,[v[10]||(v[10]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Min Rounds:",-1)),a("span",HI,F(i.value.minimumRounds),1)]),a("div",null,[v[11]||(v[11]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Start Position:",-1)),a("span",WI,F(i.value.startPosition),1)])])):(W(),Y("div",VI,[a("div",null,[v[12]||(v[12]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Target Count:",-1)),a("span",GI,F(i.value.targetCount),1)]),a("div",null,[v[13]||(v[13]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Max Rounds:",-1)),a("span",KI,F(i.value.maxRounds),1)]),a("div",null,[v[14]||(v[14]=a("span",{class:"text-gray-600 dark:text-gray-400"},"String Count:",-1)),a("span",YI,F(i.value.stringCount),1)]),a("div",null,[v[15]||(v[15]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Scenario:",-1)),a("span",JI,F(i.value.scenario),1)])]))])]),a("div",ZI,[v[17]||(v[17]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-3"},"Quick Actions",-1)),a("div",XI,[o.value&&b.match.status==="IN_PROGRESS"?(W(),Y("button",{key:0,onClick:v[1]||(v[1]=C=>T(i.value)),class:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"}," Start Scoring for "+F(o.value.name),1)):Re("",!0),a("button",{onClick:I,class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," View Stage Results "),a("button",{onClick:K,class:"w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"}," Edit Stage ")])])]),c.value.length>0?(W(),Y("div",QI,[a("div",eR,[a("h4",tR,"Stage Results ("+F(c.value.length)+" shooter"+F(c.value.length!==1?"s":"")+")",1)]),a("div",rR,[a("table",sR,[a("thead",aR,[a("tr",null,[v[18]||(v[18]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Shooter ",-1)),v[19]||(v[19]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Points ",-1)),v[20]||(v[20]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Time ",-1)),a("th",nR,F(b.match.sportType==="IPSC"?"Hit Factor":"Total Time"),1),v[21]||(v[21]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Place ",-1)),v[22]||(v[22]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Actions ",-1))])]),a("tbody",oR,[(W(!0),Y(rt,null,it(c.value,C=>(W(),Y("tr",{key:C.shooterId},[a("td",iR,F(E(C.shooterId)),1),a("td",lR,F(C.totalPoints||0),1),a("td",dR,F(C.totalTime?.toFixed(2)||"0.00")+"s ",1),a("td",cR,F(b.match.sportType==="IPSC"?C.hitFactor?.toFixed(4)||"0.0000":m(C.totalTime)),1),a("td",uR,F(C.stagePlace||"-"),1),a("td",fR,[a("button",{onClick:S=>L(C),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"}," Edit ",8,hR)])]))),128))])])])])):Re("",!0)])):(W(),Y("div",gR,[a("div",pR,[Me(Le(Ds),{class:"mx-auto h-12 w-12 text-gray-400"}),v[23]||(v[23]=a("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"Match Overview",-1)),v[24]||(v[24]=a("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Select a stage from the sidebar to view details and start scoring. ",-1)),a("div",mR,[b.match.status==="SETUP"?(W(),Y("button",{key:0,onClick:$,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"}," Start Match ")):Re("",!0)])])]))])])])]))}}),bR=Lr(vR,[["__scopeId","data-v-fa486ee2"]]),yR={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},xR={class:"mb-8"},kR={class:"flex items-center justify-between"},wR={class:"flex space-x-3"},_R={class:"mb-6"},SR={class:"flex space-x-8","aria-label":"Tabs"},AR=["onClick"],CR={class:"mt-4 p-4 bg-gray-50 dark:bg-dark-200/50 rounded-lg border border-gray-200 dark:border-army-green-500/30"},PR={key:0,class:"text-sm text-gray-700 dark:text-army-green-300"},NR={key:1,class:"text-sm text-gray-700 dark:text-army-green-300"},LR={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},$R={class:"bg-white dark:bg-dark-100 rounded-lg shadow border border-gray-200 dark:border-army-green-500 p-6"},ER={class:"flex items-center"},MR={class:"flex-shrink-0"},TR={class:"ml-5 w-0 flex-1"},DR={class:"text-lg font-medium text-gray-900 dark:text-dark-800"},IR={class:"bg-white dark:bg-dark-100 rounded-lg shadow border border-gray-200 dark:border-army-green-500 p-6"},RR={class:"flex items-center"},OR={class:"flex-shrink-0"},FR={class:"ml-5 w-0 flex-1"},jR={class:"text-lg font-medium text-gray-900 dark:text-dark-800"},UR={class:"bg-white dark:bg-dark-100 rounded-lg shadow border border-gray-200 dark:border-army-green-500 p-6"},BR={class:"flex items-center"},zR={class:"flex-shrink-0"},qR={class:"ml-5 w-0 flex-1"},HR={class:"text-lg font-medium text-gray-900 dark:text-dark-800"},WR={class:"bg-white dark:bg-dark-100 rounded-lg shadow border border-gray-200 dark:border-army-green-500 p-6"},VR={class:"flex items-center"},GR={class:"flex-shrink-0"},KR={class:"ml-5 w-0 flex-1"},YR={class:"text-lg font-medium text-gray-900 dark:text-dark-800"},JR={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ZR={class:"lg:col-span-2"},XR={class:"bg-white dark:bg-dark-100 rounded-lg shadow border border-gray-200 dark:border-army-green-500"},QR={class:"p-6"},eO={key:0,class:"text-center py-8"},tO={class:"mt-1 text-sm text-gray-500 dark:text-red-400"},rO={class:"mt-6"},sO={key:1,class:"space-y-4"},aO={class:"flex items-center justify-between"},nO=["onClick"],oO={class:"flex items-center space-x-3"},iO={class:"flex-shrink-0"},lO={class:"text-sm font-medium text-gray-900 dark:text-dark-800"},dO={class:"text-sm text-gray-500 dark:text-army-green-300"},cO={class:"flex items-center space-x-4"},uO={class:"text-right"},fO={class:"text-sm font-medium text-gray-900 dark:text-dark-800"},hO={class:"text-sm text-gray-500 dark:text-army-green-300"},gO={class:"flex-shrink-0"},pO=["onClick"],mO={class:"space-y-6"},vO={class:"bg-white dark:bg-black rounded-lg shadow border border-gray-200 dark:border-red-500"},bO={class:"p-6 space-y-4"},yO={class:"bg-white dark:bg-black rounded-lg shadow border border-gray-200 dark:border-red-500"},xO={class:"p-6"},kO={class:"flex items-center mb-4"},wO={class:"text-lg font-medium text-gray-900 dark:text-red-600"},_O={class:"text-sm text-gray-500 dark:text-red-400"},SO={key:0,class:"mt-4"},AO={class:"relative h-32 flex items-end space-x-1"},CO=["title"],PO={class:"flex justify-between text-xs text-gray-500 dark:text-red-400 mt-2"},NO={key:1,class:"text-sm text-gray-500 dark:text-red-400 text-center py-4"},LO=Dt({__name:"SportsView",setup(t){const e=Ci(),r=ye("IPSC"),s=ye(!1),n=ye(null),o=ye(!1),i=ye(null),l=[{type:"IPSC",name:"IPSC",icon:Br},{type:"IDPA",name:"IDPA",icon:bi}],d=Pe(()=>e.getAllMatches);Pe(()=>e.getActiveMatches);const c=Pe(()=>d.value.filter(b=>b.sportType===r.value)),u=Pe(()=>{try{const b=c.value.filter(S=>S.status==="COMPLETED");if(console.log(" Calculating average performance:",{sport:r.value,totalMatches:c.value.length,completedMatches:b.length}),b.length===0)return"0";let v=0,C=0;for(const S of b){console.log(" Processing match:",S.name,{shooters:S.shooters.length,resultsSize:S.results.size});const N=S.shooters.find(Q=>Q.isCurrentUser===!0||Q.id.startsWith("personal_"));if(!N){console.log(" No current user found in match. Shooters:",S.shooters.map(Q=>({id:Q.id,name:Q.name,isCurrentUser:Q.isCurrentUser})));continue}console.log(" Found current user:",N.name,N.id);const A=S.results.get(N.id);if(!A){console.log(" No results found for user. Available results:",Array.from(S.results.keys()));continue}const p=S.shooters.length,P=A.overallPlace||0;if(console.log(" User placement:",{placement:P,totalShooters:p,overallPlace:A.overallPlace}),P>0&&p>1){const Q=100-(P-1)/(p-1)*100;console.log(" Calculated performance:",Q.toFixed(1)+"%"),v+=Q,C++}else p===1&&(console.log(" Solo match, performance: 100%"),v+=100,C++)}return console.log(" Final average:",{totalPlacement:v,matchCount:C,average:C>0?Math.round(v/C):0}),C===0?"0":Math.round(v/C).toString()}catch(b){return console.error("Failed to calculate average performance:",b),"0"}}),m=Pe(()=>{const b=parseInt(u.value);return b>=90?"Grand Master":b>=80?"Master":b>=70?"A Class":b>=60?"B Class":b>=50?"C Class":b>=40?"D Class":b>0?"Marksman":"Unclassified"}),y=Pe(()=>{const b=c.value.filter(C=>C.status==="COMPLETED").sort((C,S)=>new Date(C.date).getTime()-new Date(S.date).getTime()),v=[];for(const C of b){const S=C.shooters.find(P=>P.isCurrentUser===!0||P.id.startsWith("personal_"));if(!S)continue;const N=C.results.get(S.id);if(!N)continue;const A=C.shooters.length,p=N.overallPlace||0;if(p>0&&A>1){const P=100-(p-1)/(A-1)*100;v.push(P)}else A===1&&v.push(100)}return v}),h=Pe(()=>{const b=y.value;if(console.log(" Calculating performance trend:",b.length,"matches"),console.log(" Performance history:",b.map(P=>P.toFixed(1)+"%")),b.length<3)return"STABLE";const v=b.length,C=v*(v-1)/2,S=b.reduce((P,Q)=>P+Q,0),N=b.reduce((P,Q,H)=>P+H*Q,0),A=v*(v-1)*(2*v-1)/6,p=(v*N-C*S)/(v*A-C*C);return console.log(" Trend slope:",p.toFixed(2)),p>3?"IMPROVING":p<-3?"DECLINING":"STABLE"}),w=b=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(b)),E=b=>{n.value=b},R=b=>{console.log("SportsView: updateMatch called",{matchId:b.id,resultsSize:b.results.size}),e.updateMatch(b);const v=e.getMatch(b.id);v&&(n.value=null,setTimeout(()=>{n.value=v,console.log("selectedMatch updated with fresh data")},0))},T=b=>{s.value=!1,o.value=!1,i.value=null},G=b=>{n.value=null,i.value=b,o.value=!0,s.value=!0},z=()=>{s.value=!1,o.value=!1,i.value=null},$=()=>{console.log("Starting practice session for",r.value)},I=()=>{console.log("Viewing statistics for",r.value)},K=(b,v)=>{confirm(`Are you sure you want to delete "${v}"? This action cannot be undone.`)&&(e.deleteMatch(b)?(console.log("Match deleted successfully:",b),n.value?.id===b&&(n.value=null)):alert("Failed to delete match. Please try again."))};qr(()=>{e.loadFromStorage(),L()});const L=()=>{console.log(" Checking for matches that need placement calculation...");const b=d.value.filter(C=>C.status==="COMPLETED");let v=0;for(const C of b){if(!Array.from(C.results.values()).some(A=>!A.overallPlace||A.overallPlace===0))continue;console.log(" Migrating match:",C.name);const N=[];for(const A of C.shooters){const p=C.results.get(A.id);if(p){let P=0;C.sportType==="IPSC"?P=p.stageResults.reduce((H,q)=>H+(q.hitFactor||0),0):P=-p.stageResults.reduce((H,q)=>H+(q.totalTime||0),0),N.push({shooterId:A.id,score:P})}}N.sort((A,p)=>p.score-A.score),N.forEach((A,p)=>{const P=C.results.get(A.shooterId);P&&(P.overallPlace=p+1)}),console.log(" Set placements for",C.name,N.map(A=>({id:A.shooterId,place:C.results.get(A.shooterId)?.overallPlace,score:A.score.toFixed(2)}))),e.updateMatch(C),v++}v>0?console.log(` Migrated ${v} matches with placement calculations`):console.log(" All matches already have placements calculated")};return(b,v)=>(W(),Y("div",yR,[a("div",xR,[a("div",kR,[v[5]||(v[5]=a("div",null,[a("h1",{class:"text-3xl font-bold text-gray-900 dark:text-dark-800 mb-2"},"Sports Shooting"),a("p",{class:"text-gray-600 dark:text-army-green-400"},"IPSC and IDPA match setup, scoring, and performance tracking")],-1)),a("div",wR,[a("button",{onClick:v[0]||(v[0]=C=>s.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-army-green-600 dark:bg-army-green-500 hover:bg-army-green-700 dark:hover:bg-army-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-army-green-500 dark:focus:ring-army-green-400 transition-colors"},[Me(Le(li),{class:"w-4 h-4 mr-2"}),v[4]||(v[4]=Qe(" New Match ",-1))])])])]),a("div",_R,[a("nav",SR,[(W(),Y(rt,null,it(l,C=>a("button",{key:C.type,onClick:S=>r.value=C.type,class:at([r.value===C.type?"border-army-green-500 dark:border-army-green-400 text-army-green-600 dark:text-army-green-400":"border-transparent text-gray-500 dark:text-army-green-300 hover:text-gray-700 dark:hover:text-army-green-200 hover:border-gray-300 dark:hover:border-army-green-400","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors"])},[(W(),It(ls(C.icon),{class:"w-5 h-5 mr-2 inline"})),Qe(" "+F(C.name),1)],10,AR)),64))]),a("div",CR,[r.value==="IPSC"?(W(),Y("div",PR,[...v[6]||(v[6]=[Ht('<h4 class="font-semibold text-gray-900 dark:text-dark-800 mb-2" data-v-89d30f17>International Practical Shooting Confederation (IPSC)</h4><p class="mb-2" data-v-89d30f17> IPSC is a dynamic shooting sport that tests accuracy, power, and speed. Competitors navigate through courses of fire engaging multiple targets while moving between shooting positions. </p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-xs" data-v-89d30f17><div data-v-89d30f17><strong class="text-gray-800 dark:text-army-green-300" data-v-89d30f17>Scoring:</strong> Comstock (Hit Factor = Points  Time) </div><div data-v-89d30f17><strong class="text-gray-800 dark:text-army-green-300" data-v-89d30f17>Target Zones:</strong> A=5pts, C=3pts, D=1pt, Miss=0pts </div><div data-v-89d30f17><strong class="text-gray-800 dark:text-army-green-300" data-v-89d30f17>Power Factor:</strong> Major (160+) or Minor (&lt;160) </div><div data-v-89d30f17><strong class="text-gray-800 dark:text-army-green-300" data-v-89d30f17>Penalties:</strong> -10pts per procedural/miss </div></div>',3)])])):Re("",!0),r.value==="IDPA"?(W(),Y("div",NR,[...v[7]||(v[7]=[Ht('<h4 class="font-semibold text-gray-900 dark:text-dark-800 mb-2" data-v-89d30f17>International Defensive Pistol Association (IDPA)</h4><p class="mb-2" data-v-89d30f17> IDPA simulates real-world defensive scenarios with an emphasis on practical equipment and tactics. The sport focuses on accuracy and precision over raw speed. </p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-xs" data-v-89d30f17><div data-v-89d30f17><strong class="text-gray-800 dark:text-army-green-300" data-v-89d30f17>Scoring:</strong> Vickers Count (Time + Penalties) </div><div data-v-89d30f17><strong class="text-gray-800 dark:text-army-green-300" data-v-89d30f17>Target Zones:</strong> Down-0=0s, Down-1=0.5s, Down-3=1.5s </div><div data-v-89d30f17><strong class="text-gray-800 dark:text-army-green-300" data-v-89d30f17>Cover:</strong> Must use available cover tactically </div><div data-v-89d30f17><strong class="text-gray-800 dark:text-army-green-300" data-v-89d30f17>Equipment:</strong> Practical concealment gear only </div></div>',3)])])):Re("",!0)])]),a("div",LR,[a("div",$R,[a("div",ER,[a("div",MR,[Me(Le(Ds),{class:"h-8 w-8 text-gray-600 dark:text-army-green-400"})]),a("div",TR,[a("dl",null,[v[8]||(v[8]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-army-green-300 truncate"},"Active Matches",-1)),a("dd",DR,F(c.value.filter(C=>C.status==="IN_PROGRESS").length),1)])])])]),a("div",IR,[a("div",RR,[a("div",OR,[Me(Le(Br),{class:"h-8 w-8 text-gray-600 dark:text-army-green-400"})]),a("div",FR,[a("dl",null,[v[9]||(v[9]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-army-green-300 truncate"},"Total Matches",-1)),a("dd",jR,F(c.value.length),1)])])])]),a("div",UR,[a("div",BR,[a("div",zR,[Me(Le(Dl),{class:"h-8 w-8 text-gray-600 dark:text-army-green-400"})]),a("div",qR,[a("dl",null,[v[10]||(v[10]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-army-green-300 truncate"},"Average Performance",-1)),a("dd",HR,F(u.value)+"%",1)])])])]),a("div",WR,[a("div",VR,[a("div",GR,[Me(Le(ql),{class:"h-8 w-8 text-gray-600 dark:text-army-green-400"})]),a("div",KR,[a("dl",null,[v[11]||(v[11]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-army-green-300 truncate"},"Classification",-1)),a("dd",YR,F(m.value),1)])])])])]),a("div",JR,[a("div",ZR,[a("div",XR,[v[13]||(v[13]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-army-green-500"},[a("h3",{class:"text-lg font-medium text-gray-900 dark:text-dark-800"},"Recent Matches")],-1)),a("div",QR,[c.value.length===0?(W(),Y("div",eO,[Me(Le(Ds),{class:"mx-auto h-12 w-12 text-gray-400 dark:text-army-green-400"}),v[12]||(v[12]=a("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-red-600"},"No matches found",-1)),a("p",tO,"Get started by creating your first "+F(r.value)+" match.",1),a("div",rO,[a("button",{onClick:v[1]||(v[1]=C=>s.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},[Me(Le(li),{class:"w-4 h-4 mr-2"}),Qe(" New "+F(r.value)+" Match ",1)])])])):(W(),Y("div",sO,[(W(!0),Y(rt,null,it(c.value.slice(0,5),C=>(W(),Y("div",{key:C.id,class:"border border-gray-200 dark:border-army-green-500 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-army-green-900/10 transition-colors"},[a("div",aO,[a("div",{class:"flex-1 cursor-pointer",onClick:S=>E(C)},[a("div",oO,[a("div",iO,[(W(),It(ls(C.sportType==="IPSC"?Le(Br):Le(bi)),{class:"h-6 w-6 text-gray-600 dark:text-army-green-400"}))]),a("div",null,[a("h4",lO,F(C.name),1),a("p",dO,F(w(C.date))+"  "+F(C.location),1)])])],8,nO),a("div",cO,[a("div",uO,[a("div",fO,F(C.stages.length)+" Stages ",1),a("div",hO,F(C.shooters.length)+" Shooters ",1)]),a("div",gO,[a("span",{class:at([C.status==="COMPLETED"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400":C.status==="IN_PROGRESS"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-700/20 text-gray-800 dark:text-gray-400","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},F(C.status),3)]),a("button",{onClick:Is(S=>K(C.id,C.name),["stop"]),class:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",title:"Delete match"},[Me(Le(df),{class:"w-4 h-4"})],8,pO)])])]))),128))]))])])]),a("div",mO,[a("div",vO,[v[17]||(v[17]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-red-500"},[a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-600"},"Quick Actions")],-1)),a("div",bO,[a("button",{onClick:v[2]||(v[2]=C=>s.value=!0),class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-red-500 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-red-400 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},[Me(Le(li),{class:"w-4 h-4 mr-2"}),v[14]||(v[14]=Qe(" Create Match ",-1))]),a("button",{onClick:$,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-red-500 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-red-400 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},[Me(Le(af),{class:"w-4 h-4 mr-2"}),v[15]||(v[15]=Qe(" Practice Session ",-1))]),a("button",{onClick:I,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-red-500 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-red-400 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},[Me(Le(tf),{class:"w-4 h-4 mr-2"}),v[16]||(v[16]=Qe(" View Statistics ",-1))])])]),a("div",yO,[v[19]||(v[19]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-red-500"},[a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-600"},"Performance Trend")],-1)),a("div",xO,[a("div",kO,[(W(),It(ls(h.value==="IMPROVING"?Le(Dl):h.value==="DECLINING"?Le(Rx):Le(Nx)),{class:at([h.value==="IMPROVING"?"text-green-500":h.value==="DECLINING"?"text-red-500":"text-gray-500","h-8 w-8 mr-3"])},null,8,["class"])),a("div",null,[a("div",wO,F(h.value),1),a("div",_O," Based on "+F(y.value.length)+" match"+F(y.value.length!==1?"es":""),1)])]),y.value.length>0?(W(),Y("div",SO,[a("div",AO,[(W(!0),Y(rt,null,it(y.value,(C,S)=>(W(),Y("div",{key:S,class:at(["flex-1 rounded-t transition-all hover:opacity-80",[C>=90?"bg-green-500":C>=70?"bg-blue-500":C>=50?"bg-yellow-500":"bg-red-500"]]),style:Ta({height:C+"%"}),title:`Match ${S+1}: ${C.toFixed(1)}%`},null,14,CO))),128))]),a("div",PO,[v[18]||(v[18]=a("span",null,"Match 1",-1)),a("span",null,"Match "+F(y.value.length),1)])])):(W(),Y("div",NO," Complete matches to see performance trend "))])])])]),n.value&&!o.value?(W(),It(bR,{key:0,match:n.value,onClose:v[3]||(v[3]=C=>n.value=null),onSave:R,onViewAnalytics:G},null,8,["match"])):Re("",!0),s.value?(W(),It(JD,{key:1,"sport-type":r.value,"initial-match":i.value,"start-at-step":i.value?6:1,onClose:z,onComplete:T},null,8,["sport-type","initial-match","start-at-step"])):Re("",!0)]))}}),vV=Lr(LO,[["__scopeId","data-v-89d30f17"]]),$O={class:"wind-direction-picker"},EO={class:"compass-container"},MO={class:"tick-marks"},TO=["x1","y1","x2","y2"],DO=["transform"],IO={class:"direction-display"},RO={class:"direction-value"},OO={class:"direction-cardinal"},FO={class:"quick-directions"},jO=["onClick"],UO=Dt({__name:"WindDirectionPicker",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,s=e,n=[{label:"N",angle:0},{label:"NE",angle:45},{label:"E",angle:90},{label:"SE",angle:135},{label:"S",angle:180},{label:"SW",angle:225},{label:"W",angle:270},{label:"NW",angle:315}],o=Pe(()=>{const c=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],u=Math.round((r.modelValue||0)/22.5)%16;return c[u]}),i=Pe(()=>{const c=[];for(let u=0;u<360;u+=15){const m=u%45===0,y=m?90:85,h=m?75:80,w=100+h*Math.sin(u*Math.PI/180),E=100-h*Math.cos(u*Math.PI/180),R=100+y*Math.sin(u*Math.PI/180),T=100-y*Math.cos(u*Math.PI/180);c.push({angle:u,x1:w,y1:E,x2:R,y2:T,major:m})}return c}),l=c=>{s("update:modelValue",c)},d=c=>{const m=c.currentTarget.getBoundingClientRect(),y=m.left+m.width/2,h=m.top+m.height/2,w=c.clientX-y,E=c.clientY-h;let R=Math.atan2(w,-E)*(180/Math.PI);R<0&&(R+=360),R=Math.round(R/15)*15,l(R)};return(c,u)=>(W(),Y("div",$O,[a("div",EO,[(W(),Y("svg",{class:"compass",viewBox:"0 0 200 200",onClick:d},[u[1]||(u[1]=Ht('<circle cx="100" cy="100" r="90" fill="none" stroke="currentColor" stroke-width="2" class="compass-circle" data-v-b2786415></circle><g class="cardinal-labels" data-v-b2786415><text x="100" y="15" text-anchor="middle" class="compass-label" data-v-b2786415>N</text><text x="185" y="105" text-anchor="middle" class="compass-label" data-v-b2786415>E</text><text x="100" y="195" text-anchor="middle" class="compass-label" data-v-b2786415>S</text><text x="15" y="105" text-anchor="middle" class="compass-label" data-v-b2786415>W</text></g>',2)),a("g",MO,[(W(!0),Y(rt,null,it(i.value,m=>(W(),Y("line",{key:m.angle,x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,class:at(m.major?"major-tick":"minor-tick")},null,10,TO))),128))]),a("g",{class:"wind-arrow",transform:`rotate(${c.modelValue||0} 100 100)`},[...u[0]||(u[0]=[a("path",{d:"M 100 30 L 110 50 L 100 40 L 90 50 Z",fill:"currentColor",class:"arrow-head"},null,-1),a("line",{x1:"100",y1:"40",x2:"100",y2:"100",stroke:"currentColor","stroke-width":"2",class:"arrow-shaft"},null,-1)])],8,DO),u[2]||(u[2]=a("circle",{cx:"100",cy:"100",r:"4",fill:"currentColor",class:"center-dot"},null,-1))])),a("div",IO,[a("div",RO,F(Math.round(c.modelValue||0))+" ",1),a("div",OO,F(o.value),1)])]),a("div",FO,[(W(),Y(rt,null,it(n,m=>a("button",{key:m.label,onClick:y=>l(m.angle),class:at(["direction-btn",c.modelValue===m.angle?"direction-btn-active":"direction-btn-inactive"])},F(m.label),11,jO)),64))])]))}}),BO=Lr(UO,[["__scopeId","data-v-b2786415"]]),zO={class:"space-y-6 p-6"},qO={class:"text-center"},HO={class:"flex justify-center mb-4"},WO={class:"inline-flex rounded-lg border border-army-green-300 dark:border-red-500 bg-white dark:bg-red-600"},VO={class:"space-y-4"},GO={class:"text-center"},KO={key:0,class:"relative"},YO={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:text-black"},JO={class:"text-center"},ZO={key:0,class:"relative"},XO={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:text-black"},QO=Dt({__name:"LocationControls",props:{location:{default:null},manualOverride:{type:Boolean,default:!1}},emits:["update:location","update:manualOverride"],setup(t,{emit:e}){const r=t,s=e,n=ye({latitude:r.location?.latitude||0,longitude:r.location?.longitude||0,elevation:r.location?.elevation||0});Sr(()=>r.location,i=>{i&&!r.manualOverride&&(n.value={latitude:i.latitude||0,longitude:i.longitude||0,elevation:i.elevation||0})},{immediate:!0,deep:!0});const o=()=>{s("update:manualOverride",!r.manualOverride)};return Sr(n,i=>{r.manualOverride&&i.latitude&&i.longitude&&s("update:location",{latitude:i.latitude,longitude:i.longitude,elevation:i.elevation||0,timestamp:new Date,source:"MANUAL"})},{deep:!0}),(i,l)=>(W(),Y("div",zO,[a("div",qO,[l[3]||(l[3]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-400 mb-4"}," Location ",-1)),a("div",HO,[a("div",WO,[a("button",{onClick:o,class:at(["px-6 py-2 text-sm font-medium rounded-l-lg transition-colors",i.manualOverride?"bg-army-green-600 text-white dark:bg-red-700 dark:text-black":"text-army-green-700 dark:text-black hover:bg-army-green-50 dark:hover:bg-red-700"])}," Manual ",2),a("button",{onClick:l[0]||(l[0]=()=>i.$emit("update:manualOverride",!1)),class:at(["px-6 py-2 text-sm font-medium rounded-r-lg transition-colors border-l border-army-green-300 dark:border-red-500",i.manualOverride?"text-army-green-700 dark:text-black hover:bg-army-green-50 dark:hover:bg-red-700":"bg-army-green-600 text-white dark:bg-red-700 dark:text-black"])}," Auto ",2)])])]),a("div",VO,[a("div",GO,[l[4]||(l[4]=a("div",{class:"text-sm font-medium text-black dark:text-red-400 mb-2"},"Latitude",-1)),i.manualOverride?(W(),Y("div",KO,[Oe(a("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>n.value.latitude=d),type:"number",step:"0.000001",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"0.000000"},null,512),[[dt,n.value.latitude,void 0,{number:!0}]])])):(W(),Y("div",YO,F(n.value.latitude?.toFixed(6)||"0.000000"),1))]),a("div",JO,[l[5]||(l[5]=a("div",{class:"text-sm font-medium text-black dark:text-red-400 mb-2"},"Longitude",-1)),i.manualOverride?(W(),Y("div",ZO,[Oe(a("input",{"onUpdate:modelValue":l[2]||(l[2]=d=>n.value.longitude=d),type:"number",step:"0.000001",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"0.000000"},null,512),[[dt,n.value.longitude,void 0,{number:!0}]])])):(W(),Y("div",XO,F(n.value.longitude?.toFixed(6)||"0.000000"),1))])])]))}}),eF=Lr(QO,[["__scopeId","data-v-8ef5b326"]]),tF={class:"space-y-6"},rF={class:"text-center"},sF={class:"flex justify-center mb-4"},aF={class:"inline-flex rounded-lg border border-army-green-300 dark:border-red-500 bg-white dark:bg-black"},nF={class:"mb-6"},oF={key:0,class:"flex items-center justify-center text-sm text-red-600 dark:text-red-600"},iF={key:1,class:"flex items-center justify-center text-sm text-yellow-600 dark:text-yellow-600"},lF={key:2,class:"flex items-center justify-center text-sm text-green-600 dark:text-green-600"},dF={class:"flex justify-center mt-3"},cF=["disabled"],uF={key:0},fF={key:1},hF={key:0,class:"mb-4 p-3 bg-blue-50 dark:bg-black rounded-lg border border-blue-200 dark:border-red-500"},gF={class:"flex items-center mb-3"},pF={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mF={class:"space-y-1"},vF={class:"block text-sm font-medium text-army-green-800 dark:text-red-400"},bF=["min","max"],yF={class:"space-y-1"},xF={class:"space-y-1"},kF={class:"block text-sm font-medium text-army-green-800 dark:text-red-400"},wF=["min","max"],_F={class:"space-y-1"},SF={class:"block text-sm font-medium text-army-green-800 dark:text-red-400"},AF=["min","max"],CF={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-red-500"},PF={class:"space-y-1"},NF={class:"block text-sm font-medium text-army-green-800 dark:text-red-400"},LF={class:"space-y-1"},$F={class:"space-y-4"},EF={class:"text-center"},MF={class:"flex items-center justify-center mb-2 relative"},TF={key:0,class:"relative"},DF=["min","max","placeholder"],IF={class:"text-xs text-gray-600 dark:text-red-400 mt-1"},RF={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},OF={class:"text-center"},FF={key:0,class:"relative"},jF={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},UF={class:"text-center"},BF={class:"flex items-center justify-center mb-2 relative"},zF={key:0,class:"relative"},qF={class:"text-xs text-gray-600 dark:text-red-400 mt-1"},HF={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},WF={class:"text-center"},VF={class:"flex items-center justify-center mb-2 relative"},GF={key:0,class:"relative"},KF={class:"text-xs text-gray-600 dark:text-red-400 mt-1"},YF={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},JF={class:"text-center"},ZF={class:"flex items-center justify-center mb-2 relative"},XF={key:0,class:"relative"},QF={class:"text-xs text-gray-600 dark:text-red-400 mt-1"},ej={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},tj={class:"text-center"},rj={key:0,class:"relative"},sj={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},aj={key:1,class:"mt-4 p-3 bg-yellow-50 dark:bg-black rounded-lg border border-yellow-200 dark:border-red-500"},nj={class:"grid grid-cols-2 gap-3"},oj={class:"block text-xs font-medium text-yellow-700 dark:text-red-400 mb-1"},ij={key:2,class:"mt-4"},lj=Dt({__name:"EnvironmentalControls",props:{conditions:{default:null},manualOverride:{type:Boolean,default:!1},showLocationControls:{type:Boolean,default:!0},unitSystem:{default:"IMPERIAL"}},emits:["update:conditions","update:manualOverride"],setup(t,{emit:e}){const r=t,s=e,n=_i(),o=ye({}),i=ye({}),l=ye({temperature:20,humidity:60,pressure:29.92,elevation:0,windSpeed:0,windDirection:270}),d=ye("F"),c=ye("inHg"),u=ye("mph"),m=ye("ft"),y=()=>{if(l.value.temperature!==void 0&&l.value.humidity!==void 0&&l.value.pressure!==void 0&&l.value.elevation!==void 0&&l.value.windSpeed!==void 0&&l.value.windDirection!==void 0){const M={temperature:l.value.temperature,humidity:l.value.humidity,pressure:l.value.pressure,elevation:l.value.elevation,windSpeed:l.value.windSpeed,windDirection:l.value.windDirection,timestamp:new Date,source:Es.MANUAL};s("update:conditions",M)}},h=Pe(()=>r.conditions||n.effectiveConditions),w=Pe(()=>n.weatherError||n.locationError),E=Pe(()=>n.isDataStale),R=Pe(()=>n.lastWeatherUpdate?(new Date().getTime()-n.lastWeatherUpdate.getTime())/6e4:0),T=Pe(()=>{if(!h.value)return"Unknown";switch(h.value.source){case"GPS":return"GPS";case"WEATHER_API":return"Weather Service";case"MANUAL":return"Manual";case"CACHED":return"Cached";default:return"Unknown"}}),G=Pe(()=>d.value),z=Pe(()=>c.value),$=Pe(()=>u.value),I=Pe(()=>m.value),K=()=>{const M=!r.manualOverride;n.setManualOverride(M),s("update:manualOverride",M)},L=()=>{d.value=d.value==="C"?"F":"C"},b=()=>{c.value=c.value==="hPa"?"inHg":"hPa"},v=()=>{u.value=u.value==="m/s"?"mph":"m/s"},C=()=>{m.value=m.value==="m"?"ft":"m"},S=M=>M==null?"--":d.value==="C"?((M-32)*5/9).toFixed(1):M.toFixed(1),N=M=>M==null?"--":Math.round(M),A=M=>M==null?"--":c.value==="hPa"?(M*33.863886666667).toFixed(0):M.toFixed(2),p=M=>{if(M==null)return"--";if(m.value==="m"){const ae=M*.3048;return Math.round(ae)}return Math.round(M)},P=M=>M==null?"--":u.value==="m/s"?(M*.44704).toFixed(1):M.toFixed(1),Q=M=>M==null?"--":Math.round(M),H=M=>{n.updateManualLocation(M)};Sr(o,M=>{n.updateManualConditions(M)},{deep:!0}),Sr(i,M=>{n.updateManualLocation(M)},{deep:!0}),Sr(()=>n.effectiveConditions,M=>{M&&s("update:conditions",M)},{deep:!0}),qr(async()=>{if(await n.initializeWithDefaults(),!r.manualOverride)try{await n.refreshAllData()}catch{}});const q=async()=>{try{await n.forceLocationRefresh(),await n.refreshAllData()}catch{}};return(M,ae)=>(W(),Y("div",tF,[a("div",rF,[ae[16]||(ae[16]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-400 mb-4"}," Environmental Conditions ",-1)),a("div",sF,[a("div",aF,[a("button",{onClick:K,class:at(["px-6 py-2 text-sm font-medium rounded-l-lg transition-colors",M.manualOverride?"bg-army-green-600 text-white dark:bg-red-700 dark:text-black":"text-army-green-700 dark:text-black hover:bg-army-green-50 dark:hover:bg-red-700"])}," Manual ",2),a("button",{onClick:ae[0]||(ae[0]=()=>s("update:manualOverride",!1)),class:at(["px-6 py-2 text-sm font-medium rounded-r-lg transition-colors border-l border-army-green-300 dark:border-red-500",M.manualOverride?"text-army-green-700 dark:text-black hover:bg-army-green-50 dark:hover:bg-red-700":"bg-army-green-600 text-white dark:bg-red-700 dark:text-black"])}," Auto ",2)])]),a("div",nF,[w.value?(W(),Y("div",oF,[Me(Le(yi),{class:"w-4 h-4 mr-2"}),Qe(" "+F(w.value),1)])):E.value?(W(),Y("div",iF,[Me(Le(af),{class:"w-4 h-4 mr-2"}),Qe(" Data is "+F(Math.round(R.value))+" minutes old ",1)])):(W(),Y("div",lF,[Me(Le(Js),{class:"w-4 h-4 mr-2"}),Qe(" Current data ("+F(T.value)+") ",1)])),a("div",dF,[a("button",{onClick:q,disabled:Le(n).isLoadingWeather||Le(n).isLoadingLocation,class:"px-4 py-2 text-sm font-medium text-army-green-800 dark:text-red-400 bg-army-green-50 dark:bg-black border border-army-green-300 dark:border-red-500 rounded-lg hover:bg-army-green-100 dark:hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Le(n).isLoadingWeather||Le(n).isLoadingLocation?(W(),Y("span",uF," Refreshing... ")):(W(),Y("span",fF," Refresh Data "))],8,cF)])])]),M.manualOverride?(W(),Y("div",hF,[a("div",gF,[Me(Le(Sx),{class:"w-4 h-4 text-blue-500 dark:text-red-400 mr-2"}),ae[17]||(ae[17]=a("span",{class:"text-sm text-blue-700 dark:text-red-400"}," Manual override enabled. Values below will override automatic data. ",-1))]),a("div",pF,[a("div",mF,[a("label",vF," Temperature ("+F(G.value)+") ",1),Oe(a("input",{"onUpdate:modelValue":ae[1]||(ae[1]=ee=>o.value.temperature=ee),type:"number",min:G.value==="F"?-50:-45,max:G.value==="F"?150:65,class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,8,bF),[[dt,o.value.temperature,void 0,{number:!0}]])]),a("div",yF,[ae[18]||(ae[18]=a("label",{class:"block text-sm font-medium text-army-green-800 dark:text-red-400"}," Humidity (%) ",-1)),Oe(a("input",{"onUpdate:modelValue":ae[2]||(ae[2]=ee=>o.value.humidity=ee),type:"number",min:"0",max:"100",class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[dt,o.value.humidity,void 0,{number:!0}]])]),a("div",xF,[a("label",kF," Pressure ("+F(z.value)+") ",1),Oe(a("input",{"onUpdate:modelValue":ae[3]||(ae[3]=ee=>o.value.pressure=ee),type:"number",min:z.value==="inHg"?25:850,max:z.value==="inHg"?35:1050,step:"0.01",class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,8,wF),[[dt,o.value.pressure,void 0,{number:!0}]])]),a("div",_F,[a("label",SF," Elevation ("+F(I.value)+") ",1),Oe(a("input",{"onUpdate:modelValue":ae[4]||(ae[4]=ee=>o.value.elevation=ee),type:"number",min:I.value==="ft"?-1e3:-300,max:I.value==="ft"?15e3:4500,class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,8,AF),[[dt,o.value.elevation,void 0,{number:!0}]])])]),a("div",CF,[a("div",PF,[a("label",NF," Wind Speed ("+F($.value)+") ",1),Oe(a("input",{"onUpdate:modelValue":ae[5]||(ae[5]=ee=>o.value.windSpeed=ee),type:"number",min:"0",max:"100",class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[dt,o.value.windSpeed,void 0,{number:!0}]])]),a("div",LF,[ae[19]||(ae[19]=a("label",{class:"block text-sm font-medium text-army-green-800 dark:text-red-400"}," Wind Direction () ",-1)),Oe(a("input",{"onUpdate:modelValue":ae[6]||(ae[6]=ee=>o.value.windDirection=ee),type:"number",min:"0",max:"360",class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[dt,o.value.windDirection,void 0,{number:!0}]])])])])):Re("",!0),a("div",$F,[a("div",EF,[a("div",MF,[ae[20]||(ae[20]=a("div",{class:"text-sm font-medium text-black dark:text-red-400"},"Temperature",-1)),a("button",{onClick:L,class:at(["absolute right-0 px-3 py-1.5 text-sm font-medium rounded-md transition-colors min-w-[50px]",G.value==="C"?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-red-600 dark:text-black dark:hover:bg-red-700":"bg-gray-300 text-gray-700 hover:bg-gray-400 dark:bg-red-700 dark:text-black dark:hover:bg-red-800"])}," "+F(G.value==="C"?"C":"F"),3)]),M.manualOverride?(W(),Y("div",TF,[Oe(a("input",{"onUpdate:modelValue":ae[7]||(ae[7]=ee=>l.value.temperature=ee),onInput:y,type:"number",min:G.value==="C"?-50:-58,max:G.value==="C"?60:140,class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:`${G.value==="C"?"20":"68"}`},null,40,DF),[[dt,l.value.temperature,void 0,{number:!0}]]),a("div",IF,""+F(G.value.charAt(0).toUpperCase()),1)])):(W(),Y("div",RF,F(S(h.value?.temperature))+""+F(G.value.charAt(0).toUpperCase()),1))]),a("div",OF,[ae[22]||(ae[22]=a("div",{class:"text-sm font-medium text-black dark:text-red-400 mb-2"},"Humidity",-1)),M.manualOverride?(W(),Y("div",FF,[Oe(a("input",{"onUpdate:modelValue":ae[8]||(ae[8]=ee=>l.value.humidity=ee),onInput:y,type:"number",min:"0",max:"100",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"60"},null,544),[[dt,l.value.humidity,void 0,{number:!0}]]),ae[21]||(ae[21]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"},"%",-1))])):(W(),Y("div",jF,F(N(h.value?.humidity))+"% ",1))]),a("div",UF,[a("div",BF,[ae[23]||(ae[23]=a("div",{class:"text-sm font-medium text-black dark:text-red-400"},"Pressure",-1)),a("button",{onClick:b,class:at(["absolute right-0 px-3 py-1.5 text-sm font-medium rounded-md transition-colors min-w-[50px]",z.value==="hPa"?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-red-600 dark:text-black dark:hover:bg-red-700":"bg-gray-300 text-gray-700 hover:bg-gray-400 dark:bg-red-700 dark:text-black dark:hover:bg-red-800"])},F(z.value==="hPa"?"hPa":"inHg"),3)]),M.manualOverride?(W(),Y("div",zF,[Oe(a("input",{"onUpdate:modelValue":ae[9]||(ae[9]=ee=>l.value.pressure=ee),onInput:y,type:"number",min:"25",max:"35",step:"0.1",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"29.92"},null,544),[[dt,l.value.pressure,void 0,{number:!0}]]),a("div",qF,F(z.value),1)])):(W(),Y("div",HF,F(A(h.value?.pressure))+" "+F(z.value),1))]),a("div",WF,[a("div",VF,[ae[24]||(ae[24]=a("div",{class:"text-sm font-medium text-black dark:text-red-400"},"Elevation",-1)),a("button",{onClick:C,class:at(["absolute right-0 px-3 py-1.5 text-sm font-medium rounded-md transition-colors min-w-[50px]",I.value==="m"?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-red-600 dark:text-black dark:hover:bg-red-700":"bg-gray-300 text-gray-700 hover:bg-gray-400 dark:bg-red-700 dark:text-black dark:hover:bg-red-800"])},F(I.value==="m"?"m":"ft"),3)]),M.manualOverride?(W(),Y("div",GF,[Oe(a("input",{"onUpdate:modelValue":ae[10]||(ae[10]=ee=>l.value.elevation=ee),onInput:y,type:"number",min:"-1000",max:"15000",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"1000"},null,544),[[dt,l.value.elevation,void 0,{number:!0}]]),a("div",KF,F(I.value),1)])):(W(),Y("div",YF,F(p(h.value?.elevation))+" "+F(I.value),1))]),a("div",JF,[a("div",ZF,[ae[25]||(ae[25]=a("div",{class:"text-sm font-medium text-black dark:text-red-400"},"Wind Speed",-1)),a("button",{onClick:v,class:at(["absolute right-0 px-3 py-1.5 text-sm font-medium rounded-md transition-colors min-w-[50px]",$.value==="m/s"?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-red-600 dark:text-black dark:hover:bg-red-700":"bg-gray-300 text-gray-700 hover:bg-gray-400 dark:bg-red-700 dark:text-black dark:hover:bg-red-800"])},F($.value==="m/s"?"m/s":"mph"),3)]),M.manualOverride?(W(),Y("div",XF,[Oe(a("input",{"onUpdate:modelValue":ae[11]||(ae[11]=ee=>l.value.windSpeed=ee),onInput:y,type:"number",min:"0",max:"100",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"10"},null,544),[[dt,l.value.windSpeed,void 0,{number:!0}]]),a("div",QF,F($.value),1)])):(W(),Y("div",ej,F(P(h.value?.windSpeed))+" "+F($.value),1))]),a("div",tj,[ae[27]||(ae[27]=a("div",{class:"text-sm font-medium text-black dark:text-red-400 mb-2"},"Wind Direction",-1)),M.manualOverride?(W(),Y("div",rj,[Oe(a("input",{"onUpdate:modelValue":ae[12]||(ae[12]=ee=>l.value.windDirection=ee),onInput:y,type:"number",min:"0",max:"360",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"270"},null,544),[[dt,l.value.windDirection,void 0,{number:!0}]]),ae[26]||(ae[26]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"},"",-1))])):(W(),Y("div",sj,F(Q(h.value?.windDirection))+" ",1))])]),M.manualOverride?(W(),Y("div",aj,[ae[29]||(ae[29]=a("h4",{class:"text-sm font-medium text-yellow-800 dark:text-red-400 mb-3"}," Wind Conditions ",-1)),a("div",nj,[a("div",null,[a("label",oj," Wind Speed ("+F($.value)+") ",1),Oe(a("input",{"onUpdate:modelValue":ae[13]||(ae[13]=ee=>o.value.windSpeed=ee),type:"number",min:"0",max:"100",step:"0.1",class:"w-full px-3 py-2 text-sm border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-500 focus:border-army-green-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[dt,o.value.windSpeed,void 0,{number:!0}]])]),a("div",null,[ae[28]||(ae[28]=a("label",{class:"block text-xs font-medium text-yellow-700 dark:text-red-400 mb-1"}," Wind Direction () ",-1)),Oe(a("input",{"onUpdate:modelValue":ae[14]||(ae[14]=ee=>o.value.windDirection=ee),type:"number",min:"0",max:"360",step:"1",class:"w-full px-3 py-2 text-sm border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-500 focus:border-army-green-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[dt,o.value.windDirection,void 0,{number:!0}]])])]),Me(BO,{"model-value":o.value.windDirection||0,"onUpdate:modelValue":ae[15]||(ae[15]=ee=>o.value.windDirection=ee),class:"mt-3"},null,8,["model-value"])])):Re("",!0),M.showLocationControls?(W(),Y("div",ij,[Me(eF,{location:Le(n).effectiveLocation,"manual-override":M.manualOverride,"onUpdate:location":H,"onUpdate:manualOverride":K},null,8,["location","manual-override"])])):Re("",!0)]))}}),dj={class:"space-y-6"},cj={class:"bg-light-surface dark:bg-black rounded-lg shadow-tactical border border-army-green-200 dark:border-red-500"},bV=Dt({__name:"EnvironmentView",setup(t){const e=_i();return(r,s)=>(W(),Y("div",dj,[a("div",cj,[Me(lj,{"manual-override":Le(e).manualOverrideEnabled,"onUpdate:manualOverride":s[0]||(s[0]=n=>Le(e).setManualOverride(n))},null,8,["manual-override"])])]))}}),uj={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},fj={class:"flex items-center justify-between mb-6"},hj={class:"flex space-x-3"},gj=["value"],pj={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},mj={class:"text-center p-3 bg-gray-50 dark:bg-red-600 rounded-lg"},vj={class:"text-2xl font-bold text-gray-900 dark:text-black"},bj={class:"text-center p-3 bg-green-50 dark:bg-red-600 rounded-lg"},yj={class:"text-2xl font-bold text-green-600 dark:text-black"},xj={class:"text-center p-3 bg-red-50 dark:bg-red-600 rounded-lg"},kj={class:"text-2xl font-bold text-red-600 dark:text-black"},wj={class:"text-center p-3 bg-blue-50 dark:bg-red-600 rounded-lg"},_j={class:"text-2xl font-bold text-blue-600 dark:text-black"},Sj={key:0,class:"text-center py-12"},Aj={key:1,class:"space-y-4"},Cj={class:"flex items-center justify-between"},Pj={class:"flex items-center justify-between"},Nj={class:"flex items-center space-x-2 bg-gray-100 dark:bg-red-600 rounded-lg p-1 ml-4"},Lj={class:"text-sm text-gray-500 dark:text-red-400"},$j={class:"grid gap-4"},Ej=["onClick"],Mj={key:0,class:"flex items-center justify-between"},Tj={class:"flex items-center space-x-4"},Dj={class:"flex items-center space-x-2"},Ij={class:"text-sm text-gray-600 dark:text-red-400"},Rj={class:"text-sm font-medium text-gray-900 dark:text-red-400"},Oj={class:"text-sm text-gray-600 dark:text-red-400"},Fj={key:1},jj={class:"flex items-center justify-between"},Uj={class:"flex items-center space-x-4"},Bj={class:"flex items-center space-x-2"},zj={class:"text-sm text-gray-600 dark:text-red-400"},qj={class:"text-sm font-medium text-gray-900 dark:text-red-400"},Hj={class:"text-sm text-gray-600 dark:text-red-400"},Wj={class:"flex items-center space-x-4"},Vj={class:"text-right"},Gj={class:"text-sm font-medium text-gray-900 dark:text-red-400"},Kj={key:0,class:"mt-4 pt-4 border-t border-gray-200 dark:border-red-700 space-y-4"},Yj={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},Jj={class:"text-center p-2 bg-blue-50 dark:bg-red-600 rounded"},Zj={class:"text-sm font-medium text-gray-900 dark:text-black"},Xj={class:"text-center p-2 bg-green-50 dark:bg-red-600 rounded"},Qj={class:"text-sm font-medium text-gray-900 dark:text-black"},eU={class:"text-center p-2 bg-yellow-50 dark:bg-red-600 rounded"},tU={class:"text-sm font-medium text-gray-900 dark:text-black"},rU={class:"text-center p-2 bg-purple-50 dark:bg-red-600 rounded"},sU={class:"text-sm font-medium text-gray-900 dark:text-black"},aU={class:"text-center p-2 bg-orange-50 dark:bg-red-600 rounded"},nU={class:"text-sm font-medium text-gray-900 dark:text-black"},oU={key:0,class:"text-center p-2 bg-red-50 dark:bg-red-600 rounded"},iU={class:"text-sm font-medium text-gray-900 dark:text-black"},lU={class:"grid grid-cols-2 gap-4"},dU={class:"bg-blue-50 dark:bg-red-600 p-3 rounded"},cU={class:"space-y-1"},uU={class:"text-sm text-gray-700 dark:text-black"},fU={class:"text-sm text-gray-700 dark:text-black"},hU={class:"text-sm text-gray-700 dark:text-black"},gU={class:"bg-green-50 dark:bg-red-600 p-3 rounded"},pU={class:"space-y-1"},mU={class:"text-sm text-gray-700 dark:text-black"},vU={class:"text-sm text-gray-700 dark:text-black"},bU={key:0,class:"text-sm text-gray-700 dark:text-black"},yU={key:0},xU={class:"text-sm text-gray-600 dark:text-black bg-gray-50 dark:bg-red-600 p-2 rounded"},kU={class:"flex space-x-2 pt-2"},wU=["onClick"],_U=["onClick"],SU=Dt({__name:"ShotRecordsList",setup(t){const e=Si(),r=Wn(),s=Pe(()=>r.unitPreset),n=ye(null),o=ye("timestamp"),i=ye("desc"),l=ye("detailed"),d=ye({rifle:"",result:""}),c=Pe(()=>e.allShots),u=Pe(()=>{const A=new Set(c.value.map(p=>p.rifleProfile.name));return Array.from(A).sort()}),m=Pe(()=>{let A=c.value;if(d.value.rifle&&(A=A.filter(p=>p.rifleProfile.name===d.value.rifle)),d.value.result){const p=d.value.result==="hit";A=A.filter(P=>P.actualResult.hit===p)}return A}),y=Pe(()=>{const A=[...m.value];return A.sort((p,P)=>{let Q,H;switch(o.value){case"timestamp":Q=new Date(p.timestamp).getTime(),H=new Date(P.timestamp).getTime();break;case"distance":Q=p.distance,H=P.distance;break;case"accuracy":Q=$(p),H=$(P);break;case"rifle":Q=p.rifleProfile.name,H=P.rifleProfile.name;break;default:return 0}return i.value==="asc"?Q>H?1:-1:Q<H?1:-1}),A}),h=Pe(()=>m.value.filter(A=>A.actualResult.hit).length),w=Pe(()=>m.value.filter(A=>!A.actualResult.hit).length),E=Pe(()=>m.value.length===0?0:(h.value/m.value.length*100).toFixed(1)),R=A=>new Date(A).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),T=A=>s.value==="metric"?`${(A*So.INCHES_TO_CM).toFixed(1)} cm`:`${A.toFixed(1)}"`,G=(A,p)=>{if((p.unitPreferences?.distance||p.zeroDistanceUnit||(s.value==="metric"?"meters":"yards"))==="meters"){const Q=A*.9144;return`${Math.round(Q)}m`}else return`${Math.round(A)}yd`},z=A=>{const p=Math.abs(A.actualResult.horizontalOffset),P=Math.abs(A.actualResult.verticalOffset),Q=Math.sqrt(p*p+P*P);return s.value==="metric"?`${(Q*So.INCHES_TO_CM).toFixed(1)} cm`:`${Q.toFixed(1)}"`},$=A=>{const p=Math.abs(A.actualResult.horizontalOffset),P=Math.abs(A.actualResult.verticalOffset);return Math.sqrt(p*p+P*P)},I=A=>{if(s.value==="metric"){const p=(A-32)*5/9;return`${Math.round(p)}C`}else return`${Math.round(A)}F`},K=A=>{if(s.value==="metric"){const p=A*1.60934;return`${Math.round(p)}km/h`}else return`${Math.round(A)}mph`},L=A=>{if(s.value==="metric"){const p=A*33.8639;return`${Math.round(p)}hPa`}else return`${Math.round(A*100)/100}inHg`},b=A=>`${Math.round(A)}%`,v=A=>{const p=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],P=Math.round(A/22.5)%16;return p[P]},C=()=>{d.value.rifle="",d.value.result=""},S=A=>{confirm("Are you sure you want to delete this shot record?")&&(e.deleteShotRecord(A),n.value?.id===A&&(n.value=null))},N=A=>{const p=JSON.stringify(A,null,2),P="data:application/json;charset=utf-8,"+encodeURIComponent(p),Q=`shot-${A.id}-${new Date(A.timestamp).toISOString().split("T")[0]}.json`,H=document.createElement("a");H.setAttribute("href",P),H.setAttribute("download",Q),H.click()};return qr(()=>{e.loadFromStorage()}),(A,p)=>(W(),Y("div",uj,[a("div",fj,[p[8]||(p[8]=a("div",null,[a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-red-400"},"Shot Records"),a("p",{class:"text-sm text-gray-600 dark:text-red-400 mt-1"},"Detailed analysis of individual shots")],-1)),a("div",hj,[Oe(a("select",{"onUpdate:modelValue":p[0]||(p[0]=P=>d.value.rifle=P),class:"px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm text-gray-700 dark:text-black bg-white dark:bg-red-600"},[p[6]||(p[6]=a("option",{value:""},"All Rifles",-1)),(W(!0),Y(rt,null,it(u.value,P=>(W(),Y("option",{key:P,value:P},F(P),9,gj))),128))],512),[[_t,d.value.rifle]]),Oe(a("select",{"onUpdate:modelValue":p[1]||(p[1]=P=>d.value.result=P),class:"px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm text-gray-700 dark:text-black bg-white dark:bg-red-600"},[...p[7]||(p[7]=[a("option",{value:""},"All Results",-1),a("option",{value:"hit"},"Hits Only",-1),a("option",{value:"miss"},"Misses Only",-1)])],512),[[_t,d.value.result]]),a("button",{onClick:C,class:"px-3 py-2 text-sm text-gray-600 dark:text-red-400 border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors"}," Clear Filters ")])]),a("div",pj,[a("div",mj,[a("div",vj,F(m.value.length),1),p[9]||(p[9]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Total Shots",-1))]),a("div",bj,[a("div",yj,F(h.value),1),p[10]||(p[10]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Hits",-1))]),a("div",xj,[a("div",kj,F(w.value),1),p[11]||(p[11]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Misses",-1))]),a("div",wj,[a("div",_j,F(E.value)+"%",1),p[12]||(p[12]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Hit Rate",-1))])]),m.value.length===0?(W(),Y("div",Sj,[Me(Le(Br),{class:"w-12 h-12 text-gray-400 dark:text-red-400 mx-auto mb-4"}),p[13]||(p[13]=a("p",{class:"text-gray-500 dark:text-red-400"},"No shots match your current filters",-1)),a("button",{onClick:C,class:"mt-2 text-sm text-blue-600 dark:text-red-400 hover:text-blue-800 dark:hover:text-red-300"}," Clear filters to see all shots ")])):(W(),Y("div",Aj,[a("div",Cj,[a("div",Pj,[p[15]||(p[15]=a("label",{class:"text-sm text-gray-700 dark:text-red-400"},"Sort by:",-1)),Oe(a("select",{"onUpdate:modelValue":p[2]||(p[2]=P=>o.value=P),class:"px-3 py-1 border border-gray-300 dark:border-red-500 rounded text-sm text-gray-700 dark:text-black bg-white dark:bg-red-600"},[...p[14]||(p[14]=[a("option",{value:"timestamp"},"Date",-1),a("option",{value:"distance"},"Distance",-1),a("option",{value:"accuracy"},"Accuracy",-1),a("option",{value:"rifle"},"Rifle",-1)])],512),[[_t,o.value]]),a("button",{onClick:p[3]||(p[3]=P=>i.value=i.value==="asc"?"desc":"asc"),class:"p-1 text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300"},[Me(Le(hx),{class:"w-4 h-4"})]),a("div",Nj,[a("button",{onClick:p[4]||(p[4]=P=>l.value="detailed"),class:at(["px-3 py-1 rounded text-sm font-medium transition-colors",l.value==="detailed"?"bg-white dark:bg-black text-gray-900 dark:text-red-400 shadow-sm":"text-gray-600 dark:text-black hover:text-gray-900 dark:hover:text-gray-800"])}," Detailed ",2),a("button",{onClick:p[5]||(p[5]=P=>l.value="minimal"),class:at(["px-3 py-1 rounded text-sm font-medium transition-colors",l.value==="minimal"?"bg-white dark:bg-black text-gray-900 dark:text-red-400 shadow-sm":"text-gray-600 dark:text-black hover:text-gray-900 dark:hover:text-gray-800"])}," Minimal ",2)])]),a("div",Lj," Showing "+F(m.value.length)+" of "+F(c.value.length)+" shots ",1)]),a("div",$j,[(W(!0),Y(rt,null,it(y.value,P=>(W(),Y("div",{key:P.id,class:"border border-gray-200 dark:border-red-500 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-900 cursor-pointer transition-colors",onClick:Q=>l.value==="detailed"?n.value=n.value?.id===P.id?null:P:null},[l.value==="minimal"?(W(),Y("div",Mj,[a("div",Tj,[a("div",Dj,[a("div",{class:at(["w-3 h-3 rounded-full",P.actualResult.hit?"bg-green-500":"bg-red-500"])},null,2),a("span",{class:at(["px-2 py-1 rounded-full text-xs font-medium",P.actualResult.hit?"bg-green-100 dark:bg-red-700 text-green-800 dark:text-black":"bg-red-100 dark:bg-red-700 text-red-800 dark:text-black"])},F(P.actualResult.hit?"Hit":"Miss"),3)]),a("div",Ij,F(R(P.timestamp)),1),a("div",Rj,F(G(P.distance,P.rifleProfile)),1),a("div",Oj,F(P.rifleProfile.name),1)])])):(W(),Y("div",Fj,[a("div",jj,[a("div",Uj,[a("div",Bj,[a("div",{class:at(["w-3 h-3 rounded-full",P.actualResult.hit?"bg-green-500":"bg-red-500"])},null,2),a("span",{class:at(["px-2 py-1 rounded-full text-xs font-medium",P.actualResult.hit?"bg-green-100 dark:bg-red-700 text-green-800 dark:text-black":"bg-red-100 dark:bg-red-700 text-red-800 dark:text-black"])},F(P.actualResult.hit?"Hit":"Miss"),3)]),a("div",zj,F(R(P.timestamp)),1),a("div",qj,F(G(P.distance,P.rifleProfile)),1),a("div",Hj,F(P.rifleProfile.name),1)]),a("div",Wj,[a("div",Vj,[a("div",Gj,F(z(P)),1),p[16]||(p[16]=a("div",{class:"text-xs text-gray-500 dark:text-red-400"},"offset",-1))]),Me(Le(rf),{class:at(["w-4 h-4 text-gray-400 transition-transform",n.value?.id===P.id?"transform rotate-180":""])},null,8,["class"])])]),l.value==="detailed"&&n.value?.id===P.id?(W(),Y("div",Kj,[a("div",null,[p[23]||(p[23]=a("h4",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Environmental Conditions",-1)),a("div",Yj,[a("div",Jj,[a("div",Zj,F(I(P.environmentalConditions.temperature)),1),p[17]||(p[17]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Temperature",-1))]),a("div",Xj,[a("div",Qj,F(K(P.environmentalConditions.windSpeed)),1),p[18]||(p[18]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Wind Speed",-1))]),a("div",eU,[a("div",tU,F(v(P.environmentalConditions.windDirection)),1),p[19]||(p[19]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Wind Direction",-1))]),a("div",rU,[a("div",sU,F(b(P.environmentalConditions.humidity)),1),p[20]||(p[20]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Humidity",-1))]),a("div",aU,[a("div",nU,F(L(P.environmentalConditions.pressure)),1),p[21]||(p[21]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Pressure",-1))]),P.environmentalConditions.shootingDirection!==void 0?(W(),Y("div",oU,[a("div",iU,F(v(P.environmentalConditions.shootingDirection)),1),p[22]||(p[22]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Shot Direction",-1))])):Re("",!0)])]),a("div",null,[p[26]||(p[26]=a("h4",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Predicted vs Actual",-1)),a("div",lU,[a("div",dU,[p[24]||(p[24]=a("div",{class:"text-sm font-medium text-blue-900 dark:text-black mb-2"},"Predicted",-1)),a("div",cU,[a("div",uU,"Drop: "+F(P.predictedSolution.drop?T(P.predictedSolution.drop):"N/A"),1),a("div",fU,"Windage: "+F(P.predictedSolution.windage?T(P.predictedSolution.windage):"N/A"),1),a("div",hU,"Velocity: "+F(P.predictedSolution.velocity?Math.round(P.predictedSolution.velocity):"N/A")+F(s.value==="metric"?"m/s":"fps"),1)])]),a("div",gU,[p[25]||(p[25]=a("div",{class:"text-sm font-medium text-green-900 dark:text-black mb-2"},"Actual Result",-1)),a("div",pU,[a("div",mU,"H Offset: "+F(T(P.actualResult.horizontalOffset)),1),a("div",vU,"V Offset: "+F(T(P.actualResult.verticalOffset)),1),P.actualResult.scoreValue?(W(),Y("div",bU,"Score: "+F(P.actualResult.scoreValue),1)):Re("",!0)])])])]),P.actualResult.notes?(W(),Y("div",yU,[p[27]||(p[27]=a("h4",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Notes",-1)),a("p",xU,F(P.actualResult.notes),1)])):Re("",!0),a("div",kU,[a("button",{onClick:Is(Q=>S(P.id),["stop"]),class:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors"}," Delete ",8,wU),a("button",{onClick:Is(Q=>N(P),["stop"]),class:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"}," Export ",8,_U)])])):Re("",!0)]))],8,Ej))),128))])]))]))}}),AU={class:"space-y-6"},CU={key:0,class:"bg-blue-50 dark:bg-black border border-blue-200 dark:border-red-500 rounded-lg p-4"},PU={class:"flex items-center justify-between"},NU={class:"text-blue-700 dark:text-red-400 mt-1"},LU={class:"text-sm text-blue-600 dark:text-red-400"},$U={class:"flex space-x-3"},EU={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},MU={class:"mb-6 p-4 border border-red-300 dark:border-red-500 rounded-lg bg-red-50 dark:bg-red-600"},TU={class:"flex items-center justify-between"},DU={key:0,class:"mt-4 pt-4 border-t border-red-200 dark:border-red-500 bg-red-50 dark:bg-black p-4 rounded-lg"},IU={class:"flex items-start justify-between"},RU={class:"flex-1"},OU={class:"mt-2 text-xs text-red-700 dark:text-red-400"},FU={class:"list-disc list-inside mt-1 space-y-1"},jU={key:0},UU=["disabled"],BU={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},zU={class:"text-center p-4 bg-gray-50 dark:bg-red-600 rounded-lg"},qU={class:"text-2xl font-bold text-gray-900 dark:text-black"},HU={class:"text-center p-4 bg-blue-50 dark:bg-red-600 rounded-lg"},WU={class:"text-2xl font-bold text-blue-600 dark:text-black"},VU={class:"text-center p-4 bg-green-50 dark:bg-red-600 rounded-lg"},GU={class:"text-2xl font-bold text-green-600 dark:text-black"},KU={class:"text-center p-4 bg-purple-50 dark:bg-red-600 rounded-lg"},YU={class:"text-2xl font-bold text-purple-600 dark:text-black"},JU={class:"flex items-center justify-between mb-4"},ZU={class:"flex space-x-2"},XU={key:0,class:"text-center py-8"},QU={key:1,class:"space-y-4"},eB={class:"flex items-center justify-between"},tB={class:"flex items-center space-x-4"},rB={class:"font-semibold text-gray-900 dark:text-red-400"},sB={class:"text-sm text-gray-600 dark:text-red-400"},aB={class:"text-sm font-medium text-gray-900 dark:text-red-400"},nB={class:"text-sm font-medium text-green-600 dark:text-red-400"},oB=["onClick"],iB={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},lB={class:"bg-white dark:bg-black rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-red-500"},dB={class:"flex items-center justify-between mb-6"},cB={class:"text-xl font-semibold text-gray-900 dark:text-red-400"},uB={class:"text-gray-600 dark:text-red-400"},fB={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},hB={class:"text-center p-3 bg-blue-50 dark:bg-red-600 rounded-lg"},gB={class:"text-xl font-bold text-blue-600 dark:text-black"},pB={class:"text-center p-3 bg-green-50 dark:bg-red-600 rounded-lg"},mB={class:"text-xl font-bold text-green-600 dark:text-black"},vB={class:"text-center p-3 bg-purple-50 dark:bg-red-600 rounded-lg"},bB={class:"text-xl font-bold text-purple-600 dark:text-black"},yB={class:"text-center p-3 bg-orange-50 dark:bg-red-600 rounded-lg"},xB={class:"text-xl font-bold text-orange-600 dark:text-black"},kB={class:"mb-6"},wB={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},_B={class:"text-center p-2 bg-blue-50 dark:bg-red-600 rounded"},SB={class:"text-sm font-medium text-gray-900 dark:text-black"},AB={class:"text-center p-2 bg-green-50 dark:bg-red-600 rounded"},CB={class:"text-sm font-medium text-gray-900 dark:text-black"},PB={class:"text-center p-2 bg-yellow-50 dark:bg-red-600 rounded"},NB={class:"text-sm font-medium text-gray-900 dark:text-black"},LB={class:"text-center p-2 bg-purple-50 dark:bg-red-600 rounded"},$B={class:"text-sm font-medium text-gray-900 dark:text-black"},EB={class:"text-center p-2 bg-orange-50 dark:bg-red-600 rounded"},MB={class:"text-sm font-medium text-gray-900 dark:text-black"},TB={key:0,class:"text-center p-2 bg-red-50 dark:bg-red-600 rounded"},DB={class:"text-sm font-medium text-gray-900 dark:text-black"},IB={key:0,class:"mb-6"},RB={class:"bg-gray-50 dark:bg-red-600 p-4 rounded-lg"},OB={class:"text-gray-700 dark:text-black"},FB={class:"space-y-2 max-h-60 overflow-y-auto"},jB={class:"flex items-center space-x-4"},UB={class:"text-sm font-medium text-gray-500 dark:text-black"},BB={class:"text-sm text-gray-900 dark:text-black"},zB={class:"text-sm text-gray-600 dark:text-black"},qB={class:"text-xs text-gray-500 dark:text-black"},HB={class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-red-500"},WB=Dt({__name:"SessionManager",setup(t){const e=q=>{if(d.value==="metric"){const M=(q-32)*5/9;return`${Math.round(M)}C`}else return`${Math.round(q)}F`},r=q=>{if(d.value==="metric"){const M=q*1.60934;return`${Math.round(M)}km/h`}else return`${Math.round(q)}mph`},s=q=>{if(d.value==="metric"){const M=q*33.8639;return`${Math.round(M)}hPa`}else return`${Math.round(q*100)/100}inHg`},n=q=>`${Math.round(q)}%`,o=q=>{const M=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],ae=Math.round(q/22.5)%16;return M[ae]},i=Si(),l=Wn(),d=Pe(()=>l.unitPreset),c=ye(!1),u=ye(null),m=ye("all"),y=ye(!1),h=Pe(()=>i.currentSession),w=Pe(()=>i.shotSessions),E=Pe(()=>i.allShots),R=Pe(()=>w.value.reduce((q,M)=>q+M.shots.length,0)),T=Pe(()=>w.value.length===0?0:(w.value.reduce((M,ae)=>M+parseFloat(v(ae)),0)/w.value.length).toFixed(1)),G=Pe(()=>w.value.length===0?0:Math.round(R.value/w.value.length)),z=Pe(()=>{const q=new Date;let M=[...w.value];if(m.value==="this-week"){const ae=new Date(q.getTime()-6048e5);M=M.filter(ee=>new Date(ee.date)>=ae)}else if(m.value==="this-month"){const ae=new Date(q.getTime()-2592e6);M=M.filter(ee=>new Date(ee.date)>=ae)}return M.sort((ae,ee)=>new Date(ee.date).getTime()-new Date(ae.date).getTime())}),$=q=>new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),I=q=>new Date(q).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}),K=q=>new Date(q).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),L=q=>{const M=Math.sqrt(Math.pow(q.actualResult.horizontalOffset,2)+Math.pow(q.actualResult.verticalOffset,2));return d.value==="metric"?`${(M*So.INCHES_TO_CM).toFixed(1)} cm offset`:`${M.toFixed(1)}" offset`},b=q=>d.value==="metric"?`${(q*.9144).toFixed(0)}m`:`${q}yd`,v=q=>q.shots.length===0?"0":(q.shots.filter(ae=>ae.actualResult.hit).length/q.shots.length*100).toFixed(1),C=q=>q.shots.length===0?"0.0":(q.shots.reduce((ae,ee)=>{const k=Math.abs(ee.actualResult.horizontalOffset),O=Math.abs(ee.actualResult.verticalOffset);return ae+Math.sqrt(k*k+O*O)},0)/q.shots.length).toFixed(1),S=q=>{if(q.shots.length===0)return"0m";const M=q.shots[0],ae=q.shots[q.shots.length-1],ee=new Date(ae.timestamp).getTime()-new Date(M.timestamp).getTime();return`${Math.round(ee/(1e3*60))}m`},N=()=>{confirm("Are you sure you want to end the current session?")&&i.endSession()},A=q=>{u.value=q,c.value=!0},p=q=>{const M=JSON.stringify(q,null,2),ae="data:application/json;charset=utf-8,"+encodeURIComponent(M),ee=`session-${q.id}-${$(q.date).replace(/\s/g,"-")}.json`,k=document.createElement("a");k.setAttribute("href",ae),k.setAttribute("download",ee),k.click()},P=()=>{const q=JSON.stringify(w.value,null,2),M="data:application/json;charset=utf-8,"+encodeURIComponent(q),ae=`all-sessions-${new Date().toISOString().split("T")[0]}.json`,ee=document.createElement("a");ee.setAttribute("href",M),ee.setAttribute("download",ae),ee.click()},Q=q=>{if(confirm("Are you sure you want to delete this session? This action cannot be undone.")){const M=w.value.findIndex(ae=>ae.id===q);M!==-1&&(w.value[M].shots.forEach(ee=>{i.deleteShotRecord(ee.id)}),w.value.splice(M,1),localStorage.setItem("shot_sessions",JSON.stringify(w.value)))}},H=()=>{const q=E.value.length,M=w.value.length;if(q===0&&M===0){alert("No records to clear.");return}confirm(` DANGER - IRREVERSIBLE ACTION 

Are you sure you want to permanently delete ALL data?

This will delete:
 ${q} shot records
 ${M} shooting sessions
`+(h.value?` Current active session
`:"")+` All performance history and statistics

THIS CANNOT BE UNDONE!

Type "DELETE ALL" and click OK to proceed, or Cancel to keep your data.`)&&(prompt('To confirm deletion, type "DELETE ALL" (case sensitive):')==="DELETE ALL"?(i.clearAllData(),y.value=!1,alert("All records have been permanently deleted.")):alert("Deletion cancelled - confirmation text did not match."))};return qr(()=>{i.loadFromStorage()}),(q,M)=>(W(),Y("div",AU,[h.value?(W(),Y("div",CU,[a("div",PU,[a("div",null,[M[6]||(M[6]=a("div",{class:"flex items-center space-x-2"},[a("div",{class:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),a("h3",{class:"text-lg font-semibold text-blue-900 dark:text-red-400"},"Active Session")],-1)),a("p",NU,F(h.value.name)+" at "+F(h.value.range),1),a("p",LU,F(h.value.shots.length)+" shots recorded",1)]),a("div",$U,[a("button",{onClick:M[0]||(M[0]=ae=>c.value=!0),class:"px-4 py-2 bg-blue-600 dark:bg-red-600 text-white dark:text-black rounded-lg hover:bg-blue-700 dark:hover:bg-red-700 transition-colors"}," View Details "),a("button",{onClick:N,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," End Session ")])])])):Re("",!0),a("div",EU,[M[20]||(M[20]=a("div",{class:"mb-6"},[a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-red-400"},"Session Management"),a("p",{class:"text-sm text-gray-600 dark:text-red-400 mt-1"},"Review your shooting session history and performance")],-1)),a("div",MU,[a("div",TU,[M[7]||(M[7]=a("div",null,[a("h3",{class:"text-md font-semibold text-red-900 dark:text-black"},"Danger Zone"),a("p",{class:"text-sm text-red-700 dark:text-black mt-1"},"Irreversible actions that affect all data")],-1)),a("button",{onClick:M[1]||(M[1]=ae=>y.value=!y.value),class:"px-3 py-2 text-sm text-red-600 dark:text-red-400 bg-white dark:bg-black border border-red-300 dark:border-red-500 rounded-md hover:bg-red-100 dark:hover:bg-gray-800 transition-colors"},F(y.value?"Hide":"Show"),1)]),y.value?(W(),Y("div",DU,[a("div",IU,[a("div",RU,[M[10]||(M[10]=a("h4",{class:"text-sm font-semibold text-red-900 dark:text-red-400"},"Clear All Records",-1)),M[11]||(M[11]=a("p",{class:"text-sm text-red-700 dark:text-red-400 mt-1"}," Permanently delete all shot records, sessions, and current session data. This action cannot be undone. ",-1)),a("div",OU,[M[9]||(M[9]=a("strong",null,"This will delete:",-1)),a("ul",FU,[a("li",null,F(E.value.length)+" shot records",1),a("li",null,F(w.value.length)+" shooting sessions",1),h.value?(W(),Y("li",jU,"Current active session")):Re("",!0),M[8]||(M[8]=a("li",null,"All performance history and statistics",-1))])])]),a("button",{onClick:H,disabled:E.value.length===0,class:"ml-4 px-4 py-2 text-sm text-white dark:text-black bg-red-600 dark:bg-red-600 border border-red-600 dark:border-red-600 rounded-md hover:bg-red-700 dark:hover:bg-red-700 hover:text-white dark:hover:text-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," Clear All Records ",8,UU)])])):Re("",!0)]),a("div",BU,[a("div",zU,[a("div",qU,F(w.value.length),1),M[12]||(M[12]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Total Sessions",-1))]),a("div",HU,[a("div",WU,F(R.value),1),M[13]||(M[13]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Total Shots",-1))]),a("div",VU,[a("div",GU,F(T.value)+"%",1),M[14]||(M[14]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Avg Hit Rate",-1))]),a("div",KU,[a("div",YU,F(G.value),1),M[15]||(M[15]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Avg Shots/Session",-1))])]),a("div",null,[a("div",JU,[M[17]||(M[17]=a("h3",{class:"text-md font-semibold text-gray-900 dark:text-red-400"},"Recent Sessions",-1)),a("div",ZU,[Oe(a("select",{"onUpdate:modelValue":M[2]||(M[2]=ae=>m.value=ae),class:"px-3 py-1 border border-gray-300 dark:border-red-500 rounded text-sm text-gray-700 dark:text-black bg-white dark:bg-red-600"},[...M[16]||(M[16]=[a("option",{value:"all"},"All Sessions",-1),a("option",{value:"this-week"},"This Week",-1),a("option",{value:"this-month"},"This Month",-1)])],512),[[_t,m.value]]),a("button",{onClick:P,class:"px-3 py-1 text-sm bg-green-600 dark:bg-red-600 text-white dark:text-black rounded hover:bg-green-700 dark:hover:bg-red-700 transition-colors"}," Export All ")])]),z.value.length===0?(W(),Y("div",XU,[Me(Le(zd),{class:"w-12 h-12 text-gray-400 dark:text-red-400 mx-auto mb-4"}),M[18]||(M[18]=a("p",{class:"text-gray-500 dark:text-red-400"},"No sessions found",-1)),M[19]||(M[19]=a("p",{class:"text-sm text-gray-400 dark:text-red-400 mt-2"},"Start your first session to begin tracking",-1))])):(W(),Y("div",QU,[(W(!0),Y(rt,null,it(z.value,ae=>(W(),Y("div",{key:ae.id,class:"border border-gray-200 dark:border-red-500 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors"},[a("div",eB,[a("div",tB,[a("div",null,[a("h4",rB,F(ae.name),1)]),a("div",sB,F($(ae.date)),1),a("div",aB,F(ae.shots.length)+" shots ",1),a("div",nB,F(v(ae))+"% hit rate ",1)]),a("div",null,[a("button",{onClick:ee=>A(ae),class:"px-3 py-1 text-sm bg-blue-600 dark:bg-red-600 text-white dark:text-black rounded hover:bg-blue-700 dark:hover:bg-red-700 transition-colors"}," Details ",8,oB)])])]))),128))]))])]),c.value&&u.value?(W(),Y("div",iB,[a("div",lB,[a("div",dB,[a("div",null,[a("h3",cB,F(u.value.name),1),a("p",uB,F(I(u.value.date))+"  "+F(u.value.range),1)]),a("button",{onClick:M[3]||(M[3]=ae=>c.value=!1),class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300"},[Me(Le(Po),{class:"w-6 h-6"})])]),a("div",fB,[a("div",hB,[a("div",gB,F(u.value.shots.length),1),M[21]||(M[21]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Total Shots",-1))]),a("div",pB,[a("div",mB,F(v(u.value))+"%",1),M[22]||(M[22]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Hit Rate",-1))]),a("div",vB,[a("div",bB,F(C(u.value))+'"',1),M[23]||(M[23]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Avg Accuracy",-1))]),a("div",yB,[a("div",xB,F(S(u.value)),1),M[24]||(M[24]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Duration",-1))])]),a("div",kB,[M[31]||(M[31]=a("h4",{class:"text-lg font-semibold text-gray-900 dark:text-red-400 mb-3"},"Environmental Conditions",-1)),a("div",wB,[a("div",_B,[a("div",SB,F(e(u.value.conditions.temperature)),1),M[25]||(M[25]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Temperature",-1))]),a("div",AB,[a("div",CB,F(r(u.value.conditions.windSpeed)),1),M[26]||(M[26]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Wind Speed",-1))]),a("div",PB,[a("div",NB,F(o(u.value.conditions.windDirection)),1),M[27]||(M[27]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Wind Direction",-1))]),a("div",LB,[a("div",$B,F(n(u.value.conditions.humidity)),1),M[28]||(M[28]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Humidity",-1))]),a("div",EB,[a("div",MB,F(s(u.value.conditions.pressure)),1),M[29]||(M[29]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Pressure",-1))]),u.value.conditions.shootingDirection!==void 0?(W(),Y("div",TB,[a("div",DB,F(o(u.value.conditions.shootingDirection)),1),M[30]||(M[30]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Shot Direction",-1))])):Re("",!0)])]),u.value.notes?(W(),Y("div",IB,[M[32]||(M[32]=a("h4",{class:"text-lg font-semibold text-gray-900 dark:text-red-400 mb-3"},"Session Notes",-1)),a("div",RB,[a("p",OB,F(u.value.notes),1)])])):Re("",!0),a("div",null,[M[33]||(M[33]=a("h4",{class:"text-lg font-semibold text-gray-900 dark:text-red-400 mb-3"},"Shot Timeline",-1)),a("div",FB,[(W(!0),Y(rt,null,it(u.value.shots,(ae,ee)=>(W(),Y("div",{key:ae.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-red-600 rounded-lg"},[a("div",jB,[a("div",UB,"#"+F(ee+1),1),a("div",{class:at(["w-3 h-3 rounded-full",ae.actualResult.hit?"bg-green-500":"bg-red-500"])},null,2),a("div",BB,F(b(ae.distance)),1),a("div",zB,F(L(ae)),1)]),a("div",qB,F(K(ae.timestamp)),1)]))),128))])]),a("div",HB,[a("button",{onClick:M[4]||(M[4]=Is(ae=>Q(u.value.id),["stop"])),class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Delete Session "),a("button",{onClick:M[5]||(M[5]=Is(ae=>p(u.value),["stop"])),class:"px-4 py-2 bg-green-600 dark:bg-red-600 text-white dark:text-black rounded-lg hover:bg-green-700 dark:hover:bg-red-700 transition-colors"}," Export Session ")])])])):Re("",!0)]))}}),VB={class:"space-y-6"},GB={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},KB={class:"flex items-center justify-between"},YB={class:"flex space-x-4"},JB={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ZB={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},XB={class:"flex items-center"},QB={class:"p-2 bg-blue-100 dark:bg-red-600 rounded-lg"},ez={class:"ml-4"},tz={class:"text-2xl font-bold text-black dark:text-red-400"},rz={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},sz={class:"flex items-center"},az={class:"p-2 bg-green-100 dark:bg-red-600 rounded-lg"},nz={class:"ml-4"},oz={class:"text-2xl font-bold text-black dark:text-red-400"},iz={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},lz={class:"flex items-center"},dz={class:"p-2 bg-purple-100 dark:bg-red-600 rounded-lg"},cz={class:"ml-4"},uz={class:"text-2xl font-bold text-black dark:text-red-400"},fz={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},hz={class:"flex items-center"},gz={class:"p-2 bg-orange-100 dark:bg-red-600 rounded-lg"},pz={class:"ml-4"},mz={class:"text-2xl font-bold text-black dark:text-red-400"},vz={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},bz={key:0,class:"text-center py-8"},yz={key:1,class:"space-y-4"},xz=["onClick"],kz={class:"flex justify-between items-start"},wz={class:"flex-1"},_z={class:"flex items-center space-x-3"},Sz={class:"font-semibold text-black dark:text-red-400"},Az={class:"text-sm text-gray-500 dark:text-red-400 mt-1"},Cz={class:"mt-2 flex items-center space-x-4 text-sm text-gray-600 dark:text-red-400"},Pz={key:0},Nz={class:"text-right"},Lz={key:0,class:"mt-2"},$z={class:"text-sm font-medium text-gray-700 dark:text-red-400"},Ez={key:0,class:"flex justify-center items-center space-x-2 mt-6"},Mz=["disabled"],Tz={class:"text-sm text-gray-600 dark:text-red-400"},Dz=["disabled"],Iz={key:0,class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},Rz={class:"h-64 flex items-end space-x-2"},Oz={class:"text-xs text-gray-500 dark:text-red-400 mt-2"},Fz={class:"mt-4 text-center text-sm text-gray-600 dark:text-red-400"},jz={class:"bg-white dark:bg-black rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-red-500"},Uz={class:"sticky top-0 bg-white dark:bg-black border-b border-gray-200 dark:border-red-500 p-6 z-10"},Bz={class:"flex justify-between items-start"},zz={class:"flex items-center space-x-3 mb-2"},qz={class:"text-2xl font-bold text-black dark:text-red-400"},Hz={class:"text-gray-600 dark:text-red-400"},Wz={class:"p-6 space-y-6"},Vz={class:"bg-blue-50 dark:bg-gray-900 rounded-lg p-4"},Gz={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Kz={class:"text-xl font-bold text-black dark:text-red-400"},Yz={class:"text-xl font-bold text-black dark:text-red-400"},Jz={class:"text-xl font-bold text-black dark:text-red-400"},Zz={class:"text-xl font-bold text-black dark:text-red-400"},Xz={key:0},Qz={class:"space-y-3"},eq={class:"flex justify-between items-start"},tq={class:"font-medium text-black dark:text-red-400"},rq={class:"text-sm text-gray-600 dark:text-red-400 mt-1"},sq={class:"text-right"},aq={class:"text-sm font-medium text-gray-700 dark:text-red-400"},nq={key:1},oq={class:"space-y-2"},iq={class:"flex items-center space-x-3"},lq={class:"font-medium text-black dark:text-red-400"},dq={class:"text-gray-700 dark:text-red-400"},cq={key:0,class:"text-xs text-blue-600 dark:text-red-400 ml-2"},uq={class:"text-right"},fq={class:"font-medium text-black dark:text-red-400"},t0=10,hq=Dt({__name:"SportsLogsList",setup(t){const e=Ci(),r=ye("ALL"),s=ye(null),n=ye(1),o=Pe(()=>e.getAllMatches),i=Pe(()=>r.value==="ALL"?o.value:o.value.filter(L=>L.sportType===r.value)),l=Pe(()=>i.value.filter(L=>L.status==="COMPLETED")),d=Pe(()=>Math.ceil(i.value.length/t0)),c=Pe(()=>{const L=(n.value-1)*t0,b=L+t0;return i.value.slice(L,b)}),u=Pe(()=>{const L=l.value;if(console.log(" Win Rate Calculation:",{completedCount:L.length,matches:L.map(C=>({name:C.name,status:C.status,shooters:C.shooters?.length}))}),L.length===0)return"0.0";const b=L.filter(C=>{const S=E(C);return console.log(`  Match "${C.name}" placement:`,S),S===1}).length,v=(b/L.length*100).toFixed(1);return console.log(" Final Win Rate:",v,`(${b}/${L.length})`),v}),m=Pe(()=>{const L=l.value;if(console.log(" Avg Performance Calculation:",{completedCount:L.length}),L.length===0)return"0.0";const v=(L.reduce((C,S)=>{const N=parseFloat(R(S));return console.log(`  Match "${S.name}" performance:`,N),C+N},0)/L.length).toFixed(1);return console.log(" Final Avg Performance:",v),v}),y=Pe(()=>i.value.reduce((L,b)=>L+(b.stages?.length||0),0)),h=Pe(()=>l.value.map(L=>parseFloat(R(L)))),w=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),E=L=>{if(!L.shooters)return console.log(`   No shooters in match "${L.name}"`),null;const b=L.shooters.find(C=>C.isCurrentUser||C.id.startsWith("personal_"));if(!b)return console.log(`   Current shooter not found in match "${L.name}"`),console.log("    Available shooters:",L.shooters.map(C=>({id:C.id,name:C.name,isCurrentUser:C.isCurrentUser}))),null;const v=b.overallPlace;return console.log(`   Found shooter in "${L.name}":`,{name:b.name,id:b.id,overallPlace:v}),v||null},R=L=>{if(!L.shooters)return"0";const b=L.shooters.find(N=>N.isCurrentUser||N.id.startsWith("personal_"));if(!b)return"0";const v=b.overallPlace;if(!v)return"0";const C=L.shooters.length;return C<=1?"100":(100-(v-1)/(C-1)*100).toFixed(1)},T=L=>L?L===1?"text-yellow-600 dark:text-yellow-400 font-bold":L<=3?"text-blue-600 dark:text-blue-400 font-semibold":"text-gray-700 dark:text-red-400":"text-gray-500 dark:text-red-400",G=L=>L?`${L}${L===1?"st":L===2?"nd":L===3?"rd":"th"} Place`:"Placement N/A",z=(L,b)=>{const v=L.overallPlace;if(!v)return"0";const C=b.shooters?.length||1;return C<=1?"100":(100-(v-1)/(C-1)*100).toFixed(1)},$=L=>L.shooters?[...L.shooters].sort((b,v)=>{const C=b.overallPlace||999,S=v.overallPlace||999;return C-S}):[],I=L=>{s.value=L},K=()=>{const L={exportDate:new Date().toISOString(),sportType:r.value,totalMatches:i.value.length,completedMatches:l.value.length,matches:i.value.map(N=>({id:N.id,name:N.name,sportType:N.sportType,date:N.date,location:N.location,status:N.status,placement:E(N),performance:R(N),stages:N.stages?.length||0,competitors:N.shooters?.length||0}))},b=JSON.stringify(L,null,2),v="data:application/json;charset=utf-8,"+encodeURIComponent(b),C=`sports-logs-${r.value.toLowerCase()}-${new Date().toISOString().split("T")[0]}.json`,S=document.createElement("a");S.setAttribute("href",v),S.setAttribute("download",C),S.click()};return(L,b)=>(W(),Y("div",VB,[a("div",GB,[a("div",KB,[a("div",YB,[a("button",{onClick:b[0]||(b[0]=v=>r.value="ALL"),class:at(["px-4 py-2 rounded-lg font-medium transition-colors",r.value==="ALL"?"bg-blue-600 dark:bg-red-600 text-white dark:text-black":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-red-400 hover:bg-gray-200 dark:hover:bg-gray-700"])}," All Sports ",2),a("button",{onClick:b[1]||(b[1]=v=>r.value="IPSC"),class:at(["px-4 py-2 rounded-lg font-medium transition-colors",r.value==="IPSC"?"bg-blue-600 dark:bg-red-600 text-white dark:text-black":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-red-400 hover:bg-gray-200 dark:hover:bg-gray-700"])}," IPSC ",2),a("button",{onClick:b[2]||(b[2]=v=>r.value="IDPA"),class:at(["px-4 py-2 rounded-lg font-medium transition-colors",r.value==="IDPA"?"bg-blue-600 dark:bg-red-600 text-white dark:text-black":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-red-400 hover:bg-gray-200 dark:hover:bg-gray-700"])}," IDPA ",2)]),a("button",{onClick:K,class:"flex items-center px-4 py-2 bg-green-600 dark:bg-red-600 text-white dark:text-black rounded-lg hover:bg-green-700 dark:hover:bg-red-700 transition-colors"},[Me(Le(Tl),{class:"w-4 h-4 mr-2"}),b[7]||(b[7]=Qe(" Export ",-1))])])]),a("div",JB,[a("div",ZB,[a("div",XB,[a("div",QB,[Me(Le(Ds),{class:"w-6 h-6 text-blue-600 dark:text-black"})]),a("div",ez,[b[8]||(b[8]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Total Matches",-1)),a("p",tz,F(i.value.length),1)])])]),a("div",rz,[a("div",sz,[a("div",az,[Me(Le(ql),{class:"w-6 h-6 text-green-600 dark:text-black"})]),a("div",nz,[b[9]||(b[9]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Win Rate",-1)),a("p",oz,F(u.value)+"%",1)])])]),a("div",iz,[a("div",lz,[a("div",dz,[Me(Le(Dl),{class:"w-6 h-6 text-purple-600 dark:text-black"})]),a("div",cz,[b[10]||(b[10]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Avg Performance",-1)),a("p",uz,F(m.value)+"%",1)])])]),a("div",fz,[a("div",hz,[a("div",gz,[Me(Le(Br),{class:"w-6 h-6 text-orange-600 dark:text-black"})]),a("div",pz,[b[11]||(b[11]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Total Stages",-1)),a("p",mz,F(y.value),1)])])])]),a("div",vz,[b[15]||(b[15]=a("h2",{class:"text-lg font-semibold text-black dark:text-red-400 mb-6"},"Match History",-1)),i.value.length===0?(W(),Y("div",bz,[Me(Le(Ds),{class:"w-12 h-12 text-gray-400 dark:text-red-400 mx-auto mb-4"}),b[12]||(b[12]=a("p",{class:"text-gray-500 dark:text-red-400"},"No matches recorded yet",-1)),b[13]||(b[13]=a("p",{class:"text-sm text-gray-400 dark:text-red-400 mt-2"},"Start competing in IPSC or IDPA matches to track your performance",-1))])):(W(),Y("div",yz,[(W(!0),Y(rt,null,it(c.value,v=>(W(),Y("div",{key:v.id,class:"border border-gray-200 dark:border-red-500 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors cursor-pointer",onClick:C=>I(v)},[a("div",kz,[a("div",wz,[a("div",_z,[a("span",{class:at(["px-2 py-1 rounded-full text-xs font-medium",v.sportType==="IPSC"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200"])},F(v.sportType),3),a("h3",Sz,F(v.name),1)]),a("p",Az,F(w(v.date))+"  "+F(v.location),1),a("div",Cz,[a("span",null,F(v.stages?.length||0)+" stages",1),v.shooters?(W(),Y("span",Pz,F(v.shooters.length)+" shooters",1)):Re("",!0),E(v)?(W(),Y("span",{key:1,class:at(T(E(v)))},F(G(E(v))),3)):Re("",!0)])]),a("div",Nz,[a("span",{class:at(["px-2 py-1 rounded-full text-xs font-medium",v.status==="COMPLETED"?"bg-green-100 dark:bg-red-600 text-green-800 dark:text-black":v.status==="IN_PROGRESS"?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-gray-100 dark:bg-red-600 text-gray-600 dark:text-black border border-gray-300 dark:border-red-500"])},F(v.status.replace("_"," ")),3),v.status==="COMPLETED"?(W(),Y("div",Lz,[a("p",$z,F(R(v))+"% ",1),b[14]||(b[14]=a("p",{class:"text-xs text-gray-500 dark:text-red-400"},"Performance",-1))])):Re("",!0)])])],8,xz))),128)),d.value>1?(W(),Y("div",Ez,[a("button",{onClick:b[3]||(b[3]=v=>n.value--),disabled:n.value===1,class:"px-3 py-1 border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed text-gray-700 dark:text-red-400"}," Previous ",8,Mz),a("span",Tz," Page "+F(n.value)+" of "+F(d.value),1),a("button",{onClick:b[4]||(b[4]=v=>n.value++),disabled:n.value===d.value,class:"px-3 py-1 border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed text-gray-700 dark:text-red-400"}," Next ",8,Dz)])):Re("",!0)]))]),l.value.length>0?(W(),Y("div",Iz,[b[16]||(b[16]=a("h2",{class:"text-lg font-semibold text-black dark:text-red-400 mb-6"},"Performance Trend",-1)),a("div",Rz,[(W(!0),Y(rt,null,it(h.value,(v,C)=>(W(),Y("div",{key:C,class:"flex-1 flex flex-col items-center"},[a("div",{class:at(["w-full rounded-t transition-all hover:opacity-80",v>=90?"bg-green-500":v>=70?"bg-blue-500":v>=50?"bg-yellow-500":"bg-red-500"]),style:Ta({height:v+"%"})},null,6),a("span",Oz,F(C+1),1)]))),128))]),a("div",Fz," Performance across "+F(l.value.length)+" completed matches ",1)])):Re("",!0),s.value?(W(),Y("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:b[6]||(b[6]=Is(v=>s.value=null,["self"]))},[a("div",jz,[a("div",Uz,[a("div",Bz,[a("div",null,[a("div",zz,[a("span",{class:at(["px-2 py-1 rounded-full text-xs font-medium",s.value.sportType==="IPSC"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200"])},F(s.value.sportType),3),a("h2",qz,F(s.value.name),1)]),a("p",Hz,F(w(s.value.date))+"  "+F(s.value.location),1)]),a("button",{onClick:b[5]||(b[5]=v=>s.value=null),class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors"},[Me(Le(Po),{class:"w-6 h-6 text-gray-500 dark:text-red-400"})])])]),a("div",Wz,[a("div",Vz,[b[21]||(b[21]=a("h3",{class:"font-semibold text-black dark:text-red-400 mb-2"},"Overall Performance",-1)),a("div",Gz,[a("div",null,[b[17]||(b[17]=a("p",{class:"text-sm text-gray-600 dark:text-red-400"},"Placement",-1)),a("p",Kz,F(E(s.value)||"N/A"),1)]),a("div",null,[b[18]||(b[18]=a("p",{class:"text-sm text-gray-600 dark:text-red-400"},"Performance",-1)),a("p",Yz,F(R(s.value))+"%",1)]),a("div",null,[b[19]||(b[19]=a("p",{class:"text-sm text-gray-600 dark:text-red-400"},"Stages",-1)),a("p",Jz,F(s.value.stages?.length||0),1)]),a("div",null,[b[20]||(b[20]=a("p",{class:"text-sm text-gray-600 dark:text-red-400"},"Competitors",-1)),a("p",Zz,F(s.value.shooters?.length||0),1)])])]),s.value.stages&&s.value.stages.length>0?(W(),Y("div",Xz,[b[22]||(b[22]=a("h3",{class:"font-semibold text-black dark:text-red-400 mb-4"},"Stage Performance",-1)),a("div",Qz,[(W(!0),Y(rt,null,it(s.value.stages,(v,C)=>(W(),Y("div",{key:v.id,class:"border border-gray-200 dark:border-red-500 rounded-lg p-4"},[a("div",eq,[a("div",null,[a("h4",tq,F(v.name),1),a("p",rq,F(v.description||"No description"),1)]),a("div",sq,[a("p",aq," Stage "+F(C+1),1)])])]))),128))])])):Re("",!0),s.value.shooters&&s.value.shooters.length>0?(W(),Y("div",nq,[b[23]||(b[23]=a("h3",{class:"font-semibold text-black dark:text-red-400 mb-4"},"Competitors",-1)),a("div",oq,[(W(!0),Y(rt,null,it($(s.value),v=>(W(),Y("div",{key:v.id,class:at(["flex justify-between items-center p-3 border border-gray-200 dark:border-red-500 rounded-lg",v.isCurrentUser?"bg-blue-50 dark:bg-gray-900 border-blue-300 dark:border-red-400":""])},[a("div",iq,[a("span",lq," #"+F(v.overallPlace||"?"),1),a("span",dq,[Qe(F(v.name)+" ",1),v.isCurrentUser?(W(),Y("span",cq,"(You)")):Re("",!0)])]),a("div",uq,[a("p",fq,F(z(v,s.value))+"% ",1)])],2))),128))])])):Re("",!0)])])])):Re("",!0)]))}}),gq={class:"space-y-6"},pq={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},mq={class:"flex items-center justify-between"},vq={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},bq={class:"border-b border-gray-200 dark:border-red-500"},yq={class:"-mb-px flex space-x-8 px-6","aria-label":"Tabs"},xq={key:0},kq={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},wq={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},_q={class:"flex items-center"},Sq={class:"p-2 bg-blue-100 dark:bg-red-600 rounded-lg"},Aq={class:"ml-4"},Cq={class:"text-2xl font-bold text-black dark:text-red-400"},Pq={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},Nq={class:"flex items-center"},Lq={class:"p-2 bg-green-100 dark:bg-red-600 rounded-lg"},$q={class:"ml-4"},Eq={class:"text-2xl font-bold text-black dark:text-red-400"},Mq={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},Tq={class:"flex items-center"},Dq={class:"p-2 bg-purple-100 dark:bg-red-600 rounded-lg"},Iq={class:"ml-4"},Rq={class:"text-2xl font-bold text-black dark:text-red-400"},Oq={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},Fq={class:"flex items-center"},jq={class:"p-2 bg-orange-100 dark:bg-red-600 rounded-lg"},Uq={class:"ml-4"},Bq={class:"text-2xl font-bold text-black dark:text-red-400"},zq={key:0,class:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 rounded-lg shadow-sm border border-blue-200 dark:border-red-500 p-6"},qq={class:"flex items-center mb-4"},Hq={class:"p-2 bg-blue-100 dark:bg-red-600 rounded-lg"},Wq={class:"space-y-3"},Vq={class:"flex items-start"},Gq={class:"flex-1"},Kq={class:"font-semibold text-black dark:text-red-400"},Yq={class:"text-sm text-gray-600 dark:text-red-400 mt-1"},Jq={class:"text-xs text-gray-500 dark:text-red-400 mt-2 italic"},Zq={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},Xq={class:"flex items-center justify-between mb-6"},Qq={key:0,class:"text-center py-8"},eH={key:1,class:"space-y-4"},tH=["onClick"],rH={class:"flex justify-between items-start"},sH={class:"font-semibold text-black dark:text-red-400"},aH={class:"text-sm text-gray-500 dark:text-red-400"},nH={class:"text-sm text-gray-600 dark:text-red-400 mt-1"},oH={class:"text-right"},iH={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},lH={class:"flex items-center justify-between mb-6"},dH={class:"flex space-x-2"},cH={key:0,class:"text-center py-8"},uH={key:1,class:"table-container"},fH={class:"table-responsive"},hH={class:"table-base"},gH={class:"table-body"},pH={class:"table-cell table-sticky-column",style:{"min-width":"120px"}},mH={class:"table-cell table-cell-numeric",style:{"min-width":"100px"}},vH={class:"table-cell",style:{"min-width":"80px"}},bH={class:"table-cell text-gray-600 dark:text-red-400",style:{"min-width":"100px"}},yH={class:"table-cell text-gray-600 dark:text-red-400",style:{"min-width":"120px"}},xH={key:1},kH={key:2},wH={key:3},_H={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},SH={class:"bg-white dark:bg-black rounded-lg p-6 w-full max-w-md mx-4 border border-gray-200 dark:border-red-500"},AH={class:"space-y-4"},CH=["placeholder"],PH={value:"",disabled:""},NH=["value"],LH={key:0,class:"mt-2 p-3 bg-yellow-50 dark:bg-red-600 border border-yellow-200 dark:border-red-500 rounded-md"},$H={class:"text-sm text-yellow-800 dark:text-black"},EH={class:"flex justify-end space-x-3 mt-6"},MH=["disabled"],yV=Dt({__name:"HistoryView",setup(t){const e=Si(),r=_i(),s=Vn(),n=Wn(),o=Ci(),i=Pe(()=>n.unitPreset),l=Pe(()=>e.statistics),d=Pe(()=>e.shotSessions),c=Pe(()=>e.recentShots),u=Pe(()=>e.currentSession),m=ye(!1),y=ye(!1),h=ye(null),w=ye("dashboard"),E=ye({name:"",range:"",rifleId:"",notes:""}),R=Pe(()=>[...d.value].sort((A,p)=>new Date(p.date).getTime()-new Date(A.date).getTime()).slice(0,5)),T=Pe(()=>m.value?e.allShots:c.value),G=Pe(()=>s.profiles),z=Pe(()=>i.value==="metric"?"e.g., Local Range 100-550m":"e.g., Local Range 100-600yd"),$=Pe(()=>{const A=[],p=l.value.hitPercentage,P=l.value.totalShots,Q=d.value.length;P>0&&(p<70&&A.push({title:"Improve Distance Shooting Accuracy",description:`Your hit rate is ${p.toFixed(1)}%. Focus on fundamental shooting techniques and environmental factors.`,action:"Practice at shorter distances first, then gradually increase range as accuracy improves.",priority:"high",icon:Br}),Q<5&&A.push({title:"Increase Training Frequency",description:`Only ${Q} session${Q!==1?"s":""} recorded. Consistent practice is key to improvement.`,action:"Aim for at least one training session per week to build muscle memory and confidence.",priority:"medium",icon:zd}));const H=o.getAllMatches,q=H.filter(ee=>ee.status==="COMPLETED");let M=0,ae=0;if(q.length>0){let ee=0;q.forEach(k=>{const O=k.shooters?.find(U=>U.isCurrentUser||U.id.startsWith("personal_"));if(O&&k.shooters){const U=O.overallPlace;if(U){const B=k.shooters.length;if(B>1){const V=100-(U-1)/(B-1)*100;ee+=V,ae++}}}}),M=ae>0?ee/ae:0,M<70&&ae>0&&A.push({title:"Enhance Competition Performance",description:`Your average sports shooting performance is ${M.toFixed(1)}%. Work on stage planning and execution speed.`,action:"Review match videos, practice transitions, and focus on consistent accuracy under time pressure.",priority:"high",icon:Ds}),q.length<3&&A.push({title:"Gain More Competition Experience",description:`Only ${q.length} match${q.length!==1?"es":""} completed. Competition experience builds confidence and reveals areas for improvement.`,action:"Sign up for local IPSC/IDPA matches to apply your training in competitive scenarios.",priority:"medium",icon:Il})}return H.length===0&&P>20&&A.push({title:"Try Competitive Shooting",description:"You have distance shooting experience but no competition matches recorded.",action:"Consider entering IPSC or IDPA competitions to challenge yourself and meet other shooters.",priority:"low",icon:Ds}),P===0&&q.length===0&&A.push({title:"Start Your Shooting Journey",description:"No shooting activity recorded yet. Begin with distance shooting to build fundamentals.",action:"Create a rifle profile, start a training session, and record your first shots at the range.",priority:"high",icon:Br}),p>=80&&M>=80&&A.length===0&&A.push({title:"Excellent Performance!",description:"Your shooting metrics are outstanding across both distance and sports shooting.",action:"Maintain your training regimen and consider mentoring newer shooters in your community.",priority:"low",icon:Ds}),A}),I=A=>new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),K=A=>new Date(A).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),L=A=>A.shots.length===0?"0":(A.shots.filter(P=>P.actualResult.hit).length/A.shots.length*100).toFixed(1),b=A=>{if(i.value==="metric"){const p=A.horizontalOffset*So.INCHES_TO_CM,P=A.verticalOffset*So.INCHES_TO_CM;return`H: ${p.toFixed(1)} cm V: ${P.toFixed(1)} cm`}else return`H: ${A.horizontalOffset.toFixed(1)}" V: ${A.verticalOffset.toFixed(1)}"`},v=A=>{if(i.value==="metric"){const p=(A.temperature-32)*5/9,P=A.windSpeed*1.60934;return`${p.toFixed(1)}C, ${P.toFixed(1)}km/h`}else return`${A.temperature}F, ${A.windSpeed}mph`},C=A=>i.value==="metric"?`${(A*.9144).toFixed(0)}m`:`${A}yd`,S=()=>{if(!E.value.name||!E.value.range||!E.value.rifleId)return;const A=G.value.find(P=>P.id===E.value.rifleId);let p=r.currentConditions;if(!A){alert("Please ensure a rifle is selected");return}p||(p={temperature:70,windSpeed:0,windDirection:0,humidity:50,pressure:29.92,elevation:0,timestamp:new Date,source:Es.MANUAL}),e.startSession(E.value.name,E.value.range,p,A,E.value.notes||void 0),E.value={name:"",range:"",rifleId:"",notes:""},y.value=!1,y.value=!1},N=()=>{const A=e.exportTrainingData(),p=JSON.stringify(A,null,2),P="data:application/json;charset=utf-8,"+encodeURIComponent(p),Q=`shot-data-${new Date().toISOString().split("T")[0]}.json`,H=document.createElement("a");H.setAttribute("href",P),H.setAttribute("download",Q),H.click()};return qr(()=>{e.loadFromStorage()}),(A,p)=>{const P=Db("router-link");return W(),Y("div",gq,[a("div",pq,[a("div",mq,[p[11]||(p[11]=a("div",null,[a("h1",{class:"text-2xl font-bold text-black dark:text-red-400"},"Shooting Logs"),a("p",{class:"text-gray-600 dark:text-red-400 mt-1"},"Review your shooting records and performance data")],-1)),Me(Le(nf),{class:"w-8 h-8 text-blue-600 dark:text-red-500"})])]),a("div",vq,[a("div",bq,[a("nav",yq,[a("button",{onClick:p[0]||(p[0]=Q=>w.value="dashboard"),class:at(["py-4 px-1 border-b-2 font-medium text-sm",w.value==="dashboard"?"border-blue-500 dark:border-red-500 text-blue-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300 hover:border-gray-300 dark:hover:border-red-400"])}," Dashboard ",2),a("button",{onClick:p[1]||(p[1]=Q=>w.value="records"),class:at(["py-4 px-1 border-b-2 font-medium text-sm",w.value==="records"?"border-blue-500 dark:border-red-500 text-blue-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300 hover:border-gray-300 dark:hover:border-red-400"])}," Distance Logs ",2),a("button",{onClick:p[2]||(p[2]=Q=>w.value="sessions"),class:at(["py-4 px-1 border-b-2 font-medium text-sm",w.value==="sessions"?"border-blue-500 dark:border-red-500 text-blue-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300 hover:border-gray-300 dark:hover:border-red-400"])}," Sessions ",2),a("button",{onClick:p[3]||(p[3]=Q=>w.value="sports"),class:at(["py-4 px-1 border-b-2 font-medium text-sm",w.value==="sports"?"border-blue-500 dark:border-red-500 text-blue-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300 hover:border-gray-300 dark:hover:border-red-400"])}," Sports Logs ",2)])])]),w.value==="dashboard"?(W(),Y("div",xq,[a("div",kq,[a("div",wq,[a("div",_q,[a("div",Sq,[Me(Le(Br),{class:"w-6 h-6 text-blue-600 dark:text-black"})]),a("div",Aq,[p[12]||(p[12]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Total Shots",-1)),a("p",Cq,F(l.value.totalShots),1)])])]),a("div",Pq,[a("div",Nq,[a("div",Lq,[Me(Le(Js),{class:"w-6 h-6 text-green-600 dark:text-black"})]),a("div",$q,[p[13]||(p[13]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Hit Rate",-1)),a("p",Eq,F(l.value.hitPercentage.toFixed(1))+"%",1)])])]),a("div",Mq,[a("div",Tq,[a("div",Dq,[Me(Le(zd),{class:"w-6 h-6 text-purple-600 dark:text-black"})]),a("div",Iq,[p[14]||(p[14]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Sessions",-1)),a("p",Rq,F(d.value.length),1)])])]),a("div",Oq,[a("div",Fq,[a("div",jq,[Me(Le(bi),{class:"w-6 h-6 text-orange-600 dark:text-black"})]),a("div",Uq,[p[15]||(p[15]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Avg Range",-1)),a("p",Bq,F(C(l.value.averageRange)),1)])])])]),$.value.length>0?(W(),Y("div",zq,[a("div",qq,[a("div",Hq,[Me(Le(Dl),{class:"w-6 h-6 text-blue-600 dark:text-black"})]),p[16]||(p[16]=a("h2",{class:"text-lg font-semibold text-black dark:text-red-400 ml-3"},"Improvement Recommendations",-1))]),a("div",Wq,[(W(!0),Y(rt,null,it($.value,(Q,H)=>(W(),Y("div",{key:H,class:"bg-white dark:bg-black rounded-lg p-4 border border-gray-200 dark:border-red-500"},[a("div",Vq,[a("div",{class:at(["p-2 rounded-lg mr-3 flex-shrink-0",Q.priority==="high"?"bg-red-100 dark:bg-red-900":Q.priority==="medium"?"bg-yellow-100 dark:bg-yellow-900":"bg-green-100 dark:bg-green-900"])},[(W(),It(ls(Q.icon),{class:at(["w-5 h-5",Q.priority==="high"?"text-red-600 dark:text-red-400":Q.priority==="medium"?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"])},null,8,["class"]))],2),a("div",Gq,[a("h3",Kq,F(Q.title),1),a("p",Yq,F(Q.description),1),a("p",Jq,F(Q.action),1)])])]))),128))])])):Re("",!0),a("div",Zq,[a("div",Xq,[p[18]||(p[18]=a("h2",{class:"text-lg font-semibold text-black dark:text-red-400"},"Recent Sessions",-1)),a("button",{onClick:p[4]||(p[4]=Q=>y.value=!0),class:"flex items-center px-4 py-2 bg-blue-600 dark:bg-red-600 text-white dark:text-black rounded-lg hover:bg-blue-700 dark:hover:bg-red-700 transition-colors"},[Me(Le(li),{class:"w-4 h-4 mr-2"}),p[17]||(p[17]=Qe(" New Session ",-1))])]),d.value.length===0?(W(),Y("div",Qq,[Me(Le(zd),{class:"w-12 h-12 text-gray-400 dark:text-red-400 mx-auto mb-4"}),p[19]||(p[19]=a("p",{class:"text-gray-500 dark:text-red-400"},"No shooting sessions recorded yet",-1)),p[20]||(p[20]=a("p",{class:"text-sm text-gray-400 dark:text-red-400 mt-2"},"Start a new session to begin tracking your shots",-1))])):(W(),Y("div",eH,[(W(!0),Y(rt,null,it(R.value,Q=>(W(),Y("div",{key:Q.id,class:"border border-gray-200 dark:border-red-500 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors cursor-pointer",onClick:H=>h.value=Q},[a("div",rH,[a("div",null,[a("h3",sH,F(Q.name),1),a("p",aH,F(I(Q.date))+"  "+F(Q.range),1),a("p",nH,F(Q.shots.length)+" shots  "+F(L(Q))+"% hit rate",1)]),a("div",oH,[a("span",{class:at(["px-2 py-1 rounded-full text-xs font-medium",Q.id===u.value?.id?"bg-green-100 dark:bg-red-600 text-green-800 dark:text-black":"bg-gray-100 dark:bg-red-600 text-gray-600 dark:text-black border border-gray-300 dark:border-red-500"])},F(Q.id===u.value?.id?"Active":"Completed"),3)])])],8,tH))),128))]))]),a("div",iH,[a("div",lH,[p[21]||(p[21]=a("h2",{class:"text-lg font-semibold text-black dark:text-red-400"},"Recent Shots",-1)),a("div",dH,[a("button",{onClick:p[5]||(p[5]=Q=>m.value=!m.value),class:"px-3 py-1 text-sm border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-900 text-gray-700 dark:text-red-400"},F(m.value?"Show Recent":"Show All"),1),a("button",{onClick:N,class:"px-3 py-1 text-sm bg-green-600 dark:bg-red-600 text-white dark:text-black rounded-md hover:bg-green-700 dark:hover:bg-red-700 transition-colors"}," Export ")])]),T.value.length===0?(W(),Y("div",cH,[Me(Le(Br),{class:"w-12 h-12 text-gray-400 dark:text-red-400 mx-auto mb-4"}),p[22]||(p[22]=a("p",{class:"text-gray-500 dark:text-red-400"},"No shots recorded yet",-1)),p[23]||(p[23]=a("p",{class:"text-sm text-gray-400 dark:text-red-400 mt-2"},"Start shooting and recording results to see your data here",-1))])):(W(),Y("div",uH,[a("div",fH,[a("table",hH,[p[24]||(p[24]=a("thead",{class:"table-header"},[a("tr",null,[a("th",{class:"table-header-cell table-sticky-column",style:{"min-width":"120px"}},"Date"),a("th",{class:"table-header-cell",style:{"min-width":"100px"}},"Distance"),a("th",{class:"table-header-cell",style:{"min-width":"80px"}},"Result"),a("th",{class:"table-header-cell",style:{"min-width":"100px"}},"Offset"),a("th",{class:"table-header-cell",style:{"min-width":"120px"}},"Conditions")])],-1)),a("tbody",gH,[(W(!0),Y(rt,null,it(T.value,Q=>(W(),Y("tr",{key:Q.id,class:"table-row"},[a("td",pH,F(K(Q.timestamp)),1),a("td",mH,F(C(Q.distance)),1),a("td",vH,[a("span",{class:at(["px-2 py-1 rounded-full text-xs font-medium",Q.actualResult.hit?"bg-green-100 dark:bg-red-500 text-green-800 dark:text-black":"bg-red-100 dark:bg-black text-red-800 dark:text-red-400 border border-red-300 dark:border-red-500"])},F(Q.actualResult.hit?"Hit":"Miss"),3)]),a("td",bH,F(b(Q.actualResult)),1),a("td",yH,F(v(Q.environmentalConditions)),1)]))),128))])])])]))])])):w.value==="records"?(W(),Y("div",xH,[Me(SU)])):w.value==="sessions"?(W(),Y("div",kH,[Me(WB)])):w.value==="sports"?(W(),Y("div",wH,[Me(hq)])):Re("",!0),y.value?(W(),Y("div",_H,[a("div",SH,[p[31]||(p[31]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-400 mb-4"},"Start New Session",-1)),a("div",AH,[a("div",null,[p[25]||(p[25]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Session Name",-1)),Oe(a("input",{"onUpdate:modelValue":p[6]||(p[6]=Q=>E.value.name=Q),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black",placeholder:"e.g., Morning Practice"},null,512),[[dt,E.value.name]])]),a("div",null,[p[26]||(p[26]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Range/Location",-1)),Oe(a("input",{"onUpdate:modelValue":p[7]||(p[7]=Q=>E.value.range=Q),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black",placeholder:z.value},null,8,CH),[[dt,E.value.range]])]),a("div",null,[p[29]||(p[29]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Current Rifle",-1)),Oe(a("select",{"onUpdate:modelValue":p[8]||(p[8]=Q=>E.value.rifleId=Q),class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[a("option",PH,F(G.value.length===0?"No rifles available - create one first":"Select a rifle"),1),(W(!0),Y(rt,null,it(G.value,Q=>(W(),Y("option",{key:Q.id,value:Q.id},F(Q.name)+" ("+F(Q.caliber)+") ",9,NH))),128))],512),[[_t,E.value.rifleId]]),G.value.length===0?(W(),Y("div",LH,[a("p",$H,[Me(P,{to:"/rifles",class:"font-medium underline hover:text-yellow-900 dark:hover:text-gray-800"},{default:Nr(()=>[...p[27]||(p[27]=[Qe(" Create a rifle profile first ",-1)])]),_:1}),p[28]||(p[28]=Qe(" to start a shooting session. ",-1))])])):Re("",!0)]),a("div",null,[p[30]||(p[30]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Notes (Optional)",-1)),Oe(a("textarea",{"onUpdate:modelValue":p[9]||(p[9]=Q=>E.value.notes=Q),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black",placeholder:"Session goals, conditions, etc."},null,512),[[dt,E.value.notes]])])]),a("div",EH,[a("button",{onClick:p[10]||(p[10]=Q=>y.value=!1),class:"px-4 py-2 text-gray-700 dark:text-red-400 border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-900"}," Cancel "),a("button",{onClick:S,disabled:!E.value.name||!E.value.range||!E.value.rifleId||G.value.length===0,class:"px-4 py-2 bg-blue-600 dark:bg-red-600 text-white dark:text-black rounded-md hover:bg-blue-700 dark:hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Start Session ",8,MH)])])])):Re("",!0)])}}}),TH={class:"bg-white dark:bg-dark-100 rounded-xl shadow-army p-6"},DH={class:"flex items-center space-x-3"},IH={class:"text-sm opacity-90"},RH={class:"mb-6 p-4 bg-gray-50 dark:bg-dark-200 rounded-lg"},OH={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},FH={class:"text-sm text-gray-600 dark:text-gray-400 mt-2"},jH={class:"mb-6"},UH={class:"flex flex-col sm:flex-row gap-3"},BH=["disabled"],zH=["disabled"],qH={class:"mb-6"},HH={class:"space-y-3"},WH={class:"flex items-center space-x-3"},VH={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},GH=["disabled"],KH={key:0,class:"mb-6"},YH={class:"space-y-2"},JH={class:"flex justify-between items-start"},ZH={class:"font-medium text-red-700 dark:text-red-400"},XH={class:"text-xs text-red-600 dark:text-red-500"},QH={class:"text-red-600 dark:text-red-400 mt-1"},eW={class:"flex items-center space-x-2"},tW=Dt({__name:"DataBackupManager",setup(t){const e=ha(),r=ye({}),s=ye(!1),n=ye(!1),o=ye(!1),i=ye(null),l=ye(""),d=ye("info"),c=Pe(()=>{const I=parseFloat(r.value.successRate||100);return I>=95?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":I>=80?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400"}),u=Pe(()=>{const I=parseFloat(r.value.successRate||100);return I>=95?Js:I>=80?yi:cg}),m=Pe(()=>{const I=parseFloat(r.value.storageUsage?.usagePercent||0);return I<60?"bg-green-500":I<80?"bg-yellow-500":"bg-red-500"}),y=Pe(()=>{switch(d.value){case"success":return"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400";case"error":return"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400";default:return"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400"}}),h=Pe(()=>{switch(d.value){case"success":return Js;case"error":return cg;default:return yi}}),w=()=>{r.value=yl.getHealthReport()},E=async()=>{if(!e.currentProfile){z("No user profile found to export","error");return}s.value=!0;try{const I=yl.exportUserData(e.currentProfile.id),K=new Blob([I],{type:"application/json"}),L=URL.createObjectURL(K),b=document.createElement("a");b.href=L,b.download=`dope-backup-${e.currentProfile.name}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(L),z("Data exported successfully!","success")}catch(I){z(`Export failed: ${I}`,"error")}finally{s.value=!1}},R=()=>{o.value=!0,setInterval(()=>{E()},1440*60*1e3),z("Auto-export enabled! Daily backups will be created automatically.","success")},T=I=>{const K=I.target;i.value=K.files?.[0]||null},G=async()=>{if(i.value){n.value=!0;try{const I=await i.value.text();yl.importUserData(I)?(z("Data imported successfully! Refreshing page...","success"),setTimeout(()=>{window.location.reload()},2e3)):z("Import failed. Please check the backup file format.","error")}catch(I){z(`Import failed: ${I}`,"error")}finally{n.value=!1}}},z=(I,K)=>{l.value=I,d.value=K,setTimeout(()=>{l.value=""},5e3)},$=I=>new Date(I).toLocaleString();return qr(()=>{w(),setInterval(w,3e4);const I=localStorage.getItem("auto-export-enabled");o.value=I==="true"}),(I,K)=>(W(),Y("div",TH,[K[9]||(K[9]=a("h3",{class:"text-xl font-semibold text-army-green-900 dark:text-desert-100 mb-4"}," Data Backup & Recovery ",-1)),a("div",{class:at(["mb-6 p-4 rounded-lg",c.value])},[a("div",DH,[(W(),It(ls(u.value),{class:"w-5 h-5"})),a("div",null,[K[1]||(K[1]=a("h4",{class:"font-medium"},"Storage Health",-1)),a("p",IH,F(r.value.successRate)+"% success rate | "+F(r.value.totalOperations)+" operations (24h) ",1)])])],2),a("div",RH,[K[2]||(K[2]=a("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-2"},"Storage Usage",-1)),a("div",OH,[a("div",{class:at(["h-2 rounded-full transition-all duration-300",m.value]),style:Ta({width:`${Math.min(r.value.storageUsage?.usagePercent||0,100)}%`})},null,6)]),a("p",FH,F(r.value.storageUsage?.totalSizeKB||0)+"KB used of "+F(r.value.storageUsage?.maxSizeKB||0)+"KB ",1)]),a("div",jH,[K[3]||(K[3]=a("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-3"},"Export Your Data",-1)),a("div",UH,[a("button",{onClick:E,disabled:s.value,class:"flex-1 flex items-center justify-center px-4 py-2 bg-army-green-600 text-white rounded-lg hover:bg-army-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Me(Le(Tl),{class:"w-4 h-4 mr-2"}),Qe(" "+F(s.value?"Exporting...":"Export All Data"),1)],8,BH),a("button",{onClick:R,disabled:o.value,class:"flex-1 flex items-center justify-center px-4 py-2 border border-army-green-600 text-army-green-600 rounded-lg hover:bg-army-green-50 dark:hover:bg-dark-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Me(Le(af),{class:"w-4 h-4 mr-2"}),Qe(" "+F(o.value?"Auto Export Active":"Enable Auto Export"),1)],8,zH)]),K[4]||(K[4]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"}," Exports your profile, rifles, settings, and all data for safekeeping ",-1))]),a("div",qH,[K[6]||(K[6]=a("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-3"},"Import Data",-1)),a("div",HH,[a("div",WH,[a("input",{ref:"fileInput",type:"file",accept:".json",onChange:T,class:"hidden"},null,544),a("button",{onClick:K[0]||(K[0]=L=>I.$refs.fileInput?.click()),class:"flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-200 transition-colors"},[Me(Le(Ox),{class:"w-4 h-4 mr-2"}),K[5]||(K[5]=Qe(" Select Backup File ",-1))]),i.value?(W(),Y("span",VH,F(i.value.name),1)):Re("",!0)]),i.value?(W(),Y("button",{key:0,onClick:G,disabled:n.value,class:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Me(Le(Ex),{class:at(["w-4 h-4 mr-2",{"animate-spin":n.value}])},null,8,["class"]),Qe(" "+F(n.value?"Importing...":"Import Data"),1)],8,GH)):Re("",!0)]),K[7]||(K[7]=a("p",{class:"text-xs text-yellow-600 dark:text-yellow-400 mt-2"},"  Warning: This will replace your current data. Export first as backup! ",-1))]),r.value.recentFailures?.length?(W(),Y("div",KH,[K[8]||(K[8]=a("h4",{class:"font-medium text-red-700 dark:text-red-400 mb-3"},"Recent Issues",-1)),a("div",YH,[(W(!0),Y(rt,null,it(r.value.recentFailures.slice(0,3),L=>(W(),Y("div",{key:L.timestamp,class:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg text-sm"},[a("div",JH,[a("span",ZH,F(L.operation)+" failed for "+F(L.key),1),a("span",XH,F($(L.timestamp)),1)]),a("p",QH,F(L.error),1)]))),128))])])):Re("",!0),l.value?(W(),Y("div",{key:1,class:at(["p-4 rounded-lg",y.value])},[a("div",eW,[(W(),It(ls(h.value),{class:"w-5 h-5"})),a("span",null,F(l.value),1)])],2)):Re("",!0)]))}}),rW={class:"container mx-auto px-4 py-8"},sW={class:"flex items-center justify-between mb-8"},aW={class:"flex space-x-2"},nW={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},oW={class:"bg-white dark:bg-black rounded-lg shadow-md p-6"},iW={class:"flex items-center mb-4"},lW={class:"mb-6"},dW={class:"flex space-x-4"},cW={class:"flex items-center"},uW={class:"flex items-center"},fW={class:"space-y-4"},hW={class:"bg-white dark:bg-black rounded-lg shadow-md p-6"},gW={class:"flex items-center mb-4"},pW={class:"space-y-4"},mW={class:"space-y-3"},vW={class:"space-y-2"},bW={class:"flex items-center"},yW={class:"flex items-center"},xW={class:"flex items-center"},kW={class:"flex items-center"},wW={class:"space-y-2"},_W={class:"flex items-center"},SW={class:"flex items-center"},AW={class:"flex items-center"},CW={class:"mt-6"},PW={key:0,class:"fixed bottom-4 right-4"},NW={class:"bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center"},xV=Dt({__name:"SettingsView",setup(t){const e=Wn(),r=jn({...e.units}),s=jn({...e.preferences}),n=ye(e.unitPreset),o=ye(!1),i=ye(!1);Sr([r,s],()=>{o.value=!0},{deep:!0});const l=()=>{e.updateUnits(r),n.value=e.unitPreset,y()},d=()=>{const h=e.preferences;e.updatePreferences({theme:h.theme,language:h.language,useAIEnhancement:s.useAIEnhancement,showAdvancedOptions:s.showAdvancedOptions,showBallisticCoach:s.showBallisticCoach,showAtmosphericDensity:s.showAtmosphericDensity,autoSaveProfiles:s.autoSaveProfiles,confirmDeletions:s.confirmDeletions,useWeatherService:s.useWeatherService,useGPS:h.useGPS,weatherUpdateInterval:h.weatherUpdateInterval,showWindFlags:h.showWindFlags,decimalPlaces:s.decimalPlaces}),y()},c=()=>{e.setUnitPreset(n.value),Object.assign(r,e.units),y()},u=()=>{e.updateUnits(r),e.updatePreferences(s),o.value=!1,y()},m=()=>{confirm("Are you sure you want to reset all settings to defaults? This cannot be undone.")&&(e.resetToDefaults(),Object.assign(r,e.units),Object.assign(s,e.preferences),n.value=e.unitPreset,o.value=!1,y())},y=()=>{o.value=!1,i.value=!0,setTimeout(()=>{i.value=!1},2e3)};return qr(()=>{Object.assign(r,e.units),Object.assign(s,e.preferences),n.value=e.unitPreset,o.value=!1}),Bl(()=>{}),(h,w)=>(W(),Y("div",rW,[a("div",sW,[w[19]||(w[19]=a("h1",{class:"text-3xl font-bold text-gray-900 dark:text-red-400"},"Settings",-1)),a("div",aW,[a("button",{onClick:m,class:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-red-500"},[Me(Le(b0),{class:"w-4 h-4 mr-2"}),w[17]||(w[17]=Qe(" Reset to Defaults ",-1))]),o.value?(W(),Y("button",{key:0,onClick:u,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-blue-600 dark:bg-red-600 hover:bg-blue-700 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-red-500"},[Me(Le(of),{class:"w-4 h-4 mr-2"}),w[18]||(w[18]=Qe(" Save Changes ",-1))])):Re("",!0)])]),a("div",nW,[a("div",oW,[a("div",iW,[Me(Le(Hl),{class:"w-5 h-5 text-blue-600 dark:text-red-400 mr-2"}),w[20]||(w[20]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-red-400"},"Units & Measurements",-1))]),a("div",lW,[w[23]||(w[23]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"},"Unit System",-1)),a("div",dW,[a("label",cW,[Oe(a("input",{type:"radio",value:"imperial","onUpdate:modelValue":w[0]||(w[0]=E=>n.value=E),onChange:c,class:"w-4 h-4 text-blue-600 border-gray-300 dark:border-red-500 focus:ring-blue-500 dark:focus:ring-red-500"},null,544),[[on,n.value]]),w[21]||(w[21]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Imperial (US)",-1))]),a("label",uW,[Oe(a("input",{type:"radio",value:"metric","onUpdate:modelValue":w[1]||(w[1]=E=>n.value=E),onChange:c,class:"w-4 h-4 text-blue-600 border-gray-300 dark:border-red-500 focus:ring-blue-500 dark:focus:ring-red-500"},null,544),[[on,n.value]]),w[22]||(w[22]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Metric (International)",-1))])])]),a("div",fW,[a("div",null,[w[25]||(w[25]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Distance",-1)),Oe(a("select",{"onUpdate:modelValue":w[2]||(w[2]=E=>r.distance=E),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[...w[24]||(w[24]=[a("option",{value:"yards"},"Yards",-1),a("option",{value:"meters"},"Meters",-1)])],544),[[_t,r.distance]])]),a("div",null,[w[27]||(w[27]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Temperature",-1)),Oe(a("select",{"onUpdate:modelValue":w[3]||(w[3]=E=>r.temperature=E),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[...w[26]||(w[26]=[a("option",{value:"fahrenheit"},"Fahrenheit (F)",-1),a("option",{value:"celsius"},"Celsius (C)",-1)])],544),[[_t,r.temperature]])]),a("div",null,[w[29]||(w[29]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Pressure",-1)),Oe(a("select",{"onUpdate:modelValue":w[4]||(w[4]=E=>r.pressure=E),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[...w[28]||(w[28]=[a("option",{value:"inHg"},"Inches of Mercury (inHg)",-1),a("option",{value:"hPa"},"Hectopascals (hPa)",-1),a("option",{value:"mmHg"},"Millimeters of Mercury (mmHg)",-1)])],544),[[_t,r.pressure]])]),a("div",null,[w[31]||(w[31]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Velocity",-1)),Oe(a("select",{"onUpdate:modelValue":w[5]||(w[5]=E=>r.velocity=E),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[...w[30]||(w[30]=[a("option",{value:"fps"},"Feet per Second (ft/s)",-1),a("option",{value:"mps"},"Meters per Second (m/s)",-1)])],544),[[_t,r.velocity]])]),a("div",null,[w[33]||(w[33]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Wind Speed",-1)),Oe(a("select",{"onUpdate:modelValue":w[6]||(w[6]=E=>r.windSpeed=E),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[...w[32]||(w[32]=[a("option",{value:"mph"},"Miles per Hour (mph)",-1),a("option",{value:"kph"},"Kilometers per Hour (km/h)",-1),a("option",{value:"mps"},"Meters per Second (m/s)",-1)])],544),[[_t,r.windSpeed]])]),a("div",null,[w[35]||(w[35]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Scope Adjustments",-1)),Oe(a("select",{"onUpdate:modelValue":w[7]||(w[7]=E=>r.scopeAdjustments=E),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[...w[34]||(w[34]=[a("option",{value:"MOA"},"Minutes of Angle (MOA)",-1),a("option",{value:"MIL"},"Milliradians (MIL)",-1)])],544),[[_t,r.scopeAdjustments]])])])]),a("div",hW,[a("div",gW,[Me(Le(dc),{class:"w-5 h-5 text-purple-600 dark:text-red-400 mr-2"}),w[36]||(w[36]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-red-400"},"Application Preferences",-1))]),a("div",pW,[a("div",null,[w[41]||(w[41]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Display",-1)),a("div",mW,[a("div",null,[w[38]||(w[38]=a("label",{class:"block text-xs font-medium text-gray-700 dark:text-red-400 mb-1"},"Theme",-1)),Oe(a("select",{"onUpdate:modelValue":w[8]||(w[8]=E=>s.theme=E),onChange:d,class:"block w-full px-2 py-1 border border-gray-300 dark:border-red-500 rounded text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[...w[37]||(w[37]=[a("option",{value:"light"},"Light",-1),a("option",{value:"dark"},"Dark",-1),a("option",{value:"auto-time"},"Auto (Time)",-1),a("option",{value:"system"},"System Default",-1)])],544),[[_t,s.theme]])]),a("div",null,[w[40]||(w[40]=a("label",{class:"block text-xs font-medium text-gray-700 dark:text-red-400 mb-1"},"Decimal Places",-1)),Oe(a("select",{"onUpdate:modelValue":w[9]||(w[9]=E=>s.decimalPlaces=E),onChange:d,class:"block w-full px-2 py-1 border border-gray-300 dark:border-red-500 rounded text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[...w[39]||(w[39]=[a("option",{value:"0"},"0",-1),a("option",{value:"1"},"1",-1),a("option",{value:"2"},"2",-1),a("option",{value:"3"},"3",-1)])],544),[[_t,s.decimalPlaces]])])])]),a("div",null,[w[46]||(w[46]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Calculation Features",-1)),a("div",vW,[a("label",bW,[Oe(a("input",{type:"checkbox","onUpdate:modelValue":w[10]||(w[10]=E=>s.useAIEnhancement=E),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Ur,s.useAIEnhancement]]),w[42]||(w[42]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"AI-Enhanced Calculations",-1))]),a("label",yW,[Oe(a("input",{type:"checkbox","onUpdate:modelValue":w[11]||(w[11]=E=>s.showAdvancedOptions=E),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Ur,s.showAdvancedOptions]]),w[43]||(w[43]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Show Advanced Options",-1))]),a("label",xW,[Oe(a("input",{type:"checkbox","onUpdate:modelValue":w[12]||(w[12]=E=>s.showBallisticCoach=E),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Ur,s.showBallisticCoach]]),w[44]||(w[44]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Ballistic Coach Tips",-1))]),a("label",kW,[Oe(a("input",{type:"checkbox","onUpdate:modelValue":w[13]||(w[13]=E=>s.showAtmosphericDensity=E),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Ur,s.showAtmosphericDensity]]),w[45]||(w[45]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Atmospheric Density Display",-1))])])]),a("div",null,[w[50]||(w[50]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Data & Storage",-1)),a("div",wW,[a("label",_W,[Oe(a("input",{type:"checkbox","onUpdate:modelValue":w[14]||(w[14]=E=>s.autoSaveProfiles=E),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Ur,s.autoSaveProfiles]]),w[47]||(w[47]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Auto-save Rifle Profiles",-1))]),a("label",SW,[Oe(a("input",{type:"checkbox","onUpdate:modelValue":w[15]||(w[15]=E=>s.confirmDeletions=E),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Ur,s.confirmDeletions]]),w[48]||(w[48]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Confirm Deletions",-1))]),a("label",AW,[Oe(a("input",{type:"checkbox","onUpdate:modelValue":w[16]||(w[16]=E=>s.useWeatherService=E),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Ur,s.useWeatherService]]),w[49]||(w[49]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Auto Weather Updates",-1))])])])])])]),a("div",CW,[Me(tW)]),i.value?(W(),Y("div",PW,[a("div",NW,[Me(Le(vx),{class:"w-4 h-4 mr-2"}),w[51]||(w[51]=Qe(" Settings saved successfully ",-1))])])):Re("",!0)]))}}),LW={class:"space-y-6"},$W={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},EW={class:"flex items-center justify-between"},MW={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},TW={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},DW=["onClick"],IW={class:"text-left"},RW={class:"font-medium"},OW={class:"text-sm opacity-75"},FW={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},jW={key:0,class:"space-y-6"},UW={class:"flex items-center mb-6"},BW={key:1,class:"space-y-6"},zW={class:"flex items-center mb-6"},qW={key:2,class:"space-y-6"},HW={class:"flex items-center mb-6"},WW={key:3,class:"space-y-6"},VW={class:"flex items-center mb-6"},GW={key:4,class:"space-y-6"},KW={class:"flex items-center mb-6"},YW={key:5,class:"space-y-6"},JW={class:"flex items-center mb-6"},ZW={key:6,class:"space-y-6"},XW={class:"flex items-center mb-6"},QW=Dt({__name:"HelpView",setup(t){const e=ye("getting-started"),r=[{id:"getting-started",title:"Getting Started",description:"Initial setup and overview",icon:"Rocket"},{id:"rifle-config",title:"Rifle Configuration",description:"Setting up rifle profiles",icon:"Target"},{id:"calculator",title:"Calculator Usage",description:"Using the ballistics calculator",icon:"Calculator"},{id:"environment",title:"Environmental Data",description:"Weather and conditions",icon:"Cloud"},{id:"troubleshooting",title:"Troubleshooting",description:"Common issues and solutions",icon:"AlertCircle"},{id:"tips",title:"Tips & Best Practices",description:"Expert advice and techniques",icon:"Lightbulb"},{id:"safety",title:"Safety & Legal",description:"Safety guidelines and compliance",icon:"ShieldCheck"}];return(s,n)=>(W(),Y("div",LW,[a("div",$W,[a("div",EW,[n[0]||(n[0]=a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-red-400"},"Help & Support"),a("p",{class:"text-gray-600 dark:text-red-400 mt-1"},"Documentation, guides, and support resources")],-1)),Me(Le(sf),{class:"w-8 h-8 text-blue-600"})])]),a("div",MW,[n[1]||(n[1]=a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-red-400 mb-4"},"Quick Navigation",-1)),a("div",TW,[(W(),Y(rt,null,it(r,o=>a("button",{key:o.id,onClick:i=>e.value=o.id,class:at(["flex items-center p-4 rounded-lg border-2 transition-all duration-200",e.value===o.id?"border-blue-500 dark:border-red-500 bg-blue-50 dark:bg-red-600 text-blue-700 dark:text-black":"border-gray-200 dark:border-red-500 hover:border-gray-300 dark:hover:border-red-400 text-gray-700 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-red-700"])},[(W(),It(ls(o.icon),{class:"w-6 h-6 mr-3"})),a("div",IW,[a("div",RW,F(o.title),1),a("div",OW,F(o.description),1)])],10,DW)),64))])]),a("div",FW,[e.value==="getting-started"?(W(),Y("div",jW,[a("div",UW,[Me(Le(Mx),{class:"w-6 h-6 text-blue-600 mr-3"}),n[2]||(n[2]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Getting Started",-1))]),n[3]||(n[3]=Ht('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Welcome to DOPE Tool</h3><p data-v-778a260d>Your comprehensive ballistics calculator for competitive long-range shooting. This guide will help you get started quickly and effectively.</p><h4 data-v-778a260d>First Launch Setup</h4><ol data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Allow Location Access:</strong> When prompted, allow location access for automatic environmental data collection</li><li data-v-778a260d><strong data-v-778a260d>Create Your Profile:</strong> Set up your user profile and select an icon</li><li data-v-778a260d><strong data-v-778a260d>Configure Your Rifle:</strong> Add your rifle profile with accurate specifications</li><li data-v-778a260d><strong data-v-778a260d>Verify Environmental Data:</strong> Ensure weather conditions are current and accurate</li><li data-v-778a260d><strong data-v-778a260d>Perform Test Calculation:</strong> Run a calculation at a known distance to verify accuracy</li></ol><h4 data-v-778a260d>Interface Overview</h4><p data-v-778a260d>The application features six main sections accessible from the navigation menu:</p><ul data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Calculator:</strong> Main ballistics calculation interface</li><li data-v-778a260d><strong data-v-778a260d>Rifles:</strong> Rifle profile management</li><li data-v-778a260d><strong data-v-778a260d>Environment:</strong> Weather and environmental controls</li><li data-v-778a260d><strong data-v-778a260d>History:</strong> Shot recording and analysis</li><li data-v-778a260d><strong data-v-778a260d>Zero:</strong> Zero verification and adjustment</li><li data-v-778a260d><strong data-v-778a260d>Settings:</strong> Application preferences and configuration</li></ul><h4 data-v-778a260d>Essential First Steps</h4><div class="bg-blue-50 dark:bg-black border-l-4 border-blue-500 dark:border-red-500 p-4 my-4" data-v-778a260d><div class="font-medium text-blue-800 dark:text-white" data-v-778a260d>Pro Tip:</div><p class="text-blue-700 dark:text-white mt-1" data-v-778a260d>Start with accurate rifle data - chronograph your loads and verify your ballistic coefficient values for best results.</p></div></div>',1))])):Re("",!0),e.value==="rifle-config"?(W(),Y("div",BW,[a("div",zW,[Me(Le(Br),{class:"w-6 h-6 text-blue-600 mr-3"}),n[4]||(n[4]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Rifle Configuration",-1))]),n[5]||(n[5]=Ht('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Essential Parameters</h3><p data-v-778a260d>Accurate rifle data is crucial for precise ballistic calculations. Here&#39;s what you need to know:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-lg font-semibold mb-3 dark:text-white" data-v-778a260d>Required Data</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Rifle Name:</strong> Descriptive name for your setup</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Caliber:</strong> Cartridge specification (e.g., .308 Win)</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Bullet Weight:</strong> In grains (e.g., 175gr)</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Muzzle Velocity:</strong> Chronographed velocity in ft/s or m/s</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Ballistic Coefficient:</strong> G7 BC from manufacturer (more accurate for modern boat-tail bullets)</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Zero Range:</strong> Distance where scope is zeroed</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Sight Height:</strong> Scope centerline above bore</li></ul></div><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-lg font-semibold mb-3 dark:text-white" data-v-778a260d>Best Practices</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Chronograph Your Load:</strong> Use actual measured velocities</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Verify BC:</strong> Use manufacturer&#39;s G1 BC values</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Accurate Measurements:</strong> Measure sight height precisely</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Document Zero:</strong> Record exact zero distance and conditions</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Multiple Readings:</strong> Average several chronograph readings</li></ul></div></div><h4 data-v-778a260d>Common Calibers &amp; Data</h4><div class="table-container" data-v-778a260d><div class="table-responsive" data-v-778a260d><table class="table-base" data-v-778a260d><thead class="table-header" data-v-778a260d><tr data-v-778a260d><th class="table-header-cell" data-v-778a260d>Caliber</th><th class="table-header-cell" data-v-778a260d>Bullet Weight</th><th class="table-header-cell" data-v-778a260d>Typical Velocity</th><th class="table-header-cell" data-v-778a260d>BC (G7)</th></tr></thead><tbody class="table-body" data-v-778a260d><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>.308 Win / 7.6251mm</td><td class="table-cell table-cell-numeric" data-v-778a260d>175gr / 11.3g</td><td class="table-cell table-cell-numeric" data-v-778a260d>2650 fps / 808 m/s</td><td class="table-cell table-cell-numeric" data-v-778a260d>0.232</td></tr><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>6.5 Creedmoor</td><td class="table-cell table-cell-numeric" data-v-778a260d>140gr / 9.1g</td><td class="table-cell table-cell-numeric" data-v-778a260d>2700 fps / 823 m/s</td><td class="table-cell table-cell-numeric" data-v-778a260d>0.310</td></tr><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>.300 Win Mag</td><td class="table-cell table-cell-numeric" data-v-778a260d>190gr / 12.3g</td><td class="table-cell table-cell-numeric" data-v-778a260d>2900 fps / 884 m/s</td><td class="table-cell table-cell-numeric" data-v-778a260d>0.271</td></tr></tbody></table></div></div><div class="bg-yellow-50 dark:bg-black border-l-4 border-yellow-500 dark:border-red-500 p-4 my-4" data-v-778a260d><div class="font-medium text-yellow-800 dark:text-white" data-v-778a260d>Important:</div><p class="text-yellow-700 dark:text-white mt-1" data-v-778a260d>These are example values only. Always use your actual chronographed velocities and manufacturer BC values for accurate calculations.</p></div><div class="bg-blue-50 dark:bg-black border-l-4 border-blue-500 dark:border-red-500 p-4 my-4" data-v-778a260d><div class="font-medium text-blue-800 dark:text-white" data-v-778a260d>G7 Ballistic Coefficients:</div><p class="text-blue-700 dark:text-white mt-1" data-v-778a260d>This system uses G7 ballistic coefficients, which are more accurate for modern boat-tail bullets compared to the older G1 standard. G7 provides better trajectory predictions, especially for long-range shooting beyond 600 yards/meters.</p></div></div>',1))])):Re("",!0),e.value==="calculator"?(W(),Y("div",qW,[a("div",HW,[Me(Le(Hl),{class:"w-6 h-6 text-blue-600 mr-3"}),n[6]||(n[6]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Using the Calculator",-1))]),n[7]||(n[7]=Ht('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Basic Operation</h3><p data-v-778a260d>The ballistics calculator provides comprehensive trajectory data for your rifle and ammunition combination.</p><h4 data-v-778a260d>Input Parameters</h4><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold mb-2 dark:text-white" data-v-778a260d>Target Distance</h5><ul class="text-sm space-y-1" data-v-778a260d><li class="dark:text-white" data-v-778a260d> Enter target distance in yards or meters</li><li class="dark:text-white" data-v-778a260d> Use the slider for quick adjustments</li><li class="dark:text-white" data-v-778a260d> Imperial: 25 to 1200 yards</li><li class="dark:text-white" data-v-778a260d> Metric: 23 to 1097 meters</li><li class="dark:text-white" data-v-778a260d> Supports decimal values (e.g., 387.5 yards / 354.2 meters)</li></ul></div><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold mb-2 dark:text-white" data-v-778a260d>Environmental Override</h5><ul class="text-sm space-y-1" data-v-778a260d><li class="dark:text-white" data-v-778a260d> Automatic weather data from GPS</li><li class="dark:text-white" data-v-778a260d> Manual override capability</li><li class="dark:text-white" data-v-778a260d> Real-time condition updates</li><li class="dark:text-white" data-v-778a260d> Historical weather tracking</li></ul></div></div><h4 data-v-778a260d>Reading Results</h4><p data-v-778a260d>The calculator provides comprehensive ballistic data:</p><div class="grid grid-cols-1 md:grid-cols-3 gap-4 my-6" data-v-778a260d><div class="bg-blue-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold text-blue-800 dark:text-white" data-v-778a260d>Trajectory Data</h5><ul class="text-sm text-blue-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Drop:</strong> Bullet drop in inches/cm (negative = below)</li><li data-v-778a260d><strong data-v-778a260d>Windage:</strong> Wind deflection (positive = right)</li><li data-v-778a260d><strong data-v-778a260d>Spin Drift:</strong> Gyroscopic drift in inches/cm</li></ul></div><div class="bg-green-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold text-green-800 dark:text-white" data-v-778a260d>Ballistic Performance</h5><ul class="text-sm text-green-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Velocity:</strong> Remaining velocity at target</li><li data-v-778a260d><strong data-v-778a260d>Energy:</strong> Remaining energy in ft-lbs/Joules</li><li data-v-778a260d><strong data-v-778a260d>Time of Flight:</strong> Bullet flight time</li></ul></div><div class="bg-purple-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold text-purple-800 dark:text-white" data-v-778a260d>Scope Adjustments</h5><ul class="text-sm text-purple-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>MOA:</strong> Minutes of Angle adjustments</li><li data-v-778a260d><strong data-v-778a260d>MIL:</strong> Milliradian adjustments</li><li data-v-778a260d><strong data-v-778a260d>Clicks:</strong> Scope click values</li></ul></div></div><h4 data-v-778a260d>Advanced Features</h4><ul data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Trajectory Tables:</strong> Generate complete tables for multiple distances</li><li data-v-778a260d><strong data-v-778a260d>Environmental Corrections:</strong> Automatic air density and temperature adjustments</li><li data-v-778a260d><strong data-v-778a260d>Wind Rose:</strong> Full 360 wind direction support</li><li data-v-778a260d><strong data-v-778a260d>Incline Shooting:</strong> Uphill/downhill angle corrections</li></ul></div>',1))])):Re("",!0),e.value==="environment"?(W(),Y("div",WW,[a("div",VW,[Me(Le(wx),{class:"w-6 h-6 text-blue-600 mr-3"}),n[8]||(n[8]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Environmental Conditions",-1))]),n[9]||(n[9]=Ht('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Automatic Data Collection</h3><p data-v-778a260d>The app automatically retrieves current environmental conditions using your location and weather services:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-lg font-semibold mb-3 dark:text-white" data-v-778a260d>Auto-Retrieved Data</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Temperature:</strong> Current air temperature</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Barometric Pressure:</strong> Current pressure</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Humidity:</strong> Relative humidity percentage</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Wind Speed:</strong> Current wind velocity</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Wind Direction:</strong> Wind direction in degrees</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Altitude:</strong> Elevation from GPS</li></ul></div><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-lg font-semibold mb-3 dark:text-white" data-v-778a260d>Environmental Effects</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Temperature:</strong> Affects powder burn rate and air density</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Pressure:</strong> Higher pressure = denser air = more drag</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Humidity:</strong> Higher humidity = less dense air</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Altitude:</strong> Higher altitude = thinner air = less drag</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Wind:</strong> Speed and direction for deflection</li></ul></div></div><h4 data-v-778a260d>Manual Override</h4><p data-v-778a260d>You can manually adjust any environmental parameter when needed:</p><div class="bg-blue-50 dark:bg-black border-l-4 border-blue-500 dark:border-red-500 p-4 my-4" data-v-778a260d><h5 class="font-medium text-blue-800 dark:text-white" data-v-778a260d>When to Use Manual Override</h5><ul class="text-blue-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Weather service data is outdated or inaccurate</li><li data-v-778a260d> Shooting in a different microclimate</li><li data-v-778a260d> Competition with specific environmental requirements</li><li data-v-778a260d> No internet connection for weather data</li></ul></div><h4 data-v-778a260d>Environmental Impact Examples</h4><div class="table-container" data-v-778a260d><div class="table-responsive" data-v-778a260d><table class="table-base" data-v-778a260d><thead class="table-header" data-v-778a260d><tr data-v-778a260d><th class="table-header-cell" data-v-778a260d>Factor</th><th class="table-header-cell" data-v-778a260d>Change</th><th class="table-header-cell" data-v-778a260d>Effect at 1000 yards / 914 meters</th></tr></thead><tbody class="table-body" data-v-778a260d><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>Temperature</td><td class="table-cell" data-v-778a260d>20F / 11C increase</td><td class="table-cell" data-v-778a260d>~1 MOA less drop</td></tr><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>Altitude</td><td class="table-cell" data-v-778a260d>3000ft / 914m increase</td><td class="table-cell" data-v-778a260d>~0.5 MOA less drop</td></tr><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>Wind</td><td class="table-cell" data-v-778a260d>10 mph / 16 kph crosswind</td><td class="table-cell" data-v-778a260d>~3-4 MOA deflection</td></tr></tbody></table></div></div></div>',1))])):Re("",!0),e.value==="troubleshooting"?(W(),Y("div",GW,[a("div",KW,[Me(Le(xx),{class:"w-6 h-6 text-blue-600 mr-3"}),n[10]||(n[10]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Troubleshooting",-1))]),n[11]||(n[11]=Ht('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Common Issues &amp; Solutions</h3><div class="space-y-6" data-v-778a260d><div class="bg-red-50 dark:bg-black border border-red-200 dark:border-red-500 p-4 rounded-lg" data-v-778a260d><h4 class="text-red-800 dark:text-white font-semibold" data-v-778a260d>Large Prediction Errors</h4><div class="text-red-700 dark:text-white mt-2" data-v-778a260d><p data-v-778a260d><strong data-v-778a260d>Symptoms:</strong> Calculated drop/windage significantly different from actual impacts</p><p data-v-778a260d><strong data-v-778a260d>Solutions:</strong></p><ul class="mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Verify muzzle velocity with chronograph</li><li data-v-778a260d> Check zero range accuracy</li><li data-v-778a260d> Confirm sight height measurement</li><li data-v-778a260d> Validate BC value with manufacturer data</li><li data-v-778a260d> Ensure environmental data is current</li></ul></div></div><div class="bg-yellow-50 dark:bg-black border border-yellow-200 dark:border-red-500 p-4 rounded-lg" data-v-778a260d><h4 class="text-yellow-800 dark:text-white font-semibold" data-v-778a260d>Location/GPS Issues</h4><div class="text-yellow-700 dark:text-white mt-2" data-v-778a260d><p data-v-778a260d><strong data-v-778a260d>Symptoms:</strong> Location not detected, altitude incorrect</p><p data-v-778a260d><strong data-v-778a260d>Solutions:</strong></p><ul class="mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Enable location permissions in browser/device settings</li><li data-v-778a260d> Check GPS signal strength (move outdoors if needed)</li><li data-v-778a260d> Use manual coordinate entry as backup</li><li data-v-778a260d> Refresh page to re-request location</li></ul></div></div><div class="bg-blue-50 dark:bg-black border border-blue-200 dark:border-red-500 p-4 rounded-lg" data-v-778a260d><h4 class="text-blue-800 dark:text-white font-semibold" data-v-778a260d>Weather Data Problems</h4><div class="text-blue-700 dark:text-white mt-2" data-v-778a260d><p data-v-778a260d><strong data-v-778a260d>Symptoms:</strong> Outdated weather, no data available</p><p data-v-778a260d><strong data-v-778a260d>Solutions:</strong></p><ul class="mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Check internet connection</li><li data-v-778a260d> Use manual environmental entry</li><li data-v-778a260d> Verify API key configuration (if self-hosted)</li><li data-v-778a260d> Check for weather service outages</li></ul></div></div><div class="bg-gray-50 dark:bg-black border border-gray-200 dark:border-red-500 p-4 rounded-lg" data-v-778a260d><h4 class="text-gray-800 dark:text-white font-semibold" data-v-778a260d>Performance Issues</h4><div class="text-gray-700 dark:text-white mt-2" data-v-778a260d><p data-v-778a260d><strong data-v-778a260d>Symptoms:</strong> Slow calculations, app freezing</p><p data-v-778a260d><strong data-v-778a260d>Solutions:</strong></p><ul class="mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Close other browser tabs/applications</li><li data-v-778a260d> Clear browser cache and cookies</li><li data-v-778a260d> Update to latest browser version</li><li data-v-778a260d> Check available device memory</li></ul></div></div></div><h4 data-v-778a260d>Getting Help</h4><p data-v-778a260d>If you continue to experience issues:</p><ul data-v-778a260d><li data-v-778a260d>Check the specific error message in the application</li><li data-v-778a260d>Try the basic troubleshooting steps above</li><li data-v-778a260d>Document the steps that led to the problem</li><li data-v-778a260d>Note your device type, browser, and operating system</li><li data-v-778a260d>Contact support through the application</li></ul></div>',1))])):Re("",!0),e.value==="tips"?(W(),Y("div",YW,[a("div",JW,[Me(Le(Ax),{class:"w-6 h-6 text-blue-600 mr-3"}),n[12]||(n[12]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Tips & Best Practices",-1))]),n[13]||(n[13]=Ht('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Data Quality</h3><p data-v-778a260d>Accurate data is the foundation of precise ballistic calculations:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-green-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-green-800 dark:text-white font-semibold mb-3" data-v-778a260d>Essential Practices</h4><ul class="text-green-700 dark:text-white space-y-2" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Chronograph Your Loads:</strong> Use actual measured velocities, not book values</li><li data-v-778a260d><strong data-v-778a260d>Verify Your Zero:</strong> Confirm zero before important shoots</li><li data-v-778a260d><strong data-v-778a260d>Measure Precisely:</strong> Accurate sight height and distance measurement</li><li data-v-778a260d><strong data-v-778a260d>Use Quality BC Data:</strong> Manufacturer-verified ballistic coefficients</li></ul></div><div class="bg-blue-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-blue-800 dark:text-white font-semibold mb-3" data-v-778a260d>Environmental Awareness</h4><ul class="text-blue-700 dark:text-white space-y-2" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Monitor Conditions:</strong> Track condition changes during shooting</li><li data-v-778a260d><strong data-v-778a260d>Use Real-time Data:</strong> Current weather conditions for best accuracy</li><li data-v-778a260d><strong data-v-778a260d>Account for Microclimates:</strong> Local conditions may vary</li><li data-v-778a260d><strong data-v-778a260d>Document Everything:</strong> Record conditions with each shooting session</li></ul></div></div><h4 data-v-778a260d>Shooting Techniques</h4><div class="bg-yellow-50 dark:bg-black border-l-4 border-yellow-500 dark:border-red-500 p-4 my-4" data-v-778a260d><h5 class="font-medium text-yellow-800 dark:text-white" data-v-778a260d>Wind Reading</h5><p class="text-yellow-700 dark:text-white mt-1" data-v-778a260d>Wind is the most variable factor in long-range shooting. Practice reading wind conditions and use visual indicators like flags, grass movement, and mirage.</p></div><h4 data-v-778a260d>Validation Process</h4><ol data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Start Close:</strong> Verify predictions at shorter distances first</li><li data-v-778a260d><strong data-v-778a260d>Extend Gradually:</strong> Move to longer distances as confidence builds</li><li data-v-778a260d><strong data-v-778a260d>Record Results:</strong> Document actual vs. predicted results</li><li data-v-778a260d><strong data-v-778a260d>Adjust as Needed:</strong> Fine-tune input parameters based on results</li><li data-v-778a260d><strong data-v-778a260d>Practice Regularly:</strong> Regular validation maintains confidence</li></ol><h4 data-v-778a260d>Competition Preparation</h4><div class="bg-purple-50 dark:bg-black p-4 rounded-lg my-4" data-v-778a260d><h5 class="font-medium text-purple-800 dark:text-white" data-v-778a260d>Pre-Competition Checklist</h5><ul class="text-purple-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Verify zero at competition zero distance</li><li data-v-778a260d> Chronograph loads with competition ammunition</li><li data-v-778a260d> Generate dope charts for expected conditions</li><li data-v-778a260d> Practice with similar environmental conditions</li><li data-v-778a260d> Have backup manual calculations ready</li></ul></div></div>',1))])):Re("",!0),e.value==="safety"?(W(),Y("div",ZW,[a("div",XW,[Me(Le(Tx),{class:"w-6 h-6 text-blue-600 mr-3"}),n[14]||(n[14]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Safety & Legal",-1))]),n[15]||(n[15]=Ht('<div class="prose max-w-none" data-v-778a260d><div class="bg-red-50 dark:bg-black border-l-4 border-red-500 dark:border-red-500 p-6 mb-6" data-v-778a260d><h3 class="text-red-800 dark:text-white font-bold text-xl mb-4" data-v-778a260d> CRITICAL SAFETY REMINDER</h3><p class="text-red-700 dark:text-white text-lg" data-v-778a260d><strong data-v-778a260d>This tool provides calculations based on theoretical models and your input data. Always verify predictions with actual shooting before relying on them for critical applications.</strong></p></div><h3 data-v-778a260d>Fundamental Safety Rules</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="font-semibold mb-3 dark:text-white" data-v-778a260d>Range Safety</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d> Always follow safe shooting practices</li><li class="dark:text-white" data-v-778a260d> Verify backstop and range safety</li><li class="dark:text-white" data-v-778a260d> Use proper eye and ear protection</li><li class="dark:text-white" data-v-778a260d> Confirm target identification</li><li class="dark:text-white" data-v-778a260d> Follow range commands immediately</li></ul></div><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="font-semibold mb-3 dark:text-white" data-v-778a260d>Legal Compliance</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d> Follow all local laws and regulations</li><li class="dark:text-white" data-v-778a260d> Obtain proper licenses and permits</li><li class="dark:text-white" data-v-778a260d> Respect private property rights</li><li class="dark:text-white" data-v-778a260d> Comply with hunting regulations</li><li class="dark:text-white" data-v-778a260d> Follow competition rules</li></ul></div></div><h4 data-v-778a260d>Calculation Verification</h4><p data-v-778a260d>Before using calculated data for important applications:</p><ul data-v-778a260d><li data-v-778a260d>Verify predictions with known-distance shooting</li><li data-v-778a260d>Start with shorter distances and work outward</li><li data-v-778a260d>Use multiple data sources to cross-check results</li><li data-v-778a260d>Account for equipment limitations and tolerances</li><li data-v-778a260d>Consider shooter skill and consistency factors</li></ul><h4 data-v-778a260d>Environmental Hazards</h4><div class="bg-yellow-50 dark:bg-black border-l-4 border-yellow-500 dark:border-red-500 p-4 my-4" data-v-778a260d><h5 class="font-medium text-yellow-800 dark:text-white" data-v-778a260d>Weather Considerations</h5><ul class="text-yellow-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Extreme weather can affect equipment and ammunition</li><li data-v-778a260d> Temperature extremes may change powder performance</li><li data-v-778a260d> High humidity can affect powder and ballistics</li><li data-v-778a260d> Wind changes can significantly impact trajectories</li></ul></div><h4 data-v-778a260d>Equipment Limitations</h4><p data-v-778a260d>Remember that this tool cannot account for:</p><ul data-v-778a260d><li data-v-778a260d>Equipment wear and mechanical issues</li><li data-v-778a260d>Ammunition lot-to-lot variations</li><li data-v-778a260d>Shooter technique and consistency</li><li data-v-778a260d>Scope tracking accuracy</li><li data-v-778a260d>Rifle bedding and stock issues</li></ul><div class="bg-blue-50 dark:bg-black border-l-4 border-blue-500 dark:border-red-500 p-4 my-6" data-v-778a260d><h4 class="font-medium text-blue-800 dark:text-white" data-v-778a260d>Professional Use</h4><p class="text-blue-700 dark:text-white mt-1" data-v-778a260d>For military, law enforcement, or other professional applications, always validate calculations through official channels and follow departmental protocols.</p></div></div>',1))])):Re("",!0)])]))}}),kV=Lr(QW,[["__scopeId","data-v-778a260d"]]),eV={class:"min-h-screen flex items-center justify-center bg-gray-50"},tV={class:"text-center"},rV={class:"mb-8"},sV={class:"space-y-4"},aV={class:"text-sm text-gray-500"},wV=Dt({__name:"NotFoundView",setup(t){return(e,r)=>(W(),Y("div",eV,[a("div",tV,[a("div",rV,[Me(Le(yi),{class:"w-24 h-24 text-amber-500 mx-auto mb-4"}),r[0]||(r[0]=a("h1",{class:"text-6xl font-bold text-gray-900 mb-2"},"404",-1)),r[1]||(r[1]=a("h2",{class:"text-2xl font-semibold text-gray-700 mb-4"},"Page Not Found",-1)),r[2]||(r[2]=a("p",{class:"text-gray-600 max-w-md mx-auto"}," The page you're looking for doesn't exist or has been moved. ",-1))]),a("div",sV,[Me(Le(Vs),{to:"/",class:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors"},{default:Nr(()=>[Me(Le(_x),{class:"w-5 h-5 mr-2"}),r[3]||(r[3]=Qe(" Go Home ",-1))]),_:1}),a("div",aV,[Me(Le(Vs),{to:"/calculator",class:"text-blue-600 hover:text-blue-800"},{default:Nr(()=>[...r[4]||(r[4]=[Qe("Calculator",-1)])]),_:1}),r[7]||(r[7]=a("span",{class:"mx-2"},"",-1)),Me(Le(Vs),{to:"/rifles",class:"text-blue-600 hover:text-blue-800"},{default:Nr(()=>[...r[5]||(r[5]=[Qe("Rifles",-1)])]),_:1}),r[8]||(r[8]=a("span",{class:"mx-2"},"",-1)),Me(Le(Vs),{to:"/help",class:"text-blue-600 hover:text-blue-800"},{default:Nr(()=>[...r[6]||(r[6]=[Qe("Help",-1)])]),_:1})])])])]))}});export{cV as H,mV as R,vV as S,pV as Z,uV as _,iV as a,fV as b,lV as c,gV as d,bV as e,yV as f,xV as g,kV as h,wV as i,nV as j,oV as k,dV as l,hV as m,Gt as n,S3 as o,ye as r,ha as u};
