/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function m0(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Zt={},ti=[],Pa=()=>{},fp=()=>!1,nc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),b0=e=>e.startsWith("onUpdate:"),jr=Object.assign,v0=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},F2=Object.prototype.hasOwnProperty,zt=(e,t)=>F2.call(e,t),pt=Array.isArray,ri=e=>Tl(e)==="[object Map]",hi=e=>Tl(e)==="[object Set]",Rf=e=>Tl(e)==="[object Date]",St=e=>typeof e=="function",fr=e=>typeof e=="string",na=e=>typeof e=="symbol",Qt=e=>e!==null&&typeof e=="object",hp=e=>(Qt(e)||St(e))&&St(e.then)&&St(e.catch),gp=Object.prototype.toString,Tl=e=>gp.call(e),j2=e=>Tl(e).slice(8,-1),pp=e=>Tl(e)==="[object Object]",x0=e=>fr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sl=m0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oc=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},U2=/-\w/g,Ws=oc(e=>e.replace(U2,t=>t.slice(1).toUpperCase())),B2=/\B([A-Z])/g,Un=oc(e=>e.replace(B2,"-$1").toLowerCase()),ic=oc(e=>e.charAt(0).toUpperCase()+e.slice(1)),su=oc(e=>e?`on${ic(e)}`:""),Mn=(e,t)=>!Object.is(e,t),Md=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},mp=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},qd=e=>{const t=parseFloat(e);return isNaN(t)?e:t},q2=e=>{const t=fr(e)?Number(e):NaN;return isNaN(t)?e:t};let Of;const lc=()=>Of||(Of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gi(e){if(pt(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],n=fr(s)?W2(s):gi(s);if(n)for(const o in n)t[o]=n[o]}return t}else if(fr(e)||Qt(e))return e}const z2=/;(?![^(]*\))/g,H2=/:([^]+)/,V2=/\/\*[^]*?\*\//g;function W2(e){const t={};return e.replace(V2,"").split(z2).forEach(r=>{if(r){const s=r.split(H2);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Qe(e){let t="";if(fr(e))t=e;else if(pt(e))for(let r=0;r<e.length;r++){const s=Qe(e[r]);s&&(t+=s+" ")}else if(Qt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const G2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",K2=m0(G2);function bp(e){return!!e||e===""}function Y2(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=wo(e[s],t[s]);return r}function wo(e,t){if(e===t)return!0;let r=Rf(e),s=Rf(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=na(e),s=na(t),r||s)return e===t;if(r=pt(e),s=pt(t),r||s)return r&&s?Y2(e,t):!1;if(r=Qt(e),s=Qt(t),r||s){if(!r||!s)return!1;const n=Object.keys(e).length,o=Object.keys(t).length;if(n!==o)return!1;for(const i in e){const l=e.hasOwnProperty(i),d=t.hasOwnProperty(i);if(l&&!d||!l&&d||!wo(e[i],t[i]))return!1}}return String(e)===String(t)}function y0(e,t){return e.findIndex(r=>wo(r,t))}const vp=e=>!!(e&&e.__v_isRef===!0),D=e=>fr(e)?e:e==null?"":pt(e)||Qt(e)&&(e.toString===gp||!St(e.toString))?vp(e)?D(e.value):JSON.stringify(e,xp,2):String(e),xp=(e,t)=>vp(t)?xp(e,t.value):ri(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,n],o)=>(r[au(s,o)+" =>"]=n,r),{})}:hi(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>au(r))}:na(t)?au(t):Qt(t)&&!pt(t)&&!pp(t)?String(t):t,au=(e,t="")=>{var r;return na(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ts;class yp{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ts,!t&&ts&&(this.index=(ts.scopes||(ts.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=ts;try{return ts=this,t()}finally{ts=r}}}on(){++this._on===1&&(this.prevScope=ts,ts=this)}off(){this._on>0&&--this._on===0&&(ts=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function kp(e){return new yp(e)}function wp(){return ts}function J2(e,t=!1){ts&&ts.cleanups.push(e)}let sr;const nu=new WeakSet;class _p{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ts&&ts.active&&ts.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nu.has(this)&&(nu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ap(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ff(this),Cp(this);const t=sr,r=aa;sr=this,aa=!0;try{return this.fn()}finally{Pp(this),sr=t,aa=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)_0(t);this.deps=this.depsTail=void 0,Ff(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ju(this)&&this.run()}get dirty(){return ju(this)}}let Sp=0,al,nl;function Ap(e,t=!1){if(e.flags|=8,t){e.next=nl,nl=e;return}e.next=al,al=e}function k0(){Sp++}function w0(){if(--Sp>0)return;if(nl){let t=nl;for(nl=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;al;){let t=al;for(al=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function Cp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Pp(e){let t,r=e.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),_0(s),Z2(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}e.deps=t,e.depsTail=r}function ju(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Lp(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Lp(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===yl)||(e.globalVersion=yl,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ju(e))))return;e.flags|=2;const t=e.dep,r=sr,s=aa;sr=e,aa=!0;try{Cp(e);const n=e.fn(e._value);(t.version===0||Mn(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{sr=r,aa=s,Pp(e),e.flags&=-3}}function _0(e,t=!1){const{dep:r,prevSub:s,nextSub:n}=e;if(s&&(s.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)_0(o,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Z2(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let aa=!0;const Np=[];function sn(){Np.push(aa),aa=!1}function an(){const e=Np.pop();aa=e===void 0?!0:e}function Ff(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=sr;sr=void 0;try{t()}finally{sr=r}}}let yl=0;class X2{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class S0{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!sr||!aa||sr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==sr)r=this.activeLink=new X2(sr,this),sr.deps?(r.prevDep=sr.depsTail,sr.depsTail.nextDep=r,sr.depsTail=r):sr.deps=sr.depsTail=r,$p(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=sr.depsTail,r.nextDep=void 0,sr.depsTail.nextDep=r,sr.depsTail=r,sr.deps===r&&(sr.deps=s)}return r}trigger(t){this.version++,yl++,this.notify(t)}notify(t){k0();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{w0()}}}function $p(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)$p(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const zd=new WeakMap,po=Symbol(""),Uu=Symbol(""),kl=Symbol("");function rs(e,t,r){if(aa&&sr){let s=zd.get(e);s||zd.set(e,s=new Map);let n=s.get(r);n||(s.set(r,n=new S0),n.map=s,n.key=r),n.track()}}function Xa(e,t,r,s,n,o){const i=zd.get(e);if(!i){yl++;return}const l=d=>{d&&d.trigger()};if(k0(),t==="clear")i.forEach(l);else{const d=pt(e),c=d&&x0(r);if(d&&r==="length"){const f=Number(s);i.forEach((b,w)=>{(w==="length"||w===kl||!na(w)&&w>=f)&&l(b)})}else switch((r!==void 0||i.has(void 0))&&l(i.get(r)),c&&l(i.get(kl)),t){case"add":d?c&&l(i.get("length")):(l(i.get(po)),ri(e)&&l(i.get(Uu)));break;case"delete":d||(l(i.get(po)),ri(e)&&l(i.get(Uu)));break;case"set":ri(e)&&l(i.get(po));break}}w0()}function Q2(e,t){const r=zd.get(e);return r&&r.get(t)}function Vo(e){const t=Ft(e);return t===e?t:(rs(t,"iterate",kl),zs(e)?t:t.map(Wr))}function dc(e){return rs(e=Ft(e),"iterate",kl),e}const eb={__proto__:null,[Symbol.iterator](){return ou(this,Symbol.iterator,Wr)},concat(...e){return Vo(this).concat(...e.map(t=>pt(t)?Vo(t):t))},entries(){return ou(this,"entries",e=>(e[1]=Wr(e[1]),e))},every(e,t){return Ha(this,"every",e,t,void 0,arguments)},filter(e,t){return Ha(this,"filter",e,t,r=>r.map(Wr),arguments)},find(e,t){return Ha(this,"find",e,t,Wr,arguments)},findIndex(e,t){return Ha(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ha(this,"findLast",e,t,Wr,arguments)},findLastIndex(e,t){return Ha(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ha(this,"forEach",e,t,void 0,arguments)},includes(...e){return iu(this,"includes",e)},indexOf(...e){return iu(this,"indexOf",e)},join(e){return Vo(this).join(e)},lastIndexOf(...e){return iu(this,"lastIndexOf",e)},map(e,t){return Ha(this,"map",e,t,void 0,arguments)},pop(){return Ki(this,"pop")},push(...e){return Ki(this,"push",e)},reduce(e,...t){return jf(this,"reduce",e,t)},reduceRight(e,...t){return jf(this,"reduceRight",e,t)},shift(){return Ki(this,"shift")},some(e,t){return Ha(this,"some",e,t,void 0,arguments)},splice(...e){return Ki(this,"splice",e)},toReversed(){return Vo(this).toReversed()},toSorted(e){return Vo(this).toSorted(e)},toSpliced(...e){return Vo(this).toSpliced(...e)},unshift(...e){return Ki(this,"unshift",e)},values(){return ou(this,"values",Wr)}};function ou(e,t,r){const s=dc(e),n=s[t]();return s!==e&&!zs(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=r(o.value)),o}),n}const tb=Array.prototype;function Ha(e,t,r,s,n,o){const i=dc(e),l=i!==e&&!zs(e),d=i[t];if(d!==tb[t]){const b=d.apply(e,o);return l?Wr(b):b}let c=r;i!==e&&(l?c=function(b,w){return r.call(this,Wr(b),w,e)}:r.length>2&&(c=function(b,w){return r.call(this,b,w,e)}));const f=d.call(i,c,s);return l&&n?n(f):f}function jf(e,t,r,s){const n=dc(e);let o=r;return n!==e&&(zs(e)?r.length>3&&(o=function(i,l,d){return r.call(this,i,l,d,e)}):o=function(i,l,d){return r.call(this,i,Wr(l),d,e)}),n[t](o,...s)}function iu(e,t,r){const s=Ft(e);rs(s,"iterate",kl);const n=s[t](...r);return(n===-1||n===!1)&&P0(r[0])?(r[0]=Ft(r[0]),s[t](...r)):n}function Ki(e,t,r=[]){sn(),k0();const s=Ft(e)[t].apply(e,r);return w0(),an(),s}const rb=m0("__proto__,__v_isRef,__isVue"),Ep=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(na));function sb(e){na(e)||(e=String(e));const t=Ft(this);return rs(t,"has",e),t.hasOwnProperty(e)}class Mp{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){if(r==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return o;if(r==="__v_raw")return s===(n?o?hb:Rp:o?Dp:Tp).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=pt(t);if(!n){let d;if(i&&(d=eb[r]))return d;if(r==="hasOwnProperty")return sb}const l=Reflect.get(t,r,_r(t)?t:s);return(na(r)?Ep.has(r):rb(r))||(n||rs(t,"get",r),o)?l:_r(l)?i&&x0(r)?l:l.value:Qt(l)?n?Fp(l):Dn(l):l}}class Ip extends Mp{constructor(t=!1){super(!1,t)}set(t,r,s,n){let o=t[r];if(!this._isShallow){const d=Rn(o);if(!zs(s)&&!Rn(s)&&(o=Ft(o),s=Ft(s)),!pt(t)&&_r(o)&&!_r(s))return d||(o.value=s),!0}const i=pt(t)&&x0(r)?Number(r)<t.length:zt(t,r),l=Reflect.set(t,r,s,_r(t)?t:n);return t===Ft(n)&&(i?Mn(s,o)&&Xa(t,"set",r,s):Xa(t,"add",r,s)),l}deleteProperty(t,r){const s=zt(t,r);t[r];const n=Reflect.deleteProperty(t,r);return n&&s&&Xa(t,"delete",r,void 0),n}has(t,r){const s=Reflect.has(t,r);return(!na(r)||!Ep.has(r))&&rs(t,"has",r),s}ownKeys(t){return rs(t,"iterate",pt(t)?"length":po),Reflect.ownKeys(t)}}class ab extends Mp{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const nb=new Ip,ob=new ab,ib=new Ip(!0);const Bu=e=>e,md=e=>Reflect.getPrototypeOf(e);function lb(e,t,r){return function(...s){const n=this.__v_raw,o=Ft(n),i=ri(o),l=e==="entries"||e===Symbol.iterator&&i,d=e==="keys"&&i,c=n[e](...s),f=r?Bu:t?Hd:Wr;return!t&&rs(o,"iterate",d?Uu:po),{next(){const{value:b,done:w}=c.next();return w?{value:b,done:w}:{value:l?[f(b[0]),f(b[1])]:f(b),done:w}},[Symbol.iterator](){return this}}}}function bd(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function db(e,t){const r={get(n){const o=this.__v_raw,i=Ft(o),l=Ft(n);e||(Mn(n,l)&&rs(i,"get",n),rs(i,"get",l));const{has:d}=md(i),c=t?Bu:e?Hd:Wr;if(d.call(i,n))return c(o.get(n));if(d.call(i,l))return c(o.get(l));o!==i&&o.get(n)},get size(){const n=this.__v_raw;return!e&&rs(Ft(n),"iterate",po),n.size},has(n){const o=this.__v_raw,i=Ft(o),l=Ft(n);return e||(Mn(n,l)&&rs(i,"has",n),rs(i,"has",l)),n===l?o.has(n):o.has(n)||o.has(l)},forEach(n,o){const i=this,l=i.__v_raw,d=Ft(l),c=t?Bu:e?Hd:Wr;return!e&&rs(d,"iterate",po),l.forEach((f,b)=>n.call(o,c(f),c(b),i))}};return jr(r,e?{add:bd("add"),set:bd("set"),delete:bd("delete"),clear:bd("clear")}:{add(n){!t&&!zs(n)&&!Rn(n)&&(n=Ft(n));const o=Ft(this);return md(o).has.call(o,n)||(o.add(n),Xa(o,"add",n,n)),this},set(n,o){!t&&!zs(o)&&!Rn(o)&&(o=Ft(o));const i=Ft(this),{has:l,get:d}=md(i);let c=l.call(i,n);c||(n=Ft(n),c=l.call(i,n));const f=d.call(i,n);return i.set(n,o),c?Mn(o,f)&&Xa(i,"set",n,o):Xa(i,"add",n,o),this},delete(n){const o=Ft(this),{has:i,get:l}=md(o);let d=i.call(o,n);d||(n=Ft(n),d=i.call(o,n)),l&&l.call(o,n);const c=o.delete(n);return d&&Xa(o,"delete",n,void 0),c},clear(){const n=Ft(this),o=n.size!==0,i=n.clear();return o&&Xa(n,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=lb(n,e,t)}),r}function A0(e,t){const r=db(e,t);return(s,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(zt(r,n)&&n in s?r:s,n,o)}const cb={get:A0(!1,!1)},ub={get:A0(!1,!0)},fb={get:A0(!0,!1)};const Tp=new WeakMap,Dp=new WeakMap,Rp=new WeakMap,hb=new WeakMap;function gb(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pb(e){return e.__v_skip||!Object.isExtensible(e)?0:gb(j2(e))}function Dn(e){return Rn(e)?e:C0(e,!1,nb,cb,Tp)}function Op(e){return C0(e,!1,ib,ub,Dp)}function Fp(e){return C0(e,!0,ob,fb,Rp)}function C0(e,t,r,s,n){if(!Qt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=pb(e);if(o===0)return e;const i=n.get(e);if(i)return i;const l=new Proxy(e,o===2?s:r);return n.set(e,l),l}function In(e){return Rn(e)?In(e.__v_raw):!!(e&&e.__v_isReactive)}function Rn(e){return!!(e&&e.__v_isReadonly)}function zs(e){return!!(e&&e.__v_isShallow)}function P0(e){return e?!!e.__v_raw:!1}function Ft(e){const t=e&&e.__v_raw;return t?Ft(t):e}function L0(e){return!zt(e,"__v_skip")&&Object.isExtensible(e)&&mp(e,"__v_skip",!0),e}const Wr=e=>Qt(e)?Dn(e):e,Hd=e=>Qt(e)?Fp(e):e;function _r(e){return e?e.__v_isRef===!0:!1}function ye(e){return jp(e,!1)}function mb(e){return jp(e,!0)}function jp(e,t){return _r(e)?e:new bb(e,t)}class bb{constructor(t,r){this.dep=new S0,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Ft(t),this._value=r?t:Wr(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||zs(t)||Rn(t);t=s?t:Ft(t),Mn(t,r)&&(this._rawValue=t,this._value=s?t:Wr(t),this.dep.trigger())}}function Ee(e){return _r(e)?e.value:e}const vb={get:(e,t,r)=>t==="__v_raw"?e:Ee(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const n=e[t];return _r(n)&&!_r(r)?(n.value=r,!0):Reflect.set(e,t,r,s)}};function Up(e){return In(e)?e:new Proxy(e,vb)}function xb(e){const t=pt(e)?new Array(e.length):{};for(const r in e)t[r]=kb(e,r);return t}class yb{constructor(t,r,s){this._object=t,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Q2(Ft(this._object),this._key)}}function kb(e,t,r){const s=e[t];return _r(s)?s:new yb(e,t,r)}class wb{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new S0(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&sr!==this)return Ap(this,!0),!0}get value(){const t=this.dep.track();return Lp(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function _b(e,t,r=!1){let s,n;return St(e)?s=e:(s=e.get,n=e.set),new wb(s,n,r)}const vd={},Vd=new WeakMap;let uo;function Sb(e,t=!1,r=uo){if(r){let s=Vd.get(r);s||Vd.set(r,s=[]),s.push(e)}}function Ab(e,t,r=Zt){const{immediate:s,deep:n,once:o,scheduler:i,augmentJob:l,call:d}=r,c=I=>n?I:zs(I)||n===!1||n===0?Qa(I,1):Qa(I);let f,b,w,h,_=!1,O=!1;if(_r(e)?(b=()=>e.value,_=zs(e)):In(e)?(b=()=>c(e),_=!0):pt(e)?(O=!0,_=e.some(I=>In(I)||zs(I)),b=()=>e.map(I=>{if(_r(I))return I.value;if(In(I))return c(I);if(St(I))return d?d(I,2):I()})):St(e)?t?b=d?()=>d(e,2):e:b=()=>{if(w){sn();try{w()}finally{an()}}const I=uo;uo=f;try{return d?d(e,3,[h]):e(h)}finally{uo=I}}:b=Pa,t&&n){const I=b,R=n===!0?1/0:n;b=()=>Qa(I(),R)}const j=wp(),N=()=>{f.stop(),j&&j.active&&v0(j.effects,f)};if(o&&t){const I=t;t=(...R)=>{I(...R),N()}}let W=O?new Array(e.length).fill(vd):vd;const B=I=>{if(!(!(f.flags&1)||!f.dirty&&!I))if(t){const R=f.run();if(n||_||(O?R.some((K,U)=>Mn(K,W[U])):Mn(R,W))){w&&w();const K=uo;uo=f;try{const U=[R,W===vd?void 0:O&&W[0]===vd?[]:W,h];W=R,d?d(t,3,U):t(...U)}finally{uo=K}}}else f.run()};return l&&l(B),f=new _p(b),f.scheduler=i?()=>i(B,!1):B,h=I=>Sb(I,!1,f),w=f.onStop=()=>{const I=Vd.get(f);if(I){if(d)d(I,4);else for(const R of I)R();Vd.delete(f)}},t?s?B(!0):W=f.run():i?i(B.bind(null,!0),!0):f.run(),N.pause=f.pause.bind(f),N.resume=f.resume.bind(f),N.stop=N,N}function Qa(e,t=1/0,r){if(t<=0||!Qt(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,_r(e))Qa(e.value,t,r);else if(pt(e))for(let s=0;s<e.length;s++)Qa(e[s],t,r);else if(hi(e)||ri(e))e.forEach(s=>{Qa(s,t,r)});else if(pp(e)){for(const s in e)Qa(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Qa(e[s],t,r)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Dl(e,t,r,s){try{return s?e(...s):e()}catch(n){cc(n,t,r)}}function oa(e,t,r,s){if(St(e)){const n=Dl(e,t,r,s);return n&&hp(n)&&n.catch(o=>{cc(o,t,r)}),n}if(pt(e)){const n=[];for(let o=0;o<e.length;o++)n.push(oa(e[o],t,r,s));return n}}function cc(e,t,r,s=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Zt;if(t){let l=t.parent;const d=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;l;){const f=l.ec;if(f){for(let b=0;b<f.length;b++)if(f[b](e,d,c)===!1)return}l=l.parent}if(o){sn(),Dl(o,null,10,[e,d,c]),an();return}}Cb(e,r,n,s,i)}function Cb(e,t,r,s=!0,n=!1){if(n)throw e;console.error(e)}const us=[];let Sa=-1;const si=[];let Pn=null,Jo=0;const Bp=Promise.resolve();let Wd=null;function Rl(e){const t=Wd||Bp;return e?t.then(this?e.bind(this):e):t}function Pb(e){let t=Sa+1,r=us.length;for(;t<r;){const s=t+r>>>1,n=us[s],o=wl(n);o<e||o===e&&n.flags&2?t=s+1:r=s}return t}function N0(e){if(!(e.flags&1)){const t=wl(e),r=us[us.length-1];!r||!(e.flags&2)&&t>=wl(r)?us.push(e):us.splice(Pb(t),0,e),e.flags|=1,qp()}}function qp(){Wd||(Wd=Bp.then(Hp))}function Lb(e){pt(e)?si.push(...e):Pn&&e.id===-1?Pn.splice(Jo+1,0,e):e.flags&1||(si.push(e),e.flags|=1),qp()}function Uf(e,t,r=Sa+1){for(;r<us.length;r++){const s=us[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;us.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function zp(e){if(si.length){const t=[...new Set(si)].sort((r,s)=>wl(r)-wl(s));if(si.length=0,Pn){Pn.push(...t);return}for(Pn=t,Jo=0;Jo<Pn.length;Jo++){const r=Pn[Jo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Pn=null,Jo=0}}const wl=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Hp(e){try{for(Sa=0;Sa<us.length;Sa++){const t=us[Sa];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Dl(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Sa<us.length;Sa++){const t=us[Sa];t&&(t.flags&=-2)}Sa=-1,us.length=0,zp(),Wd=null,(us.length||si.length)&&Hp()}}let Gr=null,Vp=null;function Gd(e){const t=Gr;return Gr=e,Vp=e&&e.type.__scopeId||null,t}function Pr(e,t=Gr,r){if(!t||e._n)return e;const s=(...n)=>{s._d&&Jd(-1);const o=Gd(t);let i;try{i=e(...n)}finally{Gd(o),s._d&&Jd(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function De(e,t){if(Gr===null)return e;const r=pc(Gr),s=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,i,l,d=Zt]=t[n];o&&(St(o)&&(o={mounted:o,updated:o}),o.deep&&Qa(i),s.push({dir:o,instance:r,value:i,oldValue:void 0,arg:l,modifiers:d}))}return e}function oo(e,t,r,s){const n=e.dirs,o=t&&t.dirs;for(let i=0;i<n.length;i++){const l=n[i];o&&(l.oldValue=o[i].value);let d=l.dir[s];d&&(sn(),oa(d,r,8,[e.el,l,e,t]),an())}}const Nb=Symbol("_vte"),Wp=e=>e.__isTeleport,Ja=Symbol("_leaveCb"),xd=Symbol("_enterCb");function $b(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kr(()=>{e.isMounted=!0}),e1(()=>{e.isUnmounting=!0}),e}const Fs=[Function,Array],Gp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fs,onEnter:Fs,onAfterEnter:Fs,onEnterCancelled:Fs,onBeforeLeave:Fs,onLeave:Fs,onAfterLeave:Fs,onLeaveCancelled:Fs,onBeforeAppear:Fs,onAppear:Fs,onAfterAppear:Fs,onAppearCancelled:Fs},Kp=e=>{const t=e.subTree;return t.component?Kp(t.component):t},Eb={name:"BaseTransition",props:Gp,setup(e,{slots:t}){const r=I0(),s=$b();return()=>{const n=t.default&&Zp(t.default(),!0);if(!n||!n.length)return;const o=Yp(n),i=Ft(e),{mode:l}=i;if(s.isLeaving)return lu(o);const d=Bf(o);if(!d)return lu(o);let c=qu(d,i,s,r,b=>c=b);d.type!==ss&&_l(d,c);let f=r.subTree&&Bf(r.subTree);if(f&&f.type!==ss&&!ho(f,d)&&Kp(r).type!==ss){let b=qu(f,i,s,r);if(_l(f,b),l==="out-in"&&d.type!==ss)return s.isLeaving=!0,b.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete b.afterLeave,f=void 0},lu(o);l==="in-out"&&d.type!==ss?b.delayLeave=(w,h,_)=>{const O=Jp(s,f);O[String(f.key)]=f,w[Ja]=()=>{h(),w[Ja]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{_(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return o}}};function Yp(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==ss){t=r;break}}return t}const Mb=Eb;function Jp(e,t){const{leavingVNodes:r}=e;let s=r.get(t.type);return s||(s=Object.create(null),r.set(t.type,s)),s}function qu(e,t,r,s,n){const{appear:o,mode:i,persisted:l=!1,onBeforeEnter:d,onEnter:c,onAfterEnter:f,onEnterCancelled:b,onBeforeLeave:w,onLeave:h,onAfterLeave:_,onLeaveCancelled:O,onBeforeAppear:j,onAppear:N,onAfterAppear:W,onAppearCancelled:B}=t,I=String(e.key),R=Jp(r,e),K=(p,E)=>{p&&oa(p,s,9,E)},U=(p,E)=>{const y=E[1];K(p,E),pt(p)?p.every(A=>A.length<=1)&&y():p.length<=1&&y()},x={mode:i,persisted:l,beforeEnter(p){let E=d;if(!r.isMounted)if(o)E=j||d;else return;p[Ja]&&p[Ja](!0);const y=R[I];y&&ho(e,y)&&y.el[Ja]&&y.el[Ja](),K(E,[p])},enter(p){let E=c,y=f,A=b;if(!r.isMounted)if(o)E=N||c,y=W||f,A=B||b;else return;let H=!1;const F=p[xd]=ae=>{H||(H=!0,ae?K(A,[p]):K(y,[p]),x.delayedLeave&&x.delayedLeave(),p[xd]=void 0)};E?U(E,[p,F]):F()},leave(p,E){const y=String(e.key);if(p[xd]&&p[xd](!0),r.isUnmounting)return E();K(w,[p]);let A=!1;const H=p[Ja]=F=>{A||(A=!0,E(),F?K(O,[p]):K(_,[p]),p[Ja]=void 0,R[y]===e&&delete R[y])};R[y]=e,h?U(h,[p,H]):H()},clone(p){const E=qu(p,t,r,s,n);return n&&n(E),E}};return x}function lu(e){if(uc(e))return e=On(e),e.children=null,e}function Bf(e){if(!uc(e))return Wp(e.type)&&e.children?Yp(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&St(r.default))return r.default()}}function _l(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_l(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zp(e,t=!1,r){let s=[],n=0;for(let o=0;o<e.length;o++){let i=e[o];const l=r==null?i.key:String(r)+String(i.key!=null?i.key:o);i.type===Ye?(i.patchFlag&128&&n++,s=s.concat(Zp(i.children,t,l))):(t||i.type!==ss)&&s.push(l!=null?On(i,{key:l}):i)}if(n>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function Tt(e,t){return St(e)?jr({name:e.name},t,{setup:e}):e}function Xp(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Kd=new WeakMap;function ol(e,t,r,s,n=!1){if(pt(e)){e.forEach((_,O)=>ol(_,t&&(pt(t)?t[O]:t),r,s,n));return}if(ai(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ol(e,t,r,s.component.subTree);return}const o=s.shapeFlag&4?pc(s.component):s.el,i=n?null:o,{i:l,r:d}=e,c=t&&t.r,f=l.refs===Zt?l.refs={}:l.refs,b=l.setupState,w=Ft(b),h=b===Zt?fp:_=>zt(w,_);if(c!=null&&c!==d){if(qf(t),fr(c))f[c]=null,h(c)&&(b[c]=null);else if(_r(c)){c.value=null;const _=t;_.k&&(f[_.k]=null)}}if(St(d))Dl(d,l,12,[i,f]);else{const _=fr(d),O=_r(d);if(_||O){const j=()=>{if(e.f){const N=_?h(d)?b[d]:f[d]:d.value;if(n)pt(N)&&v0(N,o);else if(pt(N))N.includes(o)||N.push(o);else if(_)f[d]=[o],h(d)&&(b[d]=f[d]);else{const W=[o];d.value=W,e.k&&(f[e.k]=W)}}else _?(f[d]=i,h(d)&&(b[d]=i)):O&&(d.value=i,e.k&&(f[e.k]=i))};if(i){const N=()=>{j(),Kd.delete(e)};N.id=-1,Kd.set(e,N),Cs(N,r)}else qf(e),j()}}}function qf(e){const t=Kd.get(e);t&&(t.flags|=8,Kd.delete(e))}lc().requestIdleCallback;lc().cancelIdleCallback;const ai=e=>!!e.type.__asyncLoader,uc=e=>e.type.__isKeepAlive;function Ib(e,t){Qp(e,"a",t)}function Tb(e,t){Qp(e,"da",t)}function Qp(e,t,r=as){const s=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(fc(t,s,r),r){let n=r.parent;for(;n&&n.parent;)uc(n.parent.vnode)&&Db(s,t,r,n),n=n.parent}}function Db(e,t,r,s){const n=fc(t,e,s,!0);pi(()=>{v0(s[t],n)},r)}function fc(e,t,r=as,s=!1){if(r){const n=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...i)=>{sn();const l=Ol(r),d=oa(t,r,e,i);return l(),an(),d});return s?n.unshift(o):n.push(o),o}}const on=e=>(t,r=as)=>{(!Cl||e==="sp")&&fc(e,(...s)=>t(...s),r)},Rb=on("bm"),Kr=on("m"),Ob=on("bu"),Fb=on("u"),e1=on("bum"),pi=on("um"),jb=on("sp"),Ub=on("rtg"),Bb=on("rtc");function qb(e,t=as){fc("ec",e,t)}const t1="components";function r1(e,t){return a1(t1,e,!0,t)||e}const s1=Symbol.for("v-ndc");function ns(e){return fr(e)?a1(t1,e,!1)||e:e||s1}function a1(e,t,r=!0,s=!1){const n=Gr||as;if(n){const o=n.type;{const l=Ev(o,!1);if(l&&(l===t||l===Ws(t)||l===ic(Ws(t))))return o}const i=zf(n[e]||o[e],t)||zf(n.appContext[e],t);return!i&&s?o:i}}function zf(e,t){return e&&(e[t]||e[Ws(t)]||e[ic(Ws(t))])}function nt(e,t,r,s){let n;const o=r,i=pt(e);if(i||fr(e)){const l=i&&In(e);let d=!1,c=!1;l&&(d=!zs(e),c=Rn(e),e=dc(e)),n=new Array(e.length);for(let f=0,b=e.length;f<b;f++)n[f]=t(d?c?Hd(Wr(e[f])):Wr(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let l=0;l<e;l++)n[l]=t(l+1,l,void 0,o)}else if(Qt(e))if(e[Symbol.iterator])n=Array.from(e,(l,d)=>t(l,d,void 0,o));else{const l=Object.keys(e);n=new Array(l.length);for(let d=0,c=l.length;d<c;d++){const f=l[d];n[d]=t(e[f],f,d,o)}}else n=[];return n}function zb(e,t,r={},s,n){if(Gr.ce||Gr.parent&&ai(Gr.parent)&&Gr.parent.ce)return r.name=t,G(),Ut(Ye,null,[Me("slot",r,s&&s())],64);let o=e[t];o&&o._c&&(o._d=!1),G();const i=o&&n1(o(r)),l=r.key||i&&i.key,d=Ut(Ye,{key:(l&&!na(l)?l:`_${t}`)+(!i&&s?"_fb":"")},i||(s?s():[]),i&&e._===1?64:-2);return d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),o&&o._c&&(o._d=!0),d}function n1(e){return e.some(t=>Al(t)?!(t.type===ss||t.type===Ye&&!n1(t.children)):!0)?e:null}const zu=e=>e?A1(e)?pc(e):zu(e.parent):null,il=jr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zu(e.parent),$root:e=>zu(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>i1(e),$forceUpdate:e=>e.f||(e.f=()=>{N0(e.update)}),$nextTick:e=>e.n||(e.n=Rl.bind(e.proxy)),$watch:e=>uv.bind(e)}),du=(e,t)=>e!==Zt&&!e.__isScriptSetup&&zt(e,t),Hb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:o,accessCache:i,type:l,appContext:d}=e;let c;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return n[t];case 4:return r[t];case 3:return o[t]}else{if(du(s,t))return i[t]=1,s[t];if(n!==Zt&&zt(n,t))return i[t]=2,n[t];if((c=e.propsOptions[0])&&zt(c,t))return i[t]=3,o[t];if(r!==Zt&&zt(r,t))return i[t]=4,r[t];Hu&&(i[t]=0)}}const f=il[t];let b,w;if(f)return t==="$attrs"&&rs(e.attrs,"get",""),f(e);if((b=l.__cssModules)&&(b=b[t]))return b;if(r!==Zt&&zt(r,t))return i[t]=4,r[t];if(w=d.config.globalProperties,zt(w,t))return w[t]},set({_:e},t,r){const{data:s,setupState:n,ctx:o}=e;return du(n,t)?(n[t]=r,!0):s!==Zt&&zt(s,t)?(s[t]=r,!0):zt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:n,propsOptions:o,type:i}},l){let d,c;return!!(r[l]||e!==Zt&&l[0]!=="$"&&zt(e,l)||du(t,l)||(d=o[0])&&zt(d,l)||zt(s,l)||zt(il,l)||zt(n.config.globalProperties,l)||(c=i.__cssModules)&&c[l])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:zt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Hf(e){return pt(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Hu=!0;function Vb(e){const t=i1(e),r=e.proxy,s=e.ctx;Hu=!1,t.beforeCreate&&Vf(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:i,watch:l,provide:d,inject:c,created:f,beforeMount:b,mounted:w,beforeUpdate:h,updated:_,activated:O,deactivated:j,beforeDestroy:N,beforeUnmount:W,destroyed:B,unmounted:I,render:R,renderTracked:K,renderTriggered:U,errorCaptured:x,serverPrefetch:p,expose:E,inheritAttrs:y,components:A,directives:H,filters:F}=t;if(c&&Wb(c,s,null),i)for(const he in i){const Z=i[he];St(Z)&&(s[he]=Z.bind(r))}if(n){const he=n.call(r,r);Qt(he)&&(e.data=Dn(he))}if(Hu=!0,o)for(const he in o){const Z=o[he],M=St(Z)?Z.bind(r,r):St(Z.get)?Z.get.bind(r,r):Pa,z=!St(Z)&&St(Z.set)?Z.set.bind(r):Pa,S=Pe({get:M,set:z});Object.defineProperty(s,he,{enumerable:!0,configurable:!0,get:()=>S.value,set:m=>S.value=m})}if(l)for(const he in l)o1(l[he],s,r,he);if(d){const he=St(d)?d.call(r):d;Reflect.ownKeys(he).forEach(Z=>{Id(Z,he[Z])})}f&&Vf(f,e,"c");function ge(he,Z){pt(Z)?Z.forEach(M=>he(M.bind(r))):Z&&he(Z.bind(r))}if(ge(Rb,b),ge(Kr,w),ge(Ob,h),ge(Fb,_),ge(Ib,O),ge(Tb,j),ge(qb,x),ge(Bb,K),ge(Ub,U),ge(e1,W),ge(pi,I),ge(jb,p),pt(E))if(E.length){const he=e.exposed||(e.exposed={});E.forEach(Z=>{Object.defineProperty(he,Z,{get:()=>r[Z],set:M=>r[Z]=M,enumerable:!0})})}else e.exposed||(e.exposed={});R&&e.render===Pa&&(e.render=R),y!=null&&(e.inheritAttrs=y),A&&(e.components=A),H&&(e.directives=H),p&&Xp(e)}function Wb(e,t,r=Pa){pt(e)&&(e=Vu(e));for(const s in e){const n=e[s];let o;Qt(n)?"default"in n?o=Hs(n.from||s,n.default,!0):o=Hs(n.from||s):o=Hs(n),_r(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function Vf(e,t,r){oa(pt(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function o1(e,t,r,s){let n=s.includes(".")?y1(r,s):()=>r[s];if(fr(e)){const o=t[e];St(o)&&Dr(n,o)}else if(St(e))Dr(n,e.bind(r));else if(Qt(e))if(pt(e))e.forEach(o=>o1(o,t,r,s));else{const o=St(e.handler)?e.handler.bind(r):t[e.handler];St(o)&&Dr(n,o,e)}}function i1(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let d;return l?d=l:!n.length&&!r&&!s?d=t:(d={},n.length&&n.forEach(c=>Yd(d,c,i,!0)),Yd(d,t,i)),Qt(t)&&o.set(t,d),d}function Yd(e,t,r,s=!1){const{mixins:n,extends:o}=t;o&&Yd(e,o,r,!0),n&&n.forEach(i=>Yd(e,i,r,!0));for(const i in t)if(!(s&&i==="expose")){const l=Gb[i]||r&&r[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Gb={data:Wf,props:Gf,emits:Gf,methods:tl,computed:tl,beforeCreate:cs,created:cs,beforeMount:cs,mounted:cs,beforeUpdate:cs,updated:cs,beforeDestroy:cs,beforeUnmount:cs,destroyed:cs,unmounted:cs,activated:cs,deactivated:cs,errorCaptured:cs,serverPrefetch:cs,components:tl,directives:tl,watch:Yb,provide:Wf,inject:Kb};function Wf(e,t){return t?e?function(){return jr(St(e)?e.call(this,this):e,St(t)?t.call(this,this):t)}:t:e}function Kb(e,t){return tl(Vu(e),Vu(t))}function Vu(e){if(pt(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function cs(e,t){return e?[...new Set([].concat(e,t))]:t}function tl(e,t){return e?jr(Object.create(null),e,t):t}function Gf(e,t){return e?pt(e)&&pt(t)?[...new Set([...e,...t])]:jr(Object.create(null),Hf(e),Hf(t??{})):t}function Yb(e,t){if(!e)return t;if(!t)return e;const r=jr(Object.create(null),e);for(const s in t)r[s]=cs(e[s],t[s]);return r}function l1(){return{app:null,config:{isNativeTag:fp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jb=0;function Zb(e,t){return function(s,n=null){St(s)||(s=jr({},s)),n!=null&&!Qt(n)&&(n=null);const o=l1(),i=new WeakSet,l=[];let d=!1;const c=o.app={_uid:Jb++,_component:s,_props:n,_container:null,_context:o,_instance:null,version:Iv,get config(){return o.config},set config(f){},use(f,...b){return i.has(f)||(f&&St(f.install)?(i.add(f),f.install(c,...b)):St(f)&&(i.add(f),f(c,...b))),c},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),c},component(f,b){return b?(o.components[f]=b,c):o.components[f]},directive(f,b){return b?(o.directives[f]=b,c):o.directives[f]},mount(f,b,w){if(!d){const h=c._ceVNode||Me(s,n);return h.appContext=o,w===!0?w="svg":w===!1&&(w=void 0),e(h,f,w),d=!0,c._container=f,f.__vue_app__=c,pc(h.component)}},onUnmount(f){l.push(f)},unmount(){d&&(oa(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,b){return o.provides[f]=b,c},runWithContext(f){const b=mo;mo=c;try{return f()}finally{mo=b}}};return c}}let mo=null;function Id(e,t){if(as){let r=as.provides;const s=as.parent&&as.parent.provides;s===r&&(r=as.provides=Object.create(s)),r[e]=t}}function Hs(e,t,r=!1){const s=I0();if(s||mo){let n=mo?mo._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return r&&St(t)?t.call(s&&s.proxy):t}}function Xb(){return!!(I0()||mo)}const d1={},c1=()=>Object.create(d1),u1=e=>Object.getPrototypeOf(e)===d1;function Qb(e,t,r,s=!1){const n={},o=c1();e.propsDefaults=Object.create(null),f1(e,t,n,o);for(const i in e.propsOptions[0])i in n||(n[i]=void 0);r?e.props=s?n:Op(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function ev(e,t,r,s){const{props:n,attrs:o,vnode:{patchFlag:i}}=e,l=Ft(n),[d]=e.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let b=0;b<f.length;b++){let w=f[b];if(hc(e.emitsOptions,w))continue;const h=t[w];if(d)if(zt(o,w))h!==o[w]&&(o[w]=h,c=!0);else{const _=Ws(w);n[_]=Wu(d,l,_,h,e,!1)}else h!==o[w]&&(o[w]=h,c=!0)}}}else{f1(e,t,n,o)&&(c=!0);let f;for(const b in l)(!t||!zt(t,b)&&((f=Un(b))===b||!zt(t,f)))&&(d?r&&(r[b]!==void 0||r[f]!==void 0)&&(n[b]=Wu(d,l,b,void 0,e,!0)):delete n[b]);if(o!==l)for(const b in o)(!t||!zt(t,b))&&(delete o[b],c=!0)}c&&Xa(e.attrs,"set","")}function f1(e,t,r,s){const[n,o]=e.propsOptions;let i=!1,l;if(t)for(let d in t){if(sl(d))continue;const c=t[d];let f;n&&zt(n,f=Ws(d))?!o||!o.includes(f)?r[f]=c:(l||(l={}))[f]=c:hc(e.emitsOptions,d)||(!(d in s)||c!==s[d])&&(s[d]=c,i=!0)}if(o){const d=Ft(r),c=l||Zt;for(let f=0;f<o.length;f++){const b=o[f];r[b]=Wu(n,d,b,c[b],e,!zt(c,b))}}return i}function Wu(e,t,r,s,n,o){const i=e[r];if(i!=null){const l=zt(i,"default");if(l&&s===void 0){const d=i.default;if(i.type!==Function&&!i.skipFactory&&St(d)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const f=Ol(n);s=c[r]=d.call(null,t),f()}}else s=d;n.ce&&n.ce._setProp(r,s)}i[0]&&(o&&!l?s=!1:i[1]&&(s===""||s===Un(r))&&(s=!0))}return s}const tv=new WeakMap;function h1(e,t,r=!1){const s=r?tv:t.propsCache,n=s.get(e);if(n)return n;const o=e.props,i={},l=[];let d=!1;if(!St(e)){const f=b=>{d=!0;const[w,h]=h1(b,t,!0);jr(i,w),h&&l.push(...h)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!d)return Qt(e)&&s.set(e,ti),ti;if(pt(o))for(let f=0;f<o.length;f++){const b=Ws(o[f]);Kf(b)&&(i[b]=Zt)}else if(o)for(const f in o){const b=Ws(f);if(Kf(b)){const w=o[f],h=i[b]=pt(w)||St(w)?{type:w}:jr({},w),_=h.type;let O=!1,j=!0;if(pt(_))for(let N=0;N<_.length;++N){const W=_[N],B=St(W)&&W.name;if(B==="Boolean"){O=!0;break}else B==="String"&&(j=!1)}else O=St(_)&&_.name==="Boolean";h[0]=O,h[1]=j,(O||zt(h,"default"))&&l.push(b)}}const c=[i,l];return Qt(e)&&s.set(e,c),c}function Kf(e){return e[0]!=="$"&&!sl(e)}const $0=e=>e==="_"||e==="_ctx"||e==="$stable",E0=e=>pt(e)?e.map(Aa):[Aa(e)],rv=(e,t,r)=>{if(t._n)return t;const s=Pr((...n)=>E0(t(...n)),r);return s._c=!1,s},g1=(e,t,r)=>{const s=e._ctx;for(const n in e){if($0(n))continue;const o=e[n];if(St(o))t[n]=rv(n,o,s);else if(o!=null){const i=E0(o);t[n]=()=>i}}},p1=(e,t)=>{const r=E0(t);e.slots.default=()=>r},m1=(e,t,r)=>{for(const s in t)(r||!$0(s))&&(e[s]=t[s])},sv=(e,t,r)=>{const s=e.slots=c1();if(e.vnode.shapeFlag&32){const n=t._;n?(m1(s,t,r),r&&mp(s,"_",n,!0)):g1(t,s)}else t&&p1(e,t)},av=(e,t,r)=>{const{vnode:s,slots:n}=e;let o=!0,i=Zt;if(s.shapeFlag&32){const l=t._;l?r&&l===1?o=!1:m1(n,t,r):(o=!t.$stable,g1(t,n)),i=t}else t&&(p1(e,t),i={default:1});if(o)for(const l in n)!$0(l)&&i[l]==null&&delete n[l]},Cs=xv;function nv(e){return ov(e)}function ov(e,t){const r=lc();r.__VUE__=!0;const{insert:s,remove:n,patchProp:o,createElement:i,createText:l,createComment:d,setText:c,setElementText:f,parentNode:b,nextSibling:w,setScopeId:h=Pa,insertStaticContent:_}=e,O=(re,ie,ne,T=null,de=null,me=null,ke=void 0,ve=null,$e=!!ie.dynamicChildren)=>{if(re===ie)return;re&&!ho(re,ie)&&(T=q(re),m(re,de,me,!0),re=null),ie.patchFlag===-2&&($e=!1,ie.dynamicChildren=null);const{type:Se,ref:qe,shapeFlag:Te}=ie;switch(Se){case gc:j(re,ie,ne,T);break;case ss:N(re,ie,ne,T);break;case Td:re==null&&W(ie,ne,T,ke);break;case Ye:A(re,ie,ne,T,de,me,ke,ve,$e);break;default:Te&1?R(re,ie,ne,T,de,me,ke,ve,$e):Te&6?H(re,ie,ne,T,de,me,ke,ve,$e):(Te&64||Te&128)&&Se.process(re,ie,ne,T,de,me,ke,ve,$e,pe)}qe!=null&&de?ol(qe,re&&re.ref,me,ie||re,!ie):qe==null&&re&&re.ref!=null&&ol(re.ref,null,me,re,!0)},j=(re,ie,ne,T)=>{if(re==null)s(ie.el=l(ie.children),ne,T);else{const de=ie.el=re.el;ie.children!==re.children&&c(de,ie.children)}},N=(re,ie,ne,T)=>{re==null?s(ie.el=d(ie.children||""),ne,T):ie.el=re.el},W=(re,ie,ne,T)=>{[re.el,re.anchor]=_(re.children,ie,ne,T,re.el,re.anchor)},B=({el:re,anchor:ie},ne,T)=>{let de;for(;re&&re!==ie;)de=w(re),s(re,ne,T),re=de;s(ie,ne,T)},I=({el:re,anchor:ie})=>{let ne;for(;re&&re!==ie;)ne=w(re),n(re),re=ne;n(ie)},R=(re,ie,ne,T,de,me,ke,ve,$e)=>{ie.type==="svg"?ke="svg":ie.type==="math"&&(ke="mathml"),re==null?K(ie,ne,T,de,me,ke,ve,$e):p(re,ie,de,me,ke,ve,$e)},K=(re,ie,ne,T,de,me,ke,ve)=>{let $e,Se;const{props:qe,shapeFlag:Te,transition:Oe,dirs:Be}=re;if($e=re.el=i(re.type,me,qe&&qe.is,qe),Te&8?f($e,re.children):Te&16&&x(re.children,$e,null,T,de,cu(re,me),ke,ve),Be&&oo(re,null,T,"created"),U($e,re,re.scopeId,ke,T),qe){for(const et in qe)et!=="value"&&!sl(et)&&o($e,et,null,qe[et],me,T);"value"in qe&&o($e,"value",null,qe.value,me),(Se=qe.onVnodeBeforeMount)&&ka(Se,T,re)}Be&&oo(re,null,T,"beforeMount");const ze=iv(de,Oe);ze&&Oe.beforeEnter($e),s($e,ie,ne),((Se=qe&&qe.onVnodeMounted)||ze||Be)&&Cs(()=>{Se&&ka(Se,T,re),ze&&Oe.enter($e),Be&&oo(re,null,T,"mounted")},de)},U=(re,ie,ne,T,de)=>{if(ne&&h(re,ne),T)for(let me=0;me<T.length;me++)h(re,T[me]);if(de){let me=de.subTree;if(ie===me||w1(me.type)&&(me.ssContent===ie||me.ssFallback===ie)){const ke=de.vnode;U(re,ke,ke.scopeId,ke.slotScopeIds,de.parent)}}},x=(re,ie,ne,T,de,me,ke,ve,$e=0)=>{for(let Se=$e;Se<re.length;Se++){const qe=re[Se]=ve?Ln(re[Se]):Aa(re[Se]);O(null,qe,ie,ne,T,de,me,ke,ve)}},p=(re,ie,ne,T,de,me,ke)=>{const ve=ie.el=re.el;let{patchFlag:$e,dynamicChildren:Se,dirs:qe}=ie;$e|=re.patchFlag&16;const Te=re.props||Zt,Oe=ie.props||Zt;let Be;if(ne&&io(ne,!1),(Be=Oe.onVnodeBeforeUpdate)&&ka(Be,ne,ie,re),qe&&oo(ie,re,ne,"beforeUpdate"),ne&&io(ne,!0),(Te.innerHTML&&Oe.innerHTML==null||Te.textContent&&Oe.textContent==null)&&f(ve,""),Se?E(re.dynamicChildren,Se,ve,ne,T,cu(ie,de),me):ke||Z(re,ie,ve,null,ne,T,cu(ie,de),me,!1),$e>0){if($e&16)y(ve,Te,Oe,ne,de);else if($e&2&&Te.class!==Oe.class&&o(ve,"class",null,Oe.class,de),$e&4&&o(ve,"style",Te.style,Oe.style,de),$e&8){const ze=ie.dynamicProps;for(let et=0;et<ze.length;et++){const Ke=ze[et],Ze=Te[Ke],tt=Oe[Ke];(tt!==Ze||Ke==="value")&&o(ve,Ke,Ze,tt,de,ne)}}$e&1&&re.children!==ie.children&&f(ve,ie.children)}else!ke&&Se==null&&y(ve,Te,Oe,ne,de);((Be=Oe.onVnodeUpdated)||qe)&&Cs(()=>{Be&&ka(Be,ne,ie,re),qe&&oo(ie,re,ne,"updated")},T)},E=(re,ie,ne,T,de,me,ke)=>{for(let ve=0;ve<ie.length;ve++){const $e=re[ve],Se=ie[ve],qe=$e.el&&($e.type===Ye||!ho($e,Se)||$e.shapeFlag&198)?b($e.el):ne;O($e,Se,qe,null,T,de,me,ke,!0)}},y=(re,ie,ne,T,de)=>{if(ie!==ne){if(ie!==Zt)for(const me in ie)!sl(me)&&!(me in ne)&&o(re,me,ie[me],null,de,T);for(const me in ne){if(sl(me))continue;const ke=ne[me],ve=ie[me];ke!==ve&&me!=="value"&&o(re,me,ve,ke,de,T)}"value"in ne&&o(re,"value",ie.value,ne.value,de)}},A=(re,ie,ne,T,de,me,ke,ve,$e)=>{const Se=ie.el=re?re.el:l(""),qe=ie.anchor=re?re.anchor:l("");let{patchFlag:Te,dynamicChildren:Oe,slotScopeIds:Be}=ie;Be&&(ve=ve?ve.concat(Be):Be),re==null?(s(Se,ne,T),s(qe,ne,T),x(ie.children||[],ne,qe,de,me,ke,ve,$e)):Te>0&&Te&64&&Oe&&re.dynamicChildren?(E(re.dynamicChildren,Oe,ne,de,me,ke,ve),(ie.key!=null||de&&ie===de.subTree)&&b1(re,ie,!0)):Z(re,ie,ne,qe,de,me,ke,ve,$e)},H=(re,ie,ne,T,de,me,ke,ve,$e)=>{ie.slotScopeIds=ve,re==null?ie.shapeFlag&512?de.ctx.activate(ie,ne,T,ke,$e):F(ie,ne,T,de,me,ke,$e):ae(re,ie,$e)},F=(re,ie,ne,T,de,me,ke)=>{const ve=re.component=Cv(re,T,de);if(uc(re)&&(ve.ctx.renderer=pe),Pv(ve,!1,ke),ve.asyncDep){if(de&&de.registerDep(ve,ge,ke),!re.el){const $e=ve.subTree=Me(ss);N(null,$e,ie,ne),re.placeholder=$e.el}}else ge(ve,re,ie,ne,de,me,ke)},ae=(re,ie,ne)=>{const T=ie.component=re.component;if(bv(re,ie,ne))if(T.asyncDep&&!T.asyncResolved){he(T,ie,ne);return}else T.next=ie,T.update();else ie.el=re.el,T.vnode=ie},ge=(re,ie,ne,T,de,me,ke)=>{const ve=()=>{if(re.isMounted){let{next:Te,bu:Oe,u:Be,parent:ze,vnode:et}=re;{const vt=v1(re);if(vt){Te&&(Te.el=et.el,he(re,Te,ke)),vt.asyncDep.then(()=>{re.isUnmounted||ve()});return}}let Ke=Te,Ze;io(re,!1),Te?(Te.el=et.el,he(re,Te,ke)):Te=et,Oe&&Md(Oe),(Ze=Te.props&&Te.props.onVnodeBeforeUpdate)&&ka(Ze,ze,Te,et),io(re,!0);const tt=Jf(re),Xe=re.subTree;re.subTree=tt,O(Xe,tt,b(Xe.el),q(Xe),re,de,me),Te.el=tt.el,Ke===null&&vv(re,tt.el),Be&&Cs(Be,de),(Ze=Te.props&&Te.props.onVnodeUpdated)&&Cs(()=>ka(Ze,ze,Te,et),de)}else{let Te;const{el:Oe,props:Be}=ie,{bm:ze,m:et,parent:Ke,root:Ze,type:tt}=re,Xe=ai(ie);io(re,!1),ze&&Md(ze),!Xe&&(Te=Be&&Be.onVnodeBeforeMount)&&ka(Te,Ke,ie),io(re,!0);{Ze.ce&&Ze.ce._def.shadowRoot!==!1&&Ze.ce._injectChildStyle(tt);const vt=re.subTree=Jf(re);O(null,vt,ne,T,re,de,me),ie.el=vt.el}if(et&&Cs(et,de),!Xe&&(Te=Be&&Be.onVnodeMounted)){const vt=ie;Cs(()=>ka(Te,Ke,vt),de)}(ie.shapeFlag&256||Ke&&ai(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&re.a&&Cs(re.a,de),re.isMounted=!0,ie=ne=T=null}};re.scope.on();const $e=re.effect=new _p(ve);re.scope.off();const Se=re.update=$e.run.bind($e),qe=re.job=$e.runIfDirty.bind($e);qe.i=re,qe.id=re.uid,$e.scheduler=()=>N0(qe),io(re,!0),Se()},he=(re,ie,ne)=>{ie.component=re;const T=re.vnode.props;re.vnode=ie,re.next=null,ev(re,ie.props,T,ne),av(re,ie.children,ne),sn(),Uf(re),an()},Z=(re,ie,ne,T,de,me,ke,ve,$e=!1)=>{const Se=re&&re.children,qe=re?re.shapeFlag:0,Te=ie.children,{patchFlag:Oe,shapeFlag:Be}=ie;if(Oe>0){if(Oe&128){z(Se,Te,ne,T,de,me,ke,ve,$e);return}else if(Oe&256){M(Se,Te,ne,T,de,me,ke,ve,$e);return}}Be&8?(qe&16&&V(Se,de,me),Te!==Se&&f(ne,Te)):qe&16?Be&16?z(Se,Te,ne,T,de,me,ke,ve,$e):V(Se,de,me,!0):(qe&8&&f(ne,""),Be&16&&x(Te,ne,T,de,me,ke,ve,$e))},M=(re,ie,ne,T,de,me,ke,ve,$e)=>{re=re||ti,ie=ie||ti;const Se=re.length,qe=ie.length,Te=Math.min(Se,qe);let Oe;for(Oe=0;Oe<Te;Oe++){const Be=ie[Oe]=$e?Ln(ie[Oe]):Aa(ie[Oe]);O(re[Oe],Be,ne,null,de,me,ke,ve,$e)}Se>qe?V(re,de,me,!0,!1,Te):x(ie,ne,T,de,me,ke,ve,$e,Te)},z=(re,ie,ne,T,de,me,ke,ve,$e)=>{let Se=0;const qe=ie.length;let Te=re.length-1,Oe=qe-1;for(;Se<=Te&&Se<=Oe;){const Be=re[Se],ze=ie[Se]=$e?Ln(ie[Se]):Aa(ie[Se]);if(ho(Be,ze))O(Be,ze,ne,null,de,me,ke,ve,$e);else break;Se++}for(;Se<=Te&&Se<=Oe;){const Be=re[Te],ze=ie[Oe]=$e?Ln(ie[Oe]):Aa(ie[Oe]);if(ho(Be,ze))O(Be,ze,ne,null,de,me,ke,ve,$e);else break;Te--,Oe--}if(Se>Te){if(Se<=Oe){const Be=Oe+1,ze=Be<qe?ie[Be].el:T;for(;Se<=Oe;)O(null,ie[Se]=$e?Ln(ie[Se]):Aa(ie[Se]),ne,ze,de,me,ke,ve,$e),Se++}}else if(Se>Oe)for(;Se<=Te;)m(re[Se],de,me,!0),Se++;else{const Be=Se,ze=Se,et=new Map;for(Se=ze;Se<=Oe;Se++){const ht=ie[Se]=$e?Ln(ie[Se]):Aa(ie[Se]);ht.key!=null&&et.set(ht.key,Se)}let Ke,Ze=0;const tt=Oe-ze+1;let Xe=!1,vt=0;const At=new Array(tt);for(Se=0;Se<tt;Se++)At[Se]=0;for(Se=Be;Se<=Te;Se++){const ht=re[Se];if(Ze>=tt){m(ht,de,me,!0);continue}let Mt;if(ht.key!=null)Mt=et.get(ht.key);else for(Ke=ze;Ke<=Oe;Ke++)if(At[Ke-ze]===0&&ho(ht,ie[Ke])){Mt=Ke;break}Mt===void 0?m(ht,de,me,!0):(At[Mt-ze]=Se+1,Mt>=vt?vt=Mt:Xe=!0,O(ht,ie[Mt],ne,null,de,me,ke,ve,$e),Ze++)}const ot=Xe?lv(At):ti;for(Ke=ot.length-1,Se=tt-1;Se>=0;Se--){const ht=ze+Se,Mt=ie[ht],mt=ie[ht+1],It=ht+1<qe?mt.el||mt.placeholder:T;At[Se]===0?O(null,Mt,ne,It,de,me,ke,ve,$e):Xe&&(Ke<0||Se!==ot[Ke]?S(Mt,ne,It,2):Ke--)}}},S=(re,ie,ne,T,de=null)=>{const{el:me,type:ke,transition:ve,children:$e,shapeFlag:Se}=re;if(Se&6){S(re.component.subTree,ie,ne,T);return}if(Se&128){re.suspense.move(ie,ne,T);return}if(Se&64){ke.move(re,ie,ne,pe);return}if(ke===Ye){s(me,ie,ne);for(let Te=0;Te<$e.length;Te++)S($e[Te],ie,ne,T);s(re.anchor,ie,ne);return}if(ke===Td){B(re,ie,ne);return}if(T!==2&&Se&1&&ve)if(T===0)ve.beforeEnter(me),s(me,ie,ne),Cs(()=>ve.enter(me),de);else{const{leave:Te,delayLeave:Oe,afterLeave:Be}=ve,ze=()=>{re.ctx.isUnmounted?n(me):s(me,ie,ne)},et=()=>{me._isLeaving&&me[Ja](!0),Te(me,()=>{ze(),Be&&Be()})};Oe?Oe(me,ze,et):et()}else s(me,ie,ne)},m=(re,ie,ne,T=!1,de=!1)=>{const{type:me,props:ke,ref:ve,children:$e,dynamicChildren:Se,shapeFlag:qe,patchFlag:Te,dirs:Oe,cacheIndex:Be}=re;if(Te===-2&&(de=!1),ve!=null&&(sn(),ol(ve,null,ne,re,!0),an()),Be!=null&&(ie.renderCache[Be]=void 0),qe&256){ie.ctx.deactivate(re);return}const ze=qe&1&&Oe,et=!ai(re);let Ke;if(et&&(Ke=ke&&ke.onVnodeBeforeUnmount)&&ka(Ke,ie,re),qe&6)$(re.component,ne,T);else{if(qe&128){re.suspense.unmount(ne,T);return}ze&&oo(re,null,ie,"beforeUnmount"),qe&64?re.type.remove(re,ie,ne,pe,T):Se&&!Se.hasOnce&&(me!==Ye||Te>0&&Te&64)?V(Se,ie,ne,!1,!0):(me===Ye&&Te&384||!de&&qe&16)&&V($e,ie,ne),T&&C(re)}(et&&(Ke=ke&&ke.onVnodeUnmounted)||ze)&&Cs(()=>{Ke&&ka(Ke,ie,re),ze&&oo(re,null,ie,"unmounted")},ne)},C=re=>{const{type:ie,el:ne,anchor:T,transition:de}=re;if(ie===Ye){L(ne,T);return}if(ie===Td){I(re);return}const me=()=>{n(ne),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(re.shapeFlag&1&&de&&!de.persisted){const{leave:ke,delayLeave:ve}=de,$e=()=>ke(ne,me);ve?ve(re.el,me,$e):$e()}else me()},L=(re,ie)=>{let ne;for(;re!==ie;)ne=w(re),n(re),re=ne;n(ie)},$=(re,ie,ne)=>{const{bum:T,scope:de,job:me,subTree:ke,um:ve,m:$e,a:Se}=re;Yf($e),Yf(Se),T&&Md(T),de.stop(),me&&(me.flags|=8,m(ke,re,ie,ne)),ve&&Cs(ve,ie),Cs(()=>{re.isUnmounted=!0},ie)},V=(re,ie,ne,T=!1,de=!1,me=0)=>{for(let ke=me;ke<re.length;ke++)m(re[ke],ie,ne,T,de)},q=re=>{if(re.shapeFlag&6)return q(re.component.subTree);if(re.shapeFlag&128)return re.suspense.next();const ie=w(re.anchor||re.el),ne=ie&&ie[Nb];return ne?w(ne):ie};let te=!1;const oe=(re,ie,ne)=>{re==null?ie._vnode&&m(ie._vnode,null,null,!0):O(ie._vnode||null,re,ie,null,null,null,ne),ie._vnode=re,te||(te=!0,Uf(),zp(),te=!1)},pe={p:O,um:m,m:S,r:C,mt:F,mc:x,pc:Z,pbc:E,n:q,o:e};return{render:oe,hydrate:void 0,createApp:Zb(oe)}}function cu({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function io({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function iv(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function b1(e,t,r=!1){const s=e.children,n=t.children;if(pt(s)&&pt(n))for(let o=0;o<s.length;o++){const i=s[o];let l=n[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[o]=Ln(n[o]),l.el=i.el),!r&&l.patchFlag!==-2&&b1(i,l)),l.type===gc&&l.patchFlag!==-1&&(l.el=i.el),l.type===ss&&!l.el&&(l.el=i.el)}}function lv(e){const t=e.slice(),r=[0];let s,n,o,i,l;const d=e.length;for(s=0;s<d;s++){const c=e[s];if(c!==0){if(n=r[r.length-1],e[n]<c){t[s]=n,r.push(s);continue}for(o=0,i=r.length-1;o<i;)l=o+i>>1,e[r[l]]<c?o=l+1:i=l;c<e[r[o]]&&(o>0&&(t[s]=r[o-1]),r[o]=s)}}for(o=r.length,i=r[o-1];o-- >0;)r[o]=i,i=t[i];return r}function v1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:v1(t)}function Yf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const dv=Symbol.for("v-scx"),cv=()=>Hs(dv);function Dr(e,t,r){return x1(e,t,r)}function x1(e,t,r=Zt){const{immediate:s,deep:n,flush:o,once:i}=r,l=jr({},r),d=t&&s||!t&&o!=="post";let c;if(Cl){if(o==="sync"){const h=cv();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!d){const h=()=>{};return h.stop=Pa,h.resume=Pa,h.pause=Pa,h}}const f=as;l.call=(h,_,O)=>oa(h,f,_,O);let b=!1;o==="post"?l.scheduler=h=>{Cs(h,f&&f.suspense)}:o!=="sync"&&(b=!0,l.scheduler=(h,_)=>{_?h():N0(h)}),l.augmentJob=h=>{t&&(h.flags|=4),b&&(h.flags|=2,f&&(h.id=f.uid,h.i=f))};const w=Ab(e,t,l);return Cl&&(c?c.push(w):d&&w()),w}function uv(e,t,r){const s=this.proxy,n=fr(e)?e.includes(".")?y1(s,e):()=>s[e]:e.bind(s,s);let o;St(t)?o=t:(o=t.handler,r=t);const i=Ol(this),l=x1(n,o.bind(s),r);return i(),l}function y1(e,t){const r=t.split(".");return()=>{let s=e;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const fv=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ws(t)}Modifiers`]||e[`${Un(t)}Modifiers`];function hv(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||Zt;let n=r;const o=t.startsWith("update:"),i=o&&fv(s,t.slice(7));i&&(i.trim&&(n=r.map(f=>fr(f)?f.trim():f)),i.number&&(n=r.map(qd)));let l,d=s[l=su(t)]||s[l=su(Ws(t))];!d&&o&&(d=s[l=su(Un(t))]),d&&oa(d,e,6,n);const c=s[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,oa(c,e,6,n)}}const gv=new WeakMap;function k1(e,t,r=!1){const s=r?gv:t.emitsCache,n=s.get(e);if(n!==void 0)return n;const o=e.emits;let i={},l=!1;if(!St(e)){const d=c=>{const f=k1(c,t,!0);f&&(l=!0,jr(i,f))};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!o&&!l?(Qt(e)&&s.set(e,null),null):(pt(o)?o.forEach(d=>i[d]=null):jr(i,o),Qt(e)&&s.set(e,i),i)}function hc(e,t){return!e||!nc(t)?!1:(t=t.slice(2).replace(/Once$/,""),zt(e,t[0].toLowerCase()+t.slice(1))||zt(e,Un(t))||zt(e,t))}function Jf(e){const{type:t,vnode:r,proxy:s,withProxy:n,propsOptions:[o],slots:i,attrs:l,emit:d,render:c,renderCache:f,props:b,data:w,setupState:h,ctx:_,inheritAttrs:O}=e,j=Gd(e);let N,W;try{if(r.shapeFlag&4){const I=n||s,R=I;N=Aa(c.call(R,I,f,b,h,w,_)),W=l}else{const I=t;N=Aa(I.length>1?I(b,{attrs:l,slots:i,emit:d}):I(b,null)),W=t.props?l:pv(l)}}catch(I){ll.length=0,cc(I,e,1),N=Me(ss)}let B=N;if(W&&O!==!1){const I=Object.keys(W),{shapeFlag:R}=B;I.length&&R&7&&(o&&I.some(b0)&&(W=mv(W,o)),B=On(B,W,!1,!0))}return r.dirs&&(B=On(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(r.dirs):r.dirs),r.transition&&_l(B,r.transition),N=B,Gd(j),N}const pv=e=>{let t;for(const r in e)(r==="class"||r==="style"||nc(r))&&((t||(t={}))[r]=e[r]);return t},mv=(e,t)=>{const r={};for(const s in e)(!b0(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function bv(e,t,r){const{props:s,children:n,component:o}=e,{props:i,children:l,patchFlag:d}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return s?Zf(s,i,c):!!i;if(d&8){const f=t.dynamicProps;for(let b=0;b<f.length;b++){const w=f[b];if(i[w]!==s[w]&&!hc(c,w))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?Zf(s,i,c):!0:!!i;return!1}function Zf(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const o=s[n];if(t[o]!==e[o]&&!hc(r,o))return!0}return!1}function vv({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const w1=e=>e.__isSuspense;function xv(e,t){t&&t.pendingBranch?pt(e)?t.effects.push(...e):t.effects.push(e):Lb(e)}const Ye=Symbol.for("v-fgt"),gc=Symbol.for("v-txt"),ss=Symbol.for("v-cmt"),Td=Symbol.for("v-stc"),ll=[];let Ls=null;function G(e=!1){ll.push(Ls=e?null:[])}function yv(){ll.pop(),Ls=ll[ll.length-1]||null}let Sl=1;function Jd(e,t=!1){Sl+=e,e<0&&Ls&&t&&(Ls.hasOnce=!0)}function _1(e){return e.dynamicChildren=Sl>0?Ls||ti:null,yv(),Sl>0&&Ls&&Ls.push(e),e}function X(e,t,r,s,n,o){return _1(a(e,t,r,s,n,o,!0))}function Ut(e,t,r,s,n){return _1(Me(e,t,r,s,n,!0))}function Al(e){return e?e.__v_isVNode===!0:!1}function ho(e,t){return e.type===t.type&&e.key===t.key}const S1=({key:e})=>e??null,Dd=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?fr(e)||_r(e)||St(e)?{i:Gr,r:e,k:t,f:!!r}:e:null);function a(e,t=null,r=null,s=0,n=null,o=e===Ye?0:1,i=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&S1(t),ref:t&&Dd(t),scopeId:Vp,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Gr};return l?(M0(d,r),o&128&&e.normalize(d)):r&&(d.shapeFlag|=fr(r)?8:16),Sl>0&&!i&&Ls&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&Ls.push(d),d}const Me=kv;function kv(e,t=null,r=null,s=0,n=null,o=!1){if((!e||e===s1)&&(e=ss),Al(e)){const l=On(e,t,!0);return r&&M0(l,r),Sl>0&&!o&&Ls&&(l.shapeFlag&6?Ls[Ls.indexOf(e)]=l:Ls.push(l)),l.patchFlag=-2,l}if(Mv(e)&&(e=e.__vccOpts),t){t=wv(t);let{class:l,style:d}=t;l&&!fr(l)&&(t.class=Qe(l)),Qt(d)&&(P0(d)&&!pt(d)&&(d=jr({},d)),t.style=gi(d))}const i=fr(e)?1:w1(e)?128:Wp(e)?64:Qt(e)?4:St(e)?2:0;return a(e,t,r,s,n,i,o,!0)}function wv(e){return e?P0(e)||u1(e)?jr({},e):e:null}function On(e,t,r=!1,s=!1){const{props:n,ref:o,patchFlag:i,children:l,transition:d}=e,c=t?_v(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&S1(c),ref:t&&t.ref?r&&o?pt(o)?o.concat(Dd(t)):[o,Dd(t)]:Dd(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&On(e.ssContent),ssFallback:e.ssFallback&&On(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&s&&_l(f,d.clone(f)),f}function We(e=" ",t=0){return Me(gc,null,e,t)}function Xt(e,t){const r=Me(Td,null,e);return r.staticCount=t,r}function Ie(e="",t=!1){return t?(G(),Ut(ss,null,e)):Me(ss,null,e)}function Aa(e){return e==null||typeof e=="boolean"?Me(ss):pt(e)?Me(Ye,null,e.slice()):Al(e)?Ln(e):Me(gc,null,String(e))}function Ln(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:On(e)}function M0(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(pt(t))r=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),M0(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!u1(t)?t._ctx=Gr:n===3&&Gr&&(Gr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else St(t)?(t={default:t,_ctx:Gr},r=32):(t=String(t),s&64?(r=16,t=[We(t)]):r=8);e.children=t,e.shapeFlag|=r}function _v(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=Qe([t.class,s.class]));else if(n==="style")t.style=gi([t.style,s.style]);else if(nc(n)){const o=t[n],i=s[n];i&&o!==i&&!(pt(o)&&o.includes(i))&&(t[n]=o?[].concat(o,i):i)}else n!==""&&(t[n]=s[n])}return t}function ka(e,t,r,s=null){oa(e,t,7,[r,s])}const Sv=l1();let Av=0;function Cv(e,t,r){const s=e.type,n=(t?t.appContext:e.appContext)||Sv,o={uid:Av++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:h1(s,n),emitsOptions:k1(s,n),emit:null,emitted:null,propsDefaults:Zt,inheritAttrs:s.inheritAttrs,ctx:Zt,data:Zt,props:Zt,attrs:Zt,slots:Zt,refs:Zt,setupState:Zt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=hv.bind(null,o),e.ce&&e.ce(o),o}let as=null;const I0=()=>as||Gr;let Zd,Gu;{const e=lc(),t=(r,s)=>{let n;return(n=e[r])||(n=e[r]=[]),n.push(s),o=>{n.length>1?n.forEach(i=>i(o)):n[0](o)}};Zd=t("__VUE_INSTANCE_SETTERS__",r=>as=r),Gu=t("__VUE_SSR_SETTERS__",r=>Cl=r)}const Ol=e=>{const t=as;return Zd(e),e.scope.on(),()=>{e.scope.off(),Zd(t)}},Xf=()=>{as&&as.scope.off(),Zd(null)};function A1(e){return e.vnode.shapeFlag&4}let Cl=!1;function Pv(e,t=!1,r=!1){t&&Gu(t);const{props:s,children:n}=e.vnode,o=A1(e);Qb(e,s,o,t),sv(e,n,r||t);const i=o?Lv(e,t):void 0;return t&&Gu(!1),i}function Lv(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Hb);const{setup:s}=r;if(s){sn();const n=e.setupContext=s.length>1?$v(e):null,o=Ol(e),i=Dl(s,e,0,[e.props,n]),l=hp(i);if(an(),o(),(l||e.sp)&&!ai(e)&&Xp(e),l){if(i.then(Xf,Xf),t)return i.then(d=>{Qf(e,d)}).catch(d=>{cc(d,e,0)});e.asyncDep=i}else Qf(e,i)}else C1(e)}function Qf(e,t,r){St(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qt(t)&&(e.setupState=Up(t)),C1(e)}function C1(e,t,r){const s=e.type;e.render||(e.render=s.render||Pa);{const n=Ol(e);sn();try{Vb(e)}finally{an(),n()}}}const Nv={get(e,t){return rs(e,"get",""),e[t]}};function $v(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Nv),slots:e.slots,emit:e.emit,expose:t}}function pc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Up(L0(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in il)return il[r](e)},has(t,r){return r in t||r in il}})):e.proxy}function Ev(e,t=!0){return St(e)?e.displayName||e.name:e.name||t&&e.__name}function Mv(e){return St(e)&&"__vccOpts"in e}const Pe=(e,t)=>_b(e,t,Cl);function ii(e,t,r){const s=(o,i,l)=>{Jd(-1);try{return Me(o,i,l)}finally{Jd(1)}},n=arguments.length;return n===2?Qt(t)&&!pt(t)?Al(t)?s(e,null,[t]):s(e,t):s(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Al(r)&&(r=[r]),s(e,t,r))}const Iv="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ku;const eh=typeof window<"u"&&window.trustedTypes;if(eh)try{Ku=eh.createPolicy("vue",{createHTML:e=>e})}catch{}const P1=Ku?e=>Ku.createHTML(e):e=>e,Tv="http://www.w3.org/2000/svg",Dv="http://www.w3.org/1998/Math/MathML",Ya=typeof document<"u"?document:null,th=Ya&&Ya.createElement("template"),Rv={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const n=t==="svg"?Ya.createElementNS(Tv,e):t==="mathml"?Ya.createElementNS(Dv,e):r?Ya.createElement(e,{is:r}):Ya.createElement(e);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>Ya.createTextNode(e),createComment:e=>Ya.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ya.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,n,o){const i=r?r.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===o||!(n=n.nextSibling)););else{th.innerHTML=P1(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=th.content;if(s==="svg"||s==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,r)}return[i?i.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},wn="transition",Yi="animation",Pl=Symbol("_vtc"),L1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ov=jr({},Gp,L1),Fv=e=>(e.displayName="Transition",e.props=Ov,e),Rd=Fv((e,{slots:t})=>ii(Mb,jv(e),t)),lo=(e,t=[])=>{pt(e)?e.forEach(r=>r(...t)):e&&e(...t)},rh=e=>e?pt(e)?e.some(t=>t.length>1):e.length>1:!1;function jv(e){const t={};for(const A in e)A in L1||(t[A]=e[A]);if(e.css===!1)return t;const{name:r="v",type:s,duration:n,enterFromClass:o=`${r}-enter-from`,enterActiveClass:i=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:d=o,appearActiveClass:c=i,appearToClass:f=l,leaveFromClass:b=`${r}-leave-from`,leaveActiveClass:w=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=e,_=Uv(n),O=_&&_[0],j=_&&_[1],{onBeforeEnter:N,onEnter:W,onEnterCancelled:B,onLeave:I,onLeaveCancelled:R,onBeforeAppear:K=N,onAppear:U=W,onAppearCancelled:x=B}=t,p=(A,H,F,ae)=>{A._enterCancelled=ae,co(A,H?f:l),co(A,H?c:i),F&&F()},E=(A,H)=>{A._isLeaving=!1,co(A,b),co(A,h),co(A,w),H&&H()},y=A=>(H,F)=>{const ae=A?U:W,ge=()=>p(H,A,F);lo(ae,[H,ge]),sh(()=>{co(H,A?d:o),Va(H,A?f:l),rh(ae)||ah(H,s,O,ge)})};return jr(t,{onBeforeEnter(A){lo(N,[A]),Va(A,o),Va(A,i)},onBeforeAppear(A){lo(K,[A]),Va(A,d),Va(A,c)},onEnter:y(!1),onAppear:y(!0),onLeave(A,H){A._isLeaving=!0;const F=()=>E(A,H);Va(A,b),A._enterCancelled?(Va(A,w),ih()):(ih(),Va(A,w)),sh(()=>{A._isLeaving&&(co(A,b),Va(A,h),rh(I)||ah(A,s,j,F))}),lo(I,[A,F])},onEnterCancelled(A){p(A,!1,void 0,!0),lo(B,[A])},onAppearCancelled(A){p(A,!0,void 0,!0),lo(x,[A])},onLeaveCancelled(A){E(A),lo(R,[A])}})}function Uv(e){if(e==null)return null;if(Qt(e))return[uu(e.enter),uu(e.leave)];{const t=uu(e);return[t,t]}}function uu(e){return q2(e)}function Va(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Pl]||(e[Pl]=new Set)).add(t)}function co(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const r=e[Pl];r&&(r.delete(t),r.size||(e[Pl]=void 0))}function sh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Bv=0;function ah(e,t,r,s){const n=e._endId=++Bv,o=()=>{n===e._endId&&s()};if(r!=null)return setTimeout(o,r);const{type:i,timeout:l,propCount:d}=qv(e,t);if(!i)return s();const c=i+"end";let f=0;const b=()=>{e.removeEventListener(c,w),o()},w=h=>{h.target===e&&++f>=d&&b()};setTimeout(()=>{f<d&&b()},l+1),e.addEventListener(c,w)}function qv(e,t){const r=window.getComputedStyle(e),s=_=>(r[_]||"").split(", "),n=s(`${wn}Delay`),o=s(`${wn}Duration`),i=nh(n,o),l=s(`${Yi}Delay`),d=s(`${Yi}Duration`),c=nh(l,d);let f=null,b=0,w=0;t===wn?i>0&&(f=wn,b=i,w=o.length):t===Yi?c>0&&(f=Yi,b=c,w=d.length):(b=Math.max(i,c),f=b>0?i>c?wn:Yi:null,w=f?f===wn?o.length:d.length:0);const h=f===wn&&/\b(?:transform|all)(?:,|$)/.test(s(`${wn}Property`).toString());return{type:f,timeout:b,propCount:w,hasTransform:h}}function nh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,s)=>oh(r)+oh(e[s])))}function oh(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ih(){return document.body.offsetHeight}function zv(e,t,r){const s=e[Pl];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Xd=Symbol("_vod"),N1=Symbol("_vsh"),rl={name:"show",beforeMount(e,{value:t},{transition:r}){e[Xd]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Ji(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:s}){!t!=!r&&(s?t?(s.beforeEnter(e),Ji(e,!0),s.enter(e)):s.leave(e,()=>{Ji(e,!1)}):Ji(e,t))},beforeUnmount(e,{value:t}){Ji(e,t)}};function Ji(e,t){e.style.display=t?e[Xd]:"none",e[N1]=!t}const Hv=Symbol(""),Vv=/(?:^|;)\s*display\s*:/;function Wv(e,t,r){const s=e.style,n=fr(r);let o=!1;if(r&&!n){if(t)if(fr(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();r[l]==null&&Od(s,l,"")}else for(const i in t)r[i]==null&&Od(s,i,"");for(const i in r)i==="display"&&(o=!0),Od(s,i,r[i])}else if(n){if(t!==r){const i=s[Hv];i&&(r+=";"+i),s.cssText=r,o=Vv.test(r)}}else t&&e.removeAttribute("style");Xd in e&&(e[Xd]=o?s.display:"",e[N1]&&(s.display="none"))}const lh=/\s*!important$/;function Od(e,t,r){if(pt(r))r.forEach(s=>Od(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=Gv(e,t);lh.test(r)?e.setProperty(Un(s),r.replace(lh,""),"important"):e[s]=r}}const dh=["Webkit","Moz","ms"],fu={};function Gv(e,t){const r=fu[t];if(r)return r;let s=Ws(t);if(s!=="filter"&&s in e)return fu[t]=s;s=ic(s);for(let n=0;n<dh.length;n++){const o=dh[n]+s;if(o in e)return fu[t]=o}return t}const ch="http://www.w3.org/1999/xlink";function uh(e,t,r,s,n,o=K2(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(ch,t.slice(6,t.length)):e.setAttributeNS(ch,t,r):r==null||o&&!bp(r)?e.removeAttribute(t):e.setAttribute(t,o?"":na(r)?String(r):r)}function fh(e,t,r,s,n){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?P1(r):r);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?e.getAttribute("value")||"":e.value,d=r==null?e.type==="checkbox"?"on":"":String(r);(l!==d||!("_value"in e))&&(e.value=d),r==null&&e.removeAttribute(t),e._value=r;return}let i=!1;if(r===""||r==null){const l=typeof e[t];l==="boolean"?r=bp(r):r==null&&l==="string"?(r="",i=!0):l==="number"&&(r=0,i=!0)}try{e[t]=r}catch{}i&&e.removeAttribute(n||t)}function en(e,t,r,s){e.addEventListener(t,r,s)}function Kv(e,t,r,s){e.removeEventListener(t,r,s)}const hh=Symbol("_vei");function Yv(e,t,r,s,n=null){const o=e[hh]||(e[hh]={}),i=o[t];if(s&&i)i.value=s;else{const[l,d]=Jv(t);if(s){const c=o[t]=Qv(s,n);en(e,l,c,d)}else i&&(Kv(e,l,i,d),o[t]=void 0)}}const gh=/(?:Once|Passive|Capture)$/;function Jv(e){let t;if(gh.test(e)){t={};let s;for(;s=e.match(gh);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Un(e.slice(2)),t]}let hu=0;const Zv=Promise.resolve(),Xv=()=>hu||(Zv.then(()=>hu=0),hu=Date.now());function Qv(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;oa(e5(s,r.value),t,5,[s])};return r.value=e,r.attached=Xv(),r}function e5(e,t){if(pt(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const ph=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,t5=(e,t,r,s,n,o)=>{const i=n==="svg";t==="class"?zv(e,s,i):t==="style"?Wv(e,r,s):nc(t)?b0(t)||Yv(e,t,r,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):r5(e,t,s,i))?(fh(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&uh(e,t,s,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!fr(s))?fh(e,Ws(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),uh(e,t,s,i))};function r5(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ph(t)&&St(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ph(t)&&fr(r)?!1:t in e}const Fn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pt(t)?r=>Md(t,r):t};function s5(e){e.target.composing=!0}function mh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vs=Symbol("_assign"),rt={created(e,{modifiers:{lazy:t,trim:r,number:s}},n){e[Vs]=Fn(n);const o=s||n.props&&n.props.type==="number";en(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;r&&(l=l.trim()),o&&(l=qd(l)),e[Vs](l)}),r&&en(e,"change",()=>{e.value=e.value.trim()}),t||(en(e,"compositionstart",s5),en(e,"compositionend",mh),en(e,"change",mh))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:s,trim:n,number:o}},i){if(e[Vs]=Fn(i),e.composing)return;const l=(o||e.type==="number")&&!/^0\d/.test(e.value)?qd(e.value):e.value,d=t??"";l!==d&&(document.activeElement===e&&e.type!=="range"&&(s&&t===r||n&&e.value.trim()===d)||(e.value=d))}},Bs={deep:!0,created(e,t,r){e[Vs]=Fn(r),en(e,"change",()=>{const s=e._modelValue,n=li(e),o=e.checked,i=e[Vs];if(pt(s)){const l=y0(s,n),d=l!==-1;if(o&&!d)i(s.concat(n));else if(!o&&d){const c=[...s];c.splice(l,1),i(c)}}else if(hi(s)){const l=new Set(s);o?l.add(n):l.delete(n),i(l)}else i($1(e,o))})},mounted:bh,beforeUpdate(e,t,r){e[Vs]=Fn(r),bh(e,t,r)}};function bh(e,{value:t,oldValue:r},s){e._modelValue=t;let n;if(pt(t))n=y0(t,s.props.value)>-1;else if(hi(t))n=t.has(s.props.value);else{if(t===r)return;n=wo(t,$1(e,!0))}e.checked!==n&&(e.checked=n)}const rn={created(e,{value:t},r){e.checked=wo(t,r.props.value),e[Vs]=Fn(r),en(e,"change",()=>{e[Vs](li(e))})},beforeUpdate(e,{value:t,oldValue:r},s){e[Vs]=Fn(s),t!==r&&(e.checked=wo(t,s.props.value))}},Et={deep:!0,created(e,{value:t,modifiers:{number:r}},s){const n=hi(t);en(e,"change",()=>{const o=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>r?qd(li(i)):li(i));e[Vs](e.multiple?n?new Set(o):o:o[0]),e._assigning=!0,Rl(()=>{e._assigning=!1})}),e[Vs]=Fn(s)},mounted(e,{value:t}){vh(e,t)},beforeUpdate(e,t,r){e[Vs]=Fn(r)},updated(e,{value:t}){e._assigning||vh(e,t)}};function vh(e,t){const r=e.multiple,s=pt(t);if(!(r&&!s&&!hi(t))){for(let n=0,o=e.options.length;n<o;n++){const i=e.options[n],l=li(i);if(r)if(s){const d=typeof l;d==="string"||d==="number"?i.selected=t.some(c=>String(c)===String(l)):i.selected=y0(t,l)>-1}else i.selected=t.has(l);else if(wo(li(i),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function li(e){return"_value"in e?e._value:e.value}function $1(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const E1={created(e,t,r){yd(e,t,r,null,"created")},mounted(e,t,r){yd(e,t,r,null,"mounted")},beforeUpdate(e,t,r,s){yd(e,t,r,s,"beforeUpdate")},updated(e,t,r,s){yd(e,t,r,s,"updated")}};function a5(e,t){switch(e){case"SELECT":return Et;case"TEXTAREA":return rt;default:switch(t){case"checkbox":return Bs;case"radio":return rn;default:return rt}}}function yd(e,t,r,s,n){const i=a5(e.tagName,r.props&&r.props.type)[n];i&&i(e,t,r,s)}const n5=["ctrl","shift","alt","meta"],o5={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>n5.some(r=>e[`${r}Key`]&&!t.includes(r))},Gs=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=((n,...o)=>{for(let i=0;i<t.length;i++){const l=o5[t[i]];if(l&&l(n,t))return}return e(n,...o)}))},i5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Yu=(e,t)=>{const r=e._withKeys||(e._withKeys={}),s=t.join(".");return r[s]||(r[s]=(n=>{if(!("key"in n))return;const o=Un(n.key);if(t.some(i=>i===o||i5[i]===o))return e(n)}))},l5=jr({patchProp:t5},Rv);let xh;function d5(){return xh||(xh=nv(l5))}const uB=((...e)=>{const t=d5().createApp(...e),{mount:r}=t;return t.mount=s=>{const n=u5(s);if(!n)return;const o=t._component;!St(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const i=r(n,!1,c5(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},t});function c5(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function u5(e){return fr(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let M1;const mc=e=>M1=e,I1=Symbol();function Ju(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var dl;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(dl||(dl={}));function fB(){const e=kp(!0),t=e.run(()=>ye({}));let r=[],s=[];const n=L0({install(o){mc(n),n._a=o,o.provide(I1,n),o.config.globalProperties.$pinia=n,s.forEach(i=>r.push(i)),s=[]},use(o){return this._a?r.push(o):s.push(o),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return n}const T1=()=>{};function yh(e,t,r,s=T1){e.push(t);const n=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!r&&wp()&&J2(n),n}function Wo(e,...t){e.slice().forEach(r=>{r(...t)})}const f5=e=>e(),kh=Symbol(),gu=Symbol();function Zu(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,s)=>e.set(s,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const s=t[r],n=e[r];Ju(n)&&Ju(s)&&e.hasOwnProperty(r)&&!_r(s)&&!In(s)?e[r]=Zu(n,s):e[r]=s}return e}const h5=Symbol();function g5(e){return!Ju(e)||!e.hasOwnProperty(h5)}const{assign:Cn}=Object;function p5(e){return!!(_r(e)&&e.effect)}function m5(e,t,r,s){const{state:n,actions:o,getters:i}=t,l=r.state.value[e];let d;function c(){l||(r.state.value[e]=n?n():{});const f=xb(r.state.value[e]);return Cn(f,o,Object.keys(i||{}).reduce((b,w)=>(b[w]=L0(Pe(()=>{mc(r);const h=r._s.get(e);return i[w].call(h,h)})),b),{}))}return d=D1(e,c,t,r,s,!0),d}function D1(e,t,r={},s,n,o){let i;const l=Cn({actions:{}},r),d={deep:!0};let c,f,b=[],w=[],h;const _=s.state.value[e];!o&&!_&&(s.state.value[e]={}),ye({});let O;function j(x){let p;c=f=!1,typeof x=="function"?(x(s.state.value[e]),p={type:dl.patchFunction,storeId:e,events:h}):(Zu(s.state.value[e],x),p={type:dl.patchObject,payload:x,storeId:e,events:h});const E=O=Symbol();Rl().then(()=>{O===E&&(c=!0)}),f=!0,Wo(b,p,s.state.value[e])}const N=o?function(){const{state:p}=r,E=p?p():{};this.$patch(y=>{Cn(y,E)})}:T1;function W(){i.stop(),b=[],w=[],s._s.delete(e)}const B=(x,p="")=>{if(kh in x)return x[gu]=p,x;const E=function(){mc(s);const y=Array.from(arguments),A=[],H=[];function F(he){A.push(he)}function ae(he){H.push(he)}Wo(w,{args:y,name:E[gu],store:R,after:F,onError:ae});let ge;try{ge=x.apply(this&&this.$id===e?this:R,y)}catch(he){throw Wo(H,he),he}return ge instanceof Promise?ge.then(he=>(Wo(A,he),he)).catch(he=>(Wo(H,he),Promise.reject(he))):(Wo(A,ge),ge)};return E[kh]=!0,E[gu]=p,E},I={_p:s,$id:e,$onAction:yh.bind(null,w),$patch:j,$reset:N,$subscribe(x,p={}){const E=yh(b,x,p.detached,()=>y()),y=i.run(()=>Dr(()=>s.state.value[e],A=>{(p.flush==="sync"?f:c)&&x({storeId:e,type:dl.direct,events:h},A)},Cn({},d,p)));return E},$dispose:W},R=Dn(I);s._s.set(e,R);const U=(s._a&&s._a.runWithContext||f5)(()=>s._e.run(()=>(i=kp()).run(()=>t({action:B}))));for(const x in U){const p=U[x];if(_r(p)&&!p5(p)||In(p))o||(_&&g5(p)&&(_r(p)?p.value=_[x]:Zu(p,_[x])),s.state.value[e][x]=p);else if(typeof p=="function"){const E=B(p,x);U[x]=E,l.actions[x]=p}}return Cn(R,U),Cn(Ft(R),U),Object.defineProperty(R,"$state",{get:()=>s.state.value[e],set:x=>{j(p=>{Cn(p,x)})}}),s._p.forEach(x=>{Cn(R,i.run(()=>x({store:R,app:s._a,pinia:s,options:l})))}),_&&o&&r.hydrate&&r.hydrate(R.$state,_),c=!0,f=!0,R}/*! #__NO_SIDE_EFFECTS__ */function mi(e,t,r){let s,n;const o=typeof t=="function";typeof e=="string"?(s=e,n=o?r:t):(n=e,s=e.id);function i(l,d){const c=Xb();return l=l||(c?Hs(I1,null):null),l&&mc(l),l=M1,l._s.has(s)||(o?D1(s,t,n,l):m5(s,n,l)),l._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Zo=typeof document<"u";function R1(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function b5(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&R1(e.default)}const qt=Object.assign;function pu(e,t){const r={};for(const s in t){const n=t[s];r[s]=ia(n)?n.map(e):e(n)}return r}const cl=()=>{},ia=Array.isArray,O1=/#/g,v5=/&/g,x5=/\//g,y5=/=/g,k5=/\?/g,F1=/\+/g,w5=/%5B/g,_5=/%5D/g,j1=/%5E/g,S5=/%60/g,U1=/%7B/g,A5=/%7C/g,B1=/%7D/g,C5=/%20/g;function T0(e){return encodeURI(""+e).replace(A5,"|").replace(w5,"[").replace(_5,"]")}function P5(e){return T0(e).replace(U1,"{").replace(B1,"}").replace(j1,"^")}function Xu(e){return T0(e).replace(F1,"%2B").replace(C5,"+").replace(O1,"%23").replace(v5,"%26").replace(S5,"`").replace(U1,"{").replace(B1,"}").replace(j1,"^")}function L5(e){return Xu(e).replace(y5,"%3D")}function N5(e){return T0(e).replace(O1,"%23").replace(k5,"%3F")}function $5(e){return e==null?"":N5(e).replace(x5,"%2F")}function Ll(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const E5=/\/$/,M5=e=>e.replace(E5,"");function mu(e,t,r="/"){let s,n={},o="",i="";const l=t.indexOf("#");let d=t.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(s=t.slice(0,d),o=t.slice(d+1,l>-1?l:t.length),n=e(o)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=R5(s??t,r),{fullPath:s+(o&&"?")+o+i,path:s,query:n,hash:Ll(i)}}function I5(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function wh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function T5(e,t,r){const s=t.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&di(t.matched[s],r.matched[n])&&q1(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function di(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function q1(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!D5(e[r],t[r]))return!1;return!0}function D5(e,t){return ia(e)?_h(e,t):ia(t)?_h(t,e):e===t}function _h(e,t){return ia(t)?e.length===t.length&&e.every((r,s)=>r===t[s]):e.length===1&&e[0]===t}function R5(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),s=e.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let o=r.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+s.slice(i).join("/")}const _n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Nl;(function(e){e.pop="pop",e.push="push"})(Nl||(Nl={}));var ul;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ul||(ul={}));function O5(e){if(!e)if(Zo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),M5(e)}const F5=/^[^#]+#/;function j5(e,t){return e.replace(F5,"#")+t}function U5(e,t){const r=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-r.left-(t.left||0),top:s.top-r.top-(t.top||0)}}const bc=()=>({left:window.scrollX,top:window.scrollY});function B5(e){let t;if("el"in e){const r=e.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;t=U5(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Sh(e,t){return(history.state?history.state.position-t:-1)+e}const Qu=new Map;function q5(e,t){Qu.set(e,t)}function z5(e){const t=Qu.get(e);return Qu.delete(e),t}let H5=()=>location.protocol+"//"+location.host;function z1(e,t){const{pathname:r,search:s,hash:n}=t,o=e.indexOf("#");if(o>-1){let l=n.includes(e.slice(o))?e.slice(o).length:1,d=n.slice(l);return d[0]!=="/"&&(d="/"+d),wh(d,"")}return wh(r,e)+s+n}function V5(e,t,r,s){let n=[],o=[],i=null;const l=({state:w})=>{const h=z1(e,location),_=r.value,O=t.value;let j=0;if(w){if(r.value=h,t.value=w,i&&i===_){i=null;return}j=O?w.position-O.position:0}else s(h);n.forEach(N=>{N(r.value,_,{delta:j,type:Nl.pop,direction:j?j>0?ul.forward:ul.back:ul.unknown})})};function d(){i=r.value}function c(w){n.push(w);const h=()=>{const _=n.indexOf(w);_>-1&&n.splice(_,1)};return o.push(h),h}function f(){const{history:w}=window;w.state&&w.replaceState(qt({},w.state,{scroll:bc()}),"")}function b(){for(const w of o)w();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:d,listen:c,destroy:b}}function Ah(e,t,r,s=!1,n=!1){return{back:e,current:t,forward:r,replaced:s,position:window.history.length,scroll:n?bc():null}}function W5(e){const{history:t,location:r}=window,s={value:z1(e,r)},n={value:t.state};n.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(d,c,f){const b=e.indexOf("#"),w=b>-1?(r.host&&document.querySelector("base")?e:e.slice(b))+d:H5()+e+d;try{t[f?"replaceState":"pushState"](c,"",w),n.value=c}catch(h){console.error(h),r[f?"replace":"assign"](w)}}function i(d,c){const f=qt({},t.state,Ah(n.value.back,d,n.value.forward,!0),c,{position:n.value.position});o(d,f,!0),s.value=d}function l(d,c){const f=qt({},n.value,t.state,{forward:d,scroll:bc()});o(f.current,f,!0);const b=qt({},Ah(s.value,d,null),{position:f.position+1},c);o(d,b,!1),s.value=d}return{location:s,state:n,push:l,replace:i}}function hB(e){e=O5(e);const t=W5(e),r=V5(e,t.state,t.location,t.replace);function s(o,i=!0){i||r.pauseListeners(),history.go(o)}const n=qt({location:"",base:e,go:s,createHref:j5.bind(null,e)},t,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function G5(e){return typeof e=="string"||e&&typeof e=="object"}function H1(e){return typeof e=="string"||typeof e=="symbol"}const V1=Symbol("");var Ch;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ch||(Ch={}));function ci(e,t){return qt(new Error,{type:e,[V1]:!0},t)}function Wa(e,t){return e instanceof Error&&V1 in e&&(t==null||!!(e.type&t))}const Ph="[^/]+?",K5={sensitive:!1,strict:!1,start:!0,end:!0},Y5=/[.+*?^${}()[\]/\\]/g;function J5(e,t){const r=qt({},K5,t),s=[];let n=r.start?"^":"";const o=[];for(const c of e){const f=c.length?[]:[90];r.strict&&!c.length&&(n+="/");for(let b=0;b<c.length;b++){const w=c[b];let h=40+(r.sensitive?.25:0);if(w.type===0)b||(n+="/"),n+=w.value.replace(Y5,"\\$&"),h+=40;else if(w.type===1){const{value:_,repeatable:O,optional:j,regexp:N}=w;o.push({name:_,repeatable:O,optional:j});const W=N||Ph;if(W!==Ph){h+=10;try{new RegExp(`(${W})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${_}" (${W}): `+I.message)}}let B=O?`((?:${W})(?:/(?:${W}))*)`:`(${W})`;b||(B=j&&c.length<2?`(?:/${B})`:"/"+B),j&&(B+="?"),n+=B,h+=20,j&&(h+=-8),O&&(h+=-20),W===".*"&&(h+=-50)}f.push(h)}s.push(f)}if(r.strict&&r.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const i=new RegExp(n,r.sensitive?"":"i");function l(c){const f=c.match(i),b={};if(!f)return null;for(let w=1;w<f.length;w++){const h=f[w]||"",_=o[w-1];b[_.name]=h&&_.repeatable?h.split("/"):h}return b}function d(c){let f="",b=!1;for(const w of e){(!b||!f.endsWith("/"))&&(f+="/"),b=!1;for(const h of w)if(h.type===0)f+=h.value;else if(h.type===1){const{value:_,repeatable:O,optional:j}=h,N=_ in c?c[_]:"";if(ia(N)&&!O)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const W=ia(N)?N.join("/"):N;if(!W)if(j)w.length<2&&(f.endsWith("/")?f=f.slice(0,-1):b=!0);else throw new Error(`Missing required param "${_}"`);f+=W}}return f||"/"}return{re:i,score:s,keys:o,parse:l,stringify:d}}function Z5(e,t){let r=0;for(;r<e.length&&r<t.length;){const s=t[r]-e[r];if(s)return s;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function W1(e,t){let r=0;const s=e.score,n=t.score;for(;r<s.length&&r<n.length;){const o=Z5(s[r],n[r]);if(o)return o;r++}if(Math.abs(n.length-s.length)===1){if(Lh(s))return 1;if(Lh(n))return-1}return n.length-s.length}function Lh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const X5={type:0,value:""},Q5=/[a-zA-Z0-9_]/;function ex(e){if(!e)return[[]];if(e==="/")return[[X5]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${r})/"${c}": ${h}`)}let r=0,s=r;const n=[];let o;function i(){o&&n.push(o),o=[]}let l=0,d,c="",f="";function b(){c&&(r===0?o.push({type:0,value:c}):r===1||r===2||r===3?(o.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:f,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),c="")}function w(){c+=d}for(;l<e.length;){if(d=e[l++],d==="\\"&&r!==2){s=r,r=4;continue}switch(r){case 0:d==="/"?(c&&b(),i()):d===":"?(b(),r=1):w();break;case 4:w(),r=s;break;case 1:d==="("?r=2:Q5.test(d)?w():(b(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+d:r=3:f+=d;break;case 3:b(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,f="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${c}"`),b(),i(),n}function tx(e,t,r){const s=J5(ex(e.path),r),n=qt(s,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function rx(e,t){const r=[],s=new Map;t=Mh({strict:!1,end:!0,sensitive:!1},t);function n(b){return s.get(b)}function o(b,w,h){const _=!h,O=$h(b);O.aliasOf=h&&h.record;const j=Mh(t,b),N=[O];if("alias"in b){const I=typeof b.alias=="string"?[b.alias]:b.alias;for(const R of I)N.push($h(qt({},O,{components:h?h.record.components:O.components,path:R,aliasOf:h?h.record:O})))}let W,B;for(const I of N){const{path:R}=I;if(w&&R[0]!=="/"){const K=w.record.path,U=K[K.length-1]==="/"?"":"/";I.path=w.record.path+(R&&U+R)}if(W=tx(I,w,j),h?h.alias.push(W):(B=B||W,B!==W&&B.alias.push(W),_&&b.name&&!Eh(W)&&i(b.name)),G1(W)&&d(W),O.children){const K=O.children;for(let U=0;U<K.length;U++)o(K[U],W,h&&h.children[U])}h=h||W}return B?()=>{i(B)}:cl}function i(b){if(H1(b)){const w=s.get(b);w&&(s.delete(b),r.splice(r.indexOf(w),1),w.children.forEach(i),w.alias.forEach(i))}else{const w=r.indexOf(b);w>-1&&(r.splice(w,1),b.record.name&&s.delete(b.record.name),b.children.forEach(i),b.alias.forEach(i))}}function l(){return r}function d(b){const w=nx(b,r);r.splice(w,0,b),b.record.name&&!Eh(b)&&s.set(b.record.name,b)}function c(b,w){let h,_={},O,j;if("name"in b&&b.name){if(h=s.get(b.name),!h)throw ci(1,{location:b});j=h.record.name,_=qt(Nh(w.params,h.keys.filter(B=>!B.optional).concat(h.parent?h.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),b.params&&Nh(b.params,h.keys.map(B=>B.name))),O=h.stringify(_)}else if(b.path!=null)O=b.path,h=r.find(B=>B.re.test(O)),h&&(_=h.parse(O),j=h.record.name);else{if(h=w.name?s.get(w.name):r.find(B=>B.re.test(w.path)),!h)throw ci(1,{location:b,currentLocation:w});j=h.record.name,_=qt({},w.params,b.params),O=h.stringify(_)}const N=[];let W=h;for(;W;)N.unshift(W.record),W=W.parent;return{name:j,path:O,params:_,matched:N,meta:ax(N)}}e.forEach(b=>o(b));function f(){r.length=0,s.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:f,getRoutes:l,getRecordMatcher:n}}function Nh(e,t){const r={};for(const s of t)s in e&&(r[s]=e[s]);return r}function $h(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:sx(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function sx(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const s in e.components)t[s]=typeof r=="object"?r[s]:r;return t}function Eh(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ax(e){return e.reduce((t,r)=>qt(t,r.meta),{})}function Mh(e,t){const r={};for(const s in e)r[s]=s in t?t[s]:e[s];return r}function nx(e,t){let r=0,s=t.length;for(;r!==s;){const o=r+s>>1;W1(e,t[o])<0?s=o:r=o+1}const n=ox(e);return n&&(s=t.lastIndexOf(n,s-1)),s}function ox(e){let t=e;for(;t=t.parent;)if(G1(t)&&W1(e,t)===0)return t}function G1({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ix(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const o=s[n].replace(F1," "),i=o.indexOf("="),l=Ll(i<0?o:o.slice(0,i)),d=i<0?null:Ll(o.slice(i+1));if(l in t){let c=t[l];ia(c)||(c=t[l]=[c]),c.push(d)}else t[l]=d}return t}function Ih(e){let t="";for(let r in e){const s=e[r];if(r=L5(r),s==null){s!==void 0&&(t+=(t.length?"&":"")+r);continue}(ia(s)?s.map(o=>o&&Xu(o)):[s&&Xu(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function lx(e){const t={};for(const r in e){const s=e[r];s!==void 0&&(t[r]=ia(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return t}const dx=Symbol(""),Th=Symbol(""),vc=Symbol(""),D0=Symbol(""),e0=Symbol("");function Zi(){let e=[];function t(s){return e.push(s),()=>{const n=e.indexOf(s);n>-1&&e.splice(n,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function Nn(e,t,r,s,n,o=i=>i()){const i=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((l,d)=>{const c=w=>{w===!1?d(ci(4,{from:r,to:t})):w instanceof Error?d(w):G5(w)?d(ci(2,{from:t,to:w})):(i&&s.enterCallbacks[n]===i&&typeof w=="function"&&i.push(w),l())},f=o(()=>e.call(s&&s.instances[n],t,r,c));let b=Promise.resolve(f);e.length<3&&(b=b.then(c)),b.catch(w=>d(w))})}function bu(e,t,r,s,n=o=>o()){const o=[];for(const i of e)for(const l in i.components){let d=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(R1(d)){const f=(d.__vccOpts||d)[t];f&&o.push(Nn(f,r,s,i,l,n))}else{let c=d();o.push(()=>c.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${i.path}"`);const b=b5(f)?f.default:f;i.mods[l]=f,i.components[l]=b;const h=(b.__vccOpts||b)[t];return h&&Nn(h,r,s,i,l,n)()}))}}return o}function Dh(e){const t=Hs(vc),r=Hs(D0),s=Pe(()=>{const d=Ee(e.to);return t.resolve(d)}),n=Pe(()=>{const{matched:d}=s.value,{length:c}=d,f=d[c-1],b=r.matched;if(!f||!b.length)return-1;const w=b.findIndex(di.bind(null,f));if(w>-1)return w;const h=Rh(d[c-2]);return c>1&&Rh(f)===h&&b[b.length-1].path!==h?b.findIndex(di.bind(null,d[c-2])):w}),o=Pe(()=>n.value>-1&&hx(r.params,s.value.params)),i=Pe(()=>n.value>-1&&n.value===r.matched.length-1&&q1(r.params,s.value.params));function l(d={}){if(fx(d)){const c=t[Ee(e.replace)?"replace":"push"](Ee(e.to)).catch(cl);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Pe(()=>s.value.href),isActive:o,isExactActive:i,navigate:l}}function cx(e){return e.length===1?e[0]:e}const ux=Tt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Dh,setup(e,{slots:t}){const r=Dn(Dh(e)),{options:s}=Hs(vc),n=Pe(()=>({[Oh(e.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[Oh(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&cx(t.default(r));return e.custom?o:ii("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},o)}}}),qs=ux;function fx(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function hx(e,t){for(const r in t){const s=t[r],n=e[r];if(typeof s=="string"){if(s!==n)return!1}else if(!ia(n)||n.length!==s.length||s.some((o,i)=>o!==n[i]))return!1}return!0}function Rh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Oh=(e,t,r)=>e??t??r,gx=Tt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const s=Hs(e0),n=Pe(()=>e.route||s.value),o=Hs(Th,0),i=Pe(()=>{let c=Ee(o);const{matched:f}=n.value;let b;for(;(b=f[c])&&!b.components;)c++;return c}),l=Pe(()=>n.value.matched[i.value]);Id(Th,Pe(()=>i.value+1)),Id(dx,l),Id(e0,n);const d=ye();return Dr(()=>[d.value,l.value,e.name],([c,f,b],[w,h,_])=>{f&&(f.instances[b]=c,h&&h!==f&&c&&c===w&&(f.leaveGuards.size||(f.leaveGuards=h.leaveGuards),f.updateGuards.size||(f.updateGuards=h.updateGuards))),c&&f&&(!h||!di(f,h)||!w)&&(f.enterCallbacks[b]||[]).forEach(O=>O(c))},{flush:"post"}),()=>{const c=n.value,f=e.name,b=l.value,w=b&&b.components[f];if(!w)return Fh(r.default,{Component:w,route:c});const h=b.props[f],_=h?h===!0?c.params:typeof h=="function"?h(c):h:null,j=ii(w,qt({},_,t,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(b.instances[f]=null)},ref:d}));return Fh(r.default,{Component:j,route:c})||j}}});function Fh(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const K1=gx;function gB(e){const t=rx(e.routes,e),r=e.parseQuery||ix,s=e.stringifyQuery||Ih,n=e.history,o=Zi(),i=Zi(),l=Zi(),d=mb(_n);let c=_n;Zo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=pu.bind(null,q=>""+q),b=pu.bind(null,$5),w=pu.bind(null,Ll);function h(q,te){let oe,pe;return H1(q)?(oe=t.getRecordMatcher(q),pe=te):pe=q,t.addRoute(pe,oe)}function _(q){const te=t.getRecordMatcher(q);te&&t.removeRoute(te)}function O(){return t.getRoutes().map(q=>q.record)}function j(q){return!!t.getRecordMatcher(q)}function N(q,te){if(te=qt({},te||d.value),typeof q=="string"){const ne=mu(r,q,te.path),T=t.resolve({path:ne.path},te),de=n.createHref(ne.fullPath);return qt(ne,T,{params:w(T.params),hash:Ll(ne.hash),redirectedFrom:void 0,href:de})}let oe;if(q.path!=null)oe=qt({},q,{path:mu(r,q.path,te.path).path});else{const ne=qt({},q.params);for(const T in ne)ne[T]==null&&delete ne[T];oe=qt({},q,{params:b(ne)}),te.params=b(te.params)}const pe=t.resolve(oe,te),we=q.hash||"";pe.params=f(w(pe.params));const re=I5(s,qt({},q,{hash:P5(we),path:pe.path})),ie=n.createHref(re);return qt({fullPath:re,hash:we,query:s===Ih?lx(q.query):q.query||{}},pe,{redirectedFrom:void 0,href:ie})}function W(q){return typeof q=="string"?mu(r,q,d.value.path):qt({},q)}function B(q,te){if(c!==q)return ci(8,{from:te,to:q})}function I(q){return U(q)}function R(q){return I(qt(W(q),{replace:!0}))}function K(q){const te=q.matched[q.matched.length-1];if(te&&te.redirect){const{redirect:oe}=te;let pe=typeof oe=="function"?oe(q):oe;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=W(pe):{path:pe},pe.params={}),qt({query:q.query,hash:q.hash,params:pe.path!=null?{}:q.params},pe)}}function U(q,te){const oe=c=N(q),pe=d.value,we=q.state,re=q.force,ie=q.replace===!0,ne=K(oe);if(ne)return U(qt(W(ne),{state:typeof ne=="object"?qt({},we,ne.state):we,force:re,replace:ie}),te||oe);const T=oe;T.redirectedFrom=te;let de;return!re&&T5(s,pe,oe)&&(de=ci(16,{to:T,from:pe}),S(pe,pe,!0,!1)),(de?Promise.resolve(de):E(T,pe)).catch(me=>Wa(me)?Wa(me,2)?me:z(me):Z(me,T,pe)).then(me=>{if(me){if(Wa(me,2))return U(qt({replace:ie},W(me.to),{state:typeof me.to=="object"?qt({},we,me.to.state):we,force:re}),te||T)}else me=A(T,pe,!0,ie,we);return y(T,pe,me),me})}function x(q,te){const oe=B(q,te);return oe?Promise.reject(oe):Promise.resolve()}function p(q){const te=L.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(q):q()}function E(q,te){let oe;const[pe,we,re]=px(q,te);oe=bu(pe.reverse(),"beforeRouteLeave",q,te);for(const ne of pe)ne.leaveGuards.forEach(T=>{oe.push(Nn(T,q,te))});const ie=x.bind(null,q,te);return oe.push(ie),V(oe).then(()=>{oe=[];for(const ne of o.list())oe.push(Nn(ne,q,te));return oe.push(ie),V(oe)}).then(()=>{oe=bu(we,"beforeRouteUpdate",q,te);for(const ne of we)ne.updateGuards.forEach(T=>{oe.push(Nn(T,q,te))});return oe.push(ie),V(oe)}).then(()=>{oe=[];for(const ne of re)if(ne.beforeEnter)if(ia(ne.beforeEnter))for(const T of ne.beforeEnter)oe.push(Nn(T,q,te));else oe.push(Nn(ne.beforeEnter,q,te));return oe.push(ie),V(oe)}).then(()=>(q.matched.forEach(ne=>ne.enterCallbacks={}),oe=bu(re,"beforeRouteEnter",q,te,p),oe.push(ie),V(oe))).then(()=>{oe=[];for(const ne of i.list())oe.push(Nn(ne,q,te));return oe.push(ie),V(oe)}).catch(ne=>Wa(ne,8)?ne:Promise.reject(ne))}function y(q,te,oe){l.list().forEach(pe=>p(()=>pe(q,te,oe)))}function A(q,te,oe,pe,we){const re=B(q,te);if(re)return re;const ie=te===_n,ne=Zo?history.state:{};oe&&(pe||ie?n.replace(q.fullPath,qt({scroll:ie&&ne&&ne.scroll},we)):n.push(q.fullPath,we)),d.value=q,S(q,te,oe,ie),z()}let H;function F(){H||(H=n.listen((q,te,oe)=>{if(!$.listening)return;const pe=N(q),we=K(pe);if(we){U(qt(we,{replace:!0,force:!0}),pe).catch(cl);return}c=pe;const re=d.value;Zo&&q5(Sh(re.fullPath,oe.delta),bc()),E(pe,re).catch(ie=>Wa(ie,12)?ie:Wa(ie,2)?(U(qt(W(ie.to),{force:!0}),pe).then(ne=>{Wa(ne,20)&&!oe.delta&&oe.type===Nl.pop&&n.go(-1,!1)}).catch(cl),Promise.reject()):(oe.delta&&n.go(-oe.delta,!1),Z(ie,pe,re))).then(ie=>{ie=ie||A(pe,re,!1),ie&&(oe.delta&&!Wa(ie,8)?n.go(-oe.delta,!1):oe.type===Nl.pop&&Wa(ie,20)&&n.go(-1,!1)),y(pe,re,ie)}).catch(cl)}))}let ae=Zi(),ge=Zi(),he;function Z(q,te,oe){z(q);const pe=ge.list();return pe.length?pe.forEach(we=>we(q,te,oe)):console.error(q),Promise.reject(q)}function M(){return he&&d.value!==_n?Promise.resolve():new Promise((q,te)=>{ae.add([q,te])})}function z(q){return he||(he=!q,F(),ae.list().forEach(([te,oe])=>q?oe(q):te()),ae.reset()),q}function S(q,te,oe,pe){const{scrollBehavior:we}=e;if(!Zo||!we)return Promise.resolve();const re=!oe&&z5(Sh(q.fullPath,0))||(pe||!oe)&&history.state&&history.state.scroll||null;return Rl().then(()=>we(q,te,re)).then(ie=>ie&&B5(ie)).catch(ie=>Z(ie,q,te))}const m=q=>n.go(q);let C;const L=new Set,$={currentRoute:d,listening:!0,addRoute:h,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:j,getRoutes:O,resolve:N,options:e,push:I,replace:R,go:m,back:()=>m(-1),forward:()=>m(1),beforeEach:o.add,beforeResolve:i.add,afterEach:l.add,onError:ge.add,isReady:M,install(q){const te=this;q.component("RouterLink",qs),q.component("RouterView",K1),q.config.globalProperties.$router=te,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>Ee(d)}),Zo&&!C&&d.value===_n&&(C=!0,I(n.location).catch(we=>{}));const oe={};for(const we in _n)Object.defineProperty(oe,we,{get:()=>d.value[we],enumerable:!0});q.provide(vc,te),q.provide(D0,Op(oe)),q.provide(e0,d);const pe=q.unmount;L.add(q),q.unmount=function(){L.delete(q),L.size<1&&(c=_n,H&&H(),H=null,d.value=_n,C=!1,he=!1),pe()}}};function V(q){return q.reduce((te,oe)=>te.then(()=>p(oe)),Promise.resolve())}return $}function px(e,t){const r=[],s=[],n=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const l=t.matched[i];l&&(e.matched.find(c=>di(c,l))?s.push(l):r.push(l));const d=e.matched[i];d&&(t.matched.find(c=>di(c,d))||n.push(d))}return[r,s,n]}function xc(){return Hs(vc)}function mx(e){return Hs(D0)}/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bx=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),vx=e=>{const t=bx(e);return t.charAt(0).toUpperCase()+t.slice(1)},xx=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),Uh=e=>e==="";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=({name:e,iconNode:t,absoluteStrokeWidth:r,"absolute-stroke-width":s,strokeWidth:n,"stroke-width":o,size:i=Xi.width,color:l=Xi.stroke,...d},{slots:c})=>ii("svg",{...Xi,...d,width:i,height:i,stroke:l,"stroke-width":Uh(r)||Uh(s)||r===!0||s===!0?Number(n||o||Xi["stroke-width"])*24/Number(i):n||o||Xi["stroke-width"],class:xx("lucide",d.class,...e?[`lucide-${jh(vx(e))}-icon`,`lucide-${jh(e)}`]:["lucide-icon"])},[...t.map(f=>ii(...f)),...c.default?[c.default()]:[]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(e,t)=>(r,{slots:s,attrs:n})=>ii(yx,{...n,...r,iconNode:t,name:e},s);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=gt("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=gt("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=gt("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=gt("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=gt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=gt("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=gt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=gt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=gt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=gt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=gt("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=gt("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=gt("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=gt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=gt("cloud-sun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=gt("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=gt("crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=gt("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=gt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=gt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=gt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=gt("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=gt("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=gt("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=gt("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=gt("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=gt("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=gt("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=gt("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=gt("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=gt("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=gt("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=gt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=gt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=gt("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=gt("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=gt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=gt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=gt("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=gt("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=gt("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=gt("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=gt("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=gt("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=gt("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=gt("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=gt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=gt("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=gt("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=gt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=gt("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=gt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=gt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=gt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=gt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=gt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),qx=["width","height"],zx=["fill"],Hx={name:"TacticalTargetLogo"},Vx=Tt({...Hx,props:{size:{default:32},animate:{type:Boolean,default:!1},bullseyeColor:{default:"#dc2626"}},setup(e){return(t,r)=>(G(),X("svg",{width:t.size,height:t.size,viewBox:"0 0 100 100",class:Qe(["tactical-target-logo",{"animate-crosshair":t.animate}])},[r[0]||(r[0]=Xt('<circle cx="50" cy="50" r="48" fill="#000000" data-v-74e6fe51></circle><circle cx="50" cy="50" r="38" fill="white" data-v-74e6fe51></circle><circle cx="50" cy="50" r="28" fill="#000000" data-v-74e6fe51></circle><circle cx="50" cy="50" r="18" fill="white" data-v-74e6fe51></circle><circle cx="50" cy="50" r="10" fill="#000000" data-v-74e6fe51></circle>',5)),a("circle",{cx:"50",cy:"50",r:"6",fill:t.bullseyeColor,class:"transition-all duration-200 drop-shadow-sm"},null,8,zx),r[1]||(r[1]=Xt('<g class="transition-all duration-200" data-v-74e6fe51><line x1="50" y1="2" x2="50" y2="15" stroke="white" stroke-width="1.5" stroke-linecap="round" data-v-74e6fe51></line><line x1="50" y1="85" x2="50" y2="98" stroke="white" stroke-width="1.5" stroke-linecap="round" data-v-74e6fe51></line><line x1="2" y1="50" x2="15" y2="50" stroke="white" stroke-width="1.5" stroke-linecap="round" data-v-74e6fe51></line><line x1="85" y1="50" x2="98" y2="50" stroke="white" stroke-width="1.5" stroke-linecap="round" data-v-74e6fe51></line><line x1="50" y1="22" x2="50" y2="32" stroke="white" stroke-width="1" stroke-linecap="round" data-v-74e6fe51></line><line x1="50" y1="68" x2="50" y2="78" stroke="white" stroke-width="1" stroke-linecap="round" data-v-74e6fe51></line><line x1="22" y1="50" x2="32" y2="50" stroke="white" stroke-width="1" stroke-linecap="round" data-v-74e6fe51></line><line x1="68" y1="50" x2="78" y2="50" stroke="white" stroke-width="1" stroke-linecap="round" data-v-74e6fe51></line></g>',1))],10,qx))}}),$s=(e,t)=>{const r=e.__vccOpts||e;for(const[s,n]of t)r[s]=n;return r},om=$s(Vx,[["__scopeId","data-v-74e6fe51"]]);var tc=(e=>(e.G1="G1",e.G7="G7",e))(tc||{}),Ps=(e=>(e.GPS="GPS",e.MANUAL="MANUAL",e.CACHED="CACHED",e.WEATHER_API="WEATHER_API",e.ESTIMATED="ESTIMATED",e.INTERPOLATED="INTERPOLATED",e))(Ps||{}),im=(e=>(e.IMPERIAL="IMPERIAL",e.METRIC="METRIC",e))(im||{}),lm=(e=>(e.MOA="MOA",e.MIL="MIL",e))(lm||{});const Hh=[{value:"manually-operated-rifle",label:"Manually Operated Rifle"},{value:"self-loading-rifle-carbine",label:"Self Loading Rifle/Carbine"},{value:"shotgun",label:"Shotgun"},{value:"pistol",label:"Pistol"},{value:"semi-auto-handgun",label:"Semi-Auto Handgun"}],Wx=["9mm",".45 ACP",".40 S&W",".380 ACP",".38 Special",".357 Magnum",".44 Magnum",".22 LR","10mm",".357 SIG",".32 ACP",".25 ACP"],_o={INCHES_TO_CM:2.54,CM_TO_INCHES:.3937},bi=mi("environmental",()=>{const e=ye(null),t=ye(null),r=ye(!1),s=ye({}),n=ye({}),o=ye(!0),i=ye(!0),l=ye(!1),d=ye(!1),c=ye(null),f=ye(null),b=ye(null),w=ye(null),h=ye([]),_=ye(24),O=ye(im.IMPERIAL),j=ye(3e5),N=Pe(()=>r.value?{...e.value,...s.value,source:Ps.MANUAL,timestamp:new Date}:e.value),W=Pe(()=>r.value&&Object.keys(n.value).length>0?{...t.value,...n.value,source:Ps.MANUAL,timestamp:new Date}:t.value),B=Pe(()=>N.value!==null&&typeof N.value.temperature=="number"&&typeof N.value.pressure=="number"&&typeof N.value.humidity=="number"),I=Pe(()=>W.value!==null&&typeof W.value.latitude=="number"&&typeof W.value.longitude=="number"),R=Pe(()=>!e.value||!b.value?!0:(new Date().getTime()-b.value.getTime())/6e4>30),K=Pe(()=>{if(h.value.length<2)return null;const V=h.value.slice(-6),q=U(V.map(pe=>pe.temperature)),te=U(V.map(pe=>pe.pressure)),oe=U(V.map(pe=>pe.windSpeed));return{temperature:q,pressure:te,wind:oe}}),U=V=>{if(V.length<2)return"stable";const q=V[0],oe=(V[V.length-1]-q)/q*100;return Math.abs(oe)<2?"stable":oe>0?"rising":"falling"},x=V=>{e.value=V,b.value=new Date,c.value=null,p(V)},p=V=>{h.value.push(V),h.value.length>_.value&&(h.value=h.value.slice(-_.value))},E=async()=>{if(!i.value){c.value="Weather service disabled";return}if(!l.value)try{l.value=!0,c.value=null;const V=W.value||{latitude:39.8283,longitude:-98.5795,elevation:500,accuracy:1e3,timestamp:new Date,source:Ps.CACHED},q=await F(V),te={temperature:q.temperature,humidity:q.humidity,pressure:q.pressure,windSpeed:q.windSpeed,windDirection:q.windDirection,elevation:V.elevation||500,timestamp:new Date,source:W.value?Ps.WEATHER_API:Ps.CACHED};x(te)}catch(V){c.value=V instanceof Error?V.message:"Failed to fetch weather data";const q={temperature:68,humidity:65,pressure:29.92,windSpeed:5,windDirection:270,elevation:500,timestamp:new Date,source:Ps.CACHED};x(q)}finally{l.value=!1}},y=V=>{t.value=V,w.value=new Date,f.value=null},A=async()=>{if(!o.value){f.value="GPS service disabled";return}if(!d.value)try{d.value=!0,f.value=null;const V=await H(),q={latitude:V.coords.latitude,longitude:V.coords.longitude,elevation:V.coords.altitude||0,accuracy:V.coords.accuracy,timestamp:new Date,source:Ps.GPS};y(q)}catch(V){f.value=V instanceof Error?V.message:"Failed to get location";const q={latitude:38.9072,longitude:-77.0369,elevation:0,accuracy:0,timestamp:new Date,source:Ps.MANUAL};y(q)}finally{d.value=!1}},H=()=>new Promise((V,q)=>{if(!navigator.geolocation){q(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(V,te=>{switch(te.code){case te.PERMISSION_DENIED:q(new Error("Location access denied by user"));break;case te.POSITION_UNAVAILABLE:q(new Error("Location information unavailable"));break;case te.TIMEOUT:q(new Error("Location request timed out"));break;default:q(new Error("Unknown geolocation error"));break}},{enableHighAccuracy:!0,timeout:15e3,maximumAge:3e5})}),F=async V=>(await Promise.race([new Promise(q=>setTimeout(q,1e3)),new Promise((q,te)=>setTimeout(()=>te(new Error("Weather API timeout")),5e3))]),{temperature:65+Math.random()*20,humidity:50+Math.random()*30,pressure:29.8+Math.random()*.4,windSpeed:Math.random()*15,windDirection:Math.random()*360}),ae=V=>{r.value=V},ge=V=>{s.value={...s.value,...V}},he=V=>{n.value={...n.value,...V}},Z=()=>{s.value={},n.value={},r.value=!1},M=V=>{V.gpsEnabled!==void 0&&(o.value=V.gpsEnabled),V.weatherServiceEnabled!==void 0&&(i.value=V.weatherServiceEnabled),V.preferredUnits!==void 0&&(O.value=V.preferredUnits)},z=async()=>{const V=[];o.value&&V.push(A()),i.value&&V.push(E()),await Promise.allSettled(V)},S=async()=>{await A()},m=async()=>{if(!t.value){const V={latitude:38.9072,longitude:-77.0369,elevation:0,accuracy:0,timestamp:new Date,source:Ps.MANUAL};y(V)}e.value||await E()},C=V=>{const q=[];return V.temperature!==void 0&&(V.temperature<-50||V.temperature>150)&&q.push("Temperature must be between -50F and 150F"),V.humidity!==void 0&&(V.humidity<0||V.humidity>100)&&q.push("Humidity must be between 0% and 100%"),V.pressure!==void 0&&(V.pressure<25||V.pressure>35)&&q.push("Pressure must be between 25 and 35 inHg"),V.windSpeed!==void 0&&(V.windSpeed<0||V.windSpeed>100)&&q.push("Wind speed must be between 0 and 100 mph"),V.windDirection!==void 0&&(V.windDirection<0||V.windDirection>360)&&q.push("Wind direction must be between 0 and 360 degrees"),{isValid:q.length===0,errors:q}},L=()=>{try{const V={currentConditions:e.value,currentLocation:t.value,conditionsHistory:h.value,manualConditions:s.value,manualLocation:n.value,manualOverrideEnabled:r.value,preferredUnits:O.value,gpsEnabled:o.value,weatherServiceEnabled:i.value};localStorage.setItem("environmental-store",JSON.stringify(V))}catch(V){console.warn("Failed to save environmental data to localStorage:",V)}},$=()=>{try{const V=localStorage.getItem("environmental-store");if(V){const q=JSON.parse(V);q.currentConditions&&(e.value=q.currentConditions),q.currentLocation&&(t.value=q.currentLocation),q.conditionsHistory&&(h.value=q.conditionsHistory),q.manualConditions&&(s.value=q.manualConditions),q.manualLocation&&(n.value=q.manualLocation),q.manualOverrideEnabled!==void 0&&(r.value=q.manualOverrideEnabled),q.preferredUnits&&(O.value=q.preferredUnits),q.gpsEnabled!==void 0&&(o.value=q.gpsEnabled),q.weatherServiceEnabled!==void 0&&(i.value=q.weatherServiceEnabled)}}catch(V){console.warn("Failed to load environmental data from localStorage:",V)}};return $(),{currentConditions:e,currentLocation:t,manualOverrideEnabled:r,manualConditions:s,manualLocation:n,gpsEnabled:o,weatherServiceEnabled:i,isLoadingWeather:l,isLoadingLocation:d,weatherError:c,locationError:f,lastWeatherUpdate:b,lastLocationUpdate:w,conditionsHistory:h,maxHistorySize:_,preferredUnits:O,autoUpdateInterval:j,effectiveConditions:N,effectiveLocation:W,hasValidConditions:B,hasValidLocation:I,isDataStale:R,conditionsTrend:K,updateConditions:x,addConditionsToHistory:p,fetchWeatherData:E,updateLocation:y,fetchLocationData:A,setManualOverride:ae,updateManualConditions:ge,updateManualLocation:he,resetManualOverrides:Z,updateServiceSettings:M,refreshAllData:z,forceLocationRefresh:S,initializeWithDefaults:m,validateConditions:C,saveToLocalStorage:L,loadFromLocalStorage:$}}),La=mi("userProfile",()=>{function e(){return Math.random().toString(36).substr(2,9)}function t(S,m){return`user_${S}_${m}`}const r=ye([]),s=ye(null),n=ye(!1),o=ye(null),i=ye(!1),l=ye(!1),d=ye(!1),c=ye(new Date),f=Pe(()=>r.value.length>0),b=Pe(()=>r.value.filter(S=>!S.isActive||S.id===s.value?.id)),w=Pe(()=>r.value.find(S=>S.isActive)||null),h=Pe(()=>s.value?{totalRifles:s.value.stats.totalRifles,totalSessions:s.value.stats.totalSessions,totalShots:s.value.stats.totalShots,totalRoundsFired:s.value.stats.totalRoundsFired,averageAccuracy:s.value.stats.averageAccuracy,lastSessionDate:s.value.stats.lastSessionDate}:null),_=Pe(()=>s.value?.dataKeys||null),O=Pe(()=>{if(!s.value||i.value)return!1;const{requirePin:S,autoLockMinutes:m}=s.value.security;if(!S)return!1;const C=Date.now()-c.value.getTime(),L=m*60*1e3;return C>L}),j=()=>{try{localStorage.setItem("user-profiles",JSON.stringify(r.value)),s.value?localStorage.setItem("current-user-profile-id",s.value.id):localStorage.removeItem("current-user-profile-id"),localStorage.setItem("guest-mode",JSON.stringify(i.value))}catch(S){console.warn("Failed to save user profiles to localStorage:",S)}},N=S=>{const m=e(),C={id:m,name:S.name,fullName:S.fullName,email:S.email,avatar:S.avatar,createdDate:new Date,lastUsed:new Date,isActive:!1,preferences:{units:"imperial",scopeUnits:"MOA",theme:"auto",skillLevel:"intermediate",shootingCategories:[],...S.preferences},stats:{totalRifles:0,totalSessions:0,totalShots:0,totalRoundsFired:0,averageAccuracy:0},security:{requirePin:!1,allowGuestAccess:!0,autoLockMinutes:30,...S.security},dataKeys:{rifleProfiles:t(m,"rifle_profiles"),shotRecords:t(m,"shot_records"),shotSessions:t(m,"shot_sessions"),userSettings:t(m,"user_settings"),environmentalData:t(m,"environmental_data")}},L=ae(C);if(!L.isValid)throw new Error(`Invalid profile: ${L.errors.join(", ")}`);return r.value.push(C),j(),C},W=(S,m)=>{const C=r.value.findIndex(q=>q.id===S);if(C===-1)throw new Error("Profile not found");const L=r.value[C],$={...L,...m,lastUsed:new Date,preferences:{...L.preferences,...m.preferences},security:{...L.security,...m.security},stats:{...L.stats,...m.stats}},V=ae($);if(!V.isValid)throw new Error(`Invalid profile: ${V.errors.join(", ")}`);return r.value[C]=$,j(),s.value?.id===S&&(s.value=$),$},B=S=>{console.log("Attempting to delete profile with ID:",S);const m=r.value.findIndex(L=>L.id===S);if(m===-1)throw console.error("Profile not found with ID:",S),new Error("Profile not found");const C=r.value[m];if(console.log("Found profile to delete:",C.name),C.isActive)throw console.error("Attempted to delete active profile:",C.name),new Error("Cannot delete the currently active profile");try{console.log("Clearing user data keys:",C.dataKeys),Object.values(C.dataKeys).forEach(L=>{localStorage.removeItem(L),console.log("Removed localStorage key:",L)}),r.value.splice(m,1),console.log("Profile removed from array. Remaining profiles:",r.value.length),j(),console.log("Profile deletion completed successfully"),s.value?.id===S&&(console.log("Clearing current profile reference"),s.value=null,i.value=!0)}catch(L){throw console.error("Error during profile deletion:",L),new Error("Failed to delete profile data")}},I=(S,m)=>S.security.requirePin&&S.security.pin&&(!m||m!==S.security.pin)?(o.value="Invalid PIN",!1):(s.value&&W(s.value.id,{isActive:!1}),s.value=W(S.id,{isActive:!0}),i.value=!1,c.value=new Date,o.value=null,localStorage.setItem("current-user-profile-id",S.id),F(),!0),R=()=>{s.value&&W(s.value.id,{isActive:!1}),s.value=null,i.value=!0,c.value=new Date,localStorage.removeItem("current-user-profile-id"),F()},K=()=>{s.value&&s.value.security.requirePin&&(d.value=!0)},U=S=>s.value?S===s.value.security.pin?(d.value=!1,c.value=new Date,!0):(o.value="Invalid PIN",!1):!1,x=()=>{c.value=new Date,d.value&&!O.value&&(d.value=!1)},p=S=>{if(!s.value)return;const C={...s.value.stats,...S};W(s.value.id,{stats:C})},E=()=>{s.value&&p({totalRifles:s.value.stats.totalRifles+1})},y=()=>{if(!s.value)return;const S=Math.max(0,s.value.stats.totalRifles-1);p({totalRifles:S})},A=()=>{s.value&&p({totalSessions:s.value.stats.totalSessions+1,lastSessionDate:new Date})},H=(S,m)=>{if(!s.value)return;const C=s.value.stats,L=C.totalShots+S,$=C.totalShots>0?(C.averageAccuracy*C.totalShots+m*S)/L:m;p({totalShots:L,averageAccuracy:Math.round($*100)/100})},F=()=>{window.dispatchEvent(new CustomEvent("userProfileChanged",{detail:{profile:s.value,dataKeys:_.value,isGuest:i.value}}))},ae=S=>{const m=[],C=[];return S.name?.trim()||m.push("Name is required"),S.name&&S.name.length>50&&m.push("Name must be 50 characters or less"),S.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S.email)&&m.push("Invalid email format"),S.preferences?.shootingCategories!==void 0&&S.preferences.shootingCategories.length===0&&m.push("At least one shooting category must be selected"),S.security?.requirePin&&S.security?.pin&&(/^\d{4,8}$/.test(S.security.pin)||m.push("PIN must be 4-8 digits")),S.name&&r.value.some(L=>L.name.toLowerCase()===S.name.toLowerCase()&&L.id!==S.id)&&m.push("A profile with this name already exists"),{isValid:m.length===0,errors:m,warnings:C}},ge=()=>{try{const S=localStorage.getItem("user-profiles");if(S){const L=JSON.parse(S);r.value=L.map($=>({...$,createdDate:new Date($.createdDate),lastUsed:new Date($.lastUsed),stats:{...$.stats,lastSessionDate:$.stats.lastSessionDate?new Date($.stats.lastSessionDate):void 0}}))}const m=localStorage.getItem("current-user-profile-id");if(m){const L=r.value.find($=>$.id===m);L&&(s.value=L)}const C=localStorage.getItem("guest-mode");C&&(i.value=JSON.parse(C)),r.value.length===0&&(l.value=!0)}catch(S){console.error("Failed to load user profiles:",S),o.value="Failed to load user profiles"}},he=S=>{const m=r.value.find(L=>L.id===S);if(!m)throw new Error("Profile not found");const C={profile:m,data:{}};return Object.entries(m.dataKeys).forEach(([L,$])=>{const V=localStorage.getItem($);if(V)try{C.data[L]=JSON.parse(V)}catch{C.data[L]=V}}),JSON.stringify(C,null,2)},Z=S=>{try{const m=JSON.parse(S),C=m.profile,L=N({name:`${C.name} (Imported)`,email:C.email,preferences:C.preferences,security:{...C.security,pin:void 0}});return m.data&&Object.entries(m.data).forEach(([$,V])=>{const q=L.dataKeys[$];q&&V&&localStorage.setItem(q,typeof V=="string"?V:JSON.stringify(V))}),L}catch{throw new Error("Invalid profile data")}},M=()=>{l.value=!1,j()},z=()=>{console.log("Deleting all profiles from store...");try{r.value.forEach(S=>{Object.values(S.dataKeys).forEach(m=>{localStorage.removeItem(m),console.log("Removed localStorage key:",m)})}),r.value=[],s.value=null,i.value=!1,localStorage.removeItem("guest-mode"),l.value=!0,j(),console.log("All profiles deleted successfully")}catch(S){throw console.error("Error during deleteAllProfiles:",S),new Error("Failed to delete all profiles")}};return ge(),{profiles:r,currentProfile:s,isLoading:n,error:o,isGuestMode:i,isSetupMode:l,requiresAuthentication:d,lastActivity:c,hasProfiles:f,availableProfiles:b,activeProfile:w,profileStats:h,currentUserDataKeys:_,isProfileLocked:O,createProfile:N,updateProfile:W,deleteProfile:B,switchToProfile:I,switchToGuest:R,lockProfile:K,unlockProfile:U,updateActivity:x,updateProfileStats:p,incrementRifleCount:E,decrementRifleCount:y,incrementSessionCount:A,addShotData:H,reloadUserData:F,validateProfile:ae,loadProfiles:ge,exportProfile:he,importProfile:Z,completeSetup:M,deleteAllProfiles:z}}),Bn=mi("settings",()=>{const e=ye({distance:"yards",elevation:"feet",height:"inches",temperature:"fahrenheit",pressure:"inHg",velocity:"fps",bulletWeight:"grains",windSpeed:"mph",scopeAdjustments:"MOA"}),t=ye({temperature:70,pressure:29.92,humidity:50,windSpeed:5,windDirection:90,elevation:1e3,muzzleVelocity:2650,bulletWeight:168,ballisticCoefficient:.462,zeroDistance:100,scopeHeight:1.5,barrelLength:24,twistRate:"1:10",clickValue:.25,maxRange:1200,rangeIncrement:50}),r=ye({theme:"auto-time",language:"en",useAIEnhancement:!0,showAdvancedOptions:!1,autoSaveProfiles:!0,confirmDeletions:!0,useGPS:!0,useWeatherService:!0,weatherUpdateInterval:30,showBallisticCoach:!0,showWindFlags:!0,showAtmosphericDensity:!1,decimalPlaces:1}),s=()=>{const U=r.value.theme;r.value.theme="auto-time",console.log(`Theme forced from '${U}' to 'auto-time' for initial load priority`)};s();const n=ye(!1),o=ye(null),i=Pe(()=>e.value.distance==="meters"||e.value.temperature==="celsius"),l=Pe(()=>i.value?"metric":"imperial"),d=(U,x,p)=>x===p?U:x==="fahrenheit"&&p==="celsius"?(U-32)*5/9:x==="celsius"&&p==="fahrenheit"?U*9/5+32:U,c=(U,x,p)=>x===p?U:x==="feet"&&p==="meters"?U*.3048:x==="meters"&&p==="feet"?U/.3048:U,f=(U,x,p)=>x===p?U:x==="yards"&&p==="meters"?U*.9144:x==="meters"&&p==="yards"?U/.9144:U,b=(U,x,p)=>x===p?U:x==="fps"&&p==="mps"?U*.3048:x==="mps"&&p==="fps"?U/.3048:U,w=(U,x,p)=>{if(x===p)return U;let E=U;return x==="inHg"&&(E=U*33.8639),x==="mmHg"&&(E=U*1.33322),p==="inHg"?E/33.8639:p==="mmHg"?E/1.33322:E},h=(U,x,p)=>{if(x===p)return U;let E=U;return x==="kph"&&(E=U/1.60934),x==="mps"&&(E=U*2.23694),p==="kph"?E*1.60934:p==="mps"?E/2.23694:E},_=(U,x,p)=>x===p?U:x==="grains"&&p==="grams"?U*.0647989:x==="grams"&&p==="grains"?U/.0647989:U,O=U=>{const x=e.value[U];return{yards:"yds",meters:"m",feet:"ft",inches:"in",centimeters:"cm",fahrenheit:"F",celsius:"C",inHg:"inHg",hPa:"hPa",mmHg:"mmHg",fps:"ft/s",mps:"m/s",grains:"gr",grams:"g",mph:"mph",kph:"km/h",MOA:"MOA",MIL:"MIL"}[x]||x},j=()=>{try{n.value=!0,o.value=null;const U=localStorage.getItem("dope-tool-units"),x=localStorage.getItem("dope-tool-defaults"),p=localStorage.getItem("dope-tool-preferences");if(U&&(e.value={...e.value,...JSON.parse(U)}),x&&(t.value={...t.value,...JSON.parse(x)}),p){const E=JSON.parse(p),{theme:y,...A}=E;r.value={...r.value,...A},console.log(`Loaded preferences but ignored stored theme '${y}' in favor of auto-time`)}s()}catch(U){o.value=U instanceof Error?U.message:"Failed to load settings"}finally{n.value=!1}},N=()=>{try{localStorage.setItem("dope-tool-units",JSON.stringify(e.value)),localStorage.setItem("dope-tool-defaults",JSON.stringify(t.value)),localStorage.setItem("dope-tool-preferences",JSON.stringify(r.value))}catch(U){console.warn("Failed to save settings:",U)}},W=U=>{e.value={...e.value,...U},N()},B=U=>{t.value={...t.value,...U},N()},I=U=>{r.value={...r.value,...U},N()},R=U=>{U==="metric"?(W({distance:"meters",elevation:"meters",height:"centimeters",temperature:"celsius",pressure:"hPa",velocity:"mps",bulletWeight:"grams",windSpeed:"kph"}),B({temperature:d(t.value.temperature,"fahrenheit","celsius"),pressure:w(t.value.pressure,"inHg","hPa"),elevation:c(t.value.elevation,"feet","meters"),muzzleVelocity:b(t.value.muzzleVelocity,"fps","mps"),bulletWeight:_(t.value.bulletWeight,"grains","grams"),zeroDistance:f(t.value.zeroDistance,"yards","meters"),scopeHeight:t.value.scopeHeight*2.54,windSpeed:h(t.value.windSpeed,"mph","kph")})):(W({distance:"yards",elevation:"feet",height:"inches",temperature:"fahrenheit",pressure:"inHg",velocity:"fps",bulletWeight:"grains",windSpeed:"mph"}),B({temperature:70,pressure:29.92,elevation:1e3,muzzleVelocity:2650,bulletWeight:168,zeroDistance:100,scopeHeight:1.5,windSpeed:5}))},K=()=>{R("imperial"),I({theme:"auto-time",language:"en",useAIEnhancement:!0,showAdvancedOptions:!1,autoSaveProfiles:!0,confirmDeletions:!0,useGPS:!0,useWeatherService:!0,weatherUpdateInterval:30,showBallisticCoach:!0,showWindFlags:!0,showAtmosphericDensity:!1,decimalPlaces:1})};return j(),{units:e,defaults:t,preferences:r,isLoading:n,error:o,isMetric:i,unitPreset:l,convertTemperature:d,convertDistance:f,convertElevation:c,convertVelocity:b,convertPressure:w,convertWindSpeed:h,convertBulletWeight:_,getUnitLabel:O,loadSettings:j,saveSettings:N,updateUnits:W,updateDefaults:B,updatePreferences:I,setUnitPreset:R,resetToDefaults:K,forceAutoTimeTheme:s}}),dm=()=>{const e=Bn(),t=ye(!1),r=ye("light");let s=null;const n=()=>{const W=new Date,B=W.getHours(),I=W.getMinutes(),R=B+I/60;return R>=5.98&&R<=18?"light":"dark"},o=()=>{const W=n();r.value!==W&&(r.value=W)},i=Pe(()=>{const W=e.preferences.theme;return W==="system"?t.value?"dark":"light":W==="auto-time"?r.value:W}),l=Pe(()=>i.value==="dark"),d=()=>{if(console.log("=== THEME INITIALIZATION START ==="),e.forceAutoTimeTheme(),typeof window<"u"&&window.matchMedia){const R=window.matchMedia("(prefers-color-scheme: dark)");t.value=R.matches,R.addEventListener("change",K=>{t.value=K.matches})}o();const W=new Date,B=W.getHours(),I=W.getMinutes();console.log(`Theme initialization at ${B}:${I.toString().padStart(2,"0")}`),console.log(`Current theme setting: ${e.preferences.theme}`),console.log(`Time-based theme: ${r.value}`),console.log(`Effective theme: ${i.value}`),e.preferences.theme!=="auto-time"&&(console.log("Forcing auto-time theme as initial load priority"),e.updatePreferences({theme:"auto-time"})),typeof document<"u"&&(document.documentElement.classList.remove("dark"),console.log("Cleared any pre-existing dark mode state")),typeof window<"u"&&(s&&clearInterval(s),s=setInterval(()=>{const R=r.value;o(),R!==r.value&&console.log(`Time-based theme changed from ${R} to ${r.value}`)},6e4),document.addEventListener("visibilitychange",()=>{document.hidden||o()})),c(),console.log("=== THEME INITIALIZATION COMPLETE ===")},c=()=>{if(typeof document<"u"){const W=document.documentElement;e.preferences.theme==="auto-time"&&o(),l.value?(W.classList.add("dark"),console.log("Applied dark mode to document")):(W.classList.remove("dark"),console.log("Applied light mode to document")),f()}},f=()=>{if(typeof document<"u"){let W=document.querySelector('meta[name="theme-color"]');W||(W=document.createElement("meta"),W.setAttribute("name","theme-color"),document.head.appendChild(W));const B=l.value?"#18181b":"#ffffff";W.setAttribute("content",B)}},b=W=>{console.log(`Setting theme to: ${W}`),e.updatePreferences({theme:W}),W==="auto-time"&&o()},w=()=>{console.log("Forcing auto-time theme..."),b("auto-time")},h=()=>{s&&(clearInterval(s),s=null)},_=()=>{const W=e.preferences.theme;let B;switch(W){case"light":B="dark";break;case"dark":B="auto-time";break;case"auto-time":B="system";break;case"system":default:B="light";break}b(B)};return Dr(i,c,{immediate:!0}),{currentTheme:i,isDark:l,prefersDark:t,themeOptions:[{value:"light",label:"Light",icon:"Sun"},{value:"dark",label:"Dark",icon:"Moon"},{value:"auto-time",label:"Auto (Time)",icon:"Clock"},{value:"system",label:"System",icon:"Monitor"}],setTheme:b,toggleTheme:_,initializeTheme:d,cleanup:h,getThemeIcon:()=>{const W=e.preferences.theme;return W==="system"?"Monitor":W==="auto-time"?"Clock":l.value?"Moon":"Sun"},getThemeDisplayName:()=>{switch(e.preferences.theme){case"light":return"Light Mode";case"dark":return"Dark Mode";case"system":return"System Default";case"auto-time":return"Auto (Time)";default:return"Unknown"}},forceAutoTimeTheme:w,applyTheme:c}},Gx={class:"min-h-screen bg-white dark:bg-red-500 transition-colors duration-300"},Kx={class:"nav backdrop-glass-strong sticky top-0 z-40 border-b border-gray-200 dark:border-red-600 bg-white dark:bg-black",role:"navigation","aria-label":"Main Navigation"},Yx={class:"w-full px-6"},Jx={class:"flex justify-between items-center h-16"},Zx={class:"flex items-center space-x-6"},Xx={class:"relative mr-3"},Qx={class:"hidden md:flex items-center space-x-1"},ey={class:"flex items-center space-x-3"},ty={class:"relative"},ry={class:"w-6 h-6 bg-gray-500 dark:bg-red-600 rounded-full flex items-center justify-center text-white text-xs font-bold"},sy={key:1,class:"text-white dark:text-black"},ay={class:"hidden sm:inline text-sm text-black dark:text-black font-medium"},ny={class:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-red-500 border border-gray-200 dark:border-red-600 rounded-lg shadow-lg transition-all duration-200 z-50","data-testid":"profile-dropdown"},oy={class:"p-2 space-y-1"},iy=["title"],ly={key:0,class:"nav md:hidden border-t border-gray-200 dark:border-red-600 py-4 backdrop-blur-lg bg-white dark:bg-black",role:"navigation","aria-label":"Mobile Navigation"},dy={class:"nav flex flex-col space-y-2",role:"menubar","aria-label":"Mobile menu"},cy={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},uy={key:0,class:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-orange-50 to-orange-100 dark:from-red-900/20 dark:to-red-800/20 border-t border-orange-200 dark:border-red-600 backdrop-blur-lg"},fy={class:"max-w-7xl mx-auto p-4"},hy={class:"flex items-center justify-between"},gy={class:"flex items-center text-orange-800 dark:text-red-600"},py={class:"relative"},my={class:"text-xs text-orange-600 dark:text-red-600 mt-1"},by=Tt({__name:"AppLayout",setup(e){const t=mx(),r=bi(),s=La(),{toggleTheme:n,isDark:o}=dm(),i=ye(!1),l=ye(!1),d=[{name:"Calculator",path:"/calculator",icon:Fl},{name:"Zero",path:"/zero",icon:r0},{name:"Firearms",path:"/rifles",icon:ui},{name:"Sports",path:"/sports",icon:Qd},{name:"Environment",path:"/environment",icon:Ax},{name:"Logs",path:"/history",icon:tm},{name:"Settings",path:"/settings",icon:bo},{name:"Help",path:"/help",icon:O0}],c=Pe(()=>{const W=[];return r.manualOverrideEnabled&&W.push("Manual Environment"),r.gpsEnabled||W.push("GPS Disabled"),r.weatherServiceEnabled||W.push("Weather Service Disabled"),W}),f=Pe(()=>c.value.length>0),b={user:ec,target:Rr,crosshair:ui,shield:j0,eye:Q1,search:sm,zap:r0,star:nm,award:R0,circle:J1,crown:Z1,flame:em},w=Pe(()=>s.isGuestMode?"Guest":s.currentProfile?.name||"No Profile"),h=Pe(()=>s.isGuestMode?"G":s.currentProfile?.name?.charAt(0).toUpperCase()||"?"),_=Pe(()=>{const W=s.currentProfile;return W?.avatar&&b[W.avatar]||null}),O=()=>{r.setManualOverride(!1)},j=()=>{l.value=!l.value},N=W=>{const B=W.target,I=document.querySelector('[data-testid="profile-dropdown"]'),R=document.querySelector('[data-testid="profile-indicator"]');I&&R&&!I.contains(B)&&!R.contains(B)&&(l.value=!1)};return Kr(()=>{document.addEventListener("click",N)}),pi(()=>{document.removeEventListener("click",N)}),(W,B)=>(G(),X("div",Gx,[a("nav",Kx,[a("div",Yx,[a("div",Jx,[a("div",Zx,[Me(Ee(qs),{to:"/",class:"flex items-center text-xl font-bold text-black dark:text-red-600 hover:text-gray-700 dark:hover:text-red-700 transition-all duration-200 group font-display"},{default:Pr(()=>[a("div",Xx,[Me(om,{size:32,animate:!0,theme:Ee(o)?"dark":"light",class:"transition-all duration-200 group-hover:scale-110"},null,8,["theme"])]),B[5]||(B[5]=a("span",{class:"bg-gradient-to-r from-gray-700 to-gray-800 dark:from-red-600 dark:to-red-700 bg-clip-text text-transparent"}," That's DOPE ",-1))]),_:1}),a("div",Qx,[(G(),X(Ye,null,nt(d,I=>Me(Ee(qs),{key:I.name,to:I.path,class:Qe(["flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 hover:bg-gray-100 dark:hover:bg-red-700/50",[Ee(t).path===I.path?"text-black dark:text-red-600 bg-gray-100 dark:bg-red-600/50":"text-gray-700 dark:text-red-600 hover:text-black dark:hover:text-red-700"]])},{default:Pr(()=>[(G(),Ut(ns(I.icon),{class:Qe(["w-4 h-4 mr-2",[Ee(t).path===I.path?"text-gray-700 dark:text-red-600":""]])},null,8,["class"])),We(" "+D(I.name),1)]),_:2},1032,["to","class"])),64))])]),a("div",ey,[a("button",{onClick:B[0]||(B[0]=I=>i.value=!i.value),class:"md:hidden p-2 rounded-xl text-gray-700 dark:text-red-600 hover:text-black dark:hover:text-red-700 hover:bg-gray-100 dark:hover:bg-red-700/50 transition-all duration-200 z-50 relative","aria-label":"Toggle navigation menu"},[i.value?(G(),Ut(Ee(nn),{key:1,class:"w-6 h-6"})):(G(),Ut(Ee(Mx),{key:0,class:"w-6 h-6"}))]),a("div",ty,[a("button",{onClick:j,class:"flex items-center space-x-2 px-2 sm:px-3 py-2 rounded-xl bg-gray-100 dark:bg-red-600/50 border border-gray-200 dark:border-red-600 hover:bg-gray-200 dark:hover:bg-red-700/50 transition-all duration-200","data-testid":"profile-indicator","aria-label":"Toggle profile menu"},[a("div",ry,[_.value?(G(),Ut(ns(_.value),{key:0,class:"w-4 h-4 text-white dark:text-black"})):(G(),X("span",sy,D(h.value),1))]),a("span",ay,D(w.value),1),Me(Ee(Y1),{class:Qe(["w-4 h-4 text-gray-600 dark:text-red-600 transition-transform duration-200",{"rotate-180":l.value}])},null,8,["class"])]),De(a("div",ny,[a("div",oy,[B[8]||(B[8]=a("div",{class:"px-3 py-2 text-xs text-gray-500 dark:text-black border-b border-gray-200 dark:border-red-600"}," Current Profile ",-1)),Me(Ee(qs),{to:"/profile-management",class:"flex items-center px-3 py-2 text-sm text-gray-700 dark:text-black hover:bg-gray-100 dark:hover:bg-red-700/50 rounded-md transition-colors",onClick:B[1]||(B[1]=I=>l.value=!1)},{default:Pr(()=>[Me(Ee(bo),{class:"w-4 h-4 mr-2"}),B[6]||(B[6]=We(" Manage Profiles ",-1))]),_:1}),Me(Ee(qs),{to:"/profile-selection",class:"flex items-center px-3 py-2 text-sm text-gray-700 dark:text-black hover:bg-gray-100 dark:hover:bg-red-700/50 rounded-md transition-colors",onClick:B[2]||(B[2]=I=>l.value=!1)},{default:Pr(()=>[Me(Ee(ec),{class:"w-4 h-4 mr-2"}),B[7]||(B[7]=We(" Switch Profile ",-1))]),_:1})])],512),[[rl,l.value]])]),a("button",{onClick:B[3]||(B[3]=(...I)=>Ee(n)&&Ee(n)(...I)),class:"p-2 rounded-xl text-gray-700 dark:text-red-600 hover:text-black dark:hover:text-red-700 hover:bg-gray-100 dark:hover:bg-red-700/50 transition-all duration-200 transform hover:scale-110 group",title:`Switch to ${Ee(o)?"light":"dark"} mode`},[Ee(o)?(G(),Ut(Ee(Fx),{key:0,class:"w-5 h-5 group-hover:rotate-12 transition-transform duration-200"})):(G(),Ut(Ee(Tx),{key:1,class:"w-5 h-5 group-hover:-rotate-12 transition-transform duration-200"}))],8,iy),B[9]||(B[9]=a("div",{class:"flex items-center"},[a("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})],-1))])]),Me(Rd,{name:"mobile-menu"},{default:Pr(()=>[i.value?(G(),X("div",ly,[a("div",dy,[(G(),X(Ye,null,nt(d,I=>Me(Ee(qs),{key:I.name,to:I.path,onClick:B[4]||(B[4]=R=>i.value=!1),class:Qe(["nav group px-4 py-3 rounded-xl text-base font-medium transition-all duration-200 transform hover:translate-x-2",[Ee(t).path===I.path?"bg-gradient-to-r from-gray-100 to-gray-50 dark:from-red-600/50 dark:to-red-700/50 text-black dark:text-red-600 shadow-lg":"text-gray-700 dark:text-red-600 hover:text-black dark:hover:text-red-700 hover:bg-gray-100 dark:hover:bg-red-700/50"]]),style:{display:"inline-block",visibility:"visible",opacity:"1","pointer-events":"auto",position:"relative"},role:"menuitem",tabindex:"0","aria-label":I.name+" page",onKeydown:[Yu(()=>W.$router.push(I.path),["enter"]),Yu(()=>W.$router.push(I.path),["space"])]},{default:Pr(()=>[(G(),Ut(ns(I.icon),{class:Qe(["w-5 h-5 mr-3 inline transition-transform duration-200 group-hover:scale-110",[Ee(t).path===I.path?"text-gray-700 dark:text-red-600":""]])},null,8,["class"])),We(" "+D(I.name),1)]),_:2},1032,["to","class","aria-label","onKeydown"])),64))])])):Ie("",!0)]),_:1})])]),a("main",cy,[Me(Ee(K1),null,{default:Pr(({Component:I})=>[Me(Rd,{name:"page",mode:"out-in",appear:""},{default:Pr(()=>[(G(),Ut(ns(I),{class:"animate-fade-in-up"}))]),_:2},1024)]),_:1})]),Me(Rd,{name:"slide-up"},{default:Pr(()=>[f.value?(G(),X("div",uy,[a("div",fy,[a("div",hy,[a("div",gy,[a("div",py,[Me(Ee(fi),{class:"w-5 h-5 mr-3 animate-bounce-subtle"}),B[10]||(B[10]=a("div",{class:"absolute inset-0 w-5 h-5 mr-3 text-orange-500 dark:text-red-600 opacity-30 blur-sm animate-pulse"},null,-1))]),a("div",null,[B[11]||(B[11]=a("span",{class:"text-sm font-medium"},"Manual overrides active",-1)),a("div",my,D(c.value.join("  ")),1)])]),a("button",{onClick:O,class:"px-4 py-2 text-sm font-medium text-orange-700 dark:text-red-600 hover:text-orange-900 dark:hover:text-red-700 bg-orange-100 dark:bg-red-600/20 hover:bg-orange-200 dark:hover:bg-red-600/40 rounded-lg transition-all duration-200 transform hover:scale-105"}," Clear All ")])])])):Ie("",!0)]),_:1})]))}}),vy=$s(by,[["__scopeId","data-v-c6f1a44a"]]);class ei{constructor(){this.maxBackups=10}static getInstance(){return ei.instance||(ei.instance=new ei),ei.instance}save(t,r){try{const n={version:"1.0",timestamp:new Date().toISOString(),checksum:this.generateChecksum(r),size:JSON.stringify(r).length},o={data:r,metadata:n};return localStorage.setItem(t,JSON.stringify(o)),this.createBackup(t,o),this.updatePersistenceLog(t,"save",!0),!0}catch(s){return console.error(`Failed to save data for key ${t}:`,s),this.updatePersistenceLog(t,"save",!1,s),!1}}load(t){try{const r=this.loadPrimary(t);if(r&&this.validateData(r))return this.updatePersistenceLog(t,"load",!0),r.data;console.warn(`Primary data for ${t} is corrupted or missing, attempting recovery`);const s=this.recoverFromBackup(t);return s?(this.save(t,s.data),this.updatePersistenceLog(t,"recover",!0),s.data):(this.updatePersistenceLog(t,"load",!1,"No valid data found"),null)}catch(r){return console.error(`Failed to load data for key ${t}:`,r),this.updatePersistenceLog(t,"load",!1,r),null}}createBackup(t,r){try{const s=`${t}_backup_${Date.now()}`;localStorage.setItem(s,JSON.stringify(r)),this.cleanOldBackups(t)}catch(s){console.warn(`Failed to create backup for ${t}:`,s)}}loadPrimary(t){try{const r=localStorage.getItem(t);return r?JSON.parse(r):null}catch(r){return console.warn(`Failed to parse primary data for ${t}:`,r),null}}validateData(t){return!t||!t.metadata||!t.data?!1:this.generateChecksum(t.data)===t.metadata.checksum}recoverFromBackup(t){const r=Object.keys(localStorage).filter(s=>s.startsWith(`${t}_backup_`)).sort((s,n)=>{const o=parseInt(s.split("_backup_")[1]);return parseInt(n.split("_backup_")[1])-o});for(const s of r)try{const n=JSON.parse(localStorage.getItem(s)||"");if(this.validateData(n))return console.info(`Recovered data from backup: ${s}`),n}catch{console.warn(`Backup ${s} is corrupted`)}return null}cleanOldBackups(t){try{const r=Object.keys(localStorage).filter(s=>s.startsWith(`${t}_backup_`)).sort((s,n)=>{const o=parseInt(s.split("_backup_")[1]);return parseInt(n.split("_backup_")[1])-o});r.length>this.maxBackups&&r.slice(this.maxBackups).forEach(n=>{localStorage.removeItem(n)})}catch(r){console.warn(`Failed to clean old backups for ${t}:`,r)}}generateChecksum(t){const r=JSON.stringify(t);let s=0;for(let n=0;n<r.length;n++){const o=r.charCodeAt(n);s=(s<<5)-s+o,s=s&s}return s.toString(16)}updatePersistenceLog(t,r,s,n){try{const o="persistence_log",i=JSON.parse(localStorage.getItem(o)||"[]"),l={key:t,operation:r,success:s,timestamp:new Date().toISOString(),error:n?.message||n};i.push(l),i.length>100&&i.splice(0,i.length-100),localStorage.setItem(o,JSON.stringify(i))}catch{}}exportUserData(t){try{const r={exportDate:new Date().toISOString(),version:"1.0",userId:t,data:{}};return Object.keys(localStorage).forEach(s=>{if(s.includes(t)||s==="user-profiles"||s==="rifle-profiles")try{const n=this.load(s)||localStorage.getItem(s);r.data[s]=n}catch{console.warn(`Failed to export data for key: ${s}`)}}),JSON.stringify(r,null,2)}catch(r){throw new Error(`Failed to export user data: ${r}`)}}importUserData(t){try{const r=JSON.parse(t);if(!r.data||!r.userId)throw new Error("Invalid backup data format");return Object.entries(r.data).forEach(([s,n])=>{this.save(s,n)}),!0}catch(r){return console.error("Failed to import user data:",r),!1}}getHealthReport(){try{const r=JSON.parse(localStorage.getItem("persistence_log")||"[]").filter(n=>{const o=new Date(n.timestamp).getTime();return Date.now()-o<1440*60*1e3}),s=r.filter(n=>!n.success);return{totalOperations:r.length,failures:s.length,successRate:r.length>0?((r.length-s.length)/r.length*100).toFixed(2):100,recentFailures:s.slice(-5),storageUsage:this.getStorageUsage(),backupCounts:this.getBackupCounts()}}catch(t){return{error:"Failed to generate health report",details:t}}}getStorageUsage(){try{let t=0,r=0;return Object.keys(localStorage).forEach(s=>{const n=localStorage.getItem(s)||"";t+=s.length+n.length,r++}),{totalKeys:r,totalSizeKB:(t/1024).toFixed(2),maxSizeKB:5120,usagePercent:(t/(5*1024*1024)*100).toFixed(2)}}catch{return{error:"Failed to calculate storage usage"}}}getBackupCounts(){try{const t={};return Object.keys(localStorage).forEach(r=>{if(r.includes("_backup_")){const s=r.split("_backup_")[0];t[s]=(t[s]||0)+1}}),t}catch{return{error:"Failed to count backups"}}}}const fl=ei.getInstance(),qn=mi("rifleProfile",()=>{const e=La();function t(){return Math.random().toString(36).substr(2,9)}function r(){return e.currentUserDataKeys?.rifleProfiles||"rifle-profiles"}function s(){const m=e.currentUserDataKeys;return m?`${m.rifleProfiles}-current`:"current-rifle-profile-id"}const n=ye([]),o=ye(null),i=ye(!1),l=ye(null),d=ye(null),c=ye(!1),f=ye(!1),b=ye(""),w=ye(null),h=ye("lastUsed"),_=ye("desc"),O=Pe(()=>{let m=n.value;if(b.value){const C=b.value.toLowerCase();m=m.filter(L=>(L.make||L.name||"").toLowerCase().includes(C)||L.caliber.toLowerCase().includes(C)||L.notes?.toLowerCase().includes(C))}return w.value&&(m=m.filter(C=>C.caliber===w.value)),m.sort((C,L)=>{let $=C[h.value],V=L[h.value];return(h.value==="lastUsed"||h.value==="createdDate")&&($=new Date($).getTime(),V=new Date(V).getTime()),typeof $=="string"&&($=$.toLowerCase(),V=V.toLowerCase()),_.value==="asc"?$<V?-1:$>V?1:0:$>V?-1:$<V?1:0}),m}),j=Pe(()=>{const m=new Set(n.value.map(C=>C.caliber));return Array.from(m).sort()}),N=Pe(()=>{if(n.value.length===0)return{totalProfiles:0,totalRounds:0,mostUsedCaliber:null,averageMuzzleVelocity:0};const m=n.value.reduce(($,V)=>$+(V.roundsFired||0),0),C={};n.value.forEach($=>{C[$.caliber]=(C[$.caliber]||0)+1});let L="";return Object.keys(C).length>0&&(L=Object.keys(C).reduce(($,V)=>C[$]>C[V]?$:V)),{totalProfiles:n.value.length,totalRounds:m,mostUsedCaliber:L,averageMuzzleVelocity:n.value.reduce(($,V)=>$+(V.muzzleVelocity||0),0)/n.value.length}}),W=()=>{try{const m=r(),C=s();if(!fl.save(m,n.value))throw new Error("Failed to save profiles using PersistenceManager");o.value?localStorage.setItem(C,o.value.id):localStorage.removeItem(C),e.updateActivity()}catch(m){console.warn("Failed to save profiles to localStorage:",m);try{const C=r();localStorage.setItem(C,JSON.stringify(n.value))}catch{l.value="Critical: Unable to save rifle profiles. Please export your data immediately."}}},B=m=>{const C={scopeAdjustmentValue:m.scopeAdjustmentValue||(m.opticsMeasurement==="MOA"?.25:.1),id:t(),createdDate:new Date,lastUsed:new Date,roundsFired:0,make:m.make||m.name||"",name:m.name||m.make||"",type:m.type,caliber:m.caliber||"",licenceNumber:m.licenceNumber,licenceExpiryDate:m.licenceExpiryDate,images:m.images,barrelLength:m.barrelLength||0,opticsMeasurement:m.opticsMeasurement||"MOA",muzzleVelocity:m.muzzleVelocity||0,ballisticCoefficient:m.ballisticCoefficient||0,dragModel:m.dragModel||tc.G1,zeroDistance:m.zeroDistance||100,zeroDistanceUnit:m.zeroDistanceUnit||"meters",scopeHeight:m.scopeHeight||1.5,twistRate:m.twistRate||"",bulletWeight:m.bulletWeight||0},L=Z(C);if(!L.isValid)throw new Error(`Invalid profile: ${L.errors.join(", ")}`);return n.value.push(C),W(),e.incrementRifleCount(),C},I=(m,C)=>{const L=n.value.findIndex(q=>q.id===m);if(L===-1)throw new Error("Profile not found");const $={...n.value[L],...C,scopeAdjustmentValue:C.scopeAdjustmentValue||n.value[L].scopeAdjustmentValue||(C.opticsMeasurement==="MOA"?.25:.1),opticsMeasurement:C.opticsMeasurement||n.value[L].opticsMeasurement||"MOA",lastUsed:new Date},V=Z($);if(!V.isValid)throw new Error(`Invalid profile: ${V.errors.join(", ")}`);return n.value[L]=$,W(),o.value?.id===m&&(o.value=$),$},R=m=>{const C=n.value.findIndex(L=>L.id===m);if(C===-1)throw new Error("Profile not found");n.value.splice(C,1),W(),e.decrementRifleCount(),o.value?.id===m&&(o.value=null)},K=()=>{n.value=[],o.value=null,W()},U=m=>{const C=n.value.find($=>$.id===m);if(!C)throw new Error("Profile not found");const L={...C,name:`${C.name} (Copy)`};return B(L)},x=m=>{if(o.value=m,m){I(m.id,{lastUsed:new Date});const C=s();localStorage.setItem(C,m.id)}else{const C=s();localStorage.removeItem(C)}},p=(m,C=1)=>{const L=n.value.find($=>$.id===m);if(L){const $=L.roundsFired||0;I(m,{roundsFired:$+C,lastUsed:new Date})}},E=m=>{d.value={...m},c.value=!0,f.value=!1},y=()=>{d.value=null,c.value=!1,f.value=!1},A=()=>{if(!d.value)throw new Error("No profile being edited");const m=I(d.value.id,d.value);return y(),m},H=m=>{d.value&&(d.value={...d.value,...m},f.value=!0)},F=m=>{b.value=m},ae=m=>{w.value=m},ge=(m,C)=>{h.value=m,_.value=C},he=()=>{b.value="",w.value=null,h.value="lastUsed",_.value="desc"},Z=m=>{const C=[],L=[];m.name?.trim()||C.push("Name is required"),m.caliber?.trim()||C.push("Caliber is required"),(!m.barrelLength||m.barrelLength<=0)&&C.push("Barrel length must be greater than 0"),(!m.scopeHeight||m.scopeHeight<=0)&&C.push("Optics measurement (scope height) must be greater than 0");const $=m.make||m.name;return $&&n.value.some(V=>(V.make||V.name)?.toLowerCase()===$.toLowerCase()&&V.id!==m.id)&&C.push("A profile with this make/name already exists"),{isValid:C.length===0,errors:C,warnings:L}},M=()=>({make:"New Rifle",name:"New Rifle",caliber:".308 Win",muzzleVelocity:0,bulletWeight:0,ballisticCoefficient:0,dragModel:tc.G1,zeroDistance:0,scopeHeight:0,barrelLength:0,twistRate:"",opticsMeasurement:"MOA",scopeAdjustmentValue:.25,notes:"",scopeMagnification:"",turretUnits:lm.MOA,clickValue:0}),z=()=>{try{const m=r(),C=s(),L=fl.load(m);if(L&&Array.isArray(L))n.value=L;else{const V=localStorage.getItem(m);V?n.value=JSON.parse(V):n.value=[]}const $=localStorage.getItem(C);if($){const V=n.value.find(q=>q.id===$);if(o.value=V||null,!V&&n.value.length>0){const q=n.value.reduce((te,oe)=>new Date(oe.lastUsed||0)>new Date(te.lastUsed||0)?oe:te);o.value=q,localStorage.setItem(C,q.id)}}else if(n.value.length>0){const V=n.value.reduce((q,te)=>new Date(te.lastUsed||0)>new Date(q.lastUsed||0)?te:q);o.value=V,localStorage.setItem(C,V.id)}else o.value=null;l.value=null}catch(m){console.warn("Failed to load rifle profiles:",m),n.value=[],o.value=null,l.value="Failed to load rifle profiles. Please check your data or restore from backup."}},S=m=>{const{isGuest:C}=m.detail;if(C)try{const L=localStorage.getItem("rifle-profiles");n.value=L?JSON.parse(L):[];const $=localStorage.getItem("current-rifle-profile-id");if($){const V=n.value.find(q=>q.id===$);o.value=V||null}else o.value=null}catch{n.value=[],o.value=null}else z()};return z(),typeof window<"u"&&window.addEventListener("userProfileChanged",S),{profiles:n,currentProfile:o,isLoading:i,error:l,editingProfile:d,isEditMode:c,hasUnsavedChanges:f,searchQuery:b,filterByCaliber:w,sortBy:h,sortOrder:_,filteredProfiles:O,availableCalibers:j,profileStats:N,saveProfiles:W,createProfile:B,updateProfile:I,deleteProfile:R,clearAllProfiles:K,duplicateProfile:U,setCurrentProfile:x,selectProfile:x,incrementRoundCount:p,startEditing:E,cancelEditing:y,saveEditing:A,updateEditingProfile:H,setSearchQuery:F,setCaliberFilter:ae,setSorting:ge,clearFilters:he,validateProfile:Z,getDefaultProfile:M,loadUserData:z}}),xy={class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},yy={class:"bg-white dark:bg-red-500 rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto border border-gray-300 dark:border-red-600"},ky={key:0,class:"p-6"},wy={class:"text-center mb-6"},_y={class:"w-16 h-16 mx-auto mb-4 bg-gray-500 dark:bg-red-600 rounded-full flex items-center justify-center"},Sy={class:"space-y-4"},Ay={class:"flex items-center"},Cy={class:"flex items-center"},Py={key:1,class:"p-6"},Ly={class:"flex gap-3 pt-4"},Ny=["disabled"],$y={key:2,class:"p-6"},Ey={class:"flex gap-2"},My={class:"flex gap-2"},Iy={class:"px-3 py-2 bg-gray-100 dark:bg-red-600 border border-gray-300 dark:border-red-600 rounded-lg text-gray-700 dark:text-black"},Ty={class:"flex gap-2"},Dy={class:"px-3 py-2 bg-gray-100 dark:bg-red-600 border border-gray-300 dark:border-red-600 rounded-lg text-gray-700 dark:text-black"},Ry={class:"flex gap-3 pt-4"},Oy=["disabled"],Fy={key:3,class:"p-6"},jy={class:"text-center mb-6"},Uy={class:"w-16 h-16 mx-auto mb-4 bg-green-500 dark:bg-red-600 rounded-full flex items-center justify-center"},By=Tt({__name:"FirstTimeSetup",props:{show:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const r=t,s=xc(),n=La(),o=qn(),i=ye("welcome"),l=ye({name:"",email:"",preferences:{units:"imperial",scopeUnits:"MOA",skillLevel:"intermediate",shootingCategories:["precision"]}}),d=ye({name:"",make:"",caliber:"",type:void 0,opticsMeasurement:"",bulletWeight:55,muzzleVelocity:3e3,ballisticCoefficient:.25,zeroDistance:100,zeroDistanceUnit:"yards",barrelLength:16,scopeHeight:1.5,twistRate:"1:8",dragModel:"G1",scopeUnits:"MOA",notes:"",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}}),c=()=>{i.value="createProfile"},f=()=>{n.switchToGuest(),b(),r("close")},b=()=>{[{name:"AR-15 (.223)",make:"AR-15 (.223)",caliber:".223 Rem",type:"self-loading-rifle-carbine",opticsMeasurement:"MOA",bulletWeight:55,muzzleVelocity:3e3,ballisticCoefficient:.25,zeroDistance:100,zeroDistanceUnit:"yards",barrelLength:16,scopeHeight:1.5,twistRate:"1:8",dragModel:"G1",scopeUnits:"MOA",notes:"Standard tactical rifle setup",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}},{name:"Precision Rifle (.308)",make:"Precision Rifle (.308)",caliber:".308 Win",type:"manually-operated-rifle",opticsMeasurement:"MOA",bulletWeight:168,muzzleVelocity:2650,ballisticCoefficient:.45,zeroDistance:100,zeroDistanceUnit:"yards",barrelLength:20,scopeHeight:1.5,twistRate:"1:10",dragModel:"G1",scopeUnits:"MOA",notes:"Long-range precision rifle",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}},{name:"Long Range (6.5 CM)",make:"Long Range (6.5 CM)",caliber:"6.5 Creedmoor",type:"manually-operated-rifle",opticsMeasurement:"MOA",bulletWeight:140,muzzleVelocity:2700,ballisticCoefficient:.55,zeroDistance:100,zeroDistanceUnit:"yards",barrelLength:24,scopeHeight:1.5,twistRate:"1:8",dragModel:"G1",scopeUnits:"MOA",notes:"Competition long-range setup",unitPreferences:{velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"}}].forEach(B=>{o.createProfile(B)})},w=()=>{try{const W=n.createProfile(l.value);n.switchToProfile(W),i.value="rifleSetup",l.value.preferences?.units==="metric"&&(d.value.muzzleVelocity=900,d.value.zeroRange=100)}catch(W){console.error("Failed to create profile:",W)}},h=()=>{try{d.value.make=d.value.name,d.value.scopeUnits=l.value.preferences?.scopeUnits||"MOA",l.value.preferences?.units==="metric"?(d.value.unitPreferences={velocity:"mps",bulletWeight:"grams",distance:"meters",height:"centimeters"},d.value.zeroDistanceUnit="meters"):(d.value.unitPreferences={velocity:"fps",bulletWeight:"grains",distance:"yards",height:"inches"},d.value.zeroDistanceUnit="yards"),o.createProfile(d.value),n.incrementRifleCount(),i.value="complete"}catch(W){console.error("Failed to create rifle profile:",W),alert("Failed to create rifle profile. Please check all required fields are filled correctly.")}},_=()=>{i.value="complete"},O=()=>{r("close"),s.push("/rifles")},j=()=>{r("close"),s.push("/calculator")},N=()=>{i.value==="createProfile"?i.value="welcome":i.value==="rifleSetup"&&(i.value="createProfile")};return(W,B)=>(G(),X("div",xy,[a("div",yy,[i.value==="welcome"?(G(),X("div",ky,[a("div",wy,[a("div",_y,[Me(Ee(Rr),{class:"w-8 h-8 text-white dark:text-black"})]),B[11]||(B[11]=a("h2",{class:"text-2xl font-bold text-black dark:text-black mb-2"},"Welcome to That's DOPE",-1)),B[12]||(B[12]=a("p",{class:"text-gray-600 dark:text-black"},"Let's get you set up for tactical ballistics calculations",-1))]),a("div",Sy,[a("button",{onClick:c,class:"w-full p-4 text-left border-2 border-gray-200 dark:border-red-600 rounded-lg hover:border-gray-400 dark:hover:border-red-700 hover:bg-gray-50 dark:hover:bg-red-600/20 transition-all"},[a("div",Ay,[Me(Ee(ec),{class:"w-6 h-6 text-gray-600 dark:text-black mr-3"}),B[13]||(B[13]=a("div",null,[a("h3",{class:"font-semibold text-black dark:text-black"},"Create Your Profile"),a("p",{class:"text-sm text-gray-600 dark:text-black"},"Set up a personalized profile with your preferences")],-1))])]),a("button",{onClick:f,class:"w-full p-4 text-left border-2 border-gray-200 dark:border-red-600 rounded-lg hover:border-gray-400 dark:hover:border-red-700 hover:bg-gray-50 dark:hover:bg-red-600/20 transition-all"},[a("div",Cy,[Me(Ee(j0),{class:"w-6 h-6 text-gray-600 dark:text-black mr-3"}),B[14]||(B[14]=a("div",null,[a("h3",{class:"font-semibold text-black dark:text-black"},"Use Guest Mode"),a("p",{class:"text-sm text-gray-600 dark:text-black"},"Start immediately with pre-configured rifles for all calibers")],-1))])])])])):i.value==="createProfile"?(G(),X("div",Py,[B[21]||(B[21]=a("div",{class:"mb-6"},[a("h2",{class:"text-xl font-bold text-black dark:text-black mb-2"},"Create Your Profile"),a("p",{class:"text-gray-600 dark:text-black"},"Tell us about yourself to personalize your experience")],-1)),a("form",{onSubmit:Gs(w,["prevent"]),class:"space-y-4"},[a("div",null,[B[15]||(B[15]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Display Name * ",-1)),De(a("input",{"onUpdate:modelValue":B[0]||(B[0]=I=>l.value.name=I),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"Enter your display name"},null,512),[[rt,l.value.name]])]),a("div",null,[B[16]||(B[16]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Email (Optional) ",-1)),De(a("input",{"onUpdate:modelValue":B[1]||(B[1]=I=>l.value.email=I),type:"email",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"Enter your email"},null,512),[[rt,l.value.email]])]),a("div",null,[B[18]||(B[18]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Preferred Units ",-1)),De(a("select",{"onUpdate:modelValue":B[2]||(B[2]=I=>l.value.preferences.units=I),class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...B[17]||(B[17]=[a("option",{value:"imperial"},"Imperial (Yards, MOA)",-1),a("option",{value:"metric"},"Metric (Meters, MIL)",-1)])],512),[[Et,l.value.preferences.units]])]),a("div",null,[B[20]||(B[20]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Experience Level ",-1)),De(a("select",{"onUpdate:modelValue":B[3]||(B[3]=I=>l.value.preferences.skillLevel=I),class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...B[19]||(B[19]=[a("option",{value:"beginner"},"Beginner",-1),a("option",{value:"intermediate"},"Intermediate",-1),a("option",{value:"advanced"},"Advanced",-1),a("option",{value:"expert"},"Expert",-1)])],512),[[Et,l.value.preferences.skillLevel]])]),a("div",Ly,[a("button",{type:"button",onClick:N,class:"flex-1 py-2 px-4 border border-gray-300 dark:border-red-600 text-gray-700 dark:text-black rounded-lg hover:bg-gray-50 dark:hover:bg-red-600/20 transition-colors"}," Back "),a("button",{type:"submit",disabled:!l.value.name.trim(),class:"flex-1 py-2 px-4 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white dark:text-black rounded-lg transition-colors"}," Create Profile ",8,Ny)])],32)])):i.value==="rifleSetup"?(G(),X("div",$y,[B[33]||(B[33]=a("div",{class:"mb-6"},[a("h2",{class:"text-xl font-bold text-black dark:text-black mb-2"},"Setup Your First Rifle"),a("p",{class:"text-gray-600 dark:text-black"},"Configure your primary rifle for ballistics calculations")],-1)),a("form",{onSubmit:Gs(h,["prevent"]),class:"space-y-4"},[a("div",null,[B[22]||(B[22]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Rifle Name * ",-1)),De(a("input",{"onUpdate:modelValue":B[4]||(B[4]=I=>d.value.name=I),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"e.g., Primary AR-15"},null,512),[[rt,d.value.name]])]),a("div",null,[B[24]||(B[24]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Rifle Type * ",-1)),De(a("select",{"onUpdate:modelValue":B[5]||(B[5]=I=>d.value.type=I),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...B[23]||(B[23]=[Xt('<option value="" data-v-c3e5a93e>Select rifle type</option><option value="manually-operated-rifle" data-v-c3e5a93e>Manually Operated Rifle</option><option value="self-loading-rifle-carbine" data-v-c3e5a93e>Self Loading Rifle/Carbine</option><option value="shotgun" data-v-c3e5a93e>Shotgun</option><option value="pistol" data-v-c3e5a93e>Pistol</option>',5)])],512),[[Et,d.value.type]])]),a("div",null,[B[26]||(B[26]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Caliber * ",-1)),De(a("select",{"onUpdate:modelValue":B[6]||(B[6]=I=>d.value.caliber=I),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...B[25]||(B[25]=[Xt('<option value="" data-v-c3e5a93e>Select caliber</option><option value=".223 Rem" data-v-c3e5a93e>.223 Remington</option><option value=".308 Win" data-v-c3e5a93e>.308 Winchester</option><option value=".300 BLK" data-v-c3e5a93e>.300 Blackout</option><option value="6.5 Creedmoor" data-v-c3e5a93e>6.5 Creedmoor</option><option value=".338 Lapua" data-v-c3e5a93e>.338 Lapua Magnum</option><option value=".50 BMG" data-v-c3e5a93e>.50 BMG</option>',7)])],512),[[Et,d.value.caliber]])]),a("div",null,[B[28]||(B[28]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Barrel Length * ",-1)),a("div",Ey,[De(a("input",{"onUpdate:modelValue":B[7]||(B[7]=I=>d.value.barrelLength=I),type:"number",min:"4",max:"50",step:"0.1",required:"",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"16"},null,512),[[rt,d.value.barrelLength,void 0,{number:!0}]]),B[27]||(B[27]=a("span",{class:"px-3 py-2 bg-gray-100 dark:bg-red-600 border border-gray-300 dark:border-red-600 rounded-lg text-gray-700 dark:text-black"}," inches ",-1))])]),a("div",null,[B[30]||(B[30]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Optics Measurement * ",-1)),De(a("select",{"onUpdate:modelValue":B[8]||(B[8]=I=>d.value.opticsMeasurement=I),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white"},[...B[29]||(B[29]=[a("option",{value:""},"Select measurement",-1),a("option",{value:"MOA"},"MOA",-1),a("option",{value:"MIL"},"MIL",-1)])],512),[[Et,d.value.opticsMeasurement]])]),a("div",null,[B[31]||(B[31]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Zeroed Distance * ",-1)),a("div",My,[De(a("input",{"onUpdate:modelValue":B[9]||(B[9]=I=>d.value.zeroDistance=I),type:"number",min:"25",max:"1000",required:"",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"100"},null,512),[[rt,d.value.zeroDistance,void 0,{number:!0}]]),a("span",Iy,D(l.value.preferences.units==="imperial"?"yards":"meters"),1)])]),a("div",null,[B[32]||(B[32]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-black mb-2"}," Muzzle Velocity ",-1)),a("div",Ty,[De(a("input",{"onUpdate:modelValue":B[10]||(B[10]=I=>d.value.muzzleVelocity=I),type:"number",min:"500",max:"4000",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-red-600 rounded-lg focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-gray-500 dark:focus:border-red-600 bg-black dark:bg-black text-white dark:text-white",placeholder:"3000"},null,512),[[rt,d.value.muzzleVelocity,void 0,{number:!0}]]),a("span",Dy,D(l.value.preferences.units==="imperial"?"fps":"m/s"),1)])]),a("div",Ry,[a("button",{type:"button",onClick:_,class:"flex-1 py-2 px-4 border border-gray-300 dark:border-red-600 text-gray-700 dark:text-black rounded-lg hover:bg-gray-50 dark:hover:bg-red-600/20 transition-colors"}," Skip for Now "),a("button",{type:"submit",disabled:!d.value.name.trim()||!d.value.caliber||!d.value.type||!d.value.barrelLength||!d.value.opticsMeasurement||!d.value.zeroDistance,class:"flex-1 py-2 px-4 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white dark:text-black rounded-lg transition-colors"}," Create Rifle ",8,Oy)])],32)])):i.value==="complete"?(G(),X("div",Fy,[a("div",jy,[a("div",Uy,[Me(Ee($l),{class:"w-8 h-8 text-white dark:text-black"})]),B[34]||(B[34]=a("h2",{class:"text-2xl font-bold text-black dark:text-black mb-2"},"You're All Set!",-1)),B[35]||(B[35]=a("p",{class:"text-gray-600 dark:text-black"},"Your profile and rifle have been configured",-1))]),a("div",{class:"space-y-3"},[a("button",{onClick:O,class:"w-full py-3 px-4 border border-gray-300 dark:border-red-600 text-gray-700 dark:text-black rounded-lg hover:bg-gray-50 dark:hover:bg-red-600/20 transition-colors"}," Add Another Rifle "),a("button",{onClick:j,class:"w-full py-3 px-4 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 text-white dark:text-black rounded-lg transition-colors"}," Start Calculating ")])])):Ie("",!0)])]))}}),qy=$s(By,[["__scopeId","data-v-c3e5a93e"]]),zy={id:"app",class:"min-h-screen transition-colors duration-300 bg-desert-50 dark:bg-dark-100"},Hy={class:"relative z-10"},Vy={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm"},Wy={class:"bg-white dark:bg-dark-100 rounded-2xl p-8 shadow-dope-xl"},Gy={class:"flex items-center space-x-4"},Ky={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},pB=Tt({__name:"App",setup(e){const{initializeTheme:t,forceAutoTimeTheme:r}=dm();typeof window<"u"&&(window.forceAutoTimeTheme=r);const s=La(),n=Bn(),o=ye(!1),i=ye("Loading..."),l=Pe(()=>{const c=!s.hasProfiles,f=s.isSetupMode,b=!s.isGuestMode,w=s.isGuestMode,h=f&&b||c&&b;return console.log("FirstTimeSetup conditions:",{hasNoProfiles:c,isSetupMode:f,isNotGuest:b,isGuest:w,shouldShow:h}),h}),d=()=>{s.completeSetup()};return Kr(async()=>{n.loadSettings(),t(),s.loadProfiles(),console.log("App initialization complete with auto-time theme priority")}),(c,f)=>(G(),X("div",zy,[f[1]||(f[1]=a("div",{class:"fixed inset-0 overflow-hidden pointer-events-none"},[a("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-army-green-500/20 to-accent-camo/20 rounded-full blur-3xl animate-float"}),a("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-accent-desert/20 to-olive-600/20 rounded-full blur-3xl animate-float",style:{"animation-delay":"1s"}}),a("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-accent-woodland/10 to-accent-tactical/10 rounded-full blur-3xl animate-tactical-pulse"})],-1)),a("div",Hy,[Me(vy)]),l.value?(G(),Ut(qy,{key:0,show:l.value,onClose:d},null,8,["show"])):Ie("",!0),Me(Rd,{name:"fade"},{default:Pr(()=>[o.value?(G(),X("div",Vy,[a("div",Wy,[a("div",Gy,[f[0]||(f[0]=a("div",{class:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"},null,-1)),a("div",Ky,D(i.value),1)])])])):Ie("",!0)]),_:1})]))}}),Yy="modulepreload",Jy=function(e){return"/thatsdope/"+e},Vh={},hl=function(t,r,s){let n=Promise.resolve();if(r&&r.length>0){let d=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");n=d(r.map(c=>{if(c=Jy(c),c in Vh)return;Vh[c]=!0;const f=c.endsWith(".css"),b=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${b}`))return;const w=document.createElement("link");if(w.rel=f?"stylesheet":Yy,f||(w.as="script"),w.crossOrigin="",w.href=c,l&&w.setAttribute("nonce",l),document.head.appendChild(w),f)return new Promise((h,_)=>{w.addEventListener("load",h),w.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return n.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},Zy={class:"space-y-12"},Xy={class:"relative overflow-hidden"},Qy={class:"relative z-10 text-white p-8 md:p-16"},ek={class:"max-w-4xl mx-auto text-center"},tk={class:"flex justify-center mb-8"},rk={class:"relative"},sk={class:"flex flex-col sm:flex-row gap-4 justify-center"},ak=Tt({__name:"HomeView",setup(e){const t=xc(),r=La(),s=qn(),n=Pe(()=>r.isSetupMode||r.isGuestMode||!r.currentProfile),o=()=>{if(r.hasProfiles&&!r.currentProfile){t.push("/profile-selection");return}if(r.isGuestMode){r.switchToGuest(),i(),t.push("/calculator");return}if(!r.hasProfiles){r.isSetupMode=!0;return}r.isSetupMode=!0},i=()=>{s.clearAllProfiles(),[{make:"Colt",name:"M4 Carbine (.223)",caliber:".223 Rem",type:"self-loading-rifle-carbine",opticsMeasurement:"MOA",scopeAdjustmentValue:.25,bulletWeight:55,muzzleVelocity:3e3,ballisticCoefficient:.25,dragModel:tc.G1,zeroDistance:100,zeroDistanceUnit:"yards",scopeHeight:1.5,barrelLength:14.5,twistRate:"1:7",notes:"Standard military tactical rifle setup"},{name:"AR-15 DMR (.223)",caliber:".223 Rem",bulletWeight:77,muzzleVelocity:2750,ballisticCoefficient:.35,zeroRange:100,barrelLength:18,dragModel:"G1",scopeUnits:"MOA",notes:"Designated marksman rifle configuration"},{name:"Precision .308 Win",caliber:".308 Win",bulletWeight:168,muzzleVelocity:2650,ballisticCoefficient:.45,zeroRange:100,barrelLength:20,dragModel:"G1",scopeUnits:"MOA",notes:"Standard precision rifle for competition"},{name:"Match .308 Win",caliber:".308 Win",bulletWeight:175,muzzleVelocity:2600,ballisticCoefficient:.48,zeroRange:100,barrelLength:24,dragModel:"G1",scopeUnits:"MOA",notes:"Match-grade ammunition setup"},{name:"6.5 Creedmoor Competition",caliber:"6.5 Creedmoor",bulletWeight:140,muzzleVelocity:2700,ballisticCoefficient:.55,zeroRange:100,barrelLength:24,dragModel:"G1",scopeUnits:"MOA",notes:"Popular long-range competition cartridge"},{name:"6.5 Creedmoor Hunting",caliber:"6.5 Creedmoor",bulletWeight:130,muzzleVelocity:2800,ballisticCoefficient:.52,zeroRange:100,barrelLength:22,dragModel:"G1",scopeUnits:"MOA",notes:"Hunting and field application setup"},{name:".300 Win Mag Tactical",caliber:".300 Win Mag",bulletWeight:190,muzzleVelocity:2900,ballisticCoefficient:.58,zeroRange:100,barrelLength:26,dragModel:"G1",scopeUnits:"MOA",notes:"Heavy-duty long-range tactical setup"},{name:".338 Lapua Magnum",caliber:".338 Lapua",bulletWeight:250,muzzleVelocity:2950,ballisticCoefficient:.65,zeroRange:100,barrelLength:27,dragModel:"G1",scopeUnits:"MOA",notes:"Extreme long-range precision rifle"},{name:"6mm Creedmoor PRS",caliber:"6mm Creedmoor",bulletWeight:105,muzzleVelocity:3050,ballisticCoefficient:.53,zeroRange:100,barrelLength:24,dragModel:"G1",scopeUnits:"MOA",notes:"Precision Rifle Series competition setup"},{name:".260 Remington",caliber:".260 Rem",bulletWeight:140,muzzleVelocity:2650,ballisticCoefficient:.55,zeroRange:100,barrelLength:22,dragModel:"G1",scopeUnits:"MOA",notes:"Versatile long-range hunting cartridge"}].forEach(c=>{try{s.createProfile(c)}catch(f){console.error("Failed to create sample rifle:",c.name,f)}});const d=s.profiles[0];d&&s.setCurrentProfile(d)};return(l,d)=>(G(),X("div",Zy,[a("div",Xy,[d[8]||(d[8]=Xt('<div class="absolute inset-0 bg-gradient-to-br from-army-green-600 via-army-green-700 to-olive-800 dark:from-accent-camo dark:via-accent-woodland dark:to-accent-stealth rounded-2xl" data-v-d2ceaa74><div class="absolute inset-0 bg-camo-pattern opacity-20" data-v-d2ceaa74></div><div class="absolute top-10 left-10 w-2 h-2 bg-desert-200/30 rounded-full animate-tactical-pulse" data-v-d2ceaa74></div><div class="absolute top-24 right-16 w-3 h-3 bg-desert-300/25 rounded-full animate-camo-fade" data-v-d2ceaa74></div><div class="absolute bottom-16 left-1/4 w-4 h-4 bg-desert-400/20 rounded-full animate-float" data-v-d2ceaa74></div></div>',1)),a("div",Qy,[a("div",ek,[a("div",tk,[a("div",rk,[Me(om,{size:80,animate:!0,bullseyeColor:"#dc2626",theme:"dark",class:"text-white animate-pulse-slow"}),d[0]||(d[0]=a("div",{class:"absolute inset-0 w-20 h-20 text-white opacity-30 blur-sm animate-spin-slow"},null,-1))])]),d[6]||(d[6]=a("h1",{class:"text-5xl md:text-7xl font-bold mb-6 leading-tight font-display"},[a("span",{class:"bg-gradient-to-r from-desert-100 to-desert-200/90 bg-clip-text text-transparent"}," THAT'S DOPE ")],-1)),d[7]||(d[7]=a("p",{class:"text-xl md:text-2xl text-desert-100/90 mb-12 font-light leading-relaxed"}," BALLISTICS AND FIREARM MANAGEMENT APPLICATION ",-1)),a("div",sk,[n.value?(G(),X("button",{key:0,onClick:o,class:"group relative px-8 py-4 bg-gradient-to-r from-accent-desert to-desert-100 text-army-green-800 dark:text-accent-woodland rounded-xl font-semibold shadow-tactical hover:shadow-tactical-lg transform hover:-translate-y-1 transition-all duration-300 inline-flex items-center justify-center overflow-hidden font-display border-2 border-transparent hover:border-accent-desert/30"},[d[1]||(d[1]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-accent-camo/20 to-accent-desert/20 dark:from-accent-camo/10 dark:to-accent-desert/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),Me(Ee(Rr),{class:"w-5 h-5 mr-2 relative z-10 group-hover:scale-110 transition-transform duration-200"}),d[2]||(d[2]=a("span",{class:"relative z-10"},"GET STARTED",-1))])):Ie("",!0),Me(Ee(qs),{to:"/calculator",class:"group relative px-8 py-4 bg-desert-100 text-army-green-800 dark:text-accent-woodland rounded-xl font-semibold shadow-tactical hover:shadow-tactical-lg transform hover:-translate-y-1 transition-all duration-300 inline-flex items-center justify-center overflow-hidden font-display"},{default:Pr(()=>[d[3]||(d[3]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-desert-50 to-desert-200 dark:from-accent-camo/10 dark:to-accent-desert/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),Me(Ee(Fl),{class:"w-5 h-5 mr-2 relative z-10 group-hover:scale-110 transition-transform duration-200"}),d[4]||(d[4]=a("span",{class:"relative z-10"},"ENGAGE TARGET",-1))]),_:1}),Me(Ee(qs),{to:"/help",class:"group px-8 py-4 border-2 border-desert-200/40 text-desert-100 rounded-xl font-semibold hover:bg-desert-100/10 hover:border-desert-200/60 transition-all duration-300 inline-flex items-center justify-center backdrop-blur-sm font-display"},{default:Pr(()=>[Me(Ee(wx),{class:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform duration-200"}),d[5]||(d[5]=We(" MISSION BRIEF ",-1))]),_:1})])])])])]))}}),mB=$s(ak,[["__scopeId","data-v-d2ceaa74"]]),s0=[{value:"manually-operated-rifle",label:"Manually Operated Rifle"},{value:"self-loading-rifle-carbine",label:"Self Loading Rifle/Carbine"},{value:"shotgun",label:"Shotgun"},{value:"pistol",label:"Pistol"}],nk={class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4"},ok={class:"max-w-4xl w-full"},ik={class:"text-center mb-8"},lk={class:"text-3xl font-bold text-gray-900 dark:text-white"},dk={class:"text-gray-600 dark:text-gray-400 mt-2"},ck={key:0,class:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg"},uk={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},fk=["onClick"],hk={class:"flex items-center mb-4"},gk={class:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg"},pk={class:"ml-4"},mk={class:"text-lg font-semibold text-gray-900 dark:text-white"},bk={class:"text-sm text-gray-600 dark:text-gray-400"},vk={class:"grid grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400"},xk={key:0,class:"mt-4 flex items-center text-sm text-gray-500"},yk={key:2,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 max-w-lg mx-auto"},kk={class:"text-xl font-semibold text-gray-900 dark:text-white mb-6"},wk={class:"mb-4"},_k={class:"mb-4"},Sk={class:"mb-4"},Ak={class:"mb-6"},Ck={class:"space-y-3"},Pk=["value","data-testid"],Lk={class:"ml-3 text-sm text-gray-700 dark:text-gray-300"},Nk={class:"flex space-x-3"},$k=["disabled"],Ek={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},Mk={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Ik={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm w-full"},Tk={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},Dk={class:"flex items-center space-x-2"},Rk=["type"],Ok={key:0,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Fk={key:1,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},jk={class:"flex space-x-3 mt-6"},Uk=["disabled"],bB=Tt({__name:"ProfileSelectionView",setup(e){const t=xc(),r=La(),s=ye(!1),n=ye(!1),o=ye(null),i=ye(""),l=ye(null),d=ye(!1),c=ye(!1),f=ye(""),b=s0,w=ye({name:"",fullName:"",email:"",preferences:{units:"imperial",scopeUnits:"MOA",skillLevel:"intermediate",shootingCategories:[]}}),h=Pe(()=>r.isSetupMode),_=Pe(()=>r.profiles),O=K=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(K),j=async K=>{o.value=K,K.security.requirePin?(n.value=!0,i.value="",await Rl(),l.value&&l.value.focus()):B(K)},N=()=>{if(!o.value||!i.value)return;r.switchToProfile(o.value,i.value)?(n.value=!1,t.push("/")):(f.value="Invalid PIN. Please try again.",i.value="")},W=()=>{n.value=!1,o.value=null,i.value="",f.value=""},B=K=>{r.switchToProfile(K)?t.push("/"):f.value="Failed to switch to profile"},I=async()=>{try{if(c.value=!0,f.value="",!w.value.name.trim()){f.value="Profile name is required";return}if(!w.value.preferences.shootingCategories||w.value.preferences.shootingCategories.length===0){f.value="At least one shooting category must be selected";return}const K={name:w.value.name.trim(),fullName:w.value.fullName?.trim()||void 0,email:w.value.email?.trim()||void 0,preferences:{...w.value.preferences,theme:"auto"}},U=r.createProfile(K);B(U)}catch(K){f.value=K instanceof Error?K.message:"Failed to create profile"}finally{c.value=!1}},R=()=>{r.switchToGuest(),t.push("/")};return(K,U)=>(G(),X("div",nk,[a("div",ok,[a("div",ik,[a("h1",lk,D(h.value?"Welcome to That's DOPE":"Select User Profile"),1),a("p",dk,D(h.value?"Set up your first user profile to get started":"Choose your profile or continue as guest"),1)]),f.value?(G(),X("div",ck,D(f.value),1)):Ie("",!0),!h.value&&!s.value?(G(),X("div",uk,[(G(!0),X(Ye,null,nt(_.value,x=>(G(),X("div",{key:x.id,"data-testid":"profile-card",class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow border-2 border-transparent hover:border-blue-500",onClick:p=>j(x)},[a("div",hk,[a("div",gk,D(x.name.charAt(0).toUpperCase()),1),a("div",pk,[a("h3",mk,D(x.name),1),a("p",bk," Last used: "+D(O(x.lastUsed)),1)])]),a("div",vk,[a("div",null,[U[8]||(U[8]=a("span",{class:"font-medium"},"Rifles:",-1)),We(" "+D(x.stats.totalRifles),1)]),a("div",null,[U[9]||(U[9]=a("span",{class:"font-medium"},"Sessions:",-1)),We(" "+D(x.stats.totalSessions),1)]),a("div",null,[U[10]||(U[10]=a("span",{class:"font-medium"},"Shots:",-1)),We(" "+D(x.stats.totalShots),1)]),a("div",null,[U[11]||(U[11]=a("span",{class:"font-medium"},"Accuracy:",-1)),We(" "+D(x.stats.averageAccuracy.toFixed(1))+"% ",1)])]),x.security.requirePin?(G(),X("div",xk,[...U[12]||(U[12]=[a("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1),We(" PIN protected ",-1)])])):Ie("",!0)],8,fk))),128)),a("div",{"data-testid":"create-profile-card",class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-blue-500 flex flex-col items-center justify-center",onClick:U[0]||(U[0]=x=>s.value=!0)},[...U[13]||(U[13]=[Xt('<div class="w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center mb-4"><svg class="w-6 h-6 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></div><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Create New Profile</h3><p class="text-sm text-gray-600 dark:text-gray-400 text-center"> Add a new user profile for personalized settings and data </p>',3)])]),a("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow border-2 border-transparent hover:border-green-500",onClick:R},[...U[14]||(U[14]=[Xt('<div class="flex items-center mb-4"><div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><div class="ml-4"><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Guest Mode</h3><p class="text-sm text-gray-600 dark:text-gray-400"> Use without creating a profile </p></div></div><p class="text-sm text-gray-600 dark:text-gray-400"> Access basic features without saving personal data. Perfect for testing or one-time use. </p>',2)])])])):Ie("",!0),h.value||s.value?(G(),X("div",yk,[a("h2",kk,D(h.value?"Create Your Profile":"Create New Profile"),1),a("form",{onSubmit:Gs(I,["prevent"])},[a("div",wk,[U[15]||(U[15]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Profile Name * ",-1)),De(a("input",{"onUpdate:modelValue":U[1]||(U[1]=x=>w.value.name=x),type:"text",required:"","data-testid":"profile-name-input",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter profile name"},null,512),[[rt,w.value.name]])]),a("div",_k,[U[16]||(U[16]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Name & Surname (Optional) ",-1)),De(a("input",{"onUpdate:modelValue":U[2]||(U[2]=x=>w.value.fullName=x),type:"text","data-testid":"profile-fullname-input",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your full name"},null,512),[[rt,w.value.fullName]])]),a("div",Sk,[U[17]||(U[17]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email Address (Optional) ",-1)),De(a("input",{"onUpdate:modelValue":U[3]||(U[3]=x=>w.value.email=x),type:"email","data-testid":"profile-email-input",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your email address"},null,512),[[rt,w.value.email]])]),a("div",Ak,[U[18]||(U[18]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Shooting Categories * ",-1)),U[19]||(U[19]=a("p",{class:"text-xs text-gray-600 dark:text-gray-400 mb-3"},"Select at least one category",-1)),a("div",Ck,[(G(!0),X(Ye,null,nt(Ee(b),x=>(G(),X("label",{key:x.value,class:"flex items-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md p-2 transition-colors"},[De(a("input",{"onUpdate:modelValue":U[4]||(U[4]=p=>w.value.preferences.shootingCategories=p),value:x.value,type:"checkbox","data-testid":`shooting-category-${x.value}`,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Pk),[[Bs,w.value.preferences.shootingCategories]]),a("span",Lk,D(x.label),1)]))),128))])]),a("div",Nk,[a("button",{type:"submit",disabled:c.value,"data-testid":"create-profile-button",class:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"},D(c.value?"Creating...":"Create Profile"),9,$k),h.value?Ie("",!0):(G(),X("button",{key:0,type:"button",onClick:U[5]||(U[5]=x=>s.value=!1),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Cancel "))])],32),h.value?(G(),X("div",Ek,[a("button",{onClick:R,class:"w-full text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}," Skip and continue as guest ")])):Ie("",!0)])):Ie("",!0),n.value?(G(),X("div",Mk,[a("div",Ik,[a("h3",Tk," Enter PIN for "+D(o.value?.name),1),a("div",Dk,[De(a("input",{"onUpdate:modelValue":U[6]||(U[6]=x=>i.value=x),type:d.value?"text":"password",pattern:"[0-9]*",inputmode:"numeric",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-center text-lg tracking-widest",placeholder:"",onKeyup:Yu(N,["enter"]),ref_key:"pinInput",ref:l},null,40,Rk),[[E1,i.value]]),a("button",{type:"button",onClick:U[7]||(U[7]=x=>d.value=!d.value),class:"flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Toggle PIN visibility"},[d.value?(G(),X("svg",Ok,[...U[20]||(U[20]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(G(),X("svg",Fk,[...U[21]||(U[21]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),a("div",jk,[a("button",{onClick:N,disabled:!i.value,class:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}," Unlock ",8,Uk),a("button",{onClick:W,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Cancel ")])])])):Ie("",!0)])]))}}),Bk={class:"container mx-auto px-4 py-8"},qk={class:"flex justify-between items-center mb-8"},zk={class:"flex space-x-3"},Hk={key:0,class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-8"},Vk={class:"flex items-center justify-between"},Wk={class:"flex items-center"},Gk={class:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl"},Kk={key:1},Yk={class:"ml-4"},Jk={class:"text-xl font-semibold text-gray-900 dark:text-white"},Zk={key:0,class:"text-lg font-medium text-gray-900 dark:text-white"},Xk={class:"text-sm text-gray-600 dark:text-gray-400"},Qk={key:1,class:"mt-2"},e4={class:"flex flex-wrap gap-1"},t4={class:"text-right"},r4={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},s4={key:1,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 mb-8"},a4={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md"},n4={class:"divide-y divide-gray-200 dark:divide-gray-700"},o4={class:"flex items-center justify-between"},i4={class:"flex items-center"},l4={class:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold"},d4={key:1},c4={class:"ml-4"},u4={class:"flex items-center"},f4={class:"text-lg font-medium text-gray-900 dark:text-white"},h4={key:0,class:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full"},g4={key:1,class:"ml-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full"},p4={key:2,class:"ml-2 text-gray-500"},m4={class:"text-sm text-gray-600 dark:text-gray-400"},b4={class:"text-xs text-gray-500 dark:text-gray-400"},v4={class:"flex items-center space-x-6"},x4={class:"text-right text-sm text-gray-600 dark:text-gray-400"},y4={class:"flex space-x-2"},k4=["onClick"],w4=["onClick"],_4=["onClick"],S4=["onClick","disabled","title"],A4={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},C4={class:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},P4={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L4={key:2,class:"mt-8 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"},N4={class:"flex items-start"},$4={class:"ml-3 flex-1"},E4={class:"text-sm text-red-600 dark:text-red-300"},M4={class:"flex-shrink-0"},I4={key:0,class:"px-6 pb-6 border-t border-red-200 dark:border-red-800"},T4={class:"pt-4"},D4={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R4=["disabled"],O4={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},F4={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto"},j4={class:"text-lg font-semibold text-gray-900 dark:text-white mb-6"},U4={class:"mb-4"},B4={class:"mb-4"},q4={class:"grid grid-cols-6 gap-2"},z4=["onClick"],H4={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center"},V4={class:"mb-4"},W4={class:"mb-4"},G4={class:"mb-4"},K4={class:"space-y-2"},Y4=["value"],J4={class:"ml-3"},Z4={class:"text-sm font-medium text-gray-900 dark:text-white"},X4={key:0,class:"text-xs text-red-600 dark:text-red-400 mt-1"},Q4={class:"mb-4"},ew={class:"flex items-center"},tw={key:0,class:"mb-6"},rw={class:"flex items-center space-x-2"},sw=["type"],aw={key:0,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},nw={key:1,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ow={class:"flex space-x-3"},iw=["disabled"],lw={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},dw={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm w-full"},cw={class:"text-gray-600 dark:text-gray-400 mb-6"},uw={class:"flex space-x-3"},fw={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},hw={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-lg w-full"},gw={class:"mb-6"},pw={class:"text-gray-600 dark:text-gray-400 mb-4"},mw={class:"mb-4"},bw={class:"flex space-x-3"},vw=["disabled"],xw={key:6,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},yw={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-lg w-full"},kw={class:"mb-4"},ww={class:"flex space-x-3"},_w=["disabled"],Sw={key:7,class:"fixed bottom-4 right-4 max-w-sm"},vB=Tt({__name:"ProfileManagementView",setup(e){const t=[{name:"user",component:ec,label:"User"},{name:"target",component:Rr,label:"Target"},{name:"crosshair",component:ui,label:"Crosshair"},{name:"shield",component:j0,label:"Shield"},{name:"eye",component:Q1,label:"Eye"},{name:"search",component:sm,label:"Scope"},{name:"zap",component:r0,label:"Lightning"},{name:"star",component:nm,label:"Star"},{name:"award",component:R0,label:"Award"},{name:"circle",component:J1,label:"Circle"},{name:"crown",component:Z1,label:"Crown"},{name:"flame",component:em,label:"Flame"}],r=L=>L&&t.find(V=>V.name===L)?.component||null,s=La(),n=ye(!1),o=ye(null),i=ye(null),l=ye(!1),d=ye(""),c=ye("success"),f=ye(!1),b=ye(!1),w=ye(!1),h=ye(""),_=ye(""),O=ye(!1),j=ye({name:"",email:"",avatar:"user",preferences:{units:"imperial",scopeUnits:"MOA",skillLevel:"intermediate",shootingCategories:[]},security:{requirePin:!1,pin:""}}),N=Pe(()=>s.profiles),W=Pe(()=>s.currentProfile),B=Pe(()=>s.isGuestMode),I=L=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(L),R=L=>{const $=s0.find(V=>V.value===L);return $?$.label:L},K=(L,$="success")=>{d.value=L,c.value=$,setTimeout(()=>{d.value=""},5e3)},U=L=>{try{s.switchToProfile(L)?K(`Switched to ${L.name}`):K("Failed to switch profile","error")}catch($){K($ instanceof Error?$.message:"Failed to switch profile","error")}},x=()=>{s.switchToGuest(),K("Switched to guest mode")},p=L=>{o.value=L,j.value={name:L.name,email:L.email||"",avatar:L.avatar||"user",preferences:{...L.preferences},security:{requirePin:L.security.requirePin,pin:L.security.pin||""}}},E=()=>{n.value=!1,o.value=null,j.value={name:"",email:"",avatar:"user",preferences:{units:"imperial",scopeUnits:"MOA",skillLevel:"intermediate",shootingCategories:[]},security:{requirePin:!1,pin:""}}},y=async()=>{try{if(l.value=!0,!j.value.preferences?.shootingCategories||j.value.preferences.shootingCategories.length===0){K("Please select at least one shooting category","error");return}const L={name:j.value.name.trim(),email:j.value.email?.trim()||void 0,avatar:j.value.avatar,preferences:j.value.preferences,security:{requirePin:j.value.security.requirePin,pin:j.value.security.requirePin?j.value.security.pin:void 0,allowGuestAccess:!0,autoLockMinutes:30}},$=s.createProfile(L);K(`Profile "${$.name}" created successfully`),E()}catch(L){K(L instanceof Error?L.message:"Failed to create profile","error")}finally{l.value=!1}},A=async()=>{if(o.value)try{if(l.value=!0,!j.value.preferences?.shootingCategories||j.value.preferences.shootingCategories.length===0){K("Please select at least one shooting category","error");return}s.updateProfile(o.value.id,{name:j.value.name.trim(),email:j.value.email?.trim()||void 0,avatar:j.value.avatar,preferences:j.value.preferences,security:{requirePin:j.value.security.requirePin,pin:j.value.security.requirePin?j.value.security.pin:void 0,allowGuestAccess:!0,autoLockMinutes:30}}),K(`Profile "${j.value.name}" updated successfully`),E()}catch(L){K(L instanceof Error?L.message:"Failed to update profile","error")}finally{l.value=!1}},H=L=>{if(console.log("Confirm delete called for profile:",L.name,"isActive:",L.isActive),L.isActive){K("Cannot delete the currently active profile. Switch to another profile or guest mode first.","error");return}i.value=L,console.log("Profile set for deletion:",i.value?.name)},F=()=>{if(i.value)try{const L=i.value.name;if(i.value.isActive){K("Cannot delete the currently active profile. Switch to another profile or guest mode first.","error"),i.value=null;return}s.deleteProfile(i.value.id),K(`Profile "${L}" deleted successfully`),i.value=null}catch(L){console.error("Profile deletion error:",L),K(L instanceof Error?L.message:"Failed to delete profile","error"),i.value=null}},ae=L=>{try{const $=s.exportProfile(L.id),V=new Blob([$],{type:"application/json"}),q=URL.createObjectURL(V),te=document.createElement("a");te.href=q,te.download=`${L.name}_profile_backup.json`,document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(q),K(`Profile "${L.name}" exported successfully`)}catch($){K($ instanceof Error?$.message:"Failed to export profile","error")}},ge=()=>{try{const L={profiles:N.value,exportDate:new Date,version:"1.0.0"},$=JSON.stringify(L,null,2),V=new Blob([$],{type:"application/json"}),q=URL.createObjectURL(V),te=document.createElement("a");te.href=q,te.download=`all_profiles_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(q),K("All profiles exported successfully")}catch{K("Failed to export profiles","error")}},he=L=>{const $=L.target,V=$.files?.[0];if(!V)return;const q=new FileReader;q.onload=te=>{try{const oe=te.target?.result,pe=s.importProfile(oe);K(`Profile "${pe.name}" imported successfully`)}catch(oe){K(oe instanceof Error?oe.message:"Failed to import profile","error")}},q.readAsText(V),$.value=""},Z=()=>{N.value.length!==0&&(b.value=!0,h.value="")},M=()=>{b.value=!1,h.value=""},z=()=>{if(h.value==="DELETE ALL")try{console.log("Deleting all profiles...");const L=N.value.length;s.deleteAllProfiles(),K(`Successfully deleted all ${L} profiles`),M()}catch(L){console.error("Error deleting all profiles:",L),K(L instanceof Error?L.message:"Failed to delete all profiles","error")}},S=()=>{w.value=!0,_.value=""},m=()=>{w.value=!1,_.value=""},C=()=>{if(_.value==="RESET EVERYTHING")try{console.log("Resetting entire application...");const L=[];Object.keys(localStorage).forEach($=>{L.includes($)||localStorage.removeItem($)}),K("Application reset successfully. Reloading...","success"),setTimeout(()=>{window.location.reload()},1500),m()}catch(L){console.error("Error resetting application:",L),K(L instanceof Error?L.message:"Failed to reset application","error")}};return(L,$)=>(G(),X("div",Bk,[a("div",qk,[$[15]||($[15]=a("div",null,[a("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Profile Management"),a("p",{class:"text-gray-600 dark:text-gray-400 mt-2"}," Manage user profiles and data ")],-1)),a("div",zk,[a("button",{onClick:$[0]||($[0]=V=>n.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Add Profile "),B.value?Ie("",!0):(G(),X("button",{key:0,onClick:x,class:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Switch to Guest "))])]),W.value&&!B.value?(G(),X("div",Hk,[a("div",Vk,[a("div",Wk,[a("div",Gk,[r(W.value.avatar)?(G(),Ut(ns(r(W.value.avatar)),{key:0,class:"w-8 h-8 text-white"})):(G(),X("span",Kk,D(W.value.name.charAt(0).toUpperCase()),1))]),a("div",Yk,[a("h2",Jk,D(W.value.name),1),W.value.fullName?(G(),X("h4",Zk,D(W.value.fullName),1)):Ie("",!0),$[17]||($[17]=a("p",{class:"text-blue-600 dark:text-blue-400"},"Currently Active Profile",-1)),a("p",Xk,D(W.value.email||"No email set"),1),W.value.preferences.shootingCategories&&W.value.preferences.shootingCategories.length>0?(G(),X("div",Qk,[$[16]||($[16]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Shooting Categories:",-1)),a("div",e4,[(G(!0),X(Ye,null,nt(W.value.preferences.shootingCategories,V=>(G(),X("span",{key:V,class:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full dark:bg-blue-900 dark:text-blue-200"},D(R(V)),1))),128))])])):Ie("",!0)])]),a("div",t4,[a("div",r4,[a("div",null,D(W.value.stats.totalRifles)+" rifles",1),a("div",null,D(W.value.stats.totalSessions)+" sessions",1),a("div",null,D(W.value.stats.totalShots)+" shots",1),a("div",null,D(W.value.stats.averageAccuracy.toFixed(1))+"% accuracy",1)])])])])):Ie("",!0),B.value?(G(),X("div",s4,[...$[18]||($[18]=[Xt('<div class="flex items-center"><div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><div class="ml-4"><h2 class="text-xl font-semibold text-gray-900 dark:text-white">Guest Mode</h2><p class="text-green-600 dark:text-green-400">Using shared data without personal profile</p></div></div>',1)])])):Ie("",!0),a("div",a4,[$[23]||($[23]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"All Profiles")],-1)),a("div",n4,[(G(!0),X(Ye,null,nt(N.value,V=>(G(),X("div",{key:V.id,class:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[a("div",o4,[a("div",i4,[a("div",l4,[r(V.avatar)?(G(),Ut(ns(r(V.avatar)),{key:0,class:"w-6 h-6 text-white"})):(G(),X("span",d4,D(V.name.charAt(0).toUpperCase()),1))]),a("div",c4,[a("div",u4,[a("h4",f4,D(V.name),1),V.isActive?(G(),X("span",h4," Active ")):(G(),X("span",g4," Inactive ")),V.security.requirePin?(G(),X("span",p4,[...$[19]||($[19]=[a("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):Ie("",!0)]),a("p",m4,D(V.email||"No email"),1),a("p",b4," Created "+D(I(V.createdDate))+"  Last used "+D(I(V.lastUsed)),1)])]),a("div",v4,[a("div",x4,[a("div",null,D(V.stats.totalRifles)+" rifles",1),a("div",null,D(V.stats.totalSessions)+" sessions",1),a("div",null,D(V.stats.totalShots)+" shots",1)]),a("div",y4,[V.isActive?Ie("",!0):(G(),X("button",{key:0,onClick:q=>U(V),class:"px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-sm"}," Switch To ",8,k4)),a("button",{onClick:q=>p(V),class:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm"}," Edit ",8,w4),a("button",{onClick:q=>ae(V),class:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 text-sm"}," Export ",8,_4),a("button",{onClick:q=>H(V),class:Qe(["px-3 py-1 rounded text-sm transition-colors",V.isActive?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-red-100 text-red-700 hover:bg-red-200 cursor-pointer"]),disabled:V.isActive,title:V.isActive?"Cannot delete active profile":"Delete this profile"}," Delete ",10,S4)])])])]))),128)),N.value.length===0?(G(),X("div",A4,[$[20]||($[20]=a("svg",{class:"w-12 h-12 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),$[21]||($[21]=a("h3",{class:"text-lg font-medium mb-2"},"No profiles created yet",-1)),$[22]||($[22]=a("p",{class:"mb-4"},"Create your first profile to get started with personalized settings.",-1)),a("button",{onClick:$[1]||($[1]=V=>n.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Create First Profile ")])):Ie("",!0)])]),a("div",C4,[$[28]||($[28]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Import/Export",-1)),a("div",P4,[a("div",null,[$[24]||($[24]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-2"},"Import Profile",-1)),$[25]||($[25]=a("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Import a profile from a JSON file backup ",-1)),a("input",{type:"file",accept:".json",onChange:he,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32)]),a("div",null,[$[26]||($[26]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-2"},"Export All Profiles",-1)),$[27]||($[27]=a("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Download a backup of all profiles and data ",-1)),a("button",{onClick:ge,class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500"}," Export All ")])])]),N.value.length>0?(G(),X("div",L4,[a("div",{onClick:$[2]||($[2]=V=>f.value=!f.value),class:"flex items-center justify-between p-6 cursor-pointer hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors"},[a("div",N4,[$[30]||($[30]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),a("div",$4,[$[29]||($[29]=a("h3",{class:"text-lg font-semibold text-red-800 dark:text-red-200 mb-1"},"Danger Zone",-1)),a("p",E4,D(f.value?"Click to hide dangerous operations":"Click to reveal dangerous operations"),1)])]),a("div",M4,[(G(),X("svg",{class:Qe(["w-5 h-5 text-red-400 transition-transform duration-200",{"rotate-180":f.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...$[31]||($[31]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),f.value?(G(),X("div",I4,[a("div",T4,[$[36]||($[36]=Xt('<div class="bg-red-100 dark:bg-red-900/40 border border-red-200 dark:border-red-700 rounded-lg p-4 mb-4"><div class="flex items-center mb-2"><svg class="w-4 h-4 text-red-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><span class="text-sm font-semibold text-red-700 dark:text-red-300"> WARNING</span></div><p class="text-sm text-red-600 dark:text-red-400"> The operations below will permanently delete data and cannot be undone. Please ensure you have exported any important data before proceeding. </p></div>',1)),a("div",D4,[a("div",null,[$[32]||($[32]=a("h4",{class:"font-medium text-red-800 dark:text-red-200 mb-2"},"Delete All Profiles",-1)),$[33]||($[33]=a("p",{class:"text-sm text-red-600 dark:text-red-300 mb-4"}," Permanently delete all user profiles and their associated data. This action cannot be undone. ",-1)),a("button",{onClick:Z,disabled:N.value.length===0,class:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"}," Delete All Profiles ("+D(N.value.length)+") ",9,R4)]),a("div",null,[$[34]||($[34]=a("h4",{class:"font-medium text-red-800 dark:text-red-200 mb-2"},"Reset Application",-1)),$[35]||($[35]=a("p",{class:"text-sm text-red-600 dark:text-red-300 mb-4"}," Clear all application data including profiles, rifle configurations, and user settings. ",-1)),a("button",{onClick:S,class:"bg-red-700 text-white px-4 py-2 rounded-lg hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors"}," Reset Everything ")])])])])):Ie("",!0)])):Ie("",!0),n.value||o.value?(G(),X("div",O4,[a("div",F4,[a("h3",j4,D(o.value?"Edit Profile":"Create New Profile"),1),a("form",{onSubmit:$[10]||($[10]=Gs(V=>o.value?A():y(),["prevent"]))},[a("div",U4,[$[37]||($[37]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Name * ",-1)),De(a("input",{"onUpdate:modelValue":$[3]||($[3]=V=>j.value.name=V),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"},null,512),[[rt,j.value.name]])]),a("div",B4,[$[39]||($[39]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Profile Icon ",-1)),a("div",q4,[(G(),X(Ye,null,nt(t,V=>a("button",{key:V.name,type:"button",onClick:q=>j.value.avatar=V.name,class:Qe(["relative p-3 rounded-lg border-2 transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500",j.value.avatar===V.name?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-700"])},[(G(),Ut(ns(V.component),{class:"w-6 h-6 mx-auto text-gray-700 dark:text-gray-300"})),j.value.avatar===V.name?(G(),X("div",H4,[...$[38]||($[38]=[a("svg",{class:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):Ie("",!0)],10,z4)),64))]),$[40]||($[40]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Select an icon that will represent your profile ",-1))]),a("div",V4,[$[41]||($[41]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email ",-1)),De(a("input",{"onUpdate:modelValue":$[4]||($[4]=V=>j.value.email=V),type:"email",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"},null,512),[[rt,j.value.email]])]),a("div",W4,[$[43]||($[43]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Skill Level ",-1)),De(a("select",{"onUpdate:modelValue":$[5]||($[5]=V=>j.value.preferences.skillLevel=V),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"},[...$[42]||($[42]=[a("option",{value:"novice"},"Novice",-1),a("option",{value:"intermediate"},"Intermediate",-1),a("option",{value:"advanced"},"Advanced",-1),a("option",{value:"expert"},"Expert",-1)])],512),[[Et,j.value.preferences.skillLevel]])]),a("div",G4,[$[44]||($[44]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Shooting Categories * ",-1)),$[45]||($[45]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-3"}," Select at least one category that matches your shooting interests ",-1)),a("div",K4,[(G(!0),X(Ye,null,nt(Ee(s0),V=>(G(),X("label",{key:V.value,class:"flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors"},[De(a("input",{type:"checkbox",value:V.value,"onUpdate:modelValue":$[6]||($[6]=q=>j.value.preferences.shootingCategories=q),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,Y4),[[Bs,j.value.preferences.shootingCategories]]),a("div",J4,[a("div",Z4,D(V.label),1)])]))),128))]),j.value.preferences.shootingCategories&&j.value.preferences.shootingCategories.length===0?(G(),X("div",X4," Please select at least one shooting category ")):Ie("",!0)]),a("div",Q4,[a("label",ew,[De(a("input",{"onUpdate:modelValue":$[7]||($[7]=V=>j.value.security.requirePin=V),type:"checkbox",class:"rounded border-gray-300 text-blue-600"},null,512),[[Bs,j.value.security.requirePin]]),$[46]||($[46]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," Require PIN ",-1))])]),j.value.security.requirePin?(G(),X("div",tw,[$[49]||($[49]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," PIN (4-8 digits) ",-1)),a("div",rw,[De(a("input",{"onUpdate:modelValue":$[8]||($[8]=V=>j.value.security.pin=V),type:O.value?"text":"password",pattern:"[0-9]{4,8}",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"},null,8,sw),[[E1,j.value.security.pin]]),a("button",{type:"button",onClick:$[9]||($[9]=V=>O.value=!O.value),class:"flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Toggle PIN visibility"},[O.value?(G(),X("svg",aw,[...$[47]||($[47]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(G(),X("svg",nw,[...$[48]||($[48]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])])):Ie("",!0),a("div",ow,[a("button",{type:"submit",disabled:l.value,class:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"},D(l.value?"Saving...":o.value?"Update":"Create"),9,iw),a("button",{type:"button",onClick:E,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700"}," Cancel ")])],32)])])):Ie("",!0),i.value?(G(),X("div",lw,[a("div",dw,[$[50]||($[50]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Delete Profile",-1)),a("p",cw,' Are you sure you want to delete the profile "'+D(i.value.name)+'"? This action cannot be undone and will permanently delete all associated data. ',1),a("div",uw,[a("button",{onClick:F,class:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500"}," Delete "),a("button",{onClick:$[11]||($[11]=V=>i.value=null),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700"}," Cancel ")])])])):Ie("",!0),b.value?(G(),X("div",fw,[a("div",hw,[$[56]||($[56]=Xt('<div class="flex items-start mb-4"><div class="flex-shrink-0"><svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="ml-3"><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Delete All Profiles</h3></div></div>',1)),a("div",gw,[a("p",pw,[$[51]||($[51]=We(" You are about to permanently delete ",-1)),a("strong",null,D(N.value.length)+" profile(s)",1),$[52]||($[52]=We(" and all associated data including: ",-1))]),$[53]||($[53]=a("ul",{class:"text-sm text-gray-600 dark:text-gray-400 list-disc list-inside space-y-1 mb-4"},[a("li",null,"All user profiles and settings"),a("li",null,"All rifle configurations"),a("li",null,"All shooting session data"),a("li",null,"All ballistics calculations history")],-1)),$[54]||($[54]=a("p",{class:"text-red-600 dark:text-red-400 font-medium"}," This action cannot be undone. Consider exporting your data first. ",-1))]),a("div",mw,[$[55]||($[55]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},' Type "DELETE ALL" to confirm: ',-1)),De(a("input",{"onUpdate:modelValue":$[12]||($[12]=V=>h.value=V),type:"text",placeholder:"DELETE ALL",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 dark:bg-gray-700 dark:text-white"},null,512),[[rt,h.value]])]),a("div",bw,[a("button",{onClick:z,disabled:h.value!=="DELETE ALL",class:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Delete All Profiles ",8,vw),a("button",{onClick:M,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700"}," Cancel ")])])])):Ie("",!0),w.value?(G(),X("div",xw,[a("div",yw,[$[58]||($[58]=Xt('<div class="flex items-start mb-4"><div class="flex-shrink-0"><svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="ml-3"><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Reset Application</h3></div></div><div class="mb-6"><p class="text-gray-600 dark:text-gray-400 mb-4"> You are about to completely reset the application to its initial state. This will clear: </p><ul class="text-sm text-gray-600 dark:text-gray-400 list-disc list-inside space-y-1 mb-4"><li>All user profiles and settings</li><li>All rifle configurations</li><li>All environmental settings</li><li>All shooting data and history</li><li>All cached ballistics calculations</li><li>Application preferences and theme settings</li></ul><p class="text-red-600 dark:text-red-400 font-medium"> This will return the app to first-time setup mode. This action cannot be undone. </p></div>',2)),a("div",kw,[$[57]||($[57]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},' Type "RESET EVERYTHING" to confirm: ',-1)),De(a("input",{"onUpdate:modelValue":$[13]||($[13]=V=>_.value=V),type:"text",placeholder:"RESET EVERYTHING",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 dark:bg-gray-700 dark:text-white"},null,512),[[rt,_.value]])]),a("div",ww,[a("button",{onClick:C,disabled:_.value!=="RESET EVERYTHING",class:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Reset Everything ",8,_w),a("button",{onClick:m,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700"}," Cancel ")])])])):Ie("",!0),d.value?(G(),X("div",Sw,[a("div",{class:Qe(["p-4 rounded-lg shadow-lg",c.value==="error"?"bg-red-100 text-red-700 border border-red-400":"bg-green-100 text-green-700 border border-green-400"])},[We(D(d.value)+" ",1),a("button",{onClick:$[14]||($[14]=V=>d.value=""),class:"ml-2 text-sm underline"},"Dismiss")],2)])):Ie("",!0)]))}});let wd;const Aw=new Uint8Array(16);function Cw(){if(!wd&&(wd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wd(Aw)}const Vr=[];for(let e=0;e<256;++e)Vr.push((e+256).toString(16).slice(1));function Pw(e,t=0){return Vr[e[t+0]]+Vr[e[t+1]]+Vr[e[t+2]]+Vr[e[t+3]]+"-"+Vr[e[t+4]]+Vr[e[t+5]]+"-"+Vr[e[t+6]]+Vr[e[t+7]]+"-"+Vr[e[t+8]]+Vr[e[t+9]]+"-"+Vr[e[t+10]]+Vr[e[t+11]]+Vr[e[t+12]]+Vr[e[t+13]]+Vr[e[t+14]]+Vr[e[t+15]]}const Lw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wh={randomUUID:Lw};function oi(e,t,r){if(Wh.randomUUID&&!e)return Wh.randomUUID();e=e||{};const s=e.random||(e.rng||Cw)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Pw(s)}const vi=mi("shots",()=>{const e=La();function t(){const y=e.currentUserDataKeys;return{shotRecords:y?.shotRecords||"shot_records",shotSessions:y?.shotSessions||"shot_sessions",currentSession:y?`${y.shotSessions}_current`:"current_session"}}const r=ye([]),s=ye([]),n=ye(null),o=ye(!1),i=Pe(()=>r.value),l=Pe(()=>r.value.sort((y,A)=>new Date(A.timestamp).getTime()-new Date(y.timestamp).getTime()).slice(0,50)),d=Pe(()=>{const y=r.value,A=y.filter(z=>z.actualResult.hit).length,H=y.length,F=H>0?A/H*100:0,ae=y.map(z=>z.actualResult.scoreValue).filter(z=>z!==void 0),ge=ae.length>0?ae.reduce((z,S)=>z+S,0)/ae.length:0,he=y.map(z=>z.distance),Z=he.length>0?he.reduce((z,S)=>z+S,0)/he.length:0,M=y.length>0?new Date(Math.max(...y.map(z=>new Date(z.timestamp).getTime()))):void 0;return{totalShots:H,hits:A,misses:H-A,hitPercentage:F,averageScore:ge,averageRange:Z,...M&&{lastSession:M}}}),c=Pe(()=>r.value.filter(y=>y.actualResult.hit!==void 0&&y.actualResult.horizontalOffset!==void 0&&y.actualResult.verticalOffset!==void 0).length),f=Pe(()=>c.value>=10);function b(y,A,H,F,ae,ge,he,Z){const M={id:oi(),timestamp:new Date,environmentalConditions:y,rifleProfile:A,distance:H,targetSize:F,predictedSolution:ae,actualResult:ge,...he!==void 0&&{confidence:he},...Z!==void 0&&{modelVersion:Z}};return r.value.push(M),n.value&&n.value.shots.push(M),R(),M}function w(y,A,H,F,ae){const ge={id:oi(),name:y,date:new Date,range:A,conditions:H,rifleProfile:F,shots:[],...ae!==void 0&&{notes:ae}};return n.value=ge,s.value.push(ge),o.value=!0,e.incrementSessionCount(),K(),U(),ge}function h(){const y=n.value;return y&&(o.value=!1,n.value=null,o.value=!1,K(),U()),y}function _(y,A,H,F){if(!n.value)return console.error("No active session to record shot"),null;const ae={id:oi(),timestamp:new Date,environmentalConditions:F,rifleProfile:n.value.rifleProfile,distance:y,targetSize:10,predictedSolution:H,actualResult:A,confidence:H.confidence||.95,modelVersion:"manual-v1"};return r.value.push(ae),n.value.shots.push(ae),R(),K(),U(),ae}function O(y,A){const H=r.value.find(F=>F.id===y);if(H){if(H.actualResult=A,n.value){const F=n.value.shots.find(ae=>ae.id===y);F&&(F.actualResult=A)}return R(),K(),!0}return!1}function j(y){const A=r.value.findIndex(H=>H.id===y);if(A!==-1){if(r.value.splice(A,1),n.value){const H=n.value.shots.findIndex(F=>F.id===y);H!==-1&&n.value.shots.splice(H,1)}return R(),K(),!0}return!1}function N(y,A){return r.value.filter(H=>{if(H.distance!==y)return!1;if(A){const F=!A.temperature||Math.abs(H.environmentalConditions.temperature-A.temperature)<=5,ae=!A.windSpeed||Math.abs(H.environmentalConditions.windSpeed-A.windSpeed)<=3,ge=!A.pressure||Math.abs(H.environmentalConditions.pressure-A.pressure)<=.5;return F&&ae&&ge}return!0})}function W(y=20){const A=r.value.sort((ae,ge)=>new Date(ge.timestamp).getTime()-new Date(ae.timestamp).getTime()).slice(0,y).reverse(),H=5,F=[];for(let ae=0;ae<=A.length-H;ae++){const Z=A.slice(ae,ae+H).filter(M=>M.actualResult.hit).length/H*100;F.push(Z)}return F}function B(){return r.value.filter(y=>y.actualResult.hit!==void 0&&y.actualResult.horizontalOffset!==void 0&&y.actualResult.verticalOffset!==void 0&&Math.abs(y.actualResult.horizontalOffset)<=50&&Math.abs(y.actualResult.verticalOffset)<=50)}function I(){r.value=[],s.value=[],n.value=null,o.value=!1;const y=t();localStorage.removeItem(y.shotRecords),localStorage.removeItem(y.shotSessions),localStorage.removeItem(y.currentSession)}function R(){try{const y=t();localStorage.setItem(y.shotRecords,JSON.stringify(r.value))}catch(y){console.error("Failed to save shot records:",y)}}function K(){try{const y=t();localStorage.setItem(y.shotSessions,JSON.stringify(s.value))}catch(y){console.error("Failed to save shot sessions:",y)}}function U(){try{const y=t();n.value?localStorage.setItem(y.currentSession,JSON.stringify(n.value)):localStorage.removeItem(y.currentSession)}catch(y){console.error("Failed to save current session:",y)}}function x(){try{const y=t(),A=localStorage.getItem(y.shotRecords);if(A){const ae=JSON.parse(A);r.value=ae.map(ge=>({...ge,timestamp:new Date(ge.timestamp)}))}const H=localStorage.getItem(y.shotSessions);if(H){const ae=JSON.parse(H);s.value=ae.map(ge=>({...ge,date:new Date(ge.date),shots:ge.shots.map(he=>({...he,timestamp:new Date(he.timestamp)}))}))}const F=localStorage.getItem(y.currentSession);if(F){const ae=JSON.parse(F);n.value={...ae,date:new Date(ae.date),shots:ae.shots.map(ge=>({...ge,timestamp:new Date(ge.timestamp)}))}}}catch(y){console.error("Failed to load shot data:",y)}}function p(){try{const y=localStorage.getItem("shot_records");if(y){const F=JSON.parse(y);r.value=F.map(ae=>({...ae,timestamp:new Date(ae.timestamp)}))}const A=localStorage.getItem("shot_sessions");if(A){const F=JSON.parse(A);s.value=F.map(ae=>({...ae,date:new Date(ae.date),shots:ae.shots.map(ge=>({...ge,timestamp:new Date(ge.timestamp)}))}))}const H=localStorage.getItem("current_session");if(H){const F=JSON.parse(H);n.value={...F,date:new Date(F.date),shots:F.shots.map(ae=>({...ae,timestamp:new Date(ae.timestamp)}))}}}catch(y){console.error("Failed to load guest shot data:",y)}}const E=y=>{const{isGuest:A}=y.detail;r.value=[],s.value=[],n.value=null,o.value=!1,A?p():x()};return x(),typeof window<"u"&&window.addEventListener("userProfileChanged",E),{shotRecords:r,shotSessions:s,currentSession:n,isRecordingSession:o,allShots:i,recentShots:l,statistics:d,trainingDataCount:c,hasEnoughTrainingData:f,addShotRecord:b,startSession:w,endSession:h,recordShot:_,updateShotResult:O,deleteShotRecord:j,getShootingPattern:N,getAccuracyTrend:W,exportTrainingData:B,clearAllData:I,loadFromStorage:x,loadGuestData:p}});var xB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jd={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var $w=jd.exports,Gh;function Ew(){return Gh||(Gh=1,(function(e,t){((r,s)=>{e.exports=s()})($w,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},n,o=!s.document&&!!s.postMessage,i=s.IS_PAPA_WORKER||!1,l={},d=0,c={};function f(x){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(p){var E=R(p);E.chunkSize=parseInt(E.chunkSize),p.step||p.chunk||(E.chunkSize=null),this._handle=new O(E),(this._handle.streamer=this)._config=E}).call(this,x),this.parseChunk=function(p,E){var y=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<y){let H=this._config.newline;H||(A=this._config.quoteChar||'"',H=this._handle.guessLineEndings(p,A)),p=[...p.split(H).slice(y)].join(H)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(p))!==void 0&&(p=A),this.isFirstChunk=!1,this._halted=!1;var y=this._partialLine+p,A=(this._partialLine="",this._handle.parse(y,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(p=A.meta.cursor,y=(this._finished||(this._partialLine=y.substring(p-this._baseIndex),this._baseIndex=p),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)s.postMessage({results:A,workerId:c.WORKER_ID,finished:y});else if(U(this._config.chunk)&&!E){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!y||!U(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),y||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(p){U(this._config.error)?this._config.error(p):i&&this._config.error&&s.postMessage({workerId:c.WORKER_ID,error:p,finished:!1})}}function b(x){var p;(x=x||{}).chunkSize||(x.chunkSize=c.RemoteChunkSize),f.call(this,x),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(E){this._input=E,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(p=new XMLHttpRequest,this._config.withCredentials&&(p.withCredentials=this._config.withCredentials),o||(p.onload=K(this._chunkLoaded,this),p.onerror=K(this._chunkError,this)),p.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var E,y=this._config.downloadRequestHeaders;for(E in y)p.setRequestHeader(E,y[E])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,p.setRequestHeader("Range","bytes="+this._start+"-"+A));try{p.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}o&&p.status===0&&this._chunkError()}},this._chunkLoaded=function(){p.readyState===4&&(p.status<200||400<=p.status?this._chunkError():(this._start+=this._config.chunkSize||p.responseText.length,this._finished=!this._config.chunkSize||this._start>=(E=>(E=E.getResponseHeader("Content-Range"))!==null?parseInt(E.substring(E.lastIndexOf("/")+1)):-1)(p),this.parseChunk(p.responseText)))},this._chunkError=function(E){E=p.statusText||E,this._sendError(new Error(E))}}function w(x){(x=x||{}).chunkSize||(x.chunkSize=c.LocalChunkSize),f.call(this,x);var p,E,y=typeof FileReader<"u";this.stream=function(A){this._input=A,E=A.slice||A.webkitSlice||A.mozSlice,y?((p=new FileReader).onload=K(this._chunkLoaded,this),p.onerror=K(this._chunkError,this)):p=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,H=(this._config.chunkSize&&(H=Math.min(this._start+this._config.chunkSize,this._input.size),A=E.call(A,this._start,H)),p.readAsText(A,this._config.encoding));y||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(p.error)}}function h(x){var p;f.call(this,x=x||{}),this.stream=function(E){return p=E,this._nextChunk()},this._nextChunk=function(){var E,y;if(!this._finished)return E=this._config.chunkSize,p=E?(y=p.substring(0,E),p.substring(E)):(y=p,""),this._finished=!p,this.parseChunk(y)}}function _(x){f.call(this,x=x||{});var p=[],E=!0,y=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){y&&p.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),p.length?this.parseChunk(p.shift()):E=!0},this._streamData=K(function(A){try{p.push(typeof A=="string"?A:A.toString(this._config.encoding)),E&&(E=!1,this._checkIsFinished(),this.parseChunk(p.shift()))}catch(H){this._streamError(H)}},this),this._streamError=K(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=K(function(){this._streamCleanUp(),y=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function O(x){var p,E,y,A,H=Math.pow(2,53),F=-H,ae=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ge=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,he=this,Z=0,M=0,z=!1,S=!1,m=[],C={data:[],errors:[],meta:{}};function L(te){return x.skipEmptyLines==="greedy"?te.join("").trim()==="":te.length===1&&te[0].length===0}function $(){if(C&&y&&(q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),y=!1),x.skipEmptyLines&&(C.data=C.data.filter(function(we){return!L(we)})),V()){let we=function(re,ie){U(x.transformHeader)&&(re=x.transformHeader(re,ie)),m.push(re)};if(C)if(Array.isArray(C.data[0])){for(var te=0;V()&&te<C.data.length;te++)C.data[te].forEach(we);C.data.splice(0,1)}else C.data.forEach(we)}function oe(we,re){for(var ie=x.header?{}:[],ne=0;ne<we.length;ne++){var T=ne,de=we[ne],de=((me,ke)=>(ve=>(x.dynamicTypingFunction&&x.dynamicTyping[ve]===void 0&&(x.dynamicTyping[ve]=x.dynamicTypingFunction(ve)),(x.dynamicTyping[ve]||x.dynamicTyping)===!0))(me)?ke==="true"||ke==="TRUE"||ke!=="false"&&ke!=="FALSE"&&((ve=>{if(ae.test(ve)&&(ve=parseFloat(ve),F<ve&&ve<H))return 1})(ke)?parseFloat(ke):ge.test(ke)?new Date(ke):ke===""?null:ke):ke)(T=x.header?ne>=m.length?"__parsed_extra":m[ne]:T,de=x.transform?x.transform(de,T):de);T==="__parsed_extra"?(ie[T]=ie[T]||[],ie[T].push(de)):ie[T]=de}return x.header&&(ne>m.length?q("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+ne,M+re):ne<m.length&&q("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+ne,M+re)),ie}var pe;C&&(x.header||x.dynamicTyping||x.transform)&&(pe=1,!C.data.length||Array.isArray(C.data[0])?(C.data=C.data.map(oe),pe=C.data.length):C.data=oe(C.data,0),x.header&&C.meta&&(C.meta.fields=m),M+=pe)}function V(){return x.header&&m.length===0}function q(te,oe,pe,we){te={type:te,code:oe,message:pe},we!==void 0&&(te.row=we),C.errors.push(te)}U(x.step)&&(A=x.step,x.step=function(te){C=te,V()?$():($(),C.data.length!==0&&(Z+=te.data.length,x.preview&&Z>x.preview?E.abort():(C.data=C.data[0],A(C,he))))}),this.parse=function(te,oe,pe){var we=x.quoteChar||'"',we=(x.newline||(x.newline=this.guessLineEndings(te,we)),y=!1,x.delimiter?U(x.delimiter)&&(x.delimiter=x.delimiter(te),C.meta.delimiter=x.delimiter):((we=((re,ie,ne,T,de)=>{var me,ke,ve,$e;de=de||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Se=0;Se<de.length;Se++){for(var qe,Te=de[Se],Oe=0,Be=0,ze=0,et=(ve=void 0,new N({comments:T,delimiter:Te,newline:ie,preview:10}).parse(re)),Ke=0;Ke<et.data.length;Ke++)ne&&L(et.data[Ke])?ze++:(qe=et.data[Ke].length,Be+=qe,ve===void 0?ve=qe:0<qe&&(Oe+=Math.abs(qe-ve),ve=qe));0<et.data.length&&(Be/=et.data.length-ze),(ke===void 0||Oe<=ke)&&($e===void 0||$e<Be)&&1.99<Be&&(ke=Oe,me=Te,$e=Be)}return{successful:!!(x.delimiter=me),bestDelimiter:me}})(te,x.newline,x.skipEmptyLines,x.comments,x.delimitersToGuess)).successful?x.delimiter=we.bestDelimiter:(y=!0,x.delimiter=c.DefaultDelimiter),C.meta.delimiter=x.delimiter),R(x));return x.preview&&x.header&&we.preview++,p=te,E=new N(we),C=E.parse(p,oe,pe),$(),z?{meta:{paused:!0}}:C||{meta:{paused:!1}}},this.paused=function(){return z},this.pause=function(){z=!0,E.abort(),p=U(x.chunk)?"":p.substring(E.getCharIndex())},this.resume=function(){he.streamer._halted?(z=!1,he.streamer.parseChunk(p,!0)):setTimeout(he.resume,3)},this.aborted=function(){return S},this.abort=function(){S=!0,E.abort(),C.meta.aborted=!0,U(x.complete)&&x.complete(C),p=""},this.guessLineEndings=function(re,we){re=re.substring(0,1048576);var we=new RegExp(j(we)+"([^]*?)"+j(we),"gm"),pe=(re=re.replace(we,"")).split("\r"),we=re.split(`
`),re=1<we.length&&we[0].length<pe[0].length;if(pe.length===1||re)return`
`;for(var ie=0,ne=0;ne<pe.length;ne++)pe[ne][0]===`
`&&ie++;return ie>=pe.length/2?`\r
`:"\r"}}function j(x){return x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N(x){var p=(x=x||{}).delimiter,E=x.newline,y=x.comments,A=x.step,H=x.preview,F=x.fastMode,ae=null,ge=!1,he=x.quoteChar==null?'"':x.quoteChar,Z=he;if(x.escapeChar!==void 0&&(Z=x.escapeChar),(typeof p!="string"||-1<c.BAD_DELIMITERS.indexOf(p))&&(p=","),y===p)throw new Error("Comment character same as delimiter");y===!0?y="#":(typeof y!="string"||-1<c.BAD_DELIMITERS.indexOf(y))&&(y=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var M=0,z=!1;this.parse=function(S,m,C){if(typeof S!="string")throw new Error("Input must be a string");var L=S.length,$=p.length,V=E.length,q=y.length,te=U(A),oe=[],pe=[],we=[],re=M=0;if(!S)return Oe();if(F||F!==!1&&S.indexOf(he)===-1){for(var ie=S.split(E),ne=0;ne<ie.length;ne++){if(we=ie[ne],M+=we.length,ne!==ie.length-1)M+=E.length;else if(C)return Oe();if(!y||we.substring(0,q)!==y){if(te){if(oe=[],$e(we.split(p)),Be(),z)return Oe()}else $e(we.split(p));if(H&&H<=ne)return oe=oe.slice(0,H),Oe(!0)}}return Oe()}for(var T=S.indexOf(p,M),de=S.indexOf(E,M),me=new RegExp(j(Z)+j(he),"g"),ke=S.indexOf(he,M);;)if(S[M]===he)for(ke=M,M++;;){if((ke=S.indexOf(he,ke+1))===-1)return C||pe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:oe.length,index:M}),qe();if(ke===L-1)return qe(S.substring(M,ke).replace(me,he));if(he===Z&&S[ke+1]===Z)ke++;else if(he===Z||ke===0||S[ke-1]!==Z){T!==-1&&T<ke+1&&(T=S.indexOf(p,ke+1));var ve=Se((de=de!==-1&&de<ke+1?S.indexOf(E,ke+1):de)===-1?T:Math.min(T,de));if(S.substr(ke+1+ve,$)===p){we.push(S.substring(M,ke).replace(me,he)),S[M=ke+1+ve+$]!==he&&(ke=S.indexOf(he,M)),T=S.indexOf(p,M),de=S.indexOf(E,M);break}if(ve=Se(de),S.substring(ke+1+ve,ke+1+ve+V)===E){if(we.push(S.substring(M,ke).replace(me,he)),Te(ke+1+ve+V),T=S.indexOf(p,M),ke=S.indexOf(he,M),te&&(Be(),z))return Oe();if(H&&oe.length>=H)return Oe(!0);break}pe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:oe.length,index:M}),ke++}}else if(y&&we.length===0&&S.substring(M,M+q)===y){if(de===-1)return Oe();M=de+V,de=S.indexOf(E,M),T=S.indexOf(p,M)}else if(T!==-1&&(T<de||de===-1))we.push(S.substring(M,T)),M=T+$,T=S.indexOf(p,M);else{if(de===-1)break;if(we.push(S.substring(M,de)),Te(de+V),te&&(Be(),z))return Oe();if(H&&oe.length>=H)return Oe(!0)}return qe();function $e(ze){oe.push(ze),re=M}function Se(ze){var et=0;return et=ze!==-1&&(ze=S.substring(ke+1,ze))&&ze.trim()===""?ze.length:et}function qe(ze){return C||(ze===void 0&&(ze=S.substring(M)),we.push(ze),M=L,$e(we),te&&Be()),Oe()}function Te(ze){M=ze,$e(we),we=[],de=S.indexOf(E,M)}function Oe(ze){if(x.header&&!m&&oe.length&&!ge){var et=oe[0],Ke=Object.create(null),Ze=new Set(et);let tt=!1;for(let Xe=0;Xe<et.length;Xe++){let vt=et[Xe];if(Ke[vt=U(x.transformHeader)?x.transformHeader(vt,Xe):vt]){let At,ot=Ke[vt];for(;At=vt+"_"+ot,ot++,Ze.has(At););Ze.add(At),et[Xe]=At,Ke[vt]++,tt=!0,(ae=ae===null?{}:ae)[At]=vt}else Ke[vt]=1,et[Xe]=vt;Ze.add(vt)}tt&&console.warn("Duplicate headers found and renamed."),ge=!0}return{data:oe,errors:pe,meta:{delimiter:p,linebreak:E,aborted:z,truncated:!!ze,cursor:re+(m||0),renamedHeaders:ae}}}function Be(){A(Oe()),oe=[],pe=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return M}}function W(x){var p=x.data,E=l[p.workerId],y=!1;if(p.error)E.userError(p.error,p.file);else if(p.results&&p.results.data){var A={abort:function(){y=!0,B(p.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(U(E.userStep)){for(var H=0;H<p.results.data.length&&(E.userStep({data:p.results.data[H],errors:p.results.errors,meta:p.results.meta},A),!y);H++);delete p.results}else U(E.userChunk)&&(E.userChunk(p.results,A,p.file),delete p.results)}p.finished&&!y&&B(p.workerId,p.results)}function B(x,p){var E=l[x];U(E.userComplete)&&E.userComplete(p),E.terminate(),delete l[x]}function I(){throw new Error("Not implemented.")}function R(x){if(typeof x!="object"||x===null)return x;var p,E=Array.isArray(x)?[]:{};for(p in x)E[p]=R(x[p]);return E}function K(x,p){return function(){x.apply(p,arguments)}}function U(x){return typeof x=="function"}return c.parse=function(x,p){var E=(p=p||{}).dynamicTyping||!1;if(U(E)&&(p.dynamicTypingFunction=E,E={}),p.dynamicTyping=E,p.transform=!!U(p.transform)&&p.transform,!p.worker||!c.WORKERS_SUPPORTED)return E=null,c.NODE_STREAM_INPUT,typeof x=="string"?(x=(y=>y.charCodeAt(0)!==65279?y:y.slice(1))(x),E=new(p.download?b:h)(p)):x.readable===!0&&U(x.read)&&U(x.on)?E=new _(p):(s.File&&x instanceof File||x instanceof Object)&&(E=new w(p)),E.stream(x);(E=(()=>{var y;return!!c.WORKERS_SUPPORTED&&(y=(()=>{var A=s.URL||s.webkitURL||null,H=r.toString();return c.BLOB_URL||(c.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))})(),(y=new s.Worker(y)).onmessage=W,y.id=d++,l[y.id]=y)})()).userStep=p.step,E.userChunk=p.chunk,E.userComplete=p.complete,E.userError=p.error,p.step=U(p.step),p.chunk=U(p.chunk),p.complete=U(p.complete),p.error=U(p.error),delete p.worker,E.postMessage({input:x,config:p,workerId:E.id})},c.unparse=function(x,p){var E=!1,y=!0,A=",",H=`\r
`,F='"',ae=F+F,ge=!1,he=null,Z=!1,M=((()=>{if(typeof p=="object"){if(typeof p.delimiter!="string"||c.BAD_DELIMITERS.filter(function(m){return p.delimiter.indexOf(m)!==-1}).length||(A=p.delimiter),typeof p.quotes!="boolean"&&typeof p.quotes!="function"&&!Array.isArray(p.quotes)||(E=p.quotes),typeof p.skipEmptyLines!="boolean"&&typeof p.skipEmptyLines!="string"||(ge=p.skipEmptyLines),typeof p.newline=="string"&&(H=p.newline),typeof p.quoteChar=="string"&&(F=p.quoteChar),typeof p.header=="boolean"&&(y=p.header),Array.isArray(p.columns)){if(p.columns.length===0)throw new Error("Option columns is empty");he=p.columns}p.escapeChar!==void 0&&(ae=p.escapeChar+F),p.escapeFormulae instanceof RegExp?Z=p.escapeFormulae:typeof p.escapeFormulae=="boolean"&&p.escapeFormulae&&(Z=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(F),"g"));if(typeof x=="string"&&(x=JSON.parse(x)),Array.isArray(x)){if(!x.length||Array.isArray(x[0]))return z(null,x,ge);if(typeof x[0]=="object")return z(he||Object.keys(x[0]),x,ge)}else if(typeof x=="object")return typeof x.data=="string"&&(x.data=JSON.parse(x.data)),Array.isArray(x.data)&&(x.fields||(x.fields=x.meta&&x.meta.fields||he),x.fields||(x.fields=Array.isArray(x.data[0])?x.fields:typeof x.data[0]=="object"?Object.keys(x.data[0]):[]),Array.isArray(x.data[0])||typeof x.data[0]=="object"||(x.data=[x.data])),z(x.fields||[],x.data||[],ge);throw new Error("Unable to serialize unrecognized input");function z(m,C,L){var $="",V=(typeof m=="string"&&(m=JSON.parse(m)),typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(m)&&0<m.length),q=!Array.isArray(C[0]);if(V&&y){for(var te=0;te<m.length;te++)0<te&&($+=A),$+=S(m[te],te);0<C.length&&($+=H)}for(var oe=0;oe<C.length;oe++){var pe=(V?m:C[oe]).length,we=!1,re=V?Object.keys(C[oe]).length===0:C[oe].length===0;if(L&&!V&&(we=L==="greedy"?C[oe].join("").trim()==="":C[oe].length===1&&C[oe][0].length===0),L==="greedy"&&V){for(var ie=[],ne=0;ne<pe;ne++){var T=q?m[ne]:ne;ie.push(C[oe][T])}we=ie.join("").trim()===""}if(!we){for(var de=0;de<pe;de++){0<de&&!re&&($+=A);var me=V&&q?m[de]:de;$+=S(C[oe][me],de)}oe<C.length-1&&(!L||0<pe&&!re)&&($+=H)}}return $}function S(m,C){var L,$;return m==null?"":m.constructor===Date?JSON.stringify(m).slice(1,25):($=!1,Z&&typeof m=="string"&&Z.test(m)&&(m="'"+m,$=!0),L=m.toString().replace(M,ae),($=$||E===!0||typeof E=="function"&&E(m,C)||Array.isArray(E)&&E[C]||((V,q)=>{for(var te=0;te<q.length;te++)if(-1<V.indexOf(q[te]))return!0;return!1})(L,c.BAD_DELIMITERS)||-1<L.indexOf(A)||L.charAt(0)===" "||L.charAt(L.length-1)===" ")?F+L+F:L)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!o&&!!s.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=N,c.ParserHandle=O,c.NetworkStreamer=b,c.FileStreamer=w,c.StringStreamer=h,c.ReadableStreamStreamer=_,s.jQuery&&((n=s.jQuery).fn.parse=function(x){var p=x.config||{},E=[];return this.each(function(H){if(!(n(this).prop("tagName").toUpperCase()==="INPUT"&&n(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)E.push({file:this.files[F],inputElem:this,instanceConfig:n.extend({},p)})}),y(),this;function y(){if(E.length===0)U(x.complete)&&x.complete();else{var H,F,ae,ge,he=E[0];if(U(x.before)){var Z=x.before(he.file,he.inputElem);if(typeof Z=="object"){if(Z.action==="abort")return H="AbortError",F=he.file,ae=he.inputElem,ge=Z.reason,void(U(x.error)&&x.error({name:H},F,ae,ge));if(Z.action==="skip")return void A();typeof Z.config=="object"&&(he.instanceConfig=n.extend(he.instanceConfig,Z.config))}else if(Z==="skip")return void A()}var M=he.instanceConfig.complete;he.instanceConfig.complete=function(z){U(M)&&M(z,he.file,he.inputElem),A()},c.parse(he.file,he.instanceConfig)}}function A(){E.splice(0,1),y()}}),i&&(s.onmessage=function(x){x=x.data,c.WORKER_ID===void 0&&x&&(c.WORKER_ID=x.workerId),typeof x.input=="string"?s.postMessage({workerId:c.WORKER_ID,results:c.parse(x.input,x.config),finished:!0}):(s.File&&x.input instanceof File||x.input instanceof Object)&&(x=c.parse(x.input,x.config))&&s.postMessage({workerId:c.WORKER_ID,results:x,finished:!0})}),(b.prototype=Object.create(f.prototype)).constructor=b,(w.prototype=Object.create(f.prototype)).constructor=w,(h.prototype=Object.create(h.prototype)).constructor=h,(_.prototype=Object.create(f.prototype)).constructor=_,c})})(jd)),jd.exports}var Mw=Ew();const a0=Nw(Mw),Iw={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6 mb-6"},Tw={class:"flex items-center justify-between mb-4"},Dw={class:"flex items-center space-x-2"},Rw={key:0,class:"space-y-6"},Ow={class:"flex items-center justify-between mb-4"},Fw={class:"flex items-center space-x-2 bg-gray-100 dark:bg-red-600 rounded-lg p-1"},jw={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Uw={class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},Bw=["min","max"],qw={class:"flex items-center justify-between"},zw={class:"text-sm text-gray-600 dark:text-red-400"},Hw=["disabled"],Vw={key:0,class:"overflow-x-auto"},Ww={class:"min-w-full divide-y divide-gray-200 dark:divide-red-500"},Gw={class:"bg-gray-50 dark:bg-red-600"},Kw={key:0},Yw={key:1},Jw={class:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-red-500"},Zw={class:"px-3 py-2 text-sm font-medium text-gray-900 dark:text-red-400"},Xw={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},Qw={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},e3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},t3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},r3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},s3={class:"px-3 py-2 text-sm font-medium text-gray-900 dark:text-red-400"},a3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},n3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},o3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},i3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},l3={class:"px-3 py-2 text-sm text-gray-700 dark:text-red-400"},d3={class:"mt-2 text-center text-sm text-gray-500 dark:text-red-400"},c3={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-3"},u3={class:"text-sm text-red-700"},f3=Tt({__name:"BallisticsTestComponent",setup(e){let t=null,r=null;const s=ye(!1),n=ye(!1),o=ye(""),i=ye([]),l=ye(!1),d=ye(!0),c=ye({bulletWeight:175,muzzleVelocity:2650,maxRange:1e3});Kr(async()=>{try{const O=await hl(()=>import("./engine-BYbhB6qG.js"),[]);t=O.BallisticsEngine,r=O.ConstantCdProvider,l.value=!0}catch{l.value=!1}});function f(){if(!n.value){n.value=!0,o.value="",i.value=[];try{l.value&&t&&r?b():w()}catch(O){o.value=O instanceof Error?O.message:"Calculation failed"}finally{n.value=!1}}}function b(){if(!t||!r)throw new Error("Advanced ballistics engine not available");const O={weightGrains:c.value.bulletWeight,diameterIn:.308},j={muzzleVelocityFps:c.value.muzzleVelocity,sightHeightIn:1.8,twistRateIn:11.25,zeroRangeYd:100},N={temperatureF:59,pressureInHg:29.92,relativeHumidityPercent:50,altitudeFt:0,windSpeedMph:0,windFromDirectionDeg:0,latitudeDeg:40},W=new r(.3),B=new t(O,j,N,W,!1,0);if(d.value){const I=c.value.maxRange*1.09361,R=B.computeTrajectory(I,10),K=[];for(let U=100;U<=c.value.maxRange;U+=100){const x=U*1.09361;let p=R[0],E=Math.abs(R[0].rangeYd-x);for(const H of R){const F=Math.abs(H.rangeYd-x);F<E&&(E=F,p=H)}const y=p.dropIn*2.54,A=y/100/(U/1e3);K.push({rangeM:U,dropCm:y,dropMoa:p.dropMoa,dropMrad:A,velMs:p.velFps*.3048,energyJ:p.energyFtlb*1.35582,timeS:p.timeS})}i.value=K}else{const I=B.computeTrajectory(c.value.maxRange,10),R=[];for(let K=100;K<=c.value.maxRange;K+=100){let U=I[0],x=Math.abs(I[0].rangeYd-K);for(const E of I){const y=Math.abs(E.rangeYd-K);y<x&&(x=y,U=E)}const p=U.dropIn*.0254/(K*9144e-7);R.push({rangeYd:K,dropIn:U.dropIn,dropMoa:U.dropMoa,dropMrad:p,velFps:U.velFps,energyFtlb:U.energyFtlb,timeS:U.timeS})}i.value=R}}function w(){if(d.value){const j=c.value.muzzleVelocity*.3048,N=1.8*2.54,W=c.value.maxRange,B=[],I=Math.atan(N/1e4);for(let R=100;R<=W;R+=100){const K=R,U=K/(j*Math.cos(I)),p=(.5*9.81*U*U-K*Math.tan(I))*100-N/100,E=j*Math.exp(-1e-4*R),A=.5*(c.value.bulletWeight/7e3*.453592)*E*E,H=R>0?p/R*100/2.908:0,F=R>0?p/100/(R/1e3):0;B.push({rangeM:R,dropCm:p,dropMoa:H,dropMrad:F,velMs:E,energyJ:A,timeS:U})}i.value=B}else{const j=c.value.muzzleVelocity,N=1.8,W=c.value.maxRange,B=[],I=Math.atan(N/3600);for(let R=100;R<=W;R+=100){const U=R*3,x=U/(j*Math.cos(I)),E=(.5*32.174*x*x-U*Math.tan(I))*12-N,y=j*Math.exp(-1e-4*R),H=.5*(c.value.bulletWeight/7e3)*y*y,F=R>0?E/R*100/1.047:0,ae=R>0?E*.0254/(R*9144e-7):0;B.push({rangeYd:R,dropIn:E,dropMoa:F,dropMrad:ae,velFps:y,energyFtlb:H,timeS:x})}i.value=B}}function h(){d.value||(d.value=!0,i.value=[],o.value="")}function _(){d.value&&(d.value=!1,i.value=[],o.value="")}return(O,j)=>(G(),X("div",Iw,[a("div",Tw,[j[4]||(j[4]=a("div",null,[a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-red-500"},"Advanced Ballistics Calculator"),a("p",{class:"text-sm text-gray-600 dark:text-red-400 mt-1"}," Point-mass ballistics engine with RK4 integration ")],-1)),a("div",Dw,[a("button",{onClick:j[0]||(j[0]=N=>s.value=!s.value),class:Qe(["px-2 py-1 text-xs rounded transition-colors",s.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},D(s.value?"":"+"),3)])]),s.value?(G(),X("div",Rw,[a("div",Ow,[j[5]||(j[5]=a("div",{class:"text-sm text-gray-600 dark:text-red-400"},"Select units for trajectory calculations:",-1)),a("div",Fw,[a("button",{onClick:_,class:Qe(["px-3 py-1 text-sm rounded-md transition-colors",d.value?"text-gray-600 dark:text-black hover:bg-gray-200 dark:hover:bg-red-700 dark:hover:text-black":"bg-blue-600 dark:bg-red-600 text-white dark:text-black"])}," Yards ",2),a("button",{onClick:h,class:Qe(["px-3 py-1 text-sm rounded-md transition-colors",d.value?"bg-blue-600 dark:bg-red-600 text-white dark:text-black":"text-gray-600 dark:text-black hover:bg-gray-200 dark:hover:bg-red-700 dark:hover:text-black"])}," Meters ",2)])]),a("div",jw,[a("div",null,[j[6]||(j[6]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Bullet Weight (gr) ",-1)),De(a("input",{"onUpdate:modelValue":j[1]||(j[1]=N=>c.value.bulletWeight=N),type:"number",min:"50",max:"500",step:"1",class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-black dark:text-red-400"},null,512),[[rt,c.value.bulletWeight,void 0,{number:!0}]])]),a("div",null,[j[7]||(j[7]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Muzzle Velocity (fps) ",-1)),De(a("input",{"onUpdate:modelValue":j[2]||(j[2]=N=>c.value.muzzleVelocity=N),type:"number",min:"500",max:"5000",step:"10",class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-black dark:text-red-400"},null,512),[[rt,c.value.muzzleVelocity,void 0,{number:!0}]])]),a("div",null,[a("label",Uw," Max Range ("+D(d.value?"meters":"yards")+") ",1),De(a("input",{"onUpdate:modelValue":j[3]||(j[3]=N=>c.value.maxRange=N),type:"number",min:(d.value,100),max:d.value?1e3:2e3,step:100,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-black dark:text-red-400"},null,8,Bw),[[rt,c.value.maxRange,void 0,{number:!0}]])])]),a("div",qw,[a("div",zw,D(i.value.length>0?`${i.value.length} trajectory points calculated`:"Ready to calculate")+" "+D(l.value?"(Advanced Physics)":"(Simple Model)")+" - "+D(d.value?"Metric":"Imperial")+" units ",1),a("button",{onClick:f,disabled:n.value,class:"px-6 py-2 bg-green-600 dark:bg-red-600 text-white dark:text-black rounded-lg hover:bg-green-700 dark:hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},D(n.value?"Calculating...":"Calculate Physics Trajectory"),9,Hw)]),i.value.length>0?(G(),X("div",Vw,[a("table",Ww,[a("thead",Gw,[d.value?(G(),X("tr",Kw,[...j[8]||(j[8]=[a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Range (m)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (cm)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (MOA)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (MRAD)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Velocity (m/s)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Energy (J)",-1)])])):(G(),X("tr",Yw,[...j[9]||(j[9]=[a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Range (yd)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (in)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (MOA)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Drop (MRAD)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Velocity (fps)",-1),a("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-black uppercase"},"Energy (ftlbf)",-1)])]))]),a("tbody",Jw,[(G(!0),X(Ye,null,nt(i.value,(N,W)=>(G(),X("tr",{key:W,class:"hover:bg-gray-50 dark:hover:bg-red-600"},[d.value?(G(),X(Ye,{key:0},[a("td",Zw,D(N.rangeM),1),a("td",Xw,D(N.dropCm?.toFixed(1)||"0.0"),1),a("td",Qw,D(N.dropMoa?.toFixed(2)||"0.00"),1),a("td",e3,D(N.dropMrad?.toFixed(3)||"0.000"),1),a("td",t3,D(Math.round(N.velMs||0)),1),a("td",r3,D(Math.round(N.energyJ||0)),1)],64)):(G(),X(Ye,{key:1},[a("td",s3,D(N.rangeYd),1),a("td",a3,D(N.dropIn?.toFixed(2)||"0.00"),1),a("td",n3,D(N.dropMoa?.toFixed(2)||"0.00"),1),a("td",o3,D(N.dropMrad?.toFixed(3)||"0.000"),1),a("td",i3,D(Math.round(N.velFps||0)),1),a("td",l3,D(Math.round(N.energyFtlb||0)),1)],64))]))),128))])]),a("div",d3,D(d.value?`Ballistics data for ${i.value.length} ranges (100-${c.value.maxRange}m)`:`Ballistics data for ${i.value.length} ranges (100-${c.value.maxRange}yd)`),1)])):Ie("",!0),o.value?(G(),X("div",c3,[a("div",u3,D(o.value),1)])):Ie("",!0)])):Ie("",!0)]))}}),h3={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},g3={key:0,class:"bg-yellow-50 dark:bg-red-600 border border-yellow-200 dark:border-red-500 rounded-lg p-4 mb-6"},p3={key:1,class:"flex flex-col space-y-6"},m3={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},b3={class:"flex-shrink-0"},v3=["value"],x3={class:"flex-shrink-0"},y3=["value"],k3={class:"flex-shrink-0"},w3=["value"],_3={class:"flex-shrink-0"},S3=["value"],A3={class:"flex flex-col lg:flex-row items-center justify-center gap-6"},C3={class:"flex-1 max-w-sm"},P3={class:"bg-teal-600 dark:bg-red-600 text-white dark:text-black rounded-lg p-6 text-center shadow-md"},L3={class:"text-3xl font-bold"},N3={key:0},$3={key:1,class:"text-teal-200 dark:text-red-200"},E3={class:"flex-1 max-w-sm"},M3={class:"bg-teal-600 dark:bg-red-600 text-white dark:text-black rounded-lg p-6 text-center shadow-md"},I3={class:"text-3xl font-bold"},T3={key:0},D3={key:1,class:"text-teal-200 dark:text-red-200"},R3={class:"mt-6 space-y-4"},O3={key:0,class:"bg-green-50 dark:bg-red-600 border border-green-200 dark:border-red-700 rounded-lg p-4"},F3={class:"flex items-center justify-between"},j3={class:"text-sm text-green-600 dark:text-black"},U3={class:"text-xs text-green-500 dark:text-black"},B3={key:1,class:"flex justify-center"},q3={key:2,class:"flex justify-center"},z3=Tt({__name:"QuickShotSystemComponent",props:{unit:{},selectedBulletWeight:{},dopeTableData:{},windDriftData:{},getWindDriftValue:{type:Function}},emits:["recordShot","openNewSessionDialog","completeSession"],setup(e,{emit:t}){const r=e,s=t,n=qn(),o=vi(),i=ye(100),l=ye(10),d=ye("North"),c=ye("North"),f=Pe(()=>n.currentProfile),b=Pe(()=>o.currentSession),w=Pe(()=>f.value?.opticsMeasurement||"MOA"),h=Pe(()=>{if(!f.value?.caliber||!r.selectedBulletWeight)return null;const K=r.dopeTableData.find(U=>U.distance===i.value);return K?K.elevation.toFixed(1):null}),_=Pe(()=>{if(!f.value?.caliber||!r.selectedBulletWeight)return null;const K=l.value,U=r.getWindDriftValue(f.value.caliber,r.selectedBulletWeight,i.value,K);return U!==null?W(U,d.value,c.value).toFixed(1):null}),O=Pe(()=>(r.unit==="yards"?[100,200,300,400,500,600,700,800,900,1e3]:[100,200,300,400,500,600,700,800,900,1e3]).map(U=>({value:U,label:`${U} ${r.unit.slice(0,-1)}`}))),j=Pe(()=>[1,5,10,15].map(K=>({value:K,label:`${K} mph`}))),N=Pe(()=>["North","Northeast","East","Southeast","South","Southwest","West","Northwest"].map(K=>({value:K,label:K})));function W(K,U,x){const p={North:0,Northeast:45,East:90,Southeast:135,South:180,Southwest:225,West:270,Northwest:315},E=p[U],y=p[x];if(E===void 0||y===void 0)return K;let A=E-y;for(;A>180;)A-=360;for(;A<-180;)A+=360;const H=Math.abs(A);let F=0;H===0||H===180?F=0:H===45||H===135?F=.71:H===90?F=1:H<45?F=H/45*.71:H<90?F=.71+(H-45)/45*(1-.71):H<135?F=1-(H-90)/45*(1-.71):F=.71-(H-135)/45*.71;const ae=A>0?-1:A<0?1:0;return K*F*ae}const B=()=>{s("recordShot",{distance:i.value,windSpeed:l.value,windDirection:d.value,shotDirection:c.value,elevation:h.value,windage:_.value})},I=()=>{s("openNewSessionDialog")},R=()=>{s("completeSession")};return(K,U)=>(G(),X("div",h3,[U[14]||(U[14]=a("div",{class:"flex items-center justify-between mb-4"},[a("h2",{class:"text-xl font-bold text-gray-900 dark:text-red-500"},"Quick Shot System")],-1)),U[15]||(U[15]=a("p",{class:"text-gray-600 dark:text-red-400 mb-6"},"Effective elevation and windage adjustments.",-1)),!f.value||!K.selectedBulletWeight?(G(),X("div",g3,[...U[4]||(U[4]=[a("p",{class:"text-sm text-yellow-700 dark:text-black"},[a("strong",null,"Note:"),We(" Select a rifle and bullet weight to use the Quick Shot System. ")],-1)])])):(G(),X("div",p3,[a("div",m3,[a("div",b3,[U[5]||(U[5]=a("label",{class:"block text-xs text-gray-500 dark:text-red-400 text-center mb-2"},"Distance",-1)),De(a("select",{"onUpdate:modelValue":U[0]||(U[0]=x=>i.value=x),class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-red-500 rounded-lg text-lg font-medium bg-white dark:bg-red-600 dark:text-black focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 text-center"},[(G(!0),X(Ye,null,nt(O.value,x=>(G(),X("option",{key:x.value,value:x.value},D(x.label),9,v3))),128))],512),[[Et,i.value]])]),a("div",x3,[U[6]||(U[6]=a("label",{class:"block text-xs text-gray-500 dark:text-red-400 text-center mb-2"},"Wind Strength",-1)),De(a("select",{"onUpdate:modelValue":U[1]||(U[1]=x=>l.value=x),class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-red-500 rounded-lg text-lg font-medium bg-white dark:bg-red-600 dark:text-black focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 text-center"},[(G(!0),X(Ye,null,nt(j.value,x=>(G(),X("option",{key:x.value,value:x.value},D(x.label),9,y3))),128))],512),[[Et,l.value]])]),a("div",k3,[U[7]||(U[7]=a("label",{class:"block text-xs text-gray-500 dark:text-red-400 text-center mb-2"},"Wind Direction",-1)),De(a("select",{"onUpdate:modelValue":U[2]||(U[2]=x=>d.value=x),class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-red-500 rounded-lg text-lg font-medium bg-white dark:bg-red-600 dark:text-black focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 text-center"},[(G(!0),X(Ye,null,nt(N.value,x=>(G(),X("option",{key:x.value,value:x.value},D(x.label),9,w3))),128))],512),[[Et,d.value]])]),a("div",_3,[U[8]||(U[8]=a("label",{class:"block text-xs text-gray-500 dark:text-red-400 text-center mb-2"},"Shot Direction",-1)),De(a("select",{"onUpdate:modelValue":U[3]||(U[3]=x=>c.value=x),class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-red-500 rounded-lg text-lg font-medium bg-white dark:bg-red-600 dark:text-black focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 text-center"},[(G(!0),X(Ye,null,nt(N.value,x=>(G(),X("option",{key:x.value,value:x.value},D(x.label),9,S3))),128))],512),[[Et,c.value]])])]),a("div",A3,[a("div",C3,[a("div",P3,[U[9]||(U[9]=a("h4",{class:"text-lg font-semibold mb-2"},"ELEVATION CHANGE",-1)),a("div",L3,[h.value!==null?(G(),X("span",N3,D(h.value)+" "+D(w.value),1)):(G(),X("span",$3,"0.0 "+D(w.value),1))])])]),a("div",E3,[a("div",M3,[U[10]||(U[10]=a("h4",{class:"text-lg font-semibold mb-2"},"WINDAGE CHANGE",-1)),a("div",I3,[_.value!==null?(G(),X("span",T3,D(_.value)+" "+D(w.value),1)):(G(),X("span",D3,"0.0 "+D(w.value),1))])])])]),a("div",R3,[b.value?(G(),X("div",O3,[a("div",F3,[a("div",null,[U[11]||(U[11]=a("h4",{class:"text-sm font-semibold text-green-800 dark:text-black"}," Active Session ",-1)),a("p",j3,D(b.value.name),1),a("p",U3,D(b.value.shots.length)+" shots  "+D(b.value.range),1)]),a("button",{onClick:R,class:"px-3 py-1 text-xs font-medium text-white dark:text-red-500 bg-red-600 dark:bg-black hover:bg-red-700 dark:hover:bg-gray-900 rounded transition-colors"}," Complete Session ")])])):(G(),X("div",B3,[a("button",{onClick:I,class:"flex items-center px-6 py-3 bg-blue-600 dark:bg-black hover:bg-blue-700 dark:hover:bg-gray-900 text-white dark:text-red-500 font-semibold rounded-lg shadow-md transition-all duration-200"},[Me(Ee(yc),{class:"w-5 h-5 mr-2"}),U[12]||(U[12]=We(" Start New Session ",-1))])])),b.value?(G(),X("div",q3,[a("button",{onClick:B,class:"flex items-center px-8 py-4 bg-orange-600 dark:bg-black hover:bg-orange-700 dark:hover:bg-gray-900 text-white dark:text-red-500 text-lg font-semibold rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200"},[Me(Ee(Rr),{class:"w-6 h-6 mr-3"}),U[13]||(U[13]=We(" Record Shot ",-1))])])):Ie("",!0)])]))]))}}),H3={class:"table-container"},V3={class:"table-responsive"},W3={class:"table-base"},G3={class:"table-header"},K3={class:"table-header-cell table-sticky-column",style:{"min-width":"100px"}},Y3={class:"table-body"},J3={class:"table-cell table-sticky-column font-medium",style:{"min-width":"100px"}},Z3={key:0,class:"table-empty"},X3={key:1,class:"table-loading"},Kh=Tt({__name:"ResponsiveBallisticsTable",props:{data:{},columns:{},loading:{type:Boolean,default:!1}},setup(e){const t=(r,s)=>{const n=r[s.key];return s.format?s.format(n):typeof n=="number"?n%1===0?n.toString():n.toFixed(1):n?.toString()||"-"};return(r,s)=>(G(),X("div",H3,[a("div",V3,[a("table",W3,[a("thead",G3,[a("tr",null,[a("th",K3,D(r.columns[0].label),1),(G(!0),X(Ye,null,nt(r.columns.slice(1),(n,o)=>(G(),X("th",{key:o,class:Qe(["table-header-cell",n.width||"min-w-[100px]"])},D(n.label),3))),128))])]),a("tbody",Y3,[(G(!0),X(Ye,null,nt(r.data,(n,o)=>(G(),X("tr",{key:o,class:"table-row"},[a("td",J3,D(t(n,r.columns[0])),1),(G(!0),X(Ye,null,nt(r.columns.slice(1),(i,l)=>(G(),X("td",{key:l,class:Qe(["table-cell",typeof n[i.key]=="number"?"table-cell-numeric":"",i.width||"min-w-[100px]"])},D(t(n,i)),3))),128))]))),128))])])]),r.data.length===0&&!r.loading?(G(),X("div",Z3,[zb(r.$slots,"empty",{},()=>[s[0]||(s[0]=a("div",{class:"text-lg font-medium mb-2"},"No data available",-1)),s[1]||(s[1]=a("div",{class:"text-sm"},"Configure your rifle and environment to generate ballistics data",-1))])])):Ie("",!0),r.loading?(G(),X("div",X3,[...s[2]||(s[2]=[a("div",{class:"inline-flex items-center space-x-3 text-gray-600 dark:text-red-400"},[a("div",{class:"w-5 h-5 border-2 border-army-green-500 dark:border-red-500 border-t-transparent rounded-full animate-spin"}),a("span",{class:"text-sm font-medium"},"Loading ballistics data...")],-1)])])):Ie("",!0)]))}}),Q3={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},e6={class:"bg-white dark:bg-black rounded-lg shadow-xl max-w-md w-full mx-4 dark:border dark:border-red-500"},t6={class:"p-6"},r6={class:"space-y-4"},s6={class:"bg-blue-50 dark:bg-red-600 rounded-lg p-3"},a6={class:"flex items-center justify-between"},n6={class:"text-xs text-blue-600 dark:text-black"},o6={class:"text-xs text-blue-500 dark:text-black font-medium"},i6={class:"flex space-x-4"},l6={class:"flex items-center"},d6={class:"flex items-center"},c6={key:0,class:"space-y-3"},u6={class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},f6={class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},h6={class:"flex justify-end space-x-3 mt-6"},g6=["disabled"],p6=Tt({__name:"ShotRecordDialog",props:{isOpen:{type:Boolean}},emits:["close","record"],setup(e,{emit:t}){const r=e,s=t,n=Bn(),o=qn(),i=Pe(()=>o.currentProfile),l=Pe(()=>i.value?.unitPreferences?.distance?i.value.unitPreferences.distance==="meters"?"metric":"imperial":i.value?.zeroDistanceUnit?i.value.zeroDistanceUnit==="meters"?"metric":"imperial":n.unitPreset==="metric"?"metric":"imperial"),d=ye({hit:!0,horizontalOffset:0,verticalOffset:0,notes:""}),c=Pe(()=>d.value.hit?!0:d.value.horizontalOffset!==0||d.value.verticalOffset!==0);Dr(()=>r.isOpen,w=>{w&&(d.value={hit:!0,horizontalOffset:0,verticalOffset:0,notes:""})});const f=()=>{s("close")},b=()=>{if(c.value){let w=d.value.horizontalOffset,h=d.value.verticalOffset;l.value==="metric"&&(w=w*_o.CM_TO_INCHES,h=h*_o.CM_TO_INCHES),s("record",{...d.value,horizontalOffset:w,verticalOffset:h})}};return(w,h)=>w.isOpen?(G(),X("div",Q3,[a("div",e6,[a("div",t6,[h[12]||(h[12]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-500 mb-4"}," Record Shot ",-1)),a("div",r6,[a("div",s6,[a("div",a6,[a("div",null,[h[5]||(h[5]=a("h4",{class:"text-sm font-medium text-blue-900 dark:text-black"}," Using Rifle Setup Units ",-1)),a("p",n6,D(i.value?.name||"Unknown Rifle")+"  Distance measurements in "+D(l.value==="imperial"?"inches":"centimeters"),1)]),a("div",o6,D(l.value==="imperial"?"Imperial":"Metric"),1)])]),a("div",null,[h[8]||(h[8]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Shot Result ",-1)),a("div",i6,[a("label",l6,[De(a("input",{"onUpdate:modelValue":h[0]||(h[0]=_=>d.value.hit=_),type:"radio",value:!0,class:"radio radio-primary"},null,512),[[rn,d.value.hit]]),h[6]||(h[6]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Hit",-1))]),a("label",d6,[De(a("input",{"onUpdate:modelValue":h[1]||(h[1]=_=>d.value.hit=_),type:"radio",value:!1,class:"radio radio-primary"},null,512),[[rn,d.value.hit]]),h[7]||(h[7]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Miss",-1))])])]),d.value.hit===!1?(G(),X("div",c6,[a("div",null,[a("label",u6," Horizontal Offset ("+D(l.value==="imperial"?"inches":"cm")+") ",1),De(a("input",{"onUpdate:modelValue":h[2]||(h[2]=_=>d.value.horizontalOffset=_),type:"number",step:"0.1",placeholder:"+ right, - left",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[rt,d.value.horizontalOffset,void 0,{number:!0}]]),h[9]||(h[9]=a("p",{class:"text-xs text-gray-500 dark:text-red-400 mt-1"},"Positive = right, Negative = left",-1))]),a("div",null,[a("label",f6," Vertical Offset ("+D(l.value==="imperial"?"inches":"cm")+") ",1),De(a("input",{"onUpdate:modelValue":h[3]||(h[3]=_=>d.value.verticalOffset=_),type:"number",step:"0.1",placeholder:"+ high, - low",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[rt,d.value.verticalOffset,void 0,{number:!0}]]),h[10]||(h[10]=a("p",{class:"text-xs text-gray-500 dark:text-red-400 mt-1"},"Positive = high, Negative = low",-1))])])):Ie("",!0),a("div",null,[h[11]||(h[11]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Notes (optional) ",-1)),De(a("textarea",{"onUpdate:modelValue":h[4]||(h[4]=_=>d.value.notes=_),rows:"2",placeholder:"Any additional observations...",class:"textarea textarea-bordered w-full resize-none dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[rt,d.value.notes]])])]),a("div",h6,[a("button",{onClick:f,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-gray-100 dark:bg-black border dark:border-red-500 rounded-md hover:bg-gray-200 dark:hover:bg-gray-900"}," Cancel "),a("button",{onClick:b,disabled:!c.value,class:"px-4 py-2 text-sm font-medium text-white dark:text-black bg-blue-600 dark:bg-red-600 rounded-md hover:bg-blue-700 dark:hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Record Shot ",8,g6)])])])])):Ie("",!0)}}),m6={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},b6={class:"bg-white dark:bg-black rounded-lg shadow-xl max-w-lg w-full max-h-full overflow-y-auto dark:border dark:border-red-500"},v6={class:"p-6"},x6={class:"space-y-4"},y6={key:0,class:"bg-gray-50 dark:bg-red-600 rounded-lg p-3"},k6={class:"text-sm text-gray-600 dark:text-black"},w6={class:"grid grid-cols-2 gap-2"},_6={class:"flex items-center"},S6={class:"flex items-center"},A6={class:"flex items-center"},C6={class:"flex items-center"},P6={class:"flex justify-end space-x-3 mt-6"},L6=["disabled"],N6=Tt({__name:"NewSessionDialog",props:{isOpen:{type:Boolean}},emits:["close","sessionStarted"],setup(e,{emit:t}){const r=e,s=t,n=vi(),o=bi(),i=qn(),l=Pe(()=>i.currentProfile),d=ye({name:"",range:"",date:new Date().toISOString().split("T")[0],notes:"",type:"training"}),c=Pe(()=>d.value.name.trim().length>0&&d.value.range.trim().length>0&&l.value!==null);Dr(()=>r.isOpen,w=>{if(w){const h=new Date,_=h.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),O=l.value?.name||"Unknown Rifle";d.value={name:`${O} Session - ${_}`,range:"",date:h.toISOString().split("T")[0],notes:"",type:"training"}}});const f=()=>{s("close")},b=()=>{if(c.value){if(!l.value){console.error("Missing rifle profile");return}try{const h=o.effectiveConditions||{temperature:70,humidity:50,pressure:29.92,windSpeed:0,windDirection:0,elevation:0,timestamp:new Date,source:Ps.MANUAL},_=n.startSession(d.value.name,d.value.range,h,l.value,d.value.notes);console.log("Session started successfully:",_.id),s("sessionStarted",_.id),s("close")}catch(w){console.error("Failed to start session:",w)}}};return(w,h)=>w.isOpen?(G(),X("div",m6,[a("div",b6,[a("div",v6,[h[18]||(h[18]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-500 mb-4"}," Start New Shooting Session ",-1)),a("div",x6,[a("div",null,[h[8]||(h[8]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Session Name * ",-1)),De(a("input",{"onUpdate:modelValue":h[0]||(h[0]=_=>d.value.name=_),type:"text",placeholder:"e.g., Morning Range Session, 200yd Zero Check",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500",required:""},null,512),[[rt,d.value.name]])]),a("div",null,[h[9]||(h[9]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Range/Location * ",-1)),De(a("input",{"onUpdate:modelValue":h[1]||(h[1]=_=>d.value.range=_),type:"text",placeholder:"e.g., Local Gun Range, Backyard, Competition Range",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500",required:""},null,512),[[rt,d.value.range]])]),a("div",null,[h[10]||(h[10]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Date ",-1)),De(a("input",{"onUpdate:modelValue":h[2]||(h[2]=_=>d.value.date=_),type:"date",class:"input input-bordered w-full dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[rt,d.value.date]])]),l.value?(G(),X("div",y6,[h[11]||(h[11]=a("h4",{class:"text-sm font-medium text-gray-900 dark:text-black mb-2"}," Selected Rifle ",-1)),a("div",k6,[a("p",null,[a("strong",null,D(l.value.name),1)]),a("p",null,D(l.value.caliber)+"  "+D(l.value.barrelLength)+'" barrel',1),a("p",null,"Zero: "+D(l.value.zeroDistance)+D(l.value.zeroDistanceUnit||"yd"),1)])])):Ie("",!0),a("div",null,[h[12]||(h[12]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"}," Session Notes (optional) ",-1)),De(a("textarea",{"onUpdate:modelValue":h[3]||(h[3]=_=>d.value.notes=_),rows:"3",placeholder:"Training goals, equipment notes, conditions to remember...",class:"textarea textarea-bordered w-full resize-none dark:bg-black dark:text-red-400 dark:border-red-500"},null,512),[[rt,d.value.notes]])]),a("div",null,[h[17]||(h[17]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Session Type ",-1)),a("div",w6,[a("label",_6,[De(a("input",{"onUpdate:modelValue":h[4]||(h[4]=_=>d.value.type=_),type:"radio",value:"training",class:"radio radio-primary mr-2"},null,512),[[rn,d.value.type]]),h[13]||(h[13]=a("span",{class:"text-sm dark:text-red-400"},"Training",-1))]),a("label",S6,[De(a("input",{"onUpdate:modelValue":h[5]||(h[5]=_=>d.value.type=_),type:"radio",value:"zeroing",class:"radio radio-primary mr-2"},null,512),[[rn,d.value.type]]),h[14]||(h[14]=a("span",{class:"text-sm dark:text-red-400"},"Zeroing",-1))]),a("label",A6,[De(a("input",{"onUpdate:modelValue":h[6]||(h[6]=_=>d.value.type=_),type:"radio",value:"competition",class:"radio radio-primary mr-2"},null,512),[[rn,d.value.type]]),h[15]||(h[15]=a("span",{class:"text-sm dark:text-red-400"},"Competition",-1))]),a("label",C6,[De(a("input",{"onUpdate:modelValue":h[7]||(h[7]=_=>d.value.type=_),type:"radio",value:"hunting",class:"radio radio-primary mr-2"},null,512),[[rn,d.value.type]]),h[16]||(h[16]=a("span",{class:"text-sm dark:text-red-400"},"Hunting Prep",-1))])])])]),a("div",P6,[a("button",{onClick:f,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-gray-100 dark:bg-black border dark:border-red-500 rounded-md hover:bg-gray-200 dark:hover:bg-gray-900"}," Cancel "),a("button",{onClick:b,disabled:!c.value,class:"px-4 py-2 text-sm font-medium text-white dark:text-black bg-green-600 dark:bg-red-600 rounded-md hover:bg-green-700 dark:hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Start Session ",8,L6)])])])])):Ie("",!0)}}),$6={class:"space-y-6"},E6={class:"grid grid-cols-12 gap-6"},M6={class:"col-span-12 lg:col-span-2 space-y-4"},I6={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},T6={class:"flex justify-between items-center p-4 pb-3"},D6={class:"flex items-center space-x-2"},R6={class:"px-4 pb-4"},O6={class:"space-y-2 text-xs text-gray-600 dark:text-red-400"},F6={class:"flex justify-between"},j6={class:"flex justify-between"},U6={class:"flex justify-between"},B6={class:"flex justify-between"},q6={class:"flex justify-between"},z6={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},H6={class:"flex justify-between items-center p-4 pb-3"},V6={class:"px-4 pb-4"},W6={key:0,class:"mb-3"},G6=["value"],K6=["value"],Y6={key:1,class:"space-y-2 text-xs text-gray-600 dark:text-red-400 mb-3"},J6={class:"text-gray-900 dark:text-red-500"},Z6={class:"text-gray-900 dark:text-red-500"},X6={class:"text-gray-900 dark:text-red-500"},Q6={class:"text-gray-900 dark:text-red-500"},e7={key:2,class:"mb-3"},t7=["value"],r7={key:3,class:"space-y-2 text-xs text-gray-600 dark:text-red-400 mb-3"},s7={class:"space-y-2"},a7={class:"col-span-12 lg:col-span-10 space-y-6"},n7={class:"flex justify-end"},o7={class:"flex items-center space-x-3 bg-white dark:bg-red-600 rounded-lg shadow-sm border border-gray-200 dark:border-red-500 px-4 py-3"},i7={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},l7={class:"flex items-center justify-between p-6 pb-4"},d7={class:"px-6 pb-6"},c7={key:0,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},u7={key:1,class:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg"},f7={class:"text-sm text-green-700"},h7={key:0},g7={class:"text-xs text-green-600 mt-1"},p7={key:0},m7={class:"max-w-xl mx-auto"},b7={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},v7={class:"flex items-center justify-between p-6 pb-4"},x7={class:"px-6 pb-6"},y7={key:0,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"},k7={class:"max-w-4xl mx-auto"},yB=Tt({__name:"CalculatorView",setup(e){const t=qn(),r=Bn(),s=bi(),n=vi(),o=xc(),i=ye("meters"),l=ye([]),d=ye(""),c=ye(null),f=ye(!0),b=ye(!0),w=ye(!1),h=ye(!1),_=ye([]),O=ye([]),j=ye(!1),N=ye(!1),W=ye(!1),B=ye(null),I=ye(!1),R=Pe(()=>t.currentProfile),K=Pe(()=>t.profiles),U=Pe(()=>{if(!R.value)return[];const de=l.value.filter(me=>me.caliber===R.value?.caliber).map(me=>parseFloat(me.bullet_weight_gr)).filter(me=>!isNaN(me)).sort((me,ke)=>me-ke);return[...new Set(de)]}),x=Pe(()=>R.value?.opticsMeasurement||"MOA"),p=Pe(()=>i.value==="yards"?"fps":"mps"),E=Pe(()=>{const T=s.effectiveConditions;if(!T)return"Loading...";const de=T.temperature,ke=r.units.temperature==="celsius"?r.convertTemperature(de,"fahrenheit","celsius"):de;return`${Math.round(ke)}${r.getUnitLabel("temperature")}`}),y=Pe(()=>{const T=s.effectiveConditions;if(!T)return"Loading...";const de=T.pressure,me=r.units.pressure;let ke=de;return me!=="inHg"&&(ke=r.convertPressure(de,"inHg",me)),`${ke.toFixed(2)} ${r.getUnitLabel("pressure")}`}),A=Pe(()=>{const T=s.effectiveConditions;return T?`${Math.round(T.humidity)}%`:"Loading..."}),H=Pe(()=>{const T=s.currentLocation;if(!T)return"Loading...";if(typeof T=="string")return T;if(typeof T=="object"&&T.latitude&&T.longitude){const de=Math.abs(T.latitude).toFixed(4),me=Math.abs(T.longitude).toFixed(4),ke=T.latitude>=0?"N":"S",ve=T.longitude>=0?"E":"W";return`${de}${ke}, ${me}${ve}`}return"Unknown"}),F=Pe(()=>{const T=s.effectiveConditions;if(!T)return{speed:"Loading...",direction:""};const de=T.windSpeed,me=r.units.windSpeed;let ke=de;me!=="mph"&&(ke=r.convertWindSpeed(de,"mph",me));const ve=ae(T.windDirection);return{speed:`${Math.round(ke)} ${r.getUnitLabel("windSpeed")}`,direction:ve}}),ae=T=>{const de=["N","NE","E","SE","S","SW","W","NW"],me=Math.round(T/45)%8;return de[me]},ge=Pe(()=>{if(!_.value.length)return[];let T=_.value;return R.value?.caliber&&(T=T.filter(de=>de.Caliber===R.value?.caliber)),c.value&&(T=T.filter(de=>parseFloat(de.Bullet_Weight_gr)===c.value)),T.slice(0,10)}),he=Pe(()=>ge.value.length?ge.value.map(T=>{const de=i.value==="yards",me=x.value==="MIL";return{distance:parseFloat(de?T.Distance_yd||"0":T.Distance_m||"0"),elevation:parseFloat(me?T.Drop_MIL:T.Drop_MOA),velocity:parseFloat(de?T.Velocity_fps||"0":T.Velocity_mps||"0")}}):S.value),Z=Pe(()=>[{key:"distance",label:`Distance (${i.value})`,format:T=>`${Math.round(T)}`},{key:"elevation",label:`Elevation (${x.value})`,format:T=>T.toFixed(1)},{key:"velocity",label:`Velocity (${p.value})`,format:T=>`${Math.round(T)}`}]),M=Pe(()=>!d.value||!c.value?[]:(i.value==="yards"?[100,200,300,400,500,600,700,800,900,1e3]:[100,200,300,400,500,600,700,800,900,1e3]).map(de=>{const me=L(d.value,c.value,de,1),ke=L(d.value,c.value,de,5),ve=L(d.value,c.value,de,10),$e=L(d.value,c.value,de,15),Se=s.effectiveConditions?.windSpeed||10,qe=L(d.value,c.value,de,Se);return{distance:de,wind1:me,wind5:ke,wind10:ve,wind15:$e,currentWind:qe}})),z=Pe(()=>{const T=i.value==="yards"?"in":"cm";return[{key:"distance",label:`Distance (${i.value})`,format:de=>`${Math.round(de)}`},{key:"wind1",label:`1 mph (${T})`,format:de=>de.toFixed(1)},{key:"wind5",label:`5 mph (${T})`,format:de=>de.toFixed(1)},{key:"wind10",label:`10 mph (${T})`,format:de=>de.toFixed(1)},{key:"wind15",label:`15 mph (${T})`,format:de=>de.toFixed(1)},{key:"currentWind",label:`Current Wind (${T})`,format:de=>de.toFixed(1)}]}),S=Pe(()=>{const T=x.value==="MIL";return[{distance:100,elevation:0,velocity:i.value==="yards"?2800:853},{distance:200,elevation:T?-.6:-2.1,velocity:i.value==="yards"?2650:808},{distance:300,elevation:T?-1.6:-5.4,velocity:i.value==="yards"?2480:756},{distance:400,elevation:T?-2.8:-9.5,velocity:i.value==="yards"?2320:707},{distance:500,elevation:T?-4.2:-14.8,velocity:i.value==="yards"?2170:662}]});async function m(){const T=i.value==="yards"?"./dope_tables/dope_yards.csv":"./dope_tables/dope_meters.csv";j.value=!0;try{const de=await fetch(T);if(!de.ok)throw new Error(`HTTP error! status: ${de.status}`);const me=await de.text();a0.parse(me,{header:!0,skipEmptyLines:!0,complete:ke=>{_.value=ke.data,j.value=!1,console.log(`Loaded ${ke.data.length} DOPE entries from ${T}`)},error:ke=>{console.error("Error parsing CSV:",ke),j.value=!1}})}catch(de){console.error("Error loading DOPE data:",de),j.value=!1}}async function C(){const T=i.value==="yards"?"./dope_tables/wind_drift_yards.csv":"./dope_tables/wind_drift_meters.csv";N.value=!0;try{const de=await fetch(T);if(!de.ok)throw new Error(`HTTP error! status: ${de.status}`);const me=await de.text();a0.parse(me,{header:!0,skipEmptyLines:!0,complete:ke=>{O.value=ke.data,N.value=!1,console.log(`Loaded ${ke.data.length} wind drift entries from ${T}`)},error:ke=>{console.error("Error parsing wind drift CSV:",ke),N.value=!1}})}catch(de){console.error("Error loading wind drift data:",de),N.value=!1}}function L(T,de,me,ke){if(!O.value.length)return 0;const ve=O.value.filter(Oe=>Oe.Caliber===T&&parseFloat(Oe.Bullet_Weight_gr)===de);if(!ve.length)return 0;const $e=me;if(!ve.find(Oe=>{const Be=i.value==="yards"?parseFloat(Oe.Distance_yd||"0"):parseFloat(Oe.Distance_m||"0");return Math.abs(Be-$e)<25}))return 0;const qe=ve.find(Oe=>{const Be=i.value==="yards"?parseFloat(Oe.Distance_yd||"0"):parseFloat(Oe.Distance_m||"0"),ze=parseFloat(Oe.WS_mph||"10");return Math.abs(Be-$e)<25&&Math.abs(ze-ke)<=1});if(qe){const Oe=x.value==="MIL";return parseFloat(Oe?qe.Drift_MRAD||"0":qe.Drift_MOA||"0")}const Te=ve.filter(Oe=>{const Be=i.value==="yards"?parseFloat(Oe.Distance_yd||"0"):parseFloat(Oe.Distance_m||"0");return Math.abs(Be-$e)<25}).sort((Oe,Be)=>parseFloat(Oe.WS_mph||"10")-parseFloat(Be.WS_mph||"10"));if(Te.length>=2){const Oe=Te.find(ze=>parseFloat(ze.WS_mph||"10")<=ke),Be=Te.find(ze=>parseFloat(ze.WS_mph||"10")>=ke);if(Oe&&Be&&Oe!==Be){const ze=parseFloat(Oe.WS_mph||"10"),et=parseFloat(Be.WS_mph||"10"),Ke=x.value==="MIL",Ze=parseFloat(Ke?Oe.Drift_MRAD||"0":Oe.Drift_MOA||"0"),tt=parseFloat(Ke?Be.Drift_MRAD||"0":Be.Drift_MOA||"0"),Xe=(ke-ze)/(et-ze);return Ze+(tt-Ze)*Xe}}return 0}async function $(){try{throw new Error("API disabled in static build")}catch(T){console.warn("Failed to fetch loads:",T),l.value=[{caliber:".308 Win",bullet_weight_gr:"147"},{caliber:".308 Win",bullet_weight_gr:"155"},{caliber:".308 Win",bullet_weight_gr:"168"},{caliber:".308 Win",bullet_weight_gr:"175"},{caliber:".308 Win",bullet_weight_gr:"180"},{caliber:".300 Win Mag",bullet_weight_gr:"180"},{caliber:".300 Win Mag",bullet_weight_gr:"190"},{caliber:".300 Win Mag",bullet_weight_gr:"200"},{caliber:".300 Win Mag",bullet_weight_gr:"220"},{caliber:"6.5 Creedmoor",bullet_weight_gr:"123"},{caliber:"6.5 Creedmoor",bullet_weight_gr:"140"},{caliber:"6.5 Creedmoor",bullet_weight_gr:"147"},{caliber:".223 Rem",bullet_weight_gr:"55"},{caliber:".223 Rem",bullet_weight_gr:"62"},{caliber:".223 Rem",bullet_weight_gr:"77"},{caliber:".338 Lapua",bullet_weight_gr:"250"},{caliber:".338 Lapua",bullet_weight_gr:"300"}]}}function V(T){const de=K.value.find(me=>me.id===T);de&&(t.setCurrentProfile(de),d.value=de.caliber,c.value=null)}function q(){o.push("/rifles")}function te(){o.push("/rifles?action=create")}Dr(R,T=>{T&&(d.value=T.caliber,c.value&&(U.value.includes(c.value)||(c.value=null)),!c.value&&U.value.length>0&&(c.value=U.value[0]))},{immediate:!0}),Dr(U,T=>{R.value&&!c.value&&T.length>0&&(c.value=T[0])},{immediate:!0}),Kr(async()=>{if(m(),C(),$(),await s.initializeWithDefaults(),s.gpsEnabled&&s.fetchLocationData().catch(()=>{}),s.weatherServiceEnabled&&s.fetchWeatherData().catch(()=>{}),!R.value&&K.value.length>0){const T=localStorage.getItem("current-rifle-profile-id");if(T){const de=K.value.find(me=>me.id===T);de&&t.setCurrentProfile(de)}}});const oe=async()=>{await s.refreshAllData()},pe=T=>{B.value=T,W.value=!0},we=T=>{if(!B.value||!R.value){console.error("Missing shot data or rifle information");return}const de=s.effectiveConditions||{temperature:70,windSpeed:B.value.windSpeed||0,windDirection:0,humidity:50,pressure:29.92,elevation:0,timestamp:new Date,source:"manual"};n.currentSession||n.startSession("Quick Shot Session","Mobile Calculator",de,R.value,"Auto-started from quick shot system");const me={hit:T.hit,horizontalOffset:T.horizontalOffset||0,verticalOffset:T.verticalOffset||0,notes:T.notes},ke={distance:B.value.distance,drop:0,windage:B.value.windage?parseFloat(B.value.windage):0,velocity:0,energy:0,timeOfFlight:0,clicksElevation:B.value.elevation?parseFloat(B.value.elevation):0,clicksWindage:B.value.windage?parseFloat(B.value.windage):0,confidence:.9};n.recordShot(B.value.distance,me,ke,de),W.value=!1,B.value=null,console.log("Shot recorded successfully!")},re=()=>{I.value=!0},ie=T=>{console.log("Session started:",T)},ne=()=>{if(n.currentSession){const T=n.endSession();T&&(console.log("Session completed:",T.name),alert(`Session completed: ${T.name}
Shots recorded: ${T.shots.length}`))}};return Dr(i,()=>{m(),C(),$()}),(T,de)=>(G(),X("div",$6,[a("div",E6,[a("div",M6,[a("div",I6,[a("div",T6,[de[9]||(de[9]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-500"},"Environment",-1)),a("div",D6,[a("button",{onClick:oe,class:"text-xs px-2 py-1 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded border border-blue-200 transition-colors",title:"Refresh environmental data"},"  "),a("button",{onClick:de[0]||(de[0]=me=>f.value=!f.value),class:Qe(["px-2 py-1 text-xs rounded transition-colors",f.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},D(f.value?"":"+"),3)])]),De(a("div",R6,[a("div",O6,[a("div",F6,[de[10]||(de[10]=a("span",null,"Location:",-1)),a("span",null,D(H.value),1)]),a("div",j6,[de[11]||(de[11]=a("span",null,"Temperature:",-1)),a("span",null,D(E.value),1)]),a("div",U6,[de[12]||(de[12]=a("span",null,"Humidity:",-1)),a("span",null,D(A.value),1)]),a("div",B6,[de[13]||(de[13]=a("span",null,"Pressure:",-1)),a("span",null,D(y.value),1)]),a("div",q6,[de[14]||(de[14]=a("span",null,"Wind:",-1)),a("span",null,D(F.value.speed)+" "+D(F.value.direction),1)])])],512),[[rl,f.value]])]),a("div",z6,[a("div",H6,[de[15]||(de[15]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-500"},"Current Rifle",-1)),a("button",{onClick:de[1]||(de[1]=me=>b.value=!b.value),class:Qe(["px-2 py-1 text-xs rounded transition-colors",b.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},D(b.value?"":"+"),3)]),De(a("div",V6,[K.value.length>0?(G(),X("div",W6,[de[17]||(de[17]=a("label",{class:"block text-xs font-medium text-gray-700 dark:text-red-400 mb-1"}," Select Rifle ",-1)),a("select",{value:R.value?.id||"",onChange:de[2]||(de[2]=me=>V(me.target.value)),class:"block w-full px-2 py-1 text-xs border border-gray-300 dark:border-red-500 rounded focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-red-600 dark:text-black"},[de[16]||(de[16]=a("option",{value:""},"Select a rifle...",-1)),(G(!0),X(Ye,null,nt(K.value,me=>(G(),X("option",{key:me.id,value:me.id},D(me.name)+" ("+D(me.caliber)+") ",9,K6))),128))],40,G6)])):Ie("",!0),R.value?(G(),X("div",Y6,[a("div",null,[de[18]||(de[18]=a("span",{class:"font-medium text-gray-700 dark:text-red-400"},"Name:",-1)),a("div",J6,D(R.value.name),1)]),a("div",null,[de[19]||(de[19]=a("span",{class:"font-medium text-gray-700 dark:text-red-400"},"Caliber:",-1)),a("div",Z6,D(R.value.caliber),1)]),a("div",null,[de[20]||(de[20]=a("span",{class:"font-medium text-gray-700 dark:text-red-400"},"Zero Distance:",-1)),a("div",X6,D(R.value.zeroDistance)+" "+D(R.value.zeroDistanceUnit||"yards"),1)]),a("div",null,[de[21]||(de[21]=a("span",{class:"font-medium text-gray-700 dark:text-red-400"},"Barrel Length:",-1)),a("div",Q6,D(R.value.barrelLength)+'"',1)])])):Ie("",!0),R.value&&U.value.length>0?(G(),X("div",e7,[de[23]||(de[23]=a("label",{class:"block text-xs font-medium text-gray-700 dark:text-red-400 mb-1"}," Bullet Weight (gr) ",-1)),De(a("select",{"onUpdate:modelValue":de[3]||(de[3]=me=>c.value=me),class:"block w-full px-2 py-1 text-xs border border-gray-300 dark:border-red-500 rounded focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 dark:bg-red-600 dark:text-black"},[de[22]||(de[22]=a("option",{value:null},"Select weight...",-1)),(G(!0),X(Ye,null,nt(U.value,me=>(G(),X("option",{key:me,value:me},D(me)+" gr ",9,t7))),128))],512),[[Et,c.value]])])):Ie("",!0),R.value?Ie("",!0):(G(),X("div",r7,[...de[24]||(de[24]=[a("div",{class:"text-gray-500 dark:text-red-400 italic"},"No rifle selected",-1)])])),a("div",s7,[K.value.length>0?(G(),X("button",{key:0,onClick:q,class:"w-full px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"}," Manage Rifles ")):Ie("",!0),a("button",{onClick:te,class:"w-full px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors"}," Create New Rifle ")])],512),[[rl,b.value]])])]),a("div",a7,[a("div",n7,[a("div",o7,[a("span",{class:Qe(["text-sm font-medium text-gray-700 dark:text-black",{"text-blue-600 dark:text-blue-300":i.value==="yards"}])},"Yards",2),a("button",{onClick:de[4]||(de[4]=me=>i.value=i.value==="meters"?"yards":"meters"),class:Qe(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",i.value==="meters"?"bg-blue-600":"bg-gray-200"])},[a("span",{class:Qe(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",i.value==="meters"?"translate-x-6":"translate-x-1"])},null,2)],2),a("span",{class:Qe(["text-sm font-medium text-gray-700 dark:text-black",{"text-blue-600 dark:text-blue-300":i.value==="meters"}])},"Meters",2)])]),Me(z3,{unit:i.value,"selected-bullet-weight":c.value,"dope-table-data":he.value,"wind-drift-data":O.value,"get-wind-drift-value":L,onRecordShot:pe,onOpenNewSessionDialog:re,onCompleteSession:ne},null,8,["unit","selected-bullet-weight","dope-table-data","wind-drift-data"]),a("div",i7,[a("div",l7,[de[25]||(de[25]=a("div",null,[a("h2",{class:"text-xl font-bold text-gray-900 dark:text-red-500"},"DOPE Chart")],-1)),a("button",{onClick:de[5]||(de[5]=me=>w.value=!w.value),class:Qe(["px-2 py-1 text-xs rounded transition-colors",w.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},D(w.value?"":"+"),3)]),De(a("div",d7,[R.value?Ie("",!0):(G(),X("div",c7,[...de[26]||(de[26]=[a("p",{class:"text-sm text-blue-700"},[a("strong",null,"Note:"),We(" Select a rifle from the left panel to see personalized DOPE data with correct optics measurements (MIL/MOA). Showing default MOA values below. ")],-1)])])),R.value?(G(),X("div",u7,[a("p",f7,[a("strong",null,D(R.value.name),1),We(" | "+D(R.value.caliber)+" | "+D(x.value)+" measurements | "+D(i.value)+" distances ",1),c.value?(G(),X("span",h7," | "+D(c.value)+"gr bullets",1)):Ie("",!0)]),a("p",g7,[We(" Showing "+D(ge.value.length>0?"CSV":"sample")+" DOPE data ",1),ge.value.length>0?(G(),X("span",p7," ("+D(ge.value.length)+" entries)",1)):Ie("",!0)])])):Ie("",!0),a("div",m7,[Me(Kh,{data:he.value,columns:Z.value,loading:j.value},{empty:Pr(()=>[...de[27]||(de[27]=[a("div",{class:"text-lg font-medium mb-2"},"No DOPE data available",-1),a("div",{class:"text-sm"},"Select a rifle caliber and bullet weight to see ballistics data",-1)])]),_:1},8,["data","columns","loading"])])],512),[[rl,w.value]])]),a("div",b7,[a("div",v7,[de[28]||(de[28]=a("div",null,[a("h2",{class:"text-xl font-bold text-gray-900 dark:text-red-500"},"Wind Drift Data"),a("div",{class:"text-sm text-gray-600 dark:text-red-400 mt-1"}," Based off 90% left to right / right to left crosswind. ")],-1)),a("button",{onClick:de[6]||(de[6]=me=>h.value=!h.value),class:Qe(["px-2 py-1 text-xs rounded transition-colors",h.value?"bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 text-gray-700 dark:text-black hover:bg-gray-50 dark:hover:bg-red-700":"bg-blue-600 dark:bg-red-600 text-white dark:text-black hover:bg-blue-700 dark:hover:bg-red-700"])},D(h.value?"":"+"),3)]),De(a("div",x7,[!d.value||!c.value?(G(),X("div",y7,[...de[29]||(de[29]=[a("p",{class:"text-sm text-yellow-700"},[a("strong",null,"Note:"),We(" Select a rifle caliber and bullet weight to see detailed wind drift data. ")],-1)])])):Ie("",!0),a("div",k7,[Me(Kh,{data:M.value,columns:z.value,loading:N.value},{empty:Pr(()=>[...de[30]||(de[30]=[a("div",{class:"text-lg font-medium mb-2"},"No wind drift data available",-1),a("div",{class:"text-sm"},"Select a rifle caliber and bullet weight to see wind drift calculations",-1)])]),_:1},8,["data","columns","loading"])])],512),[[rl,h.value]])]),Me(f3)])]),Me(p6,{"is-open":W.value,onClose:de[7]||(de[7]=me=>W.value=!1),onRecord:we},null,8,["is-open"]),Me(N6,{"is-open":I.value,onClose:de[8]||(de[8]=me=>I.value=!1),onSessionStarted:ie},null,8,["is-open"])]))}});function Wt(e){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(e)}var la=Uint8Array,Ns=Uint16Array,U0=Int32Array,B0=new la([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),q0=new la([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Yh=new la([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cm=function(e,t){for(var r=new Ns(31),s=0;s<31;++s)r[s]=t+=1<<e[s-1];for(var n=new U0(r[30]),s=1;s<30;++s)for(var o=r[s];o<r[s+1];++o)n[o]=o-r[s]<<5|s;return{b:r,r:n}},um=cm(B0,2),w7=um.b,n0=um.r;w7[28]=258,n0[258]=28;var _7=cm(q0,0),Jh=_7.r,o0=new Ns(32768);for(var nr=0;nr<32768;++nr){var Sn=(nr&43690)>>1|(nr&21845)<<1;Sn=(Sn&52428)>>2|(Sn&13107)<<2,Sn=(Sn&61680)>>4|(Sn&3855)<<4,o0[nr]=((Sn&65280)>>8|(Sn&255)<<8)>>1}var gl=(function(e,t,r){for(var s=e.length,n=0,o=new Ns(t);n<s;++n)e[n]&&++o[e[n]-1];var i=new Ns(t);for(n=1;n<t;++n)i[n]=i[n-1]+o[n-1]<<1;var l;if(r){l=new Ns(1<<t);var d=15-t;for(n=0;n<s;++n)if(e[n])for(var c=n<<4|e[n],f=t-e[n],b=i[e[n]-1]++<<f,w=b|(1<<f)-1;b<=w;++b)l[o0[b]>>d]=c}else for(l=new Ns(s),n=0;n<s;++n)e[n]&&(l[n]=o0[i[e[n]-1]++]>>15-e[n]);return l}),So=new la(288);for(var nr=0;nr<144;++nr)So[nr]=8;for(var nr=144;nr<256;++nr)So[nr]=9;for(var nr=256;nr<280;++nr)So[nr]=7;for(var nr=280;nr<288;++nr)So[nr]=8;var rc=new la(32);for(var nr=0;nr<32;++nr)rc[nr]=5;var S7=gl(So,9,0),A7=gl(rc,5,0),fm=function(e){return(e+7)/8|0},C7=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new la(e.subarray(t,r))},Ga=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8},Qi=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8,e[s+2]|=r>>16},vu=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s,f:e[s]});var n=r.length,o=r.slice();if(!n)return{t:gm,l:0};if(n==1){var i=new la(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(R,K){return R.f-K.f}),r.push({s:-1,f:25001});var l=r[0],d=r[1],c=0,f=1,b=2;for(r[0]={s:-1,f:l.f+d.f,l,r:d};f!=n-1;)l=r[r[c].f<r[b].f?c++:b++],d=r[c!=f&&r[c].f<r[b].f?c++:b++],r[f++]={s:-1,f:l.f+d.f,l,r:d};for(var w=o[0].s,s=1;s<n;++s)o[s].s>w&&(w=o[s].s);var h=new Ns(w+1),_=i0(r[f-1],h,0);if(_>t){var s=0,O=0,j=_-t,N=1<<j;for(o.sort(function(K,U){return h[U.s]-h[K.s]||K.f-U.f});s<n;++s){var W=o[s].s;if(h[W]>t)O+=N-(1<<_-h[W]),h[W]=t;else break}for(O>>=j;O>0;){var B=o[s].s;h[B]<t?O-=1<<t-h[B]++-1:++s}for(;s>=0&&O;--s){var I=o[s].s;h[I]==t&&(--h[I],++O)}_=t}return{t:new la(h),l:_}},i0=function(e,t,r){return e.s==-1?Math.max(i0(e.l,t,r+1),i0(e.r,t,r+1)):t[e.s]=r},Zh=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ns(++t),s=0,n=e[0],o=1,i=function(d){r[s++]=d},l=1;l<=t;++l)if(e[l]==n&&l!=t)++o;else{if(!n&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(n),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(n);o=1,n=e[l]}return{c:r.subarray(0,s),n:t}},el=function(e,t){for(var r=0,s=0;s<t.length;++s)r+=e[s]*t[s];return r},hm=function(e,t,r){var s=r.length,n=fm(t+2);e[n]=s&255,e[n+1]=s>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var o=0;o<s;++o)e[n+o+4]=r[o];return(n+4+s)*8},Xh=function(e,t,r,s,n,o,i,l,d,c,f){Ga(t,f++,r),++n[256];for(var b=vu(n,15),w=b.t,h=b.l,_=vu(o,15),O=_.t,j=_.l,N=Zh(w),W=N.c,B=N.n,I=Zh(O),R=I.c,K=I.n,U=new Ns(19),x=0;x<W.length;++x)++U[W[x]&31];for(var x=0;x<R.length;++x)++U[R[x]&31];for(var p=vu(U,7),E=p.t,y=p.l,A=19;A>4&&!E[Yh[A-1]];--A);var H=c+5<<3,F=el(n,So)+el(o,rc)+i,ae=el(n,w)+el(o,O)+i+14+3*A+el(U,E)+2*U[16]+3*U[17]+7*U[18];if(d>=0&&H<=F&&H<=ae)return hm(t,f,e.subarray(d,d+c));var ge,he,Z,M;if(Ga(t,f,1+(ae<F)),f+=2,ae<F){ge=gl(w,h,0),he=w,Z=gl(O,j,0),M=O;var z=gl(E,y,0);Ga(t,f,B-257),Ga(t,f+5,K-1),Ga(t,f+10,A-4),f+=14;for(var x=0;x<A;++x)Ga(t,f+3*x,E[Yh[x]]);f+=3*A;for(var S=[W,R],m=0;m<2;++m)for(var C=S[m],x=0;x<C.length;++x){var L=C[x]&31;Ga(t,f,z[L]),f+=E[L],L>15&&(Ga(t,f,C[x]>>5&127),f+=C[x]>>12)}}else ge=S7,he=So,Z=A7,M=rc;for(var x=0;x<l;++x){var $=s[x];if($>255){var L=$>>18&31;Qi(t,f,ge[L+257]),f+=he[L+257],L>7&&(Ga(t,f,$>>23&31),f+=B0[L]);var V=$&31;Qi(t,f,Z[V]),f+=M[V],V>3&&(Qi(t,f,$>>5&8191),f+=q0[V])}else Qi(t,f,ge[$]),f+=he[$]}return Qi(t,f,ge[256]),f+he[256]},P7=new U0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gm=new la(0),L7=function(e,t,r,s,n,o){var i=o.z||e.length,l=new la(s+i+5*(1+Math.ceil(i/7e3))+n),d=l.subarray(s,l.length-n),c=o.l,f=(o.r||0)&7;if(t){f&&(d[0]=o.r>>3);for(var b=P7[t-1],w=b>>13,h=b&8191,_=(1<<r)-1,O=o.p||new Ns(32768),j=o.h||new Ns(_+1),N=Math.ceil(r/3),W=2*N,B=function(ne){return(e[ne]^e[ne+1]<<N^e[ne+2]<<W)&_},I=new U0(25e3),R=new Ns(288),K=new Ns(32),U=0,x=0,p=o.i||0,E=0,y=o.w||0,A=0;p+2<i;++p){var H=B(p),F=p&32767,ae=j[H];if(O[F]=ae,j[H]=F,y<=p){var ge=i-p;if((U>7e3||E>24576)&&(ge>423||!c)){f=Xh(e,d,0,I,R,K,x,E,A,p-A,f),E=U=x=0,A=p;for(var he=0;he<286;++he)R[he]=0;for(var he=0;he<30;++he)K[he]=0}var Z=2,M=0,z=h,S=F-ae&32767;if(ge>2&&H==B(p-S))for(var m=Math.min(w,ge)-1,C=Math.min(32767,p),L=Math.min(258,ge);S<=C&&--z&&F!=ae;){if(e[p+Z]==e[p+Z-S]){for(var $=0;$<L&&e[p+$]==e[p+$-S];++$);if($>Z){if(Z=$,M=S,$>m)break;for(var V=Math.min(S,$-2),q=0,he=0;he<V;++he){var te=p-S+he&32767,oe=O[te],pe=te-oe&32767;pe>q&&(q=pe,ae=te)}}}F=ae,ae=O[F],S+=F-ae&32767}if(M){I[E++]=268435456|n0[Z]<<18|Jh[M];var we=n0[Z]&31,re=Jh[M]&31;x+=B0[we]+q0[re],++R[257+we],++K[re],y=p+Z,++U}else I[E++]=e[p],++R[e[p]]}}for(p=Math.max(p,y);p<i;++p)I[E++]=e[p],++R[e[p]];f=Xh(e,d,c,I,R,K,x,E,A,p-A,f),c||(o.r=f&7|d[f/8|0]<<3,f-=7,o.h=j,o.p=O,o.i=p,o.w=y)}else{for(var p=o.w||0;p<i+c;p+=65535){var ie=p+65535;ie>=i&&(d[f/8|0]=c,ie=i),f=hm(d,f+1,e.subarray(p,ie))}o.i=i}return C7(l,0,s+fm(f)+n)},pm=function(){var e=1,t=0;return{p:function(r){for(var s=e,n=t,o=r.length|0,i=0;i!=o;){for(var l=Math.min(i+2655,o);i<l;++i)n+=s+=r[i];s=(s&65535)+15*(s>>16),n=(n&65535)+15*(n>>16)}e=s,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},N7=function(e,t,r,s,n){if(!n&&(n={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),i=new la(o.length+e.length);i.set(o),i.set(e,o.length),e=i,n.w=o.length}return L7(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,s,n)},mm=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},$7=function(e,t){var r=t.level,s=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=pm();n.p(t.dictionary),mm(e,2,n.d())}};function l0(e,t){t||(t={});var r=pm();r.p(e);var s=N7(e,t,t.dictionary?6:2,4);return $7(s,t),mm(s,s.length-4,r.d()),s}var E7=typeof TextDecoder<"u"&&new TextDecoder,M7=0;try{E7.decode(gm,{stream:!0}),M7=1}catch{}function I7(e){if(Array.isArray(e))return e}function T7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,n,o,i,l=[],d=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(s=o.call(r)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(f){c=!0,n=f}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}function Qh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function D7(e,t){if(e){if(typeof e=="string")return Qh(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qh(e,t):void 0}}function R7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eg(e,t){return I7(e)||T7(e,t)||D7(e,t)||R7()}function tg(e,t="utf8"){return new TextDecoder(t).decode(e)}const O7=new TextEncoder;function F7(e){return O7.encode(e)}const j7=1024*8,U7=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),xu={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class z0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=j7,r={}){let s=!1;typeof t=="number"?t=new ArrayBuffer(t):(s=!0,this.lastWrittenByte=t.byteLength);const n=r.offset?r.offset>>>0:0,o=t.byteLength-n;let i=n;(ArrayBuffer.isView(t)||t instanceof z0)&&(t.byteLength!==t.buffer.byteLength&&(i=t.byteOffset+n),t=t.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const s=(this.offset+t)*2,n=new Uint8Array(s);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const s=xu[r].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,o=this.buffer.slice(n,n+s);if(this.littleEndian===U7&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(n,n+s));l.reverse();const d=new xu[r](l.buffer);return this.offset+=s,d.reverse(),d}const i=new xu[r](o);return this.offset+=s,i}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let s=0;s<t;s++)r+=this.readChar();return r}readUtf8(t=1){return tg(this.readBytes(t))}decodeText(t=1,r="utf8"){return tg(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(F7(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function xi(e){let t=e.length;for(;--t>=0;)e[t]=0}const B7=3,q7=258,bm=29,z7=256,H7=z7+1+bm,vm=30,V7=512,W7=new Array((H7+2)*2);xi(W7);const G7=new Array(vm*2);xi(G7);const K7=new Array(V7);xi(K7);const Y7=new Array(q7-B7+1);xi(Y7);const J7=new Array(bm);xi(J7);const Z7=new Array(vm);xi(Z7);const X7=(e,t,r,s)=>{let n=e&65535|0,o=e>>>16&65535|0,i=0;for(;r!==0;){i=r>2e3?2e3:r,r-=i;do n=n+t[s++]|0,o=o+n|0;while(--i);n%=65521,o%=65521}return n|o<<16|0};var d0=X7;const Q7=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},e8=new Uint32Array(Q7()),t8=(e,t,r,s)=>{const n=e8,o=s+r;e^=-1;for(let i=s;i<o;i++)e=e>>>8^n[(e^t[i])&255];return e^-1};var wa=t8,c0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},xm={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const r8=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s8=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)r8(r,s)&&(e[s]=r[s])}}return e},a8=e=>{let t=0;for(let s=0,n=e.length;s<n;s++)t+=e[s].length;const r=new Uint8Array(t);for(let s=0,n=0,o=e.length;s<o;s++){let i=e[s];r.set(i,n),n+=i.length}return r},ym={assign:s8,flattenChunks:a8};let km=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{km=!1}const El=new Uint8Array(256);for(let e=0;e<256;e++)El[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;El[254]=El[254]=1;var n8=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,s,n,o,i=e.length,l=0;for(n=0;n<i;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<i&&(s=e.charCodeAt(n+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),n++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),o=0,n=0;o<l;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<i&&(s=e.charCodeAt(n+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),n++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};const o8=(e,t)=>{if(t<65534&&e.subarray&&km)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r};var i8=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s,n;const o=new Array(r*2);for(n=0,s=0;s<r;){let i=e[s++];if(i<128){o[n++]=i;continue}let l=El[i];if(l>4){o[n++]=65533,s+=l-1;continue}for(i&=l===2?31:l===3?15:7;l>1&&s<r;)i=i<<6|e[s++]&63,l--;if(l>1){o[n++]=65533;continue}i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|i&1023)}return o8(o,n)},l8=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+El[e[r]]>t?r:t},u0={string2buf:n8,buf2string:i8,utf8border:l8};function d8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var c8=d8;const _d=16209,u8=16191;var f8=function(t,r){let s,n,o,i,l,d,c,f,b,w,h,_,O,j,N,W,B,I,R,K,U,x,p,E;const y=t.state;s=t.next_in,p=t.input,n=s+(t.avail_in-5),o=t.next_out,E=t.output,i=o-(r-t.avail_out),l=o+(t.avail_out-257),d=y.dmax,c=y.wsize,f=y.whave,b=y.wnext,w=y.window,h=y.hold,_=y.bits,O=y.lencode,j=y.distcode,N=(1<<y.lenbits)-1,W=(1<<y.distbits)-1;e:do{_<15&&(h+=p[s++]<<_,_+=8,h+=p[s++]<<_,_+=8),B=O[h&N];t:for(;;){if(I=B>>>24,h>>>=I,_-=I,I=B>>>16&255,I===0)E[o++]=B&65535;else if(I&16){R=B&65535,I&=15,I&&(_<I&&(h+=p[s++]<<_,_+=8),R+=h&(1<<I)-1,h>>>=I,_-=I),_<15&&(h+=p[s++]<<_,_+=8,h+=p[s++]<<_,_+=8),B=j[h&W];r:for(;;){if(I=B>>>24,h>>>=I,_-=I,I=B>>>16&255,I&16){if(K=B&65535,I&=15,_<I&&(h+=p[s++]<<_,_+=8,_<I&&(h+=p[s++]<<_,_+=8)),K+=h&(1<<I)-1,K>d){t.msg="invalid distance too far back",y.mode=_d;break e}if(h>>>=I,_-=I,I=o-i,K>I){if(I=K-I,I>f&&y.sane){t.msg="invalid distance too far back",y.mode=_d;break e}if(U=0,x=w,b===0){if(U+=c-I,I<R){R-=I;do E[o++]=w[U++];while(--I);U=o-K,x=E}}else if(b<I){if(U+=c+b-I,I-=b,I<R){R-=I;do E[o++]=w[U++];while(--I);if(U=0,b<R){I=b,R-=I;do E[o++]=w[U++];while(--I);U=o-K,x=E}}}else if(U+=b-I,I<R){R-=I;do E[o++]=w[U++];while(--I);U=o-K,x=E}for(;R>2;)E[o++]=x[U++],E[o++]=x[U++],E[o++]=x[U++],R-=3;R&&(E[o++]=x[U++],R>1&&(E[o++]=x[U++]))}else{U=o-K;do E[o++]=E[U++],E[o++]=E[U++],E[o++]=E[U++],R-=3;while(R>2);R&&(E[o++]=E[U++],R>1&&(E[o++]=E[U++]))}}else if((I&64)===0){B=j[(B&65535)+(h&(1<<I)-1)];continue r}else{t.msg="invalid distance code",y.mode=_d;break e}break}}else if((I&64)===0){B=O[(B&65535)+(h&(1<<I)-1)];continue t}else if(I&32){y.mode=u8;break e}else{t.msg="invalid literal/length code",y.mode=_d;break e}break}}while(s<n&&o<l);R=_>>3,s-=R,_-=R<<3,h&=(1<<_)-1,t.next_in=s,t.next_out=o,t.avail_in=s<n?5+(n-s):5-(s-n),t.avail_out=o<l?257+(l-o):257-(o-l),y.hold=h,y.bits=_};const Go=15,rg=852,sg=592,ag=0,yu=1,ng=2,h8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),g8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),p8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),m8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),b8=(e,t,r,s,n,o,i,l)=>{const d=l.bits;let c=0,f=0,b=0,w=0,h=0,_=0,O=0,j=0,N=0,W=0,B,I,R,K,U,x=null,p;const E=new Uint16Array(Go+1),y=new Uint16Array(Go+1);let A=null,H,F,ae;for(c=0;c<=Go;c++)E[c]=0;for(f=0;f<s;f++)E[t[r+f]]++;for(h=d,w=Go;w>=1&&E[w]===0;w--);if(h>w&&(h=w),w===0)return n[o++]=1<<24|64<<16|0,n[o++]=1<<24|64<<16|0,l.bits=1,0;for(b=1;b<w&&E[b]===0;b++);for(h<b&&(h=b),j=1,c=1;c<=Go;c++)if(j<<=1,j-=E[c],j<0)return-1;if(j>0&&(e===ag||w!==1))return-1;for(y[1]=0,c=1;c<Go;c++)y[c+1]=y[c]+E[c];for(f=0;f<s;f++)t[r+f]!==0&&(i[y[t[r+f]]++]=f);if(e===ag?(x=A=i,p=20):e===yu?(x=h8,A=g8,p=257):(x=p8,A=m8,p=0),W=0,f=0,c=b,U=o,_=h,O=0,R=-1,N=1<<h,K=N-1,e===yu&&N>rg||e===ng&&N>sg)return 1;for(;;){H=c-O,i[f]+1<p?(F=0,ae=i[f]):i[f]>=p?(F=A[i[f]-p],ae=x[i[f]-p]):(F=96,ae=0),B=1<<c-O,I=1<<_,b=I;do I-=B,n[U+(W>>O)+I]=H<<24|F<<16|ae|0;while(I!==0);for(B=1<<c-1;W&B;)B>>=1;if(B!==0?(W&=B-1,W+=B):W=0,f++,--E[c]===0){if(c===w)break;c=t[r+i[f]]}if(c>h&&(W&K)!==R){for(O===0&&(O=h),U+=b,_=c-O,j=1<<_;_+O<w&&(j-=E[_+O],!(j<=0));)_++,j<<=1;if(N+=1<<_,e===yu&&N>rg||e===ng&&N>sg)return 1;R=W&K,n[R]=h<<24|_<<16|U-o|0}}return W!==0&&(n[U+W]=c-O<<24|64<<16|0),l.bits=h,0};var pl=b8;const v8=0,wm=1,_m=2,{Z_FINISH:og,Z_BLOCK:x8,Z_TREES:Sd,Z_OK:Ao,Z_STREAM_END:y8,Z_NEED_DICT:k8,Z_STREAM_ERROR:Ks,Z_DATA_ERROR:Sm,Z_MEM_ERROR:Am,Z_BUF_ERROR:w8,Z_DEFLATED:ig}=xm,kc=16180,lg=16181,dg=16182,cg=16183,ug=16184,fg=16185,hg=16186,gg=16187,pg=16188,mg=16189,sc=16190,Ka=16191,ku=16192,bg=16193,wu=16194,vg=16195,xg=16196,yg=16197,kg=16198,Ad=16199,Cd=16200,wg=16201,_g=16202,Sg=16203,Ag=16204,Cg=16205,_u=16206,Pg=16207,Lg=16208,or=16209,Cm=16210,Pm=16211,_8=852,S8=592,A8=15,C8=A8,Ng=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function P8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Co=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<kc||t.mode>Pm?1:0},Lm=e=>{if(Co(e))return Ks;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=kc,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(_8),t.distcode=t.distdyn=new Int32Array(S8),t.sane=1,t.back=-1,Ao},Nm=e=>{if(Co(e))return Ks;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Lm(e)},$m=(e,t)=>{let r;if(Co(e))return Ks;const s=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ks:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=r,s.wbits=t,Nm(e))},Em=(e,t)=>{if(!e)return Ks;const r=new P8;e.state=r,r.strm=e,r.window=null,r.mode=kc;const s=$m(e,t);return s!==Ao&&(e.state=null),s},L8=e=>Em(e,C8);let $g=!0,Su,Au;const N8=e=>{if($g){Su=new Int32Array(512),Au=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pl(wm,e.lens,0,288,Su,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pl(_m,e.lens,0,32,Au,0,e.work,{bits:5}),$g=!1}e.lencode=Su,e.lenbits=9,e.distcode=Au,e.distbits=5},Mm=(e,t,r,s)=>{let n;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(n=o.wsize-o.wnext,n>s&&(n=s),o.window.set(t.subarray(r-s,r-s+n),o.wnext),s-=n,s?(o.window.set(t.subarray(r-s,r),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0},$8=(e,t)=>{let r,s,n,o,i,l,d,c,f,b,w,h,_,O,j=0,N,W,B,I,R,K,U,x;const p=new Uint8Array(4);let E,y;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Co(e)||!e.output||!e.input&&e.avail_in!==0)return Ks;r=e.state,r.mode===Ka&&(r.mode=ku),i=e.next_out,n=e.output,d=e.avail_out,o=e.next_in,s=e.input,l=e.avail_in,c=r.hold,f=r.bits,b=l,w=d,x=Ao;e:for(;;)switch(r.mode){case kc:if(r.wrap===0){r.mode=ku;break}for(;f<16;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,p[0]=c&255,p[1]=c>>>8&255,r.check=wa(r.check,p,2,0),c=0,f=0,r.mode=lg;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=or;break}if((c&15)!==ig){e.msg="unknown compression method",r.mode=or;break}if(c>>>=4,f-=4,U=(c&15)+8,r.wbits===0&&(r.wbits=U),U>15||U>r.wbits){e.msg="invalid window size",r.mode=or;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?mg:Ka,c=0,f=0;break;case lg:for(;f<16;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if(r.flags=c,(r.flags&255)!==ig){e.msg="unknown compression method",r.mode=or;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=or;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(p[0]=c&255,p[1]=c>>>8&255,r.check=wa(r.check,p,2,0)),c=0,f=0,r.mode=dg;case dg:for(;f<32;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(p[0]=c&255,p[1]=c>>>8&255,p[2]=c>>>16&255,p[3]=c>>>24&255,r.check=wa(r.check,p,4,0)),c=0,f=0,r.mode=cg;case cg:for(;f<16;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(p[0]=c&255,p[1]=c>>>8&255,r.check=wa(r.check,p,2,0)),c=0,f=0,r.mode=ug;case ug:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(p[0]=c&255,p[1]=c>>>8&255,r.check=wa(r.check,p,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=fg;case fg:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(o,o+h),U)),r.flags&512&&r.wrap&4&&(r.check=wa(r.check,s,h,o)),l-=h,o+=h,r.length-=h),r.length))break e;r.length=0,r.mode=hg;case hg:if(r.flags&2048){if(l===0)break e;h=0;do U=s[o+h++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U));while(U&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=wa(r.check,s,h,o)),l-=h,o+=h,U)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=gg;case gg:if(r.flags&4096){if(l===0)break e;h=0;do U=s[o+h++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U));while(U&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=wa(r.check,s,h,o)),l-=h,o+=h,U)break e}else r.head&&(r.head.comment=null);r.mode=pg;case pg:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=or;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ka;break;case mg:for(;f<32;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}e.adler=r.check=Ng(c),c=0,f=0,r.mode=sc;case sc:if(r.havedict===0)return e.next_out=i,e.avail_out=d,e.next_in=o,e.avail_in=l,r.hold=c,r.bits=f,k8;e.adler=r.check=1,r.mode=Ka;case Ka:if(t===x8||t===Sd)break e;case ku:if(r.last){c>>>=f&7,f-=f&7,r.mode=_u;break}for(;f<3;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}switch(r.last=c&1,c>>>=1,f-=1,c&3){case 0:r.mode=bg;break;case 1:if(N8(r),r.mode=Ad,t===Sd){c>>>=2,f-=2;break e}break;case 2:r.mode=xg;break;case 3:e.msg="invalid block type",r.mode=or}c>>>=2,f-=2;break;case bg:for(c>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=or;break}if(r.length=c&65535,c=0,f=0,r.mode=wu,t===Sd)break e;case wu:r.mode=vg;case vg:if(h=r.length,h){if(h>l&&(h=l),h>d&&(h=d),h===0)break e;n.set(s.subarray(o,o+h),i),l-=h,o+=h,d-=h,i+=h,r.length-=h;break}r.mode=Ka;break;case xg:for(;f<14;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if(r.nlen=(c&31)+257,c>>>=5,f-=5,r.ndist=(c&31)+1,c>>>=5,f-=5,r.ncode=(c&15)+4,c>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=or;break}r.have=0,r.mode=yg;case yg:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}r.lens[A[r.have++]]=c&7,c>>>=3,f-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,E={bits:r.lenbits},x=pl(v8,r.lens,0,19,r.lencode,0,r.work,E),r.lenbits=E.bits,x){e.msg="invalid code lengths set",r.mode=or;break}r.have=0,r.mode=kg;case kg:for(;r.have<r.nlen+r.ndist;){for(;j=r.lencode[c&(1<<r.lenbits)-1],N=j>>>24,W=j>>>16&255,B=j&65535,!(N<=f);){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if(B<16)c>>>=N,f-=N,r.lens[r.have++]=B;else{if(B===16){for(y=N+2;f<y;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if(c>>>=N,f-=N,r.have===0){e.msg="invalid bit length repeat",r.mode=or;break}U=r.lens[r.have-1],h=3+(c&3),c>>>=2,f-=2}else if(B===17){for(y=N+3;f<y;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}c>>>=N,f-=N,U=0,h=3+(c&7),c>>>=3,f-=3}else{for(y=N+7;f<y;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}c>>>=N,f-=N,U=0,h=11+(c&127),c>>>=7,f-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=or;break}for(;h--;)r.lens[r.have++]=U}}if(r.mode===or)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=or;break}if(r.lenbits=9,E={bits:r.lenbits},x=pl(wm,r.lens,0,r.nlen,r.lencode,0,r.work,E),r.lenbits=E.bits,x){e.msg="invalid literal/lengths set",r.mode=or;break}if(r.distbits=6,r.distcode=r.distdyn,E={bits:r.distbits},x=pl(_m,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,E),r.distbits=E.bits,x){e.msg="invalid distances set",r.mode=or;break}if(r.mode=Ad,t===Sd)break e;case Ad:r.mode=Cd;case Cd:if(l>=6&&d>=258){e.next_out=i,e.avail_out=d,e.next_in=o,e.avail_in=l,r.hold=c,r.bits=f,f8(e,w),i=e.next_out,n=e.output,d=e.avail_out,o=e.next_in,s=e.input,l=e.avail_in,c=r.hold,f=r.bits,r.mode===Ka&&(r.back=-1);break}for(r.back=0;j=r.lencode[c&(1<<r.lenbits)-1],N=j>>>24,W=j>>>16&255,B=j&65535,!(N<=f);){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if(W&&(W&240)===0){for(I=N,R=W,K=B;j=r.lencode[K+((c&(1<<I+R)-1)>>I)],N=j>>>24,W=j>>>16&255,B=j&65535,!(I+N<=f);){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}c>>>=I,f-=I,r.back+=I}if(c>>>=N,f-=N,r.back+=N,r.length=B,W===0){r.mode=Cg;break}if(W&32){r.back=-1,r.mode=Ka;break}if(W&64){e.msg="invalid literal/length code",r.mode=or;break}r.extra=W&15,r.mode=wg;case wg:if(r.extra){for(y=r.extra;f<y;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=_g;case _g:for(;j=r.distcode[c&(1<<r.distbits)-1],N=j>>>24,W=j>>>16&255,B=j&65535,!(N<=f);){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if((W&240)===0){for(I=N,R=W,K=B;j=r.distcode[K+((c&(1<<I+R)-1)>>I)],N=j>>>24,W=j>>>16&255,B=j&65535,!(I+N<=f);){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}c>>>=I,f-=I,r.back+=I}if(c>>>=N,f-=N,r.back+=N,W&64){e.msg="invalid distance code",r.mode=or;break}r.offset=B,r.extra=W&15,r.mode=Sg;case Sg:if(r.extra){for(y=r.extra;f<y;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=or;break}r.mode=Ag;case Ag:if(d===0)break e;if(h=w-d,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=or;break}h>r.wnext?(h-=r.wnext,_=r.wsize-h):_=r.wnext-h,h>r.length&&(h=r.length),O=r.window}else O=n,_=i-r.offset,h=r.length;h>d&&(h=d),d-=h,r.length-=h;do n[i++]=O[_++];while(--h);r.length===0&&(r.mode=Cd);break;case Cg:if(d===0)break e;n[i++]=r.length,d--,r.mode=Cd;break;case _u:if(r.wrap){for(;f<32;){if(l===0)break e;l--,c|=s[o++]<<f,f+=8}if(w-=d,e.total_out+=w,r.total+=w,r.wrap&4&&w&&(e.adler=r.check=r.flags?wa(r.check,n,w,i-w):d0(r.check,n,w,i-w)),w=d,r.wrap&4&&(r.flags?c:Ng(c))!==r.check){e.msg="incorrect data check",r.mode=or;break}c=0,f=0}r.mode=Pg;case Pg:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,c+=s[o++]<<f,f+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=or;break}c=0,f=0}r.mode=Lg;case Lg:x=y8;break e;case or:x=Sm;break e;case Cm:return Am;case Pm:default:return Ks}return e.next_out=i,e.avail_out=d,e.next_in=o,e.avail_in=l,r.hold=c,r.bits=f,(r.wsize||w!==e.avail_out&&r.mode<or&&(r.mode<_u||t!==og))&&Mm(e,e.output,e.next_out,w-e.avail_out),b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,r.total+=w,r.wrap&4&&w&&(e.adler=r.check=r.flags?wa(r.check,n,w,e.next_out-w):d0(r.check,n,w,e.next_out-w)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ka?128:0)+(r.mode===Ad||r.mode===wu?256:0),(b===0&&w===0||t===og)&&x===Ao&&(x=w8),x},E8=e=>{if(Co(e))return Ks;let t=e.state;return t.window&&(t.window=null),e.state=null,Ao},M8=(e,t)=>{if(Co(e))return Ks;const r=e.state;return(r.wrap&2)===0?Ks:(r.head=t,t.done=!1,Ao)},I8=(e,t)=>{const r=t.length;let s,n,o;return Co(e)||(s=e.state,s.wrap!==0&&s.mode!==sc)?Ks:s.mode===sc&&(n=1,n=d0(n,t,r,0),n!==s.check)?Sm:(o=Mm(e,t,r,r),o?(s.mode=Cm,Am):(s.havedict=1,Ao))};var T8=Nm,D8=$m,R8=Lm,O8=L8,F8=Em,j8=$8,U8=E8,B8=M8,q8=I8,z8="pako inflate (from Nodeca project)",Za={inflateReset:T8,inflateReset2:D8,inflateResetKeep:R8,inflateInit:O8,inflateInit2:F8,inflate:j8,inflateEnd:U8,inflateGetHeader:B8,inflateSetDictionary:q8,inflateInfo:z8};function H8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var V8=H8;const Im=Object.prototype.toString,{Z_NO_FLUSH:W8,Z_FINISH:G8,Z_OK:Ml,Z_STREAM_END:Cu,Z_NEED_DICT:Pu,Z_STREAM_ERROR:K8,Z_DATA_ERROR:Eg,Z_MEM_ERROR:Y8}=xm;function Ul(e){this.options=ym.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c8,this.strm.avail_out=0;let r=Za.inflateInit2(this.strm,t.windowBits);if(r!==Ml)throw new Error(c0[r]);if(this.header=new V8,Za.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=u0.string2buf(t.dictionary):Im.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Za.inflateSetDictionary(this.strm,t.dictionary),r!==Ml)))throw new Error(c0[r])}Ul.prototype.push=function(e,t){const r=this.strm,s=this.options.chunkSize,n=this.options.dictionary;let o,i,l;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?G8:W8,Im.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),o=Za.inflate(r,i),o===Pu&&n&&(o=Za.inflateSetDictionary(r,n),o===Ml?o=Za.inflate(r,i):o===Eg&&(o=Pu));r.avail_in>0&&o===Cu&&r.state.wrap>0&&e[r.next_in]!==0;)Za.inflateReset(r),o=Za.inflate(r,i);switch(o){case K8:case Eg:case Pu:case Y8:return this.onEnd(o),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||o===Cu))if(this.options.to==="string"){let d=u0.utf8border(r.output,r.next_out),c=r.next_out-d,f=u0.buf2string(r.output,d);r.next_out=c,r.avail_out=s-c,c&&r.output.set(r.output.subarray(d,d+c),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Ml&&l===0)){if(o===Cu)return o=Za.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Ul.prototype.onData=function(e){this.chunks.push(e)};Ul.prototype.onEnd=function(e){e===Ml&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ym.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function J8(e,t){const r=new Ul(t);if(r.push(e),r.err)throw r.msg||c0[r.err];return r.result}var Z8=Ul,X8=J8,Q8={Inflate:Z8,inflate:X8};const{Inflate:e_,inflate:t_}=Q8;var Mg=e_,r_=t_;const Tm=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Tm[e]=t}const Ig=4294967295;function s_(e,t,r){let s=e;for(let n=0;n<r;n++)s=Tm[(s^t[n])&255]^s>>>8;return s}function a_(e,t){return(s_(Ig,e,t)^Ig)>>>0}function Tg(e,t,r){const s=e.readUint32(),n=a_(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==s)throw new Error(`CRC mismatch for chunk ${r}. Expected ${s}, found ${n}`)}function Dm(e,t,r){for(let s=0;s<r;s++)t[s]=e[s]}function Rm(e,t,r,s){let n=0;for(;n<s;n++)t[n]=e[n];for(;n<r;n++)t[n]=e[n]+t[n-s]&255}function Om(e,t,r,s){let n=0;if(r.length===0)for(;n<s;n++)t[n]=e[n];else for(;n<s;n++)t[n]=e[n]+r[n]&255}function Fm(e,t,r,s,n){let o=0;if(r.length===0){for(;o<n;o++)t[o]=e[o];for(;o<s;o++)t[o]=e[o]+(t[o-n]>>1)&255}else{for(;o<n;o++)t[o]=e[o]+(r[o]>>1)&255;for(;o<s;o++)t[o]=e[o]+(t[o-n]+r[o]>>1)&255}}function jm(e,t,r,s,n){let o=0;if(r.length===0){for(;o<n;o++)t[o]=e[o];for(;o<s;o++)t[o]=e[o]+t[o-n]&255}else{for(;o<n;o++)t[o]=e[o]+r[o]&255;for(;o<s;o++)t[o]=e[o]+n_(t[o-n],r[o],r[o-n])&255}}function n_(e,t,r){const s=e+t-r,n=Math.abs(s-e),o=Math.abs(s-t),i=Math.abs(s-r);return n<=o&&n<=i?e:o<=i?t:r}function o_(e,t,r,s,n,o){switch(e){case 0:Dm(t,r,n);break;case 1:Rm(t,r,n,o);break;case 2:Om(t,r,s,n);break;case 3:Fm(t,r,s,n,o);break;case 4:jm(t,r,s,n,o);break;default:throw new Error(`Unsupported filter: ${e}`)}}const i_=new Uint16Array([255]),l_=new Uint8Array(i_.buffer),d_=l_[0]===255;function c_(e){const{data:t,width:r,height:s,channels:n,depth:o}=e,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(o/8)*n,d=new Uint8Array(s*r*l);let c=0;for(let f=0;f<7;f++){const b=i[f],w=Math.ceil((r-b.x)/b.xStep),h=Math.ceil((s-b.y)/b.yStep);if(w<=0||h<=0)continue;const _=w*l,O=new Uint8Array(_);for(let j=0;j<h;j++){const N=t[c++],W=t.subarray(c,c+_);c+=_;const B=new Uint8Array(_);o_(N,W,B,O,_,l),O.set(B);for(let I=0;I<w;I++){const R=b.x+I*b.xStep,K=b.y+j*b.yStep;if(!(R>=r||K>=s))for(let U=0;U<l;U++)d[(K*r+R)*l+U]=B[I*l+U]}}}if(o===16){const f=new Uint16Array(d.buffer);if(d_)for(let b=0;b<f.length;b++)f[b]=u_(f[b]);return f}else return d}function u_(e){return(e&255)<<8|e>>8&255}const f_=new Uint16Array([255]),h_=new Uint8Array(f_.buffer),g_=h_[0]===255,p_=new Uint8Array(0);function Dg(e){const{data:t,width:r,height:s,channels:n,depth:o}=e,i=Math.ceil(o/8)*n,l=Math.ceil(o/8*n*r),d=new Uint8Array(s*l);let c=p_,f=0,b,w;for(let h=0;h<s;h++){switch(b=t.subarray(f+1,f+1+l),w=d.subarray(h*l,(h+1)*l),t[f]){case 0:Dm(b,w,l);break;case 1:Rm(b,w,l,i);break;case 2:Om(b,w,c,l);break;case 3:Fm(b,w,c,l,i);break;case 4:jm(b,w,c,l,i);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}c=w,f+=l+1}if(o===16){const h=new Uint16Array(d.buffer);if(g_)for(let _=0;_<h.length;_++)h[_]=m_(h[_]);return h}else return d}function m_(e){return(e&255)<<8|e>>8&255}const Ud=Uint8Array.of(137,80,78,71,13,10,26,10);function Rg(e){if(!b_(e.readBytes(Ud.length)))throw new Error("wrong PNG signature")}function b_(e){if(e.length<Ud.length)return!1;for(let t=0;t<Ud.length;t++)if(e[t]!==Ud[t])return!1;return!0}const v_="tEXt",x_=0,Um=new TextDecoder("latin1");function y_(e){if(w_(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const k_=/^[\u0000-\u00FF]*$/;function w_(e){if(!k_.test(e))throw new Error("invalid latin1 text")}function __(e,t,r){const s=Bm(t);e[s]=S_(t,r-s.length-1)}function Bm(e){for(e.mark();e.readByte()!==x_;);const t=e.offset;e.reset();const r=Um.decode(e.readBytes(t-e.offset-1));return e.skip(1),y_(r),r}function S_(e,t){return Um.decode(e.readBytes(t))}const As={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Lu={UNKNOWN:-1,DEFLATE:0},Og={UNKNOWN:-1,ADAPTIVE:0},Nu={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Pd={NONE:0,BACKGROUND:1,PREVIOUS:2},$u={SOURCE:0,OVER:1};class A_ extends z0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new Mg,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Lu.UNKNOWN,this._filterMethod=Og.UNKNOWN,this._interlaceMethod=Nu.UNKNOWN,this._colorType=As.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Rg(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(Rg(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case v_:__(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Tg(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Tg(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=C_(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case As.GREYSCALE:s=1;break;case As.TRUECOLOUR:s=3;break;case As.INDEXED_COLOUR:s=1;break;case As.GREYSCALE_ALPHA:s=2;break;case As.TRUECOLOUR_ALPHA:s=4;break;case As.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Lu.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let n=0;n<r;n++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case As.GREYSCALE:case As.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case As.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case As.UNKNOWN:case As.GREYSCALE_ALPHA:case As.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=Bm(this),s=this.readUint8();if(s!==Lu.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const n=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:r_(n)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=Dg({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(s,n,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,s){switch(t.disposeOp){case Pd.NONE:break;case Pd.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let o=0;o<this._png.width;o++){const i=(n*t.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[i+l]=0}break;case Pd.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const s=1<<this._png.depth,n=(o,i)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+i)*this._png.channels,d=(o*r.width+i)*this._png.channels;return{index:l,frameIndex:d}};switch(r.blendOp){case $u.SOURCE:for(let o=0;o<r.height;o++)for(let i=0;i<r.width;i++){const{index:l,frameIndex:d}=n(o,i);for(let c=0;c<this._png.channels;c++)t.data[l+c]=r.data[d+c]}break;case $u.OVER:for(let o=0;o<r.height;o++)for(let i=0;i<r.width;i++){const{index:l,frameIndex:d}=n(o,i);for(let c=0;c<this._png.channels;c++){const f=r.data[d+this._png.channels-1]/s,b=c%(this._png.channels-1)===0?1:r.data[d+c],w=Math.floor(f*b+(1-f)*t.data[l+c]);t.data[l+c]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Og.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Nu.NO_INTERLACE)this._png.data=Dg({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Nu.ADAM7)this._png.data=c_({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Pd.NONE,blendOp:$u.SOURCE,data:t}),this._inflator=new Mg,this._writingDataChunks=!1}}function C_(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var Fg;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(Fg||(Fg={}));function P_(e,t){return new A_(e,t).decode()}var yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Eu(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var Jt={log:Eu,warn:function(e){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):Eu.call(null,arguments))},error:function(e){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):Eu(e))}};function Mu(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){fo(s.response,t,r)},s.onerror=function(){Jt.error("could not download file")},s.send()}function jg(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ld(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var fo=yt.saveAs||((typeof window>"u"?"undefined":Wt(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var s=yt.URL||yt.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?jg(n.href)?Mu(e,t,r):Ld(n,n.target="_blank"):Ld(n)):(n.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(n.href)},4e4),setTimeout(function(){Ld(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(jg(e))Mu(e,t,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Ld(s)})}else navigator.msSaveOrOpenBlob((function(n,o){return o===void 0?o={autoBom:!1}:Wt(o)!=="object"&&(Jt.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,r),t)}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return Mu(e,t,r);var n=e.type==="application/octet-stream",o=/constructor/i.test(yt.HTMLElement)||yt.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||n&&o)&&(typeof FileReader>"u"?"undefined":Wt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=i?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=f:location=f,s=null},l.readAsDataURL(e)}else{var d=yt.URL||yt.webkitURL,c=d.createObjectURL(e);s?s.location=c:location.href=c,s=null,setTimeout(function(){d.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function qm(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var n=r[s].re,o=r[s].process,i=n.exec(e);i&&(t=o(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),d=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),c.length==1&&(c="0"+c),"#"+l+d+c}}var Bd=yt.atob.bind(yt),Ug=yt.btoa.bind(yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Iu(e,t){var r=e[0],s=e[1],n=e[2],o=e[3];r=Zr(r,s,n,o,t[0],7,-680876936),o=Zr(o,r,s,n,t[1],12,-389564586),n=Zr(n,o,r,s,t[2],17,606105819),s=Zr(s,n,o,r,t[3],22,-1044525330),r=Zr(r,s,n,o,t[4],7,-176418897),o=Zr(o,r,s,n,t[5],12,1200080426),n=Zr(n,o,r,s,t[6],17,-1473231341),s=Zr(s,n,o,r,t[7],22,-45705983),r=Zr(r,s,n,o,t[8],7,1770035416),o=Zr(o,r,s,n,t[9],12,-1958414417),n=Zr(n,o,r,s,t[10],17,-42063),s=Zr(s,n,o,r,t[11],22,-1990404162),r=Zr(r,s,n,o,t[12],7,1804603682),o=Zr(o,r,s,n,t[13],12,-40341101),n=Zr(n,o,r,s,t[14],17,-1502002290),r=Xr(r,s=Zr(s,n,o,r,t[15],22,1236535329),n,o,t[1],5,-165796510),o=Xr(o,r,s,n,t[6],9,-1069501632),n=Xr(n,o,r,s,t[11],14,643717713),s=Xr(s,n,o,r,t[0],20,-373897302),r=Xr(r,s,n,o,t[5],5,-701558691),o=Xr(o,r,s,n,t[10],9,38016083),n=Xr(n,o,r,s,t[15],14,-660478335),s=Xr(s,n,o,r,t[4],20,-405537848),r=Xr(r,s,n,o,t[9],5,568446438),o=Xr(o,r,s,n,t[14],9,-1019803690),n=Xr(n,o,r,s,t[3],14,-187363961),s=Xr(s,n,o,r,t[8],20,1163531501),r=Xr(r,s,n,o,t[13],5,-1444681467),o=Xr(o,r,s,n,t[2],9,-51403784),n=Xr(n,o,r,s,t[7],14,1735328473),r=Qr(r,s=Xr(s,n,o,r,t[12],20,-1926607734),n,o,t[5],4,-378558),o=Qr(o,r,s,n,t[8],11,-2022574463),n=Qr(n,o,r,s,t[11],16,1839030562),s=Qr(s,n,o,r,t[14],23,-35309556),r=Qr(r,s,n,o,t[1],4,-1530992060),o=Qr(o,r,s,n,t[4],11,1272893353),n=Qr(n,o,r,s,t[7],16,-155497632),s=Qr(s,n,o,r,t[10],23,-1094730640),r=Qr(r,s,n,o,t[13],4,681279174),o=Qr(o,r,s,n,t[0],11,-358537222),n=Qr(n,o,r,s,t[3],16,-722521979),s=Qr(s,n,o,r,t[6],23,76029189),r=Qr(r,s,n,o,t[9],4,-640364487),o=Qr(o,r,s,n,t[12],11,-421815835),n=Qr(n,o,r,s,t[15],16,530742520),r=es(r,s=Qr(s,n,o,r,t[2],23,-995338651),n,o,t[0],6,-198630844),o=es(o,r,s,n,t[7],10,1126891415),n=es(n,o,r,s,t[14],15,-1416354905),s=es(s,n,o,r,t[5],21,-57434055),r=es(r,s,n,o,t[12],6,1700485571),o=es(o,r,s,n,t[3],10,-1894986606),n=es(n,o,r,s,t[10],15,-1051523),s=es(s,n,o,r,t[1],21,-2054922799),r=es(r,s,n,o,t[8],6,1873313359),o=es(o,r,s,n,t[15],10,-30611744),n=es(n,o,r,s,t[6],15,-1560198380),s=es(s,n,o,r,t[13],21,1309151649),r=es(r,s,n,o,t[4],6,-145523070),o=es(o,r,s,n,t[11],10,-1120210379),n=es(n,o,r,s,t[2],15,718787259),s=es(s,n,o,r,t[9],21,-343485551),e[0]=En(r,e[0]),e[1]=En(s,e[1]),e[2]=En(n,e[2]),e[3]=En(o,e[3])}function wc(e,t,r,s,n,o){return t=En(En(t,e),En(s,o)),En(t<<n|t>>>32-n,r)}function Zr(e,t,r,s,n,o,i){return wc(t&r|~t&s,e,t,n,o,i)}function Xr(e,t,r,s,n,o,i){return wc(t&s|r&~s,e,t,n,o,i)}function Qr(e,t,r,s,n,o,i){return wc(t^r^s,e,t,n,o,i)}function es(e,t,r,s,n,o,i){return wc(r^(t|~s),e,t,n,o,i)}function zm(e){var t,r=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Iu(s,L_(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(Iu(s,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,Iu(s,n),s}function L_(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var Bg="0123456789abcdef".split("");function N_(e){for(var t="",r=0;r<4;r++)t+=Bg[e>>8*r+4&15]+Bg[e>>8*r&15];return t}function $_(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function f0(e){return zm(e).map($_).join("")}var E_=(function(e){for(var t=0;t<e.length;t++)e[t]=N_(e[t]);return e.join("")})(zm("hello"))!="5d41402abc4b2a76b9719d911017c592";function En(e,t){if(E_){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function h0(e,t){var r,s,n,o;if(e!==r){for(var i=(n=e,o=1+(256/e.length|0),new Array(o+1).join(n)),l=[],d=0;d<256;d++)l[d]=d;var c=0;for(d=0;d<256;d++){var f=l[d];c=(c+f+i.charCodeAt(d))%256,l[d]=l[c],l[c]=f}r=e,s=l}else l=s;var b=t.length,w=0,h=0,_="";for(d=0;d<b;d++)h=(h+(f=l[w=(w+1)%256]))%256,l[w]=l[h],l[h]=f,i=l[(l[w]+l[h])%256],_+=String.fromCharCode(t.charCodeAt(d)^i);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qg={print:4,modify:8,copy:16,"annot-forms":32};function Xo(e,t,r,s){this.v=1,this.r=2;var n=192;e.forEach(function(l){if(qg.perm!==void 0)throw new Error("Invalid permission: "+l);n+=qg[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,i),this.P=-(1+(255^n)),this.encryptionKey=f0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=h0(this.encryptionKey,this.padding)}function Qo(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,s=0;s<r;s++){var n=e.charCodeAt(s);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[s]}return t}function zg(e){if(Wt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,s,n){if(n=n||!1,typeof r!="string"||typeof s!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var o=Math.random().toString(35);return t[r][o]=[s,!!n],o},this.unsubscribe=function(r){for(var s in t)if(t[s][r])return delete t[s][r],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),n=[];for(var o in t[r]){var i=t[r][o];try{i[0].apply(e,s)}catch(l){yt.console&&Jt.error("jsPDF PubSub Error",l.message,l)}i[1]&&n.push(o)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Il(e){if(!(this instanceof Il))return new Il(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Hm(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function $n(e,t,r,s,n){if(!(this instanceof $n))return new $n(e,t,r,s,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Hm.call(this,s,n)}function go(e,t,r,s,n){if(!(this instanceof go))return new go(e,t,r,s,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Hm.call(this,s,n)}function ct(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],n=arguments[2],o=arguments[3],i=[],l=1,d=16,c="S",f=null;Wt(e=e||{})==="object"&&(r=e.orientation,s=e.unit||s,n=e.format||n,o=e.compress||e.compressPdf||o,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),c=e.defaultPathOperation||"S"),i=e.filters||(o===!0?["FlateEncode"]:i),s=s||"mm",r=(""+(r||"P")).toLowerCase();var b=e.putOnlyUsedFonts||!1,w={},h={internal:{},__private__:{}};h.__private__.PubSub=zg;var _="1.3",O=h.__private__.getPdfVersion=function(){return _};h.__private__.setPdfVersion=function(v){_=v};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return j};var N=h.__private__.getPageFormat=function(v){return j[v]};n=n||"a4";var W="compat",B="advanced",I=W;function R(){this.saveGraphicsState(),T(new bt(tt,0,0,-tt,0,bs()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),c="n",I=B}function K(){this.restoreGraphicsState(),c="S",I=W}var U=h.__private__.combineFontStyleAndFontWeight=function(v,J){if(v=="bold"&&J=="normal"||v=="bold"&&J==400||v=="normal"&&J=="italic"||v=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(v=J==400||J==="normal"?v==="italic"?"italic":"normal":J!=700&&J!=="bold"||v!=="normal"?(J==700?"bold":J)+""+v:"bold"),v};h.advancedAPI=function(v){var J=I===W;return J&&R.call(this),typeof v!="function"||(v(this),J&&K.call(this)),this},h.compatAPI=function(v){var J=I===B;return J&&K.call(this),typeof v!="function"||(v(this),J&&R.call(this)),this},h.isAdvancedAPI=function(){return I===B};var x,p=function(v){if(I!==B)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=h.roundToPrecision=h.__private__.roundToPrecision=function(v,J){var fe=t||J;if(isNaN(v)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(fe).replace(/0+$/,"")};x=h.hpf=h.__private__.hpf=typeof d=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return E(v,d)}:d==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return E(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return E(v,16)};var y=h.f2=h.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return E(v,2)},A=h.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return E(v,3)},H=h.scale=h.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return I===W?v*tt:I===B?v:void 0},F=function(v){return H((function(J){return I===W?bs()-J:I===B?J:void 0})(v))};h.__private__.setPrecision=h.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var ae,ge="00000000000000000000000000000000",he=h.__private__.getFileId=function(){return ge},Z=h.__private__.setFileId=function(v){return ge=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(gr=new Xo(f.userPermissions,f.userPassword,f.ownerPassword,ge)),ge};h.setFileId=function(v){return Z(v),this},h.getFileId=function(){return he()};var M=h.__private__.convertDateToPDFDate=function(v){var J=v.getTimezoneOffset(),fe=J<0?"+":"-",be=Math.floor(Math.abs(J/60)),Ae=Math.abs(J%60),je=[fe,L(be),"'",L(Ae),"'"].join("");return["D:",v.getFullYear(),L(v.getMonth()+1),L(v.getDate()),L(v.getHours()),L(v.getMinutes()),L(v.getSeconds()),je].join("")},z=h.__private__.convertPDFDateToDate=function(v){var J=parseInt(v.substr(2,4),10),fe=parseInt(v.substr(6,2),10)-1,be=parseInt(v.substr(8,2),10),Ae=parseInt(v.substr(10,2),10),je=parseInt(v.substr(12,2),10),Ve=parseInt(v.substr(14,2),10);return new Date(J,fe,be,Ae,je,Ve,0)},S=h.__private__.setCreationDate=function(v){var J;if(v===void 0&&(v=new Date),v instanceof Date)J=M(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=v}return ae=J},m=h.__private__.getCreationDate=function(v){var J=ae;return v==="jsDate"&&(J=z(ae)),J};h.setCreationDate=function(v){return S(v),this},h.getCreationDate=function(v){return m(v)};var C,L=h.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},$=h.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},V=0,q=[],te=[],oe=0,pe=[],we=[],re=!1,ie=te;h.__private__.setCustomOutputDestination=function(v){re=!0,ie=v};var ne=function(v){re||(ie=v)};h.__private__.resetCustomOutputDestination=function(){re=!1,ie=te};var T=h.__private__.out=function(v){return v=v.toString(),oe+=v.length+1,ie.push(v),ie},de=h.__private__.write=function(v){return T(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},me=h.__private__.getArrayBuffer=function(v){for(var J=v.length,fe=new ArrayBuffer(J),be=new Uint8Array(fe);J--;)be[J]=v.charCodeAt(J);return fe},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ke};var ve=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(v){return ve=I===B?v/tt:v,this};var $e,Se=h.__private__.getFontSize=h.getFontSize=function(){return I===W?ve:ve*tt},qe=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(v){return qe=v,this},h.__private__.getR2L=h.getR2L=function(){return qe};var Te,Oe=h.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))$e=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');$e=v}else $e=parseInt(v,10)};h.__private__.getZoomMode=function(){return $e};var Be,ze=h.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Te=v};h.__private__.getPageMode=function(){return Te};var et=h.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Be=v};h.__private__.getLayoutMode=function(){return Be},h.__private__.setDisplayMode=h.setDisplayMode=function(v,J,fe){return Oe(v),et(J),ze(fe),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(v){if(Object.keys(Ke).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[v]},h.__private__.getDocumentProperties=function(){return Ke},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(v){for(var J in Ke)Ke.hasOwnProperty(J)&&v[J]&&(Ke[J]=v[J]);return this},h.__private__.setDocumentProperty=function(v,J){if(Object.keys(Ke).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[v]=J};var Ze,tt,Xe,vt,At,ot={},ht={},Mt=[],mt={},It={},Ct={},hr={},Lr=null,Kt=0,kt=[],Bt=new zg(h),zn=e.hotfixes||[],Yr={},$a={},ua=[],bt=function v(J,fe,be,Ae,je,Ve){if(!(this instanceof v))return new v(J,fe,be,Ae,je,Ve);isNaN(J)&&(J=1),isNaN(fe)&&(fe=0),isNaN(be)&&(be=0),isNaN(Ae)&&(Ae=1),isNaN(je)&&(je=0),isNaN(Ve)&&(Ve=0),this._matrix=[J,fe,be,Ae,je,Ve]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(x).join(v)},bt.prototype.multiply=function(v){var J=v.sx*this.sx+v.shy*this.shx,fe=v.sx*this.shy+v.shy*this.sy,be=v.shx*this.sx+v.sy*this.shx,Ae=v.shx*this.shy+v.sy*this.sy,je=v.tx*this.sx+v.ty*this.shx+this.tx,Ve=v.tx*this.shy+v.ty*this.sy+this.ty;return new bt(J,fe,be,Ae,je,Ve)},bt.prototype.decompose=function(){var v=this.sx,J=this.shy,fe=this.shx,be=this.sy,Ae=this.tx,je=this.ty,Ve=Math.sqrt(v*v+J*J),it=(v/=Ve)*fe+(J/=Ve)*be;fe-=v*it,be-=J*it;var ut=Math.sqrt(fe*fe+be*be);return it/=ut,v*(be/=ut)<J*(fe/=ut)&&(v=-v,J=-J,it=-it,Ve=-Ve),{scale:new bt(Ve,0,0,ut,0,0),translate:new bt(1,0,0,1,Ae,je),rotate:new bt(v,J,-J,v,0,0),skew:new bt(1,0,it,1,0,0)}},bt.prototype.toString=function(v){return this.join(" ")},bt.prototype.inversed=function(){var v=this.sx,J=this.shy,fe=this.shx,be=this.sy,Ae=this.tx,je=this.ty,Ve=1/(v*be-J*fe),it=be*Ve,ut=-J*Ve,xt=-fe*Ve,Lt=v*Ve;return new bt(it,ut,xt,Lt,-it*Ae-xt*je,-ut*Ae-Lt*je)},bt.prototype.applyToPoint=function(v){var J=v.x*this.sx+v.y*this.shx+this.tx,fe=v.x*this.shy+v.y*this.sy+this.ty;return new Qn(J,fe)},bt.prototype.applyToRectangle=function(v){var J=this.applyToPoint(v),fe=this.applyToPoint(new Qn(v.x+v.w,v.y+v.h));return new $i(J.x,J.y,fe.x-J.x,fe.y-J.y)},bt.prototype.clone=function(){var v=this.sx,J=this.shy,fe=this.shx,be=this.sy,Ae=this.tx,je=this.ty;return new bt(v,J,fe,be,Ae,je)},h.Matrix=bt;var Ea=h.matrixMult=function(v,J){return J.multiply(v)},Ma=new bt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ma;var Es=function(v,J){if(!It[v]){var fe=(J instanceof $n?"Sh":"P")+(Object.keys(mt).length+1).toString(10);J.id=fe,It[v]=fe,mt[fe]=J,Bt.publish("addPattern",J)}};h.ShadingPattern=$n,h.TilingPattern=go,h.addShadingPattern=function(v,J){return p("addShadingPattern()"),Es(v,J),this},h.beginTilingPattern=function(v){p("beginTilingPattern()"),Ei(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},h.endTilingPattern=function(v,J){p("endTilingPattern()"),J.stream=we[C].join(`
`),Es(v,J),Bt.publish("endTilingPattern",J),ua.pop().restore()};var Ms,lr=h.__private__.newObject=function(){var v=Or();return Ur(v,!0),v},Or=h.__private__.newObjectDeferred=function(){return V++,q[V]=function(){return oe},V},Ur=function(v,J){return J=typeof J=="boolean"&&J,q[v]=oe,J&&T(v+" 0 obj"),v},Hn=h.__private__.newAdditionalObject=function(){var v={objId:Or(),content:""};return pe.push(v),v},ln=Or(),Ys=Or(),fa=h.__private__.decodeColorString=function(v){var J=v.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var fe=parseFloat(J[0]);J=[fe,fe,fe,"r"]}for(var be="#",Ae=0;Ae<3;Ae++)be+=("0"+Math.floor(255*parseFloat(J[Ae])).toString(16)).slice(-2);return be},Js=h.__private__.encodeColorString=function(v){var J;typeof v=="string"&&(v={ch1:v});var fe=v.ch1,be=v.ch2,Ae=v.ch3,je=v.ch4,Ve=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var it=new qm(fe);if(it.ok)fe=it.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var ut=parseInt(fe.substr(1),16);fe=ut>>16&255,be=ut>>8&255,Ae=255&ut}if(be===void 0||je===void 0&&fe===be&&be===Ae)J=typeof fe=="string"?fe+" "+Ve[0]:v.precision===2?y(fe/255)+" "+Ve[0]:A(fe/255)+" "+Ve[0];else if(je===void 0||Wt(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return["1.","1.","1.",Ve[1]].join(" ");J=typeof fe=="string"?[fe,be,Ae,Ve[1]].join(" "):v.precision===2?[y(fe/255),y(be/255),y(Ae/255),Ve[1]].join(" "):[A(fe/255),A(be/255),A(Ae/255),Ve[1]].join(" ")}else J=typeof fe=="string"?[fe,be,Ae,je,Ve[2]].join(" "):v.precision===2?[y(fe),y(be),y(Ae),y(je),Ve[2]].join(" "):[A(fe),A(be),A(Ae),A(je),Ve[2]].join(" ");return J},Zs=h.__private__.getFilters=function(){return i},Is=h.__private__.putStream=function(v){var J=(v=v||{}).data||"",fe=v.filters||Zs(),be=v.alreadyAppliedFilters||[],Ae=v.addLength1||!1,je=J.length,Ve=v.objectId,it=function(Nr){return Nr};if(f!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(it=gr.encryptor(Ve,0));var ut={};fe===!0&&(fe=["FlateEncode"]);var xt=v.additionalKeyValues||[],Lt=(ut=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(J,fe):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(ut.data.length!==0&&(xt.push({key:"Length",value:ut.data.length}),Ae===!0&&xt.push({key:"Length1",value:je})),Lt.length!=0)if(Lt.split("/").length-1==1)xt.push({key:"Filter",value:Lt});else{xt.push({key:"Filter",value:"["+Lt+"]"});for(var jt=0;jt<xt.length;jt+=1)if(xt[jt].key==="DecodeParms"){for(var ir=[],Ar=0;Ar<ut.reverseChain.split("/").length-1;Ar+=1)ir.push("null");ir.push(xt[jt].value),xt[jt].value="["+ir.join(" ")+"]"}}T("<<");for(var Gt=0;Gt<xt.length;Gt++)T("/"+xt[Gt].key+" "+xt[Gt].value);T(">>"),ut.data.length!==0&&(T("stream"),T(it(ut.data)),T("endstream"))},Vn=h.__private__.putPage=function(v){var J=v.number,fe=v.data,be=v.objId,Ae=v.contentsObjId;Ur(be,!0),T("<</Type /Page"),T("/Parent "+v.rootDictionaryObjId+" 0 R"),T("/Resources "+v.resourceDictionaryObjId+" 0 R"),T("/MediaBox ["+parseFloat(x(v.mediaBox.bottomLeftX))+" "+parseFloat(x(v.mediaBox.bottomLeftY))+" "+x(v.mediaBox.topRightX)+" "+x(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&T("/CropBox ["+x(v.cropBox.bottomLeftX)+" "+x(v.cropBox.bottomLeftY)+" "+x(v.cropBox.topRightX)+" "+x(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&T("/BleedBox ["+x(v.bleedBox.bottomLeftX)+" "+x(v.bleedBox.bottomLeftY)+" "+x(v.bleedBox.topRightX)+" "+x(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&T("/TrimBox ["+x(v.trimBox.bottomLeftX)+" "+x(v.trimBox.bottomLeftY)+" "+x(v.trimBox.topRightX)+" "+x(v.trimBox.topRightY)+"]"),v.artBox!==null&&T("/ArtBox ["+x(v.artBox.bottomLeftX)+" "+x(v.artBox.bottomLeftY)+" "+x(v.artBox.topRightX)+" "+x(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&T("/UserUnit "+v.userUnit),Bt.publish("putPage",{objId:be,pageContext:kt[J],pageNumber:J,page:fe}),T("/Contents "+Ae+" 0 R"),T(">>"),T("endobj");var je=fe.join(`
`);return I===B&&(je+=`
Q`),Ur(Ae,!0),Is({data:je,filters:Zs(),objectId:Ae}),T("endobj"),be},ha=h.__private__.putPages=function(){var v,J,fe=[];for(v=1;v<=Kt;v++)kt[v].objId=Or(),kt[v].contentsObjId=Or();for(v=1;v<=Kt;v++)fe.push(Vn({number:v,data:we[v],objId:kt[v].objId,contentsObjId:kt[v].contentsObjId,mediaBox:kt[v].mediaBox,cropBox:kt[v].cropBox,bleedBox:kt[v].bleedBox,trimBox:kt[v].trimBox,artBox:kt[v].artBox,userUnit:kt[v].userUnit,rootDictionaryObjId:ln,resourceDictionaryObjId:Ys}));Ur(ln,!0),T("<</Type /Pages");var be="/Kids [";for(J=0;J<Kt;J++)be+=fe[J]+" 0 R ";T(be+"]"),T("/Count "+Kt),T(">>"),T("endobj"),Bt.publish("postPutPages")},Wn=function(v){Bt.publish("putFont",{font:v,out:T,newObject:lr,putStream:Is}),v.isAlreadyPutted!==!0&&(v.objectNumber=lr(),T("<<"),T("/Type /Font"),T("/BaseFont /"+Qo(v.postScriptName)),T("/Subtype /Type1"),typeof v.encoding=="string"&&T("/Encoding /"+v.encoding),T("/FirstChar 32"),T("/LastChar 255"),T(">>"),T("endobj"))},Lo=function(v){v.objectNumber=lr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[x(v.x),x(v.y),x(v.x+v.width),x(v.y+v.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var fe=v.pages[1].join(`
`);Is({data:fe,additionalKeyValues:J,objectId:v.objectNumber}),T("endobj")},No=function(v,J){J||(J=21);var fe=lr(),be=(function(Ve,it){var ut,xt=[],Lt=1/(it-1);for(ut=0;ut<1;ut+=Lt)xt.push(ut);if(xt.push(1),Ve[0].offset!=0){var jt={offset:0,color:Ve[0].color};Ve.unshift(jt)}if(Ve[Ve.length-1].offset!=1){var ir={offset:1,color:Ve[Ve.length-1].color};Ve.push(ir)}for(var Ar="",Gt=0,Nr=0;Nr<xt.length;Nr++){for(ut=xt[Nr];ut>Ve[Gt+1].offset;)Gt++;var Cr=Ve[Gt].offset,Br=(ut-Cr)/(Ve[Gt+1].offset-Cr),Ra=Ve[Gt].color,un=Ve[Gt+1].color;Ar+=$(Math.round((1-Br)*Ra[0]+Br*un[0]).toString(16))+$(Math.round((1-Br)*Ra[1]+Br*un[1]).toString(16))+$(Math.round((1-Br)*Ra[2]+Br*un[2]).toString(16))}return Ar.trim()})(v.colors,J),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+J+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Is({data:be,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),T("endobj"),v.objectNumber=lr(),T("<< /ShadingType "+v.type),T("/ColorSpace /DeviceRGB");var je="/Coords ["+x(parseFloat(v.coords[0]))+" "+x(parseFloat(v.coords[1]))+" ";v.type===2?je+=x(parseFloat(v.coords[2]))+" "+x(parseFloat(v.coords[3])):je+=x(parseFloat(v.coords[2]))+" "+x(parseFloat(v.coords[3]))+" "+x(parseFloat(v.coords[4]))+" "+x(parseFloat(v.coords[5])),T(je+="]"),v.matrix&&T("/Matrix ["+v.matrix.toString()+"]"),T("/Function "+fe+" 0 R"),T("/Extend [true true]"),T(">>"),T("endobj")},$o=function(v,J){var fe=Or(),be=lr();J.push({resourcesOid:fe,objectOid:be}),v.objectNumber=be;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+v.boundingBox.map(x).join(" ")+"]"}),Ae.push({key:"XStep",value:x(v.xStep)}),Ae.push({key:"YStep",value:x(v.yStep)}),Ae.push({key:"Resources",value:fe+" 0 R"}),v.matrix&&Ae.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Is({data:v.stream,additionalKeyValues:Ae,objectId:v.objectNumber}),T("endobj")},_c=function(v){for(var J in v.objectNumber=lr(),T("<<"),v)switch(J){case"opacity":T("/ca "+y(v[J]));break;case"stroke-opacity":T("/CA "+y(v[J]))}T(">>"),T("endobj")},yi=function(v){Ur(v.resourcesOid,!0),T("<<"),T("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in T("/Font <<"),ot)ot.hasOwnProperty(J)&&(b===!1||b===!0&&w.hasOwnProperty(J))&&T("/"+J+" "+ot[J].objectNumber+" 0 R");T(">>")})(),(function(){if(Object.keys(mt).length>0){for(var J in T("/Shading <<"),mt)mt.hasOwnProperty(J)&&mt[J]instanceof $n&&mt[J].objectNumber>=0&&T("/"+J+" "+mt[J].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),T(">>")}})(),(function(J){if(Object.keys(mt).length>0){for(var fe in T("/Pattern <<"),mt)mt.hasOwnProperty(fe)&&mt[fe]instanceof h.TilingPattern&&mt[fe].objectNumber>=0&&mt[fe].objectNumber<J&&T("/"+fe+" "+mt[fe].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),T(">>")}})(v.objectOid),(function(){if(Object.keys(Ct).length>0){var J;for(J in T("/ExtGState <<"),Ct)Ct.hasOwnProperty(J)&&Ct[J].objectNumber>=0&&T("/"+J+" "+Ct[J].objectNumber+" 0 R");Bt.publish("putGStateDict"),T(">>")}})(),(function(){for(var J in T("/XObject <<"),Yr)Yr.hasOwnProperty(J)&&Yr[J].objectNumber>=0&&T("/"+J+" "+Yr[J].objectNumber+" 0 R");Bt.publish("putXobjectDict"),T(">>")})(),T(">>"),T("endobj")},Bl=function(v){ht[v.fontName]=ht[v.fontName]||{},ht[v.fontName][v.fontStyle]=v.id},ql=function(v,J,fe,be,Ae){var je={id:"F"+(Object.keys(ot).length+1).toString(10),postScriptName:v,fontName:J,fontStyle:fe,encoding:be,isStandardFont:Ae||!1,metadata:{}};return Bt.publish("addFont",{font:je,instance:this}),ot[je.id]=je,Bl(je),je.id},Ts=h.__private__.pdfEscape=h.pdfEscape=function(v,J){return(function(fe,be){var Ae,je,Ve,it,ut,xt,Lt,jt,ir;if(Ve=(be=be||{}).sourceEncoding||"Unicode",ut=be.outputEncoding,(be.autoencode||ut)&&ot[Ze].metadata&&ot[Ze].metadata[Ve]&&ot[Ze].metadata[Ve].encoding&&(it=ot[Ze].metadata[Ve].encoding,!ut&&ot[Ze].encoding&&(ut=ot[Ze].encoding),!ut&&it.codePages&&(ut=it.codePages[0]),typeof ut=="string"&&(ut=it[ut]),ut)){for(Lt=!1,xt=[],Ae=0,je=fe.length;Ae<je;Ae++)(jt=ut[fe.charCodeAt(Ae)])?xt.push(String.fromCharCode(jt)):xt.push(fe[Ae]),xt[Ae].charCodeAt(0)>>8&&(Lt=!0);fe=xt.join("")}for(Ae=fe.length;Lt===void 0&&Ae!==0;)fe.charCodeAt(Ae-1)>>8&&(Lt=!0),Ae--;if(!Lt)return fe;for(xt=be.noBOM?[]:[254,255],Ae=0,je=fe.length;Ae<je;Ae++){if((ir=(jt=fe.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(ir),xt.push(jt-(ir<<8))}return String.fromCharCode.apply(void 0,xt)})(v,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ki=h.__private__.beginPage=function(v){we[++Kt]=[],kt[Kt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Hl(Kt),ne(we[C])},zl=function(v,J){var fe,be,Ae;switch(r=J||r,typeof v=="string"&&(fe=N(v.toLowerCase()),Array.isArray(fe)&&(be=fe[0],Ae=fe[1])),Array.isArray(v)&&(be=v[0]*tt,Ae=v[1]*tt),isNaN(be)&&(be=n[0],Ae=n[1]),(be>14400||Ae>14400)&&(Jt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Ae=Math.min(14400,Ae)),n=[be,Ae],r.substr(0,1)){case"l":Ae>be&&(n=[Ae,be]);break;case"p":be>Ae&&(n=[Ae,be])}ki(n),Mc(Ci),T(Mo),Li!==0&&T(Li+" J"),Ni!==0&&T(Ni+" j"),Bt.publish("addPage",{pageNumber:Kt})},wi=function(v){v>0&&v<=Kt&&(we.splice(v,1),kt.splice(v,1),Kt--,C>Kt&&(C=Kt),this.setPage(C))},Hl=function(v){v>0&&v<=Kt&&(C=v)},Vl=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return we.length-1},Wl=function(v,J,fe){var be,Ae=void 0;return fe=fe||{},v=v!==void 0?v:ot[Ze].fontName,J=J!==void 0?J:ot[Ze].fontStyle,be=v.toLowerCase(),ht[be]!==void 0&&ht[be][J]!==void 0?Ae=ht[be][J]:ht[v]!==void 0&&ht[v][J]!==void 0?Ae=ht[v][J]:fe.disableWarning===!1&&Jt.warn("Unable to look up font label for font '"+v+"', '"+J+"'. Refer to getFontList() for available fonts."),Ae||fe.noFallback||(Ae=ht.times[J])==null&&(Ae=ht.times.normal),Ae},Eo=h.__private__.putInfo=function(){var v=lr(),J=function(be){return be};for(var fe in f!==null&&(J=gr.encryptor(v,0)),T("<<"),T("/Producer ("+Ts(J("jsPDF "+ct.version))+")"),Ke)Ke.hasOwnProperty(fe)&&Ke[fe]&&T("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Ts(J(Ke[fe]))+")");T("/CreationDate ("+Ts(J(ae))+")"),T(">>"),T("endobj")},Sc=h.__private__.putCatalog=function(v){var J=(v=v||{}).rootDictionaryObjId||ln;switch(lr(),T("<<"),T("/Type /Catalog"),T("/Pages "+J+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":T("/OpenAction [3 0 R /FitH null]");break;case"fullheight":T("/OpenAction [3 0 R /FitV null]");break;case"fullpage":T("/OpenAction [3 0 R /Fit]");break;case"original":T("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+$e;fe.substr(fe.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&T("/OpenAction [3 0 R /XYZ null null "+y($e)+"]")}switch(Be||(Be="continuous"),Be){case"continuous":T("/PageLayout /OneColumn");break;case"single":T("/PageLayout /SinglePage");break;case"two":case"twoleft":T("/PageLayout /TwoColumnLeft");break;case"tworight":T("/PageLayout /TwoColumnRight")}Te&&T("/PageMode /"+Te),Bt.publish("putCatalog"),T(">>"),T("endobj")},Sr=h.__private__.putTrailer=function(){T("trailer"),T("<<"),T("/Size "+(V+1)),T("/Root "+V+" 0 R"),T("/Info "+(V-1)+" 0 R"),f!==null&&T("/Encrypt "+gr.oid+" 0 R"),T("/ID [ <"+ge+"> <"+ge+"> ]"),T(">>")},Gl=h.__private__.putHeader=function(){T("%PDF-"+_),T("%")},Kl=h.__private__.putXRef=function(){var v="0000000000";T("xref"),T("0 "+(V+1)),T("0000000000 65535 f ");for(var J=1;J<=V;J++)typeof q[J]=="function"?T((v+q[J]()).slice(-10)+" 00000 n "):q[J]!==void 0?T((v+q[J]).slice(-10)+" 00000 n "):T("0000000000 00000 n ")},Ia=h.__private__.buildDocument=function(){var v;V=0,oe=0,te=[],q=[],pe=[],ln=Or(),Ys=Or(),ne(te),Bt.publish("buildDocument"),Gl(),ha(),(function(){Bt.publish("putAdditionalObjects");for(var fe=0;fe<pe.length;fe++){var be=pe[fe];Ur(be.objId,!0),T(be.content),T("endobj")}Bt.publish("postPutAdditionalObjects")})(),v=[],(function(){for(var fe in ot)ot.hasOwnProperty(fe)&&(b===!1||b===!0&&w.hasOwnProperty(fe))&&Wn(ot[fe])})(),(function(){var fe;for(fe in Ct)Ct.hasOwnProperty(fe)&&_c(Ct[fe])})(),(function(){for(var fe in Yr)Yr.hasOwnProperty(fe)&&Lo(Yr[fe])})(),(function(fe){var be;for(be in mt)mt.hasOwnProperty(be)&&(mt[be]instanceof $n?No(mt[be]):mt[be]instanceof go&&$o(mt[be],fe))})(v),Bt.publish("putResources"),v.forEach(yi),yi({resourcesOid:Ys,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources"),f!==null&&(gr.oid=lr(),T("<<"),T("/Filter /Standard"),T("/V "+gr.v),T("/R "+gr.r),T("/U <"+gr.toHexString(gr.U)+">"),T("/O <"+gr.toHexString(gr.O)+">"),T("/P "+gr.P),T(">>"),T("endobj")),Eo(),Sc();var J=oe;return Kl(),Sr(),T("startxref"),T(""+J),T("%%EOF"),ne(we[C]),te.join(`
`)},Gn=h.__private__.getBlob=function(v){return new Blob([me(v)],{type:"application/pdf"})},Xs=h.output=h.__private__.output=(Ms=function(v,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",v){case void 0:return Ia();case"save":h.save(J.filename);break;case"arraybuffer":return me(Ia());case"blob":return Gn(Ia());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(Gn(Ia()))||void 0;Jt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",be=Ia();try{fe=Ug(be)}catch{fe=Ug(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+J.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ae=J.pdfObjectUrl,je="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",it=yt.open();return it!==null&&it.document.write(Ve),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',xt=yt.open();if(xt!==null){xt.document.write(ut);var Lt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=J.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',ir=yt.open();if(ir!==null&&(ir.document.write(jt),ir.document.title=J.filename),ir||typeof safari>"u")return ir;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",J);default:return null}},Ms.foo=function(){try{return Ms.apply(this,arguments)}catch(fe){var v=fe.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var J="Error in function "+v.split(`
`)[0].split("<")[0]+": "+fe.message;if(!yt.console)throw new Error(J);yt.console.error(J,fe),yt.alert&&alert(J)}},Ms.foo.bar=Ms,Ms.foo),Kn=function(v){return Array.isArray(zn)===!0&&zn.indexOf(v)>-1};switch(s){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=Kn("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);tt=s}var gr=null;S(),Z();var _i=h.__private__.getPageInfo=h.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:kt[v].objId,pageNumber:v,pageContext:kt[v]}},Ac=h.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in kt)if(kt[J].objId===v)break;return _i(J)},Cc=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:kt[C].objId,pageNumber:C,pageContext:kt[C]}};h.addPage=function(){return zl.apply(this,arguments),this},h.setPage=function(){return Hl.apply(this,arguments),ne.call(this,we[C]),this},h.insertPage=function(v){return this.addPage(),this.movePage(C,v),this},h.movePage=function(v,J){var fe,be;if(v>J){fe=we[v],be=kt[v];for(var Ae=v;Ae>J;Ae--)we[Ae]=we[Ae-1],kt[Ae]=kt[Ae-1];we[J]=fe,kt[J]=be,this.setPage(J)}else if(v<J){fe=we[v],be=kt[v];for(var je=v;je<J;je++)we[je]=we[je+1],kt[je]=kt[je+1];we[J]=fe,kt[J]=be,this.setPage(J)}return this},h.deletePage=function(){return wi.apply(this,arguments),this},h.__private__.text=h.text=function(v,J,fe,be,Ae){var je,Ve,it,ut,xt,Lt,jt,ir,Ar,Gt=(be=be||{}).scope||this;if(typeof v=="number"&&typeof J=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Nr=fe;fe=J,J=v,v=Nr}if(arguments[3]instanceof bt==0?(it=arguments[4],ut=arguments[5],Wt(jt=arguments[3])==="object"&&jt!==null||(typeof it=="string"&&(ut=it,it=null),typeof jt=="string"&&(ut=jt,jt=null),typeof jt=="number"&&(it=jt,jt=null),be={flags:jt,angle:it,align:ut})):(p("The transform parameter of text() with a Matrix value"),Ar=Ae),isNaN(J)||isNaN(fe)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Gt;var Cr,Br="",Ra=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:Jn,un=Gt.internal.scaleFactor;function jc(er){return er=er.split("	").join(Array(be.TabLen||9).join(" ")),Ts(er,jt)}function Zl(er){for(var tr,mr=er.concat(),br=[],Ua=mr.length;Ua--;)typeof(tr=mr.shift())=="string"?br.push(tr):Array.isArray(er)&&(tr.length===1||tr[1]===void 0&&tr[2]===void 0)?br.push(tr[0]):br.push([tr[0],tr[1],tr[2]]);return br}function to(er,tr){var mr;if(typeof er=="string")mr=tr(er)[0];else if(Array.isArray(er)){for(var br,Ua,zo=er.concat(),ya=[],Bi=zo.length;Bi--;)typeof(br=zo.shift())=="string"?ya.push(tr(br)[0]):Array.isArray(br)&&typeof br[0]=="string"&&(Ua=tr(br[0],br[1],br[2]),ya.push([Ua[0],Ua[1],Ua[2]]));mr=ya}return mr}var Qs=!1,Ti=!0;if(typeof v=="string")Qs=!0;else if(Array.isArray(v)){var Ro=v.concat();Ve=[];for(var fn,Fr=Ro.length;Fr--;)(typeof(fn=Ro.shift())!="string"||Array.isArray(fn)&&typeof fn[0]!="string")&&(Ti=!1);Qs=Ti}if(Qs===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Oa=ve/Gt.internal.scaleFactor,Fa=Oa*(Ra-1);switch(be.baseline){case"bottom":fe-=Fa;break;case"top":fe+=Oa-Fa;break;case"hanging":fe+=Oa-2*Fa;break;case"middle":fe+=Oa/2-Fa}if((Lt=be.maxWidth||0)>0&&(typeof v=="string"?v=Gt.splitTextToSize(v,Lt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(er,tr){return er.concat(Gt.splitTextToSize(tr,Lt))},[]))),je={text:v,x:J,y:fe,options:be,mutex:{pdfEscape:Ts,activeFontKey:Ze,fonts:ot,activeFontSize:ve}},Bt.publish("preProcessText",je),v=je.text,it=(be=je.options).angle,Ar instanceof bt==0&&it&&typeof it=="number"){it*=Math.PI/180,be.rotationDirection===0&&(it=-it),I===B&&(it=-it);var Oo=Math.cos(it),Di=Math.sin(it);Ar=new bt(Oo,Di,-Di,Oo,0,0)}else it&&it instanceof bt&&(Ar=it);I!==B||Ar||(Ar=Ma),(xt=be.charSpace||To)!==void 0&&(Br+=x(H(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ir=be.horizontalScale)!==void 0&&(Br+=x(100*ir)+` Tz
`),be.lang;var os=-1,Xl=be.renderingMode!==void 0?be.renderingMode:be.stroke,Fo=Gt.internal.getCurrentPageInfo().pageContext;switch(Xl){case 0:case!1:case"fill":os=0;break;case 1:case!0:case"stroke":os=1;break;case 2:case"fillThenStroke":os=2;break;case 3:case"invisible":os=3;break;case 4:case"fillAndAddForClipping":os=4;break;case 5:case"strokeAndAddPathForClipping":os=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":os=6;break;case 7:case"addToPathForClipping":os=7}var Ql=Fo.usedRenderingMode!==void 0?Fo.usedRenderingMode:-1;os!==-1?Br+=os+` Tr
`:Ql!==-1&&(Br+=`0 Tr
`),os!==-1&&(Fo.usedRenderingMode=os),ut=be.align||"left";var $r,Ds=ve*Ra,Ri=Gt.internal.pageSize.getWidth(),Oi=ot[Ze];xt=be.charSpace||To,Lt=be.maxWidth||0,jt=Object.assign({autoencode:!0,noBOM:!0},be.flags);var hn=[],jo=function(er){return Gt.getStringUnitWidth(er,{font:Oi,charSpace:xt,fontSize:ve,doKerning:!1})*ve/un};if(Object.prototype.toString.call(v)==="[object Array]"){var fs;Ve=Zl(v),ut!=="left"&&($r=Ve.map(jo));var hs,ro=0;if(ut==="right"){J-=$r[0],v=[],Fr=Ve.length;for(var ma=0;ma<Fr;ma++)ma===0?(hs=Ta(J),fs=Da(fe)):(hs=H(ro-$r[ma]),fs=-Ds),v.push([Ve[ma],hs,fs]),ro=$r[ma]}else if(ut==="center"){J-=$r[0]/2,v=[],Fr=Ve.length;for(var gn=0;gn<Fr;gn++)gn===0?(hs=Ta(J),fs=Da(fe)):(hs=H((ro-$r[gn])/2),fs=-Ds),v.push([Ve[gn],hs,fs]),ro=$r[gn]}else if(ut==="left"){v=[],Fr=Ve.length;for(var Fi=0;Fi<Fr;Fi++)v.push(Ve[Fi])}else if(ut==="justify"&&Oi.encoding==="Identity-H"){v=[],Fr=Ve.length,Lt=Lt!==0?Lt:Ri;for(var pn=0,pr=0;pr<Fr;pr++)if(fs=pr===0?Da(fe):-Ds,hs=pr===0?Ta(J):pn,pr<Fr-1){var Uc=H((Lt-$r[pr])/(Ve[pr].split(" ").length-1)),ba=Ve[pr].split(" ");v.push([ba[0]+" ",hs,fs]),pn=0;for(var va=1;va<ba.length;va++){var Uo=(jo(ba[va-1]+" "+ba[va])-jo(ba[va]))*un+Uc;va==ba.length-1?v.push([ba[va],Uo,0]):v.push([ba[va]+" ",Uo,0]),pn-=Uo}}else v.push([Ve[pr],hs,fs]);v.push(["",pn,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Fr=Ve.length,Lt=Lt!==0?Lt:Ri,pr=0;pr<Fr;pr++)fs=pr===0?Da(fe):-Ds,hs=pr===0?Ta(J):0,pr<Fr-1?hn.push(x(H((Lt-$r[pr])/(Ve[pr].split(" ").length-1)))):hn.push(0),v.push([Ve[pr],hs,fs])}}(typeof be.R2L=="boolean"?be.R2L:qe)===!0&&(v=to(v,function(er,tr,mr){return[er.split("").reverse().join(""),tr,mr]})),je={text:v,x:J,y:fe,options:be,mutex:{pdfEscape:Ts,activeFontKey:Ze,fonts:ot,activeFontSize:ve}},Bt.publish("postProcessText",je),v=je.text,Cr=je.mutex.isHex||!1;var ji=ot[Ze].encoding;ji!=="WinAnsiEncoding"&&ji!=="StandardEncoding"||(v=to(v,function(er,tr,mr){return[jc(er),tr,mr]})),Ve=Zl(v),v=[];for(var Bo,qo,so,ao=Array.isArray(Ve[0])?1:0,ja="",Ui=function(er,tr,mr){var br="";return mr instanceof bt?(mr=typeof be.angle=="number"?Ea(mr,new bt(1,0,0,1,er,tr)):Ea(new bt(1,0,0,1,er,tr),mr),I===B&&(mr=Ea(new bt(1,0,0,-1,0,0),mr)),br=mr.join(" ")+` Tm
`):br=x(er)+" "+x(tr)+` Td
`,br},vs=0;vs<Ve.length;vs++){switch(ja="",ao){case 1:so=(Cr?"<":"(")+Ve[vs][0]+(Cr?">":")"),Bo=parseFloat(Ve[vs][1]),qo=parseFloat(Ve[vs][2]);break;case 0:so=(Cr?"<":"(")+Ve[vs]+(Cr?">":")"),Bo=Ta(J),qo=Da(fe)}hn!==void 0&&hn[vs]!==void 0&&(ja=hn[vs]+` Tw
`),vs===0?v.push(ja+Ui(Bo,qo,Ar)+so):ao===0?v.push(ja+so):ao===1&&v.push(ja+Ui(Bo,qo,Ar)+so)}v=ao===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var xa=`BT
/`;return xa+=Ze+" "+ve+` Tf
`,xa+=x(ve*Ra)+` TL
`,xa+=Zn+`
`,xa+=Br,xa+=v,T(xa+="ET"),w[Ze]=!0,Gt};var Pc=h.__private__.clip=h.clip=function(v){return T(v==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Pc("evenodd")},h.__private__.discardPath=h.discardPath=function(){return T("n"),this};var ga=h.__private__.isValidStyle=function(v){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(J=!0),J};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(v){return ga(v)&&(c=v),this};var Yl=h.__private__.getStyle=h.getStyle=function(v){var J=c;switch(v){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=v}return J},Jl=h.close=function(){return T("h"),this};h.stroke=function(){return T("S"),this},h.fill=function(v){return dn("f",v),this},h.fillEvenOdd=function(v){return dn("f*",v),this},h.fillStroke=function(v){return dn("B",v),this},h.fillStrokeEvenOdd=function(v){return dn("B*",v),this};var dn=function(v,J){Wt(J)==="object"?Nc(J,v):T(v)},Si=function(v){v===null||I===B&&v===void 0||(v=Yl(v),T(v))};function Lc(v,J,fe,be,Ae){var je=new go(J||this.boundingBox,fe||this.xStep,be||this.yStep,this.gState,Ae||this.matrix);je.stream=this.stream;var Ve=v+"$$"+this.cloneIndex+++"$$";return Es(Ve,je),je}var Nc=function(v,J){var fe=It[v.key],be=mt[fe];if(be instanceof $n)T("q"),T($c(J)),be.gState&&h.setGState(be.gState),T(v.matrix.toString()+" cm"),T("/"+fe+" sh"),T("Q");else if(be instanceof go){var Ae=new bt(1,0,0,-1,0,bs());v.matrix&&(Ae=Ae.multiply(v.matrix||Ma),fe=Lc.call(be,v.key,v.boundingBox,v.xStep,v.yStep,Ae).id),T("q"),T("/Pattern cs"),T("/"+fe+" scn"),be.gState&&h.setGState(be.gState),T(J),T("Q")}},$c=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ai=h.moveTo=function(v,J){return T(x(H(v))+" "+x(F(J))+" m"),this},Yn=h.lineTo=function(v,J){return T(x(H(v))+" "+x(F(J))+" l"),this},cn=h.curveTo=function(v,J,fe,be,Ae,je){return T([x(H(v)),x(F(J)),x(H(fe)),x(F(be)),x(H(Ae)),x(F(je)),"c"].join(" ")),this};h.__private__.line=h.line=function(v,J,fe,be,Ae){if(isNaN(v)||isNaN(J)||isNaN(fe)||isNaN(be)||!ga(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return I===W?this.lines([[fe-v,be-J]],v,J,[1,1],Ae||"S"):this.lines([[fe-v,be-J]],v,J,[1,1]).stroke()},h.__private__.lines=h.lines=function(v,J,fe,be,Ae,je){var Ve,it,ut,xt,Lt,jt,ir,Ar,Gt,Nr,Cr,Br;if(typeof v=="number"&&(Br=fe,fe=J,J=v,v=Br),be=be||[1,1],je=je||!1,isNaN(J)||isNaN(fe)||!Array.isArray(v)||!Array.isArray(be)||!ga(Ae)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ai(J,fe),Ve=be[0],it=be[1],xt=v.length,Nr=J,Cr=fe,ut=0;ut<xt;ut++)(Lt=v[ut]).length===2?(Nr=Lt[0]*Ve+Nr,Cr=Lt[1]*it+Cr,Yn(Nr,Cr)):(jt=Lt[0]*Ve+Nr,ir=Lt[1]*it+Cr,Ar=Lt[2]*Ve+Nr,Gt=Lt[3]*it+Cr,Nr=Lt[4]*Ve+Nr,Cr=Lt[5]*it+Cr,cn(jt,ir,Ar,Gt,Nr,Cr));return je&&Jl(),Si(Ae),this},h.path=function(v){for(var J=0;J<v.length;J++){var fe=v[J],be=fe.c;switch(fe.op){case"m":Ai(be[0],be[1]);break;case"l":Yn(be[0],be[1]);break;case"c":cn.apply(this,be);break;case"h":Jl()}}return this},h.__private__.rect=h.rect=function(v,J,fe,be,Ae){if(isNaN(v)||isNaN(J)||isNaN(fe)||isNaN(be)||!ga(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return I===W&&(be=-be),T([x(H(v)),x(F(J)),x(H(fe)),x(H(be)),"re"].join(" ")),Si(Ae),this},h.__private__.triangle=h.triangle=function(v,J,fe,be,Ae,je,Ve){if(isNaN(v)||isNaN(J)||isNaN(fe)||isNaN(be)||isNaN(Ae)||isNaN(je)||!ga(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-v,be-J],[Ae-fe,je-be],[v-Ae,J-je]],v,J,[1,1],Ve,!0),this},h.__private__.roundedRect=h.roundedRect=function(v,J,fe,be,Ae,je,Ve){if(isNaN(v)||isNaN(J)||isNaN(fe)||isNaN(be)||isNaN(Ae)||isNaN(je)||!ga(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*fe),je=Math.min(je,.5*be),this.lines([[fe-2*Ae,0],[Ae*it,0,Ae,je-je*it,Ae,je],[0,be-2*je],[0,je*it,-Ae*it,je,-Ae,je],[2*Ae-fe,0],[-Ae*it,0,-Ae,-je*it,-Ae,-je],[0,2*je-be],[0,-je*it,Ae*it,-je,Ae,-je]],v+Ae,J,[1,1],Ve,!0),this},h.__private__.ellipse=h.ellipse=function(v,J,fe,be,Ae){if(isNaN(v)||isNaN(J)||isNaN(fe)||isNaN(be)||!ga(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*fe,Ve=4/3*(Math.SQRT2-1)*be;return Ai(v+fe,J),cn(v+fe,J-Ve,v+je,J-be,v,J-be),cn(v-je,J-be,v-fe,J-Ve,v-fe,J),cn(v-fe,J+Ve,v-je,J+be,v,J+be),cn(v+je,J+be,v+fe,J+Ve,v+fe,J),Si(Ae),this},h.__private__.circle=h.circle=function(v,J,fe,be){if(isNaN(v)||isNaN(J)||isNaN(fe)||!ga(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,J,fe,fe,be)},h.setFont=function(v,J,fe){return fe&&(J=U(J,fe)),Ze=Wl(v,J,{disableWarning:!1}),this};var Ec=h.__private__.getFont=h.getFont=function(){return ot[Wl.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var v,J,fe={};for(v in ht)if(ht.hasOwnProperty(v))for(J in fe[v]=[],ht[v])ht[v].hasOwnProperty(J)&&fe[v].push(J);return fe},h.addFont=function(v,J,fe,be,Ae){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(fe=U(fe,be)),ql.call(this,v,J,fe,Ae=Ae||"Identity-H")};var Jn,Ci=e.lineWidth||.200025,wt=h.__private__.getLineWidth=h.getLineWidth=function(){return Ci},Mc=h.__private__.setLineWidth=h.setLineWidth=function(v){return Ci=v,T(x(H(v))+" w"),this};h.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(v,J){if(v=v||[],J=J||0,isNaN(J)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(fe){return x(H(fe))}).join(" "),J=x(H(J)),T("["+v+"] "+J+" d"),this};var Ic=h.__private__.getLineHeight=h.getLineHeight=function(){return ve*Jn};h.__private__.getLineHeight=h.getLineHeight=function(){return ve*Jn};var Tc=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Jn=v),this},Dc=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Jn};Tc(e.lineHeight);var Ta=h.__private__.getHorizontalCoordinate=function(v){return H(v)},Da=h.__private__.getVerticalCoordinate=function(v){return I===B?v:kt[C].mediaBox.topRightY-kt[C].mediaBox.bottomLeftY-H(v)},Rc=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(v){return x(Ta(v))},Oc=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(v){return x(Da(v))},Mo=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return fa(Mo)},h.__private__.setStrokeColor=h.setDrawColor=function(v,J,fe,be){return Mo=Js({ch1:v,ch2:J,ch3:fe,ch4:be,pdfColorType:"draw",precision:2}),T(Mo),this};var Pi=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return fa(Pi)},h.__private__.setFillColor=h.setFillColor=function(v,J,fe,be){return Pi=Js({ch1:v,ch2:J,ch3:fe,ch4:be,pdfColorType:"fill",precision:2}),T(Pi),this};var Zn=e.textColor||"0 g",Io=h.__private__.getTextColor=h.getTextColor=function(){return fa(Zn)};h.__private__.setTextColor=h.setTextColor=function(v,J,fe,be){return Zn=Js({ch1:v,ch2:J,ch3:fe,ch4:be,pdfColorType:"text",precision:3}),this};var To=e.charSpace,Fc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(To||0)};h.__private__.setCharSpace=h.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return To=v,this};var Li=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(v){var J=h.CapJoinStyles[v];if(J===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Li=J,T(J+" J"),this};var Ni=0;h.__private__.setLineJoin=h.setLineJoin=function(v){var J=h.CapJoinStyles[v];if(J===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ni=J,T(J+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return T(x(H(v))+" M"),this},h.GState=Il,h.setGState=function(v){(v=typeof v=="string"?Ct[hr[v]]:Xn(null,v)).equals(Lr)||(T("/"+v.id+" gs"),Lr=v)};var Xn=function(v,J){if(!v||!hr[v]){var fe=!1;for(var be in Ct)if(Ct.hasOwnProperty(be)&&Ct[be].equals(J)){fe=!0;break}if(fe)J=Ct[be];else{var Ae="GS"+(Object.keys(Ct).length+1).toString(10);Ct[Ae]=J,J.id=Ae}return v&&(hr[v]=J.id),Bt.publish("addGState",J),J}};h.addGState=function(v,J){return Xn(v,J),this},h.saveGraphicsState=function(){return T("q"),Mt.push({key:Ze,size:ve,color:Zn}),this},h.restoreGraphicsState=function(){T("Q");var v=Mt.pop();return Ze=v.key,ve=v.size,Zn=v.color,Lr=null,this},h.setCurrentTransformationMatrix=function(v){return T(v.toString()+" cm"),this},h.comment=function(v){return T("#"+v),this};var Qn=function(v,J){var fe=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(je){isNaN(je)||(fe=parseFloat(je))}});var be=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(je){isNaN(je)||(be=parseFloat(je))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(je){Ae=je.toString()}}),this},$i=function(v,J,fe,be){Qn.call(this,v,J),this.type="rect";var Ae=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ve){isNaN(Ve)||(Ae=parseFloat(Ve))}});var je=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Ve){isNaN(Ve)||(je=parseFloat(Ve))}}),this},Do=function(){this.page=Kt,this.currentPage=C,this.pages=we.slice(0),this.pagesContext=kt.slice(0),this.x=Xe,this.y=vt,this.matrix=At,this.width=Mi(C),this.height=bs(C),this.outputDestination=ie,this.id="",this.objectNumber=-1};Do.prototype.restore=function(){Kt=this.page,C=this.currentPage,kt=this.pagesContext,we=this.pages,Xe=this.x,vt=this.y,At=this.matrix,Ii(C,this.width),pa(C,this.height),ie=this.outputDestination};var Ei=function(v,J,fe,be,Ae){ua.push(new Do),Kt=C=0,we=[],Xe=v,vt=J,At=Ae,ki([fe,be])};for(var eo in h.beginFormObject=function(v,J,fe,be,Ae){return Ei(v,J,fe,be,Ae),this},h.endFormObject=function(v){return(function(J){if($a[J])ua.pop().restore();else{var fe=new Do,be="Xo"+(Object.keys(Yr).length+1).toString(10);fe.id=be,$a[J]=be,Yr[be]=fe,Bt.publish("addFormObject",fe),ua.pop().restore()}})(v),this},h.doFormObject=function(v,J){var fe=Yr[$a[v]];return T("q"),T(J.toString()+" cm"),T("/"+fe.id+" Do"),T("Q"),this},h.getFormObject=function(v){var J=Yr[$a[v]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},h.save=function(v,J){return v=v||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(fo(Gn(Ia()),v),typeof fo.unload=="function"&&yt.setTimeout&&setTimeout(fo.unload,911),this):new Promise(function(fe,be){try{var Ae=fo(Gn(Ia()),v);typeof fo.unload=="function"&&yt.setTimeout&&setTimeout(fo.unload,911),fe(Ae)}catch(je){be(je.message)}})},ct.API)ct.API.hasOwnProperty(eo)&&(eo==="events"&&ct.API.events.length?(function(v,J){var fe,be,Ae;for(Ae=J.length-1;Ae!==-1;Ae--)fe=J[Ae][0],be=J[Ae][1],v.subscribe.apply(v,[fe].concat(typeof be=="function"?[be]:be))})(Bt,ct.API.events):h[eo]=ct.API[eo]);var Mi=h.getPageWidth=function(v){return(kt[v=v||C].mediaBox.topRightX-kt[v].mediaBox.bottomLeftX)/tt},Ii=h.setPageWidth=function(v,J){kt[v].mediaBox.topRightX=J*tt+kt[v].mediaBox.bottomLeftX},bs=h.getPageHeight=function(v){return(kt[v=v||C].mediaBox.topRightY-kt[v].mediaBox.bottomLeftY)/tt},pa=h.setPageHeight=function(v,J){kt[v].mediaBox.topRightY=J*tt+kt[v].mediaBox.bottomLeftY};return h.internal={pdfEscape:Ts,getStyle:Yl,getFont:Ec,getFontSize:Se,getCharSpace:Fc,getTextColor:Io,getLineHeight:Ic,getLineHeightFactor:Dc,getLineWidth:wt,write:de,getHorizontalCoordinate:Ta,getVerticalCoordinate:Da,getCoordinateString:Rc,getVerticalCoordinateString:Oc,collections:{},newObject:lr,newAdditionalObject:Hn,newObjectDeferred:Or,newObjectDeferredBegin:Ur,getFilters:Zs,putStream:Is,events:Bt,scaleFactor:tt,pageSize:{getWidth:function(){return Mi(C)},setWidth:function(v){Ii(C,v)},getHeight:function(){return bs(C)},setHeight:function(v){pa(C,v)}},encryptionOptions:f,encryption:gr,getEncryptor:function(v){return f!==null?gr.encryptor(v,0):function(J){return J}},output:Xs,getNumberOfPages:Vl,pages:we,out:T,f2:y,f3:A,getPageInfo:_i,getPageInfoByObjId:Ac,getCurrentPageInfo:Cc,getPDFVersion:O,Point:Qn,Rectangle:$i,Matrix:bt,hasHotfix:Kn},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Mi(C)},set:function(v){Ii(C,v)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return bs(C)},set:function(v){pa(C,v)},enumerable:!0,configurable:!0}),(function(v){for(var J=0,fe=ke.length;J<fe;J++){var be=ql.call(this,v[J][0],v[J][1],v[J][2],ke[J][3],!0);b===!1&&(w[be]=!0);var Ae=v[J][0].split("-");Bl({id:be,fontName:Ae[0],fontStyle:Ae[1]||""})}Bt.publish("addFonts",{fonts:ot,dictionary:ht})}).call(h,ke),Ze="F1",zl(n,r),Bt.publish("initialized"),h}Xo.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Xo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xo.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Xo.prototype.processOwnerPassword=function(e,t){return h0(f0(t).substr(0,5),e)},Xo.prototype.encryptor=function(e,t){var r=f0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return h0(r,s)}},Il.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Wt(e)!==Wt(this))return!1;var s=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&s--;return s===0},ct.API={events:[]},ct.version="3.0.2";var ur=ct.API,H0=1,Po=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ko=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_t=function(e){return e.toFixed(2)},An=function(e){return e.toFixed(5)};ur.__acroform__={};var ms=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Hg=function(e){return e*H0},_a=function(e){var t=new Wm,r=at.internal.getHeight(e)||0,s=at.internal.getWidth(e)||0;return t.BBox=[0,0,Number(_t(s)),Number(_t(r))],t},M_=ur.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},I_=ur.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},T_=ur.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},yr=ur.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return T_(e,t-1)},kr=ur.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return M_(e,t-1)},wr=ur.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return I_(e,t-1)},D_=ur.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,n=e[0],o=e[1],i=e[2],l=e[3],d={};return d.lowerLeft_X=r(n)||0,d.lowerLeft_Y=s(o+l)||0,d.upperRight_X=r(n+i)||0,d.upperRight_Y=s(o)||0,[Number(_t(d.lowerLeft_X)),Number(_t(d.lowerLeft_Y)),Number(_t(d.upperRight_X)),Number(_t(d.upperRight_Y))]},R_=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,s=g0(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+_t(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=_a(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},g0=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(y){return y.split(`
`)}):n.map(function(y){return[y]});var o=r,i=at.internal.getHeight(e)||0;i=i<0?-i:i;var l=at.internal.getWidth(e)||0;l=l<0?-l:l;var d=function(y,A,H){if(y+1<n.length){var F=A+" "+n[y+1][0];return Nd(F,e,H).width<=l-4}return!1};o++;e:for(;o>0;){t="",o--;var c,f,b=Nd("3",e,o).height,w=e.multiline?i-o:(i-b)/2,h=w+=2,_=0,O=0,j=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Nd(t,e,o=12).width+", FieldWidth:"+l+`
`;break}for(var N="",W=0,B=0;B<n.length;B++)if(n.hasOwnProperty(B)){var I=!1;if(n[B].length!==1&&j!==n[B].length-1){if((b+2)*(W+2)+2>i)continue e;N+=n[B][j],I=!0,O=B,B--}else{N=(N+=n[B][j]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var R=parseInt(B),K=d(R,N,o),U=B>=n.length-1;if(K&&!U){N+=" ",j=0;continue}if(K||U){if(U)O=R;else if(e.multiline&&(b+2)*(W+2)+2>i)continue e}else{if(!e.multiline||(b+2)*(W+2)+2>i)continue e;O=R}}for(var x="",p=_;p<=O;p++){var E=n[p];if(e.multiline){if(p===O){x+=E[j]+" ",j=(j+1)%E.length;continue}if(p===_){x+=E[E.length-1]+" ";continue}}x+=E[0]+" "}switch(x=x.substr(x.length-1)==" "?x.substr(0,x.length-1):x,f=Nd(x,e,o).width,e.textAlign){case"right":c=l-f-2;break;case"center":c=(l-f)/2;break;default:c=2}t+=_t(c)+" "+_t(h)+` Td
`,t+="("+Po(x)+`) Tj
`,t+=-_t(c)+` 0 Td
`,h=-(o+2),f=0,_=I?O:O+1,W++,N=""}break}return s.text=t,s.fontSize=o,s},Nd=function(e,t,r){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},O_={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},F_=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},j_=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(da.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(O_)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");H0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Gm,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in s)if(s.hasOwnProperty(n)){var o=s[n];o.objId=void 0,o.hasAnnotation&&F_(o,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(s,n){var o=!s;for(var i in s||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(i)){var l=s[i],d=[],c=l.Rect;if(l.Rect&&(l.Rect=D_(l.Rect,n)),n.internal.newObjectDeferredBegin(l.objId,!0),l.DA=at.createDefaultAppearanceStream(l),Wt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(d=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=R_(l);d.push({key:"AP",value:"<</N "+f+">>"}),n.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var b="";for(var w in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(w)){var h=l.appearanceStreamContent[w];if(b+="/"+w+" ",b+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var i in h)if(h.hasOwnProperty(i)){var _=h[i];typeof _=="function"&&(_=_.call(n,l)),b+="/"+i+" "+_+" ",n.internal.acroformPlugin.xForms.indexOf(_)>=0||n.internal.acroformPlugin.xForms.push(_)}}else typeof(_=h)=="function"&&(_=_.call(n,l)),b+="/"+i+" "+_,n.internal.acroformPlugin.xForms.indexOf(_)>=0||n.internal.acroformPlugin.xForms.push(_);b+=">>"}d.push({key:"AP",value:`<<
`+b+">>"})}n.internal.putStream({additionalKeyValues:d,objectId:l.objId}),n.internal.out("endobj")}o&&(function(O,j){for(var N in O)if(O.hasOwnProperty(N)){var W=N,B=O[N];j.internal.newObjectDeferredBegin(B.objId,!0),Wt(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete O[W]}})(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Vm=ur.__acroform__.arrayToPdfArray=function(e,t,r){var s=function(i){return i};if(Array.isArray(e)){for(var n="[",o=0;o<e.length;o++)switch(o!==0&&(n+=" "),Wt(e[o])){case"boolean":case"number":case"object":n+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&r&&(s=r.internal.getEncryptor(t)),n+="("+Po(s(e[o].toString()))+")"):n+=e[o].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tu=function(e,t,r){var s=function(n){return n};return t!==void 0&&r&&(s=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Po(s(e))+")"},Ca=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ca.prototype.toString=function(){return this.objId+" 0 R"},Ca.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ca.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var s=t[r],n=this[s];n&&(Array.isArray(n)?e.push({key:s,value:Vm(n,this.objId,this.scope)}):n instanceof Ca?(n.scope=this.scope,e.push({key:s,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:s,value:n}))}return e};var Wm=function(){Ca.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ms(Wm,Ca);var Gm=function(){Ca.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Po(r(e))+")"}},set:function(r){e=r}})};ms(Gm,Ca);var da=function e(){Ca.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(t,3)},set:function(N){N?this.F=kr(t,3):this.F=wr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(N){s=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(N){s[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(N){s[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(N){s[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(N){s[3]=N}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof ac)return;o="FieldObject"+e.FieldNum++}var N=function(W){return W};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Po(N(o))+")"},set:function(N){o=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(N){o=N}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(N){i=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/H0:c},set:function(N){c=N}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof ac||this instanceof Tn))return Tu(b,this.objId,this.scope)},set:function(N){N=N.toString(),b=N}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Tr==0?Tu(w,this.objId,this.scope):w},set:function(N){N=N.toString(),w=this instanceof Tr==0?N.substr(0,1)==="("?Ko(N.substr(1,N.length-2)):Ko(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tr==1?Ko(w.substr(1,w.length-1)):w},set:function(N){N=N.toString(),w=this instanceof Tr==1?"/"+N:N}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Tr==0?Tu(h,this.objId,this.scope):h},set:function(N){N=N.toString(),h=this instanceof Tr==0?N.substr(0,1)==="("?Ko(N.substr(1,N.length-2)):Ko(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tr==1?Ko(h.substr(1,h.length-1)):h},set:function(N){N=N.toString(),h=this instanceof Tr==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,O=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return O},set:function(N){N=!!N,O=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(N){_=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(N){N?this.Ff=kr(this.Ff,1):this.Ff=wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(N){N?this.Ff=kr(this.Ff,2):this.Ff=wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(N){N?this.Ff=kr(this.Ff,3):this.Ff=wr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');j=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(j){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};ms(da,Ca);var vo=function(){da.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Vm(t,this.objId,this.scope)},set:function(r){var s,n;n=[],typeof(s=r)=="string"&&(n=(function(o,i,l){l||(l=1);for(var d,c=[];d=i.exec(o);)c.push(d[l]);return c})(s,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(r){r?this.Ff=kr(this.Ff,18):this.Ff=wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=kr(this.Ff,19):this.Ff=wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(r){r?(this.Ff=kr(this.Ff,20),t.sort()):this.Ff=wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(r){r?this.Ff=kr(this.Ff,22):this.Ff=wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(r){r?this.Ff=kr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(r){r?this.Ff=kr(this.Ff,27):this.Ff=wr(this.Ff,27)}}),this.hasAppearanceStream=!1};ms(vo,da);var xo=function(){vo.call(this),this.fontName="helvetica",this.combo=!1};ms(xo,vo);var yo=function(){xo.call(this),this.combo=!0};ms(yo,xo);var ml=function(){yo.call(this),this.edit=!0};ms(ml,yo);var Tr=function(){da.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(r){r?this.Ff=kr(this.Ff,15):this.Ff=wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(r){r?this.Ff=kr(this.Ff,16):this.Ff=wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(r){r?this.Ff=kr(this.Ff,17):this.Ff=wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(r){r?this.Ff=kr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,n=[];for(s in n.push("<<"),t)n.push("/"+s+" ("+Po(r(t[s]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Wt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ms(Tr,da);var bl=function(){Tr.call(this),this.pushButton=!0};ms(bl,Tr);var ko=function(){Tr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ms(ko,Tr);var ac=function(){var e,t;da.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var o,i=[];for(o in i.push("<<"),s)i.push("/"+o+" ("+Po(n(s[o]))+")");return i.push(">>"),i.join(`
`)},set:function(n){Wt(n)==="object"&&(s=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(n){typeof n=="string"&&(s.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ms(ac,da),ko.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},ko.prototype.createOption=function(e){var t=new ac;return t.Parent=this,t.optionName=e,this.Kids.push(t),U_.call(this.scope,t),t};var vl=function(){Tr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};ms(vl,Tr);var Tn=function(){da.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(t){t?this.Ff=kr(this.Ff,13):this.Ff=wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(t){t?this.Ff=kr(this.Ff,21):this.Ff=wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(t){t?this.Ff=kr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(t){t?this.Ff=kr(this.Ff,24):this.Ff=wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(t){t?this.Ff=kr(this.Ff,25):this.Ff=wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(t){t?this.Ff=kr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ms(Tn,da);var xl=function(){Tn.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(e){e?this.Ff=kr(this.Ff,14):this.Ff=wr(this.Ff,14)}}),this.password=!0};ms(xl,Tn);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=_a(e);t.scope=e.scope;var r=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),o=g0(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+_t(at.internal.getWidth(e))+" "+_t(at.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+_t(o.fontSize)+" Tf "+n),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=_a(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),n=[],o=at.internal.getHeight(e),i=at.internal.getWidth(e),l=g0(e,e.caption);return n.push("1 g"),n.push("0 0 "+_t(i)+" "+_t(o)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+_t(i-1)+" "+_t(o-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+_t(l.fontSize)+" Tf "+s),n.push(l.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=_a(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(at.internal.getWidth(e))+" "+_t(at.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=at.RadioButton.Circle.YesNormal,t.D[e]=at.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=_a(e);t.scope=e.scope;var r=[],s=at.internal.getWidth(e)<=at.internal.getHeight(e)?at.internal.getWidth(e)/4:at.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=at.internal.Bezier_C,o=Number((s*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+An(at.internal.getWidth(e)/2)+" "+An(at.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=_a(e);t.scope=e.scope;var r=[],s=at.internal.getWidth(e)<=at.internal.getHeight(e)?at.internal.getWidth(e)/4:at.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),o=Number((n*at.internal.Bezier_C).toFixed(5)),i=Number((s*at.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+An(at.internal.getWidth(e)/2)+" "+An(at.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+An(at.internal.getWidth(e)/2)+" "+An(at.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=_a(e);t.scope=e.scope;var r=[],s=at.internal.getWidth(e)<=at.internal.getHeight(e)?at.internal.getWidth(e)/4:at.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),o=Number((n*at.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+An(at.internal.getWidth(e)/2)+" "+An(at.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=at.RadioButton.Cross.YesNormal,t.D[e]=at.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=_a(e);t.scope=e.scope;var r=[],s=at.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+_t(at.internal.getWidth(e)-2)+" "+_t(at.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(_t(s.x1.x)+" "+_t(s.x1.y)+" m"),r.push(_t(s.x2.x)+" "+_t(s.x2.y)+" l"),r.push(_t(s.x4.x)+" "+_t(s.x4.y)+" m"),r.push(_t(s.x3.x)+" "+_t(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=_a(e);t.scope=e.scope;var r=at.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+_t(at.internal.getWidth(e))+" "+_t(at.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+_t(at.internal.getWidth(e)-2)+" "+_t(at.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(_t(r.x1.x)+" "+_t(r.x1.y)+" m"),s.push(_t(r.x2.x)+" "+_t(r.x2.y)+" l"),s.push(_t(r.x4.x)+" "+_t(r.x4.y)+" m"),s.push(_t(r.x3.x)+" "+_t(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=_a(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(at.internal.getWidth(e))+" "+_t(at.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};at.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=at.internal.getWidth(e),r=at.internal.getHeight(e),s=Math.min(t,r);return{x1:{x:(t-s)/2,y:(r-s)/2+s},x2:{x:(t-s)/2+s,y:(r-s)/2},x3:{x:(t-s)/2,y:(r-s)/2},x4:{x:(t-s)/2+s,y:(r-s)/2+s}}}},at.internal.getWidth=function(e){var t=0;return Wt(e)==="object"&&(t=Hg(e.Rect[2])),t},at.internal.getHeight=function(e){var t=0;return Wt(e)==="object"&&(t=Hg(e.Rect[3])),t};var U_=ur.addField=function(e){if(j_(this,e),!(e instanceof da))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ur.AcroFormChoiceField=vo,ur.AcroFormListBox=xo,ur.AcroFormComboBox=yo,ur.AcroFormEditBox=ml,ur.AcroFormButton=Tr,ur.AcroFormPushButton=bl,ur.AcroFormRadioButton=ko,ur.AcroFormCheckBox=vl,ur.AcroFormTextField=Tn,ur.AcroFormPasswordField=xl,ur.AcroFormAppearance=at,ur.AcroForm={ChoiceField:vo,ListBox:xo,ComboBox:yo,EditBox:ml,Button:Tr,PushButton:bl,RadioButton:ko,CheckBox:vl,TextField:Tn,PasswordField:xl,Appearance:at},ct.AcroForm={ChoiceField:vo,ListBox:xo,ComboBox:yo,EditBox:ml,Button:Tr,PushButton:bl,RadioButton:ko,CheckBox:vl,TextField:Tn,PasswordField:xl,Appearance:at};var B_=ct.AcroForm;function Km(e){return e.reduce(function(t,r,s){return t[r]=s,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(y,A){var H,F,ae,ge,he,Z=r;if((A=A||r)==="RGBA"||y.data!==void 0&&y.data instanceof Uint8ClampedArray&&"height"in y&&"width"in y)return"RGBA";if(K(y))for(he in s)for(ae=s[he],H=0;H<ae.length;H+=1){for(ge=!0,F=0;F<ae[H].length;F+=1)if(ae[H][F]!==void 0&&ae[H][F]!==y[F]){ge=!1;break}if(ge===!0){Z=he;break}}else for(he in s)for(ae=s[he],H=0;H<ae.length;H+=1){for(ge=!0,F=0;F<ae[H].length;F+=1)if(ae[H][F]!==void 0&&ae[H][F]!==y.charCodeAt(F)){ge=!1;break}if(ge===!0){Z=he;break}}return Z===r&&A!==r&&(Z=A),Z},o=function y(A){for(var H=this.internal.write,F=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:A.width}),ge.push({key:"Height",value:A.height}),A.colorSpace===N.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===N.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)){for(var he="",Z=0,M=A.transparency.length;Z<M;Z++)he+=A.transparency[Z]+" "+A.transparency[Z]+" ";ge.push({key:"Mask",value:"["+he+"]"})}A.sMask!==void 0&&ge.push({key:"SMask",value:A.objectId+1+" 0 R"});var z=A.filter!==void 0?["/"+A.filter]:void 0;if(F({data:A.data,additionalKeyValues:ge,alreadyAppliedFilters:z,objectId:A.objectId}),H("endobj"),"sMask"in A&&A.sMask!==void 0){var S=(A.predictor!=null?"/Predictor "+A.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+A.width,m={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:A.bitsPerComponent,decodeParameters:S,data:A.sMask};"filter"in A&&(m.filter=A.filter),y.call(this,m)}if(A.colorSpace===N.INDEXED){var C=this.internal.newObject();F({data:x(new Uint8Array(A.palette)),objectId:C}),H("endobj")}},i=function(){var y=this.internal.collections[t+"images"];for(var A in y)o.call(this,y[A])},l=function(){var y,A=this.internal.collections[t+"images"],H=this.internal.write;for(var F in A)H("/I"+(y=A[F]).index,y.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},c=function(){var y=this.internal.collections[t+"images"];return d.call(this),y},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},b=function(y){return typeof e["process"+y.toUpperCase()]=="function"},w=function(y){return Wt(y)==="object"&&y.nodeType===1},h=function(y,A){if(y.nodeName==="IMG"&&y.hasAttribute("src")){var H=""+y.getAttribute("src");if(H.indexOf("data:image/")===0)return Bd(unescape(H).split("base64,").pop());var F=e.loadFile(H,!0);if(F!==void 0)return F}if(y.nodeName==="CANVAS"){if(y.width===0||y.height===0)throw new Error("Given canvas must have data. Canvas width: "+y.width+", height: "+y.height);var ae;switch(A){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return Bd(y.toDataURL(ae,1).split("base64,").pop())}},_=function(y){var A=this.internal.collections[t+"images"];if(A){for(var H in A)if(y===A[H].alias)return A[H]}},O=function(y,A,H){return y||A||(y=-96,A=-96),y<0&&(y=-1*H.width*72/y/this.internal.scaleFactor),A<0&&(A=-1*H.height*72/A/this.internal.scaleFactor),y===0&&(y=A*H.width/H.height),A===0&&(A=y*H.height/H.width),[y,A]},j=function(y,A,H,F,ae,ge){var he=O.call(this,H,F,ae),Z=this.internal.getCoordinateString,M=this.internal.getVerticalCoordinateString,z=c.call(this);if(H=he[0],F=he[1],z[ae.index]=ae,ge){ge*=Math.PI/180;var S=Math.cos(ge),m=Math.sin(ge),C=function($){return $.toFixed(4)},L=[C(S),C(m),C(-1*m),C(S),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,Z(y),M(A+F),"cm"].join(" ")),this.internal.write(L.join(" ")),this.internal.write([Z(H),"0","0",Z(F),"0","0","cm"].join(" "))):this.internal.write([Z(H),"0","0",Z(F),Z(y),M(A+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var W=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=e.__addimage__.sHashCode=function(y){var A,H,F=0;if(typeof y=="string")for(H=y.length,A=0;A<H;A++)F=(F<<5)-F+y.charCodeAt(A),F|=0;else if(K(y))for(H=y.byteLength/2,A=0;A<H;A++)F=(F<<5)-F+y[A],F|=0;return F},I=e.__addimage__.validateStringAsBase64=function(y){(y=y||"").toString().trim();var A=!0;return y.length===0&&(A=!1),y.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(y.substr(0,y.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(y.substr(-2))===!1&&(A=!1),A},R=e.__addimage__.extractImageFromDataUrl=function(y){if(y==null||!(y=y.trim()).startsWith("data:"))return null;var A=y.indexOf(",");return A<0?null:y.substring(0,A).trim().endsWith("base64")?y.substring(A+1):null};e.__addimage__.isArrayBuffer=function(y){return y instanceof ArrayBuffer};var K=e.__addimage__.isArrayBufferView=function(y){return y instanceof Int8Array||y instanceof Uint8Array||y instanceof Uint8ClampedArray||y instanceof Int16Array||y instanceof Uint16Array||y instanceof Int32Array||y instanceof Uint32Array||y instanceof Float32Array||y instanceof Float64Array},U=e.__addimage__.binaryStringToUint8Array=function(y){for(var A=y.length,H=new Uint8Array(A),F=0;F<A;F++)H[F]=y.charCodeAt(F);return H},x=e.__addimage__.arrayBufferToBinaryString=function(y){for(var A="",H=K(y)?y:new Uint8Array(y),F=0;F<H.length;F+=8192)A+=String.fromCharCode.apply(null,H.subarray(F,F+8192));return A};e.addImage=function(){var y,A,H,F,ae,ge,he,Z,M;if(typeof arguments[1]=="number"?(A=r,H=arguments[1],F=arguments[2],ae=arguments[3],ge=arguments[4],he=arguments[5],Z=arguments[6],M=arguments[7]):(A=arguments[1],H=arguments[2],F=arguments[3],ae=arguments[4],ge=arguments[5],he=arguments[6],Z=arguments[7],M=arguments[8]),Wt(y=arguments[0])==="object"&&!w(y)&&"imageData"in y){var z=y;y=z.imageData,A=z.format||A||r,H=z.x||H||0,F=z.y||F||0,ae=z.w||z.width||ae,ge=z.h||z.height||ge,he=z.alias||he,Z=z.compression||Z,M=z.rotation||z.angle||M}var S=this.internal.getFilters();if(Z===void 0&&S.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(H)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var m=p.call(this,y,A,he,Z);return j.call(this,H,F,ae,ge,m,M),this};var p=function(y,A,H,F){var ae,ge,he;if(typeof y=="string"&&n(y)===r){y=unescape(y);var Z=E(y,!1);(Z!==""||(Z=e.loadFile(y,!0))!==void 0)&&(y=Z)}if(w(y)&&(y=h(y,A)),A=n(y,A),!b(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((he=H)==null||he.length===0)&&(H=(function(M){return typeof M=="string"||K(M)?B(M):K(M.data)?B(M.data):null})(y)),(ae=_.call(this,H))||(y instanceof Uint8Array||A==="RGBA"||(ge=y,y=U(y)),ae=this["process"+A.toUpperCase()](y,f.call(this),H,(function(M){return M&&typeof M=="string"&&(M=M.toUpperCase()),M in e.image_compression?M:W.NONE})(F),ge)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},E=e.__addimage__.convertBase64ToBinaryString=function(y,A){A=typeof A!="boolean"||A;var H,F="";if(typeof y=="string"){var ae;H=(ae=R(y))!==null&&ae!==void 0?ae:y;try{F=Bd(H)}catch(ge){if(A)throw I(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};e.getImageProperties=function(y){var A,H,F="";if(w(y)&&(y=h(y)),typeof y=="string"&&n(y)===r&&((F=E(y,!1))===""&&(F=e.loadFile(y)||""),y=F),H=n(y),!b(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(y instanceof Uint8Array||(y=U(y)),!(A=this["process"+H.toUpperCase()](y)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=H,A}})(ct.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var s,n,o,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,f=!1,b=0;b<c.length&&!f;b++)switch((s=c[b]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var w=0;w<c.length;w++){s=c[w];var h=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var O=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(O.objId),W=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(n="/Rect ["+i(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+i(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+h(N(s.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+h(N(W))+") >>",O.content=o;var B=O.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+i(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+i(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+B,s.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(O.objId,"0 R",j.objId,"0 R");break;case"freetext":n="/Rect ["+i(s.bounds.x)+" "+l(s.bounds.y)+" "+i(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var I=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(_(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var R=this.annotations._nameMap[s.options.name];s.options.pageNumber=R.page,s.options.top=R.y}else s.options.top||(s.options.top=0);if(n="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(_(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var K=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+K+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},e.link=function(r,s,n,o,i){var l=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:d(r),y:c(s),w:d(r+n),h:c(s+o)},options:i,type:"link"})},e.textWithLink=function(r,s,n,o){var i,l,d=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var f=this.splitTextToSize(r,l).length;i=Math.ceil(c*f)}else l=d,i=c;return this.text(r,s,n,o),n+=.2*c,o.align==="center"&&(s-=d/2),o.align==="right"&&(s-=d),this.link(s,n-c,l,i,o),d},e.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}})(ct.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(O){return t[O.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(O){return typeof O=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(O)},l=e.__arabicParser__.isArabicEndLetter=function(O){return i(O)&&o(O)&&t[O.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(O){return i(O)&&n.indexOf(O.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(O){return i(O)&&o(O)&&t[O.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(O){return i(O)&&o(O)&&t[O.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(O){return i(O)&&o(O)&&t[O.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(O){return i(O)&&o(O)&&t[O.charCodeAt(0)].length==4},b=e.__arabicParser__.resolveLigatures=function(O){var j=0,N=r,W="",B=0;for(j=0;j<O.length;j+=1)N[O.charCodeAt(j)]!==void 0?(B++,typeof(N=N[O.charCodeAt(j)])=="number"&&(W+=String.fromCharCode(N),N=r,B=0),j===O.length-1&&(N=r,W+=O.charAt(j-(B-1)),j-=B-1,B=0)):(N=r,W+=O.charAt(j-B),j-=B,B=0);return W};e.__arabicParser__.isArabicDiacritic=function(O){return O!==void 0&&s[O.charCodeAt(0)]!==void 0};var w=e.__arabicParser__.getCorrectForm=function(O,j,N){return i(O)?o(O)===!1?-1:!c(O)||!i(j)&&!i(N)||!i(N)&&l(j)||l(O)&&!i(j)||l(O)&&d(j)||l(O)&&l(j)?0:f(O)&&i(j)&&!l(j)&&i(N)&&c(N)?3:l(O)||!i(N)?1:2:-1},h=function(O){var j=0,N=0,W=0,B="",I="",R="",K=(O=O||"").split("\\s+"),U=[];for(j=0;j<K.length;j+=1){for(U.push(""),N=0;N<K[j].length;N+=1)B=K[j][N],I=K[j][N-1],R=K[j][N+1],i(B)?(W=w(B,I,R),U[j]+=W!==-1?String.fromCharCode(t[B.charCodeAt(0)][W]):B):U[j]+=B;U[j]=b(U[j])}return U.join(" ")},_=e.__arabicParser__.processArabic=e.processArabic=function(){var O,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(j)){var W=0;for(N=[],W=0;W<j.length;W+=1)Array.isArray(j[W])?N.push([h(j[W][0]),j[W][1],j[W][2]]):N.push([h(j[W])]);O=N}else O=h(j);return typeof arguments[0]=="string"?O:(arguments[0].text=O,arguments[0])};e.events.push(["preProcessText",_])})(ct.API),ct.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,s){var n;if((r=r||"2d")!=="2d")return null;for(n in s)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=s[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ct.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(O){d=O}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(O){c=O}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(O){f=O}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(O){b=O}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(O){w=O}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(O){h=O}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(O){_=O}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return s.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,c){s.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),b=c.font||this.getFont(),w=c.scaleFactor||this.internal.scaleFactor,h=0,_=0,O=0,j=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var N=c.maxWidth;N>0?typeof d=="string"?d=this.splitTextToSize(d,N):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(B,I){return B.concat(j.splitTextToSize(I,N))},[])):d=Array.isArray(d)?d:[d];for(var W=0;W<d.length;W++)h<(O=this.getStringUnitWidth(d[W],{font:b})*f)&&(h=O);return h!==0&&(_=d.length),{w:h/=w,h:Math.max((_*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/w,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,b=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===d.lineNumber?(d.x=(c.x||0)+(c.width||0),d.y=c.y||0):c.y+c.height+d.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=b.top,h&&w&&(this.printHeaderRow(d.lineNumber,!0),d.y+=w[0].height)):d.y=c.y+c.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-f,d.y+f,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+f,{align:"center",baseline:"top",maxWidth:d.width-f-f}):this.text(d.text,d.x+f,d.y+f,{align:"left",baseline:"top",maxWidth:d.width-f-f})),this.internal.__cell__.lastCell=d,this};e.table=function(d,c,f,b,w){if(s.call(this),!f)throw new Error("No data for PDF table.");var h,_,O,j,N=[],W=[],B=[],I={},R={},K=[],U=[],x=(w=w||{}).autoSize||!1,p=w.printHeaders!==!1,E=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,y=w.margins||Object.assign({width:this.getPageWidth()},t),A=typeof w.padding=="number"?w.padding:3,H=w.headerBackgroundColor||"#c8c8c8",F=w.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=p,this.internal.__cell__.margins=y,this.internal.__cell__.table_font_size=E,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=F,this.setFontSize(E),b==null)W=N=Object.keys(f[0]),B=N.map(function(){return"left"});else if(Array.isArray(b)&&Wt(b[0])==="object")for(N=b.map(function(z){return z.name}),W=b.map(function(z){return z.prompt||z.name||""}),B=b.map(function(z){return z.align||"left"}),h=0;h<b.length;h+=1)R[b[h].name]=.7499990551181103*b[h].width;else Array.isArray(b)&&typeof b[0]=="string"&&(W=N=b,B=N.map(function(){return"left"}));if(x||Array.isArray(b)&&typeof b[0]=="string")for(h=0;h<N.length;h+=1){for(I[j=N[h]]=f.map(function(z){return z[j]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(W[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=I[j],this.setFont(void 0,"normal"),O=0;O<_.length;O+=1)K.push(this.getTextDimensions(_[O],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[j]=Math.max.apply(null,K)+A+A,K=[]}if(p){var ae={};for(h=0;h<N.length;h+=1)ae[N[h]]={},ae[N[h]].text=W[h],ae[N[h]].align=B[h];var ge=l.call(this,ae,R);U=N.map(function(z){return new o(d,c,R[z],ge,ae[z].text,void 0,ae[z].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var he=b.reduce(function(z,S){return z[S.name]=S.align,z},{});for(h=0;h<f.length;h+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:h,data:f[h]},this);var Z=l.call(this,f[h],R);for(O=0;O<N.length;O+=1){var M=f[h][N[O]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:h,col:O,data:M},this),i.call(this,new o(d,c,R[N[O]],Z,M,h+2,he[N[O]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=c,this};var l=function(d,c){var f=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(d).map(function(h){var _=d[h];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[h]-f-f)},this).map(function(h){return this.getLineHeightFactor()*h.length*b/w+f+f},this).reduce(function(h,_){return Math.max(h,_)},0)};e.setTableHeaderRow=function(d){s.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,c){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){f=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,w.push(f)),f.lineNumber=d;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,f),this.setTextColor(_)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),r=!1}})(ct.API);var Ym={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Jm=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],p0=Km(Jm),Zm=[100,200,300,400,500,600,700,800,900],q_=Km(Zm);function Du(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return Ym[o=o||"normal"]?o:"normal"})(e.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(e.weight),n=(function(o){return typeof p0[o=o||"normal"]=="number"?o:"normal"})(e.stretch);return{family:t,style:r,weight:s,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,s].join(" ")}}}function Vg(e,t,r,s){var n;for(n=r;n>=0&&n<t.length;n+=s)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=s)if(e[t[n]])return e[t[n]]}var z_={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Wg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Gg(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Kg(e){return e.trimLeft()}function H_(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function V_(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var $d,Yg,Jg,Yo,Ed,Zg,Xg,Qg,Ru=["times"];function ep(e,t,r,s){var n=4,o=rp;switch(s){case ct.API.image_compression.FAST:n=1,o=tp;break;case ct.API.image_compression.MEDIUM:n=6,o=sp;break;case ct.API.image_compression.SLOW:n=9,o=ap}e=(function(l,d,c,f){for(var b,w=l.length/d,h=new Uint8Array(l.length+w),_=[W_,tp,rp,sp,ap],O=0;O<w;O+=1){var j=O*d,N=l.subarray(j,j+d);if(f)h.set(f(N,c,b),j+O);else{for(var W=_.length,B=[],I=0;I<W;I+=1)B[I]=_[I](N,c,b);var R=K_(B.concat());h.set(B[R],j+O)}b=N}return h})(e,t,r,o);var i=l0(e,{level:n});return ct.API.__addimage__.arrayBufferToBinaryString(i)}function W_(e){var t=Array.apply([],e);return t.unshift(0),t}function tp(e,t){var r=e.length,s=[];s[0]=1;for(var n=0;n<r;n+=1){var o=e[n-t]||0;s[n+1]=e[n]-o+256&255}return s}function rp(e,t,r){var s=e.length,n=[];n[0]=2;for(var o=0;o<s;o+=1){var i=r&&r[o]||0;n[o+1]=e[o]-i+256&255}return n}function sp(e,t,r){var s=e.length,n=[];n[0]=3;for(var o=0;o<s;o+=1){var i=e[o-t]||0,l=r&&r[o]||0;n[o+1]=e[o]+256-(i+l>>>1)&255}return n}function ap(e,t,r){var s=e.length,n=[];n[0]=4;for(var o=0;o<s;o+=1){var i=G_(e[o-t]||0,r&&r[o]||0,r&&r[o-t]||0);n[o+1]=e[o]-i+256&255}return n}function G_(e,t,r){if(e===t&&t===r)return e;var s=Math.abs(t-r),n=Math.abs(e-r),o=Math.abs(e+t-r-r);return s<=n&&s<=o?e:n<=o?t:r}function K_(e){var t=e.map(function(r){return r.reduce(function(s,n){return s+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function Ou(e,t,r){var s=t*r,n=Math.floor(s/8),o=16-(s-8*n+r),i=(1<<r)-1;return Xm(e,n)>>o&i}function np(e,t,r,s){var n=r*s,o=Math.floor(n/8),i=16-(n-8*o+s),l=(1<<s)-1,d=(t&l)<<i;(function(c,f,b){if(f+1<c.byteLength)c.setUint16(f,b,!1);else{var w=b>>8&255;c.setUint8(f,w)}})(e,o,Xm(e,o)&~(l<<i)&65535|d)}function Xm(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Y_(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,n=e[t++],o=n>>7,i=1<<1+(7&n);e[t++],e[t++];var l=null,d=null;o&&(l=t,d=i,t+=3*i);var c=!0,f=[],b=0,w=null,h=0,_=null;for(this.width=r,this.height=s;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,_=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((y=e[t++])>=0))throw Error("Invalid block size");if(y===0)break;t+=y}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var O=e[t++];b=e[t++]|e[t++]<<8,w=e[t++],1&O||(w=null),h=O>>2&7,t++;break;case 254:for(;;){if(!((y=e[t++])>=0))throw Error("Invalid block size");if(y===0)break;t+=y}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,W=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,I=e[t++],R=I>>6&1,K=1<<1+(7&I),U=l,x=d,p=!1;I>>7&&(p=!0,U=t,x=K,t+=3*K);var E=t;for(t++;;){var y;if(!((y=e[t++])>=0))throw Error("Invalid block size");if(y===0)break;t+=y}f.push({x:j,y:N,width:W,height:B,has_local_palette:p,palette_offset:U,palette_size:x,data_offset:E,data_length:t-E,transparent_index:w,interlaced:!!R,delay:b,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return _},this.frameInfo=function(A){if(A<0||A>=f.length)throw new Error("Frame index out of range.");return f[A]},this.decodeAndBlitFrameBGRA=function(A,H){var F=this.frameInfo(A),ae=F.width*F.height,ge=new Uint8Array(ae);op(e,F.data_offset,ge,ae);var he=F.palette_offset,Z=F.transparent_index;Z===null&&(Z=256);var M=F.width,z=r-M,S=M,m=4*(F.y*r+F.x),C=4*((F.y+F.height)*r+F.x),L=m,$=4*z;F.interlaced===!0&&($+=4*r*7);for(var V=8,q=0,te=ge.length;q<te;++q){var oe=ge[q];if(S===0&&(S=M,(L+=$)>=C&&($=4*z+4*r*(V-1),L=m+(M+z)*(V<<1),V>>=1)),oe===Z)L+=4;else{var pe=e[he+3*oe],we=e[he+3*oe+1],re=e[he+3*oe+2];H[L++]=re,H[L++]=we,H[L++]=pe,H[L++]=255}--S}},this.decodeAndBlitFrameRGBA=function(A,H){var F=this.frameInfo(A),ae=F.width*F.height,ge=new Uint8Array(ae);op(e,F.data_offset,ge,ae);var he=F.palette_offset,Z=F.transparent_index;Z===null&&(Z=256);var M=F.width,z=r-M,S=M,m=4*(F.y*r+F.x),C=4*((F.y+F.height)*r+F.x),L=m,$=4*z;F.interlaced===!0&&($+=4*r*7);for(var V=8,q=0,te=ge.length;q<te;++q){var oe=ge[q];if(S===0&&(S=M,(L+=$)>=C&&($=4*z+4*r*(V-1),L=m+(M+z)*(V<<1),V>>=1)),oe===Z)L+=4;else{var pe=e[he+3*oe],we=e[he+3*oe+1],re=e[he+3*oe+2];H[L++]=pe,H[L++]=we,H[L++]=re,H[L++]=255}--S}}}function op(e,t,r,s){for(var n=e[t++],o=1<<n,i=o+1,l=i+1,d=n+1,c=(1<<d)-1,f=0,b=0,w=0,h=e[t++],_=new Int32Array(4096),O=null;;){for(;f<16&&h!==0;)b|=e[t++]<<f,f+=8,h===1?h=e[t++]:--h;if(f<d)break;var j=b&c;if(b>>=d,f-=d,j!==o){if(j===i)break;for(var N=j<l?j:O,W=0,B=N;B>o;)B=_[B]>>8,++W;var I=B;if(w+W+(N!==j?1:0)>s)return void Jt.log("Warning, gif stream longer than expected.");r[w++]=I;var R=w+=W;for(N!==j&&(r[w++]=I),B=N;W--;)B=_[B],r[--R]=255&B,B>>=8;O!==null&&l<4096&&(_[l++]=O<<8|I,l>=c+1&&d<12&&(++d,c=c<<1|1)),O=j}else l=i+1,c=(1<<(d=n+1))-1,O=null}return w!==s&&Jt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fu(e){var t,r,s,n,o,i=Math.floor,l=new Array(64),d=new Array(64),c=new Array(64),f=new Array(64),b=new Array(65535),w=new Array(65535),h=new Array(64),_=new Array(64),O=[],j=0,N=7,W=new Array(64),B=new Array(64),I=new Array(64),R=new Array(256),K=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],p=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],y=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(m,C){for(var L=0,$=0,V=new Array,q=1;q<=16;q++){for(var te=1;te<=m[q];te++)V[C[$]]=[],V[C[$]][0]=L,V[C[$]][1]=q,$++,L++;L*=2}return V}function he(m){for(var C=m[0],L=m[1]-1;L>=0;)C&1<<L&&(j|=1<<N),L--,--N<0&&(j==255?(Z(255),Z(0)):Z(j),N=7,j=0)}function Z(m){O.push(m)}function M(m){Z(m>>8&255),Z(255&m)}function z(m,C,L,$,V){for(var q,te=V[0],oe=V[240],pe=(function(ve,$e){var Se,qe,Te,Oe,Be,ze,et,Ke,Ze,tt,Xe=0;for(Ze=0;Ze<8;++Ze){Se=ve[Xe],qe=ve[Xe+1],Te=ve[Xe+2],Oe=ve[Xe+3],Be=ve[Xe+4],ze=ve[Xe+5],et=ve[Xe+6];var vt=Se+(Ke=ve[Xe+7]),At=Se-Ke,ot=qe+et,ht=qe-et,Mt=Te+ze,mt=Te-ze,It=Oe+Be,Ct=Oe-Be,hr=vt+It,Lr=vt-It,Kt=ot+Mt,kt=ot-Mt;ve[Xe]=hr+Kt,ve[Xe+4]=hr-Kt;var Bt=.707106781*(kt+Lr);ve[Xe+2]=Lr+Bt,ve[Xe+6]=Lr-Bt;var zn=.382683433*((hr=Ct+mt)-(kt=ht+At)),Yr=.5411961*hr+zn,$a=1.306562965*kt+zn,ua=.707106781*(Kt=mt+ht),bt=At+ua,Ea=At-ua;ve[Xe+5]=Ea+Yr,ve[Xe+3]=Ea-Yr,ve[Xe+1]=bt+$a,ve[Xe+7]=bt-$a,Xe+=8}for(Xe=0,Ze=0;Ze<8;++Ze){Se=ve[Xe],qe=ve[Xe+8],Te=ve[Xe+16],Oe=ve[Xe+24],Be=ve[Xe+32],ze=ve[Xe+40],et=ve[Xe+48];var Ma=Se+(Ke=ve[Xe+56]),Es=Se-Ke,Ms=qe+et,lr=qe-et,Or=Te+ze,Ur=Te-ze,Hn=Oe+Be,ln=Oe-Be,Ys=Ma+Hn,fa=Ma-Hn,Js=Ms+Or,Zs=Ms-Or;ve[Xe]=Ys+Js,ve[Xe+32]=Ys-Js;var Is=.707106781*(Zs+fa);ve[Xe+16]=fa+Is,ve[Xe+48]=fa-Is;var Vn=.382683433*((Ys=ln+Ur)-(Zs=lr+Es)),ha=.5411961*Ys+Vn,Wn=1.306562965*Zs+Vn,Lo=.707106781*(Js=Ur+lr),No=Es+Lo,$o=Es-Lo;ve[Xe+40]=$o+ha,ve[Xe+24]=$o-ha,ve[Xe+8]=No+Wn,ve[Xe+56]=No-Wn,Xe++}for(Ze=0;Ze<64;++Ze)tt=ve[Ze]*$e[Ze],h[Ze]=tt>0?tt+.5|0:tt-.5|0;return h})(m,C),we=0;we<64;++we)_[U[we]]=pe[we];var re=_[0]-L;L=_[0],re==0?he($[0]):(he($[w[q=32767+re]]),he(b[q]));for(var ie=63;ie>0&&_[ie]==0;)ie--;if(ie==0)return he(te),L;for(var ne,T=1;T<=ie;){for(var de=T;_[T]==0&&T<=ie;)++T;var me=T-de;if(me>=16){ne=me>>4;for(var ke=1;ke<=ne;++ke)he(oe);me&=15}q=32767+_[T],he(V[(me<<4)+w[q]]),he(b[q]),T++}return ie!=63&&he(te),L}function S(m){m=Math.min(Math.max(m,1),100),o!=m&&((function(C){for(var L=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var V=i((L[$]*C+50)/100);V=Math.min(Math.max(V,1),255),l[U[$]]=V}for(var q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var oe=i((q[te]*C+50)/100);oe=Math.min(Math.max(oe,1),255),d[U[te]]=oe}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,re=0;re<8;re++)for(var ie=0;ie<8;ie++)c[we]=1/(l[U[we]]*pe[re]*pe[ie]*8),f[we]=1/(d[U[we]]*pe[re]*pe[ie]*8),we++})(m<50?Math.floor(5e3/m):Math.floor(200-2*m)),o=m)}this.encode=function(m,C){C&&S(C),O=new Array,j=0,N=7,M(65496),M(65504),M(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),M(1),M(1),Z(0),Z(0),(function(){M(65499),M(132),Z(0);for(var qe=0;qe<64;qe++)Z(l[qe]);Z(1);for(var Te=0;Te<64;Te++)Z(d[Te])})(),(function(qe,Te){M(65472),M(17),Z(8),M(Te),M(qe),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(m.width,m.height),(function(){M(65476),M(418),Z(0);for(var qe=0;qe<16;qe++)Z(x[qe+1]);for(var Te=0;Te<=11;Te++)Z(p[Te]);Z(16);for(var Oe=0;Oe<16;Oe++)Z(E[Oe+1]);for(var Be=0;Be<=161;Be++)Z(y[Be]);Z(1);for(var ze=0;ze<16;ze++)Z(A[ze+1]);for(var et=0;et<=11;et++)Z(H[et]);Z(17);for(var Ke=0;Ke<16;Ke++)Z(F[Ke+1]);for(var Ze=0;Ze<=161;Ze++)Z(ae[Ze])})(),M(65498),M(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var L=0,$=0,V=0;j=0,N=7,this.encode.displayName="_encode_";for(var q,te,oe,pe,we,re,ie,ne,T,de=m.data,me=m.width,ke=m.height,ve=4*me,$e=0;$e<ke;){for(q=0;q<ve;){for(we=ve*$e+q,ie=-1,ne=0,T=0;T<64;T++)re=we+(ne=T>>3)*ve+(ie=4*(7&T)),$e+ne>=ke&&(re-=ve*($e+1+ne-ke)),q+ie>=ve&&(re-=q+ie-ve+4),te=de[re++],oe=de[re++],pe=de[re++],W[T]=(K[te]+K[oe+256|0]+K[pe+512|0]>>16)-128,B[T]=(K[te+768|0]+K[oe+1024|0]+K[pe+1280|0]>>16)-128,I[T]=(K[te+1280|0]+K[oe+1536|0]+K[pe+1792|0]>>16)-128;L=z(W,c,L,t,s),$=z(B,f,$,r,n),V=z(I,f,V,r,n),q+=32}$e+=8}if(N>=0){var Se=[];Se[1]=N+1,Se[0]=(1<<N+1)-1,he(Se)}return M(65497),new Uint8Array(O)},e=e||50,(function(){for(var m=String.fromCharCode,C=0;C<256;C++)R[C]=m(C)})(),t=ge(x,p),r=ge(A,H),s=ge(E,y),n=ge(F,ae),(function(){for(var m=1,C=2,L=1;L<=15;L++){for(var $=m;$<C;$++)w[32767+$]=L,b[32767+$]=[],b[32767+$][1]=L,b[32767+$][0]=$;for(var V=-(C-1);V<=-m;V++)w[32767+V]=L,b[32767+V]=[],b[32767+V][1]=L,b[32767+V][0]=C-1+V;m<<=1,C<<=1}})(),(function(){for(var m=0;m<256;m++)K[m]=19595*m,K[m+256|0]=38470*m,K[m+512|0]=7471*m+32768,K[m+768|0]=-11059*m,K[m+1024|0]=-21709*m,K[m+1280|0]=32768*m+8421375,K[m+1536|0]=-27439*m,K[m+1792|0]=-5329*m})(),S(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function sa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ip(e){function t(p){if(!p)throw Error("assert :P")}function r(p,E,y){for(var A=0;4>A;A++)if(p[E+A]!=y.charCodeAt(A))return!0;return!1}function s(p,E,y,A,H){for(var F=0;F<H;F++)p[E+F]=y[A+F]}function n(p,E,y,A){for(var H=0;H<A;H++)p[E+H]=y}function o(p){return new Int32Array(p)}function i(p,E){for(var y=[],A=0;A<p;A++)y.push(new E);return y}function l(p,E){var y=[];return(function A(H,F,ae){for(var ge=ae[F],he=0;he<ge&&(H.push(ae.length>F+1?[]:new E),!(ae.length<F+1));he++)A(H[he],F+1,ae)})(y,0,p),y}var d=function(){var p=this;function E(u,g){for(var k=1<<g-1>>>0;u&k;)k>>>=1;return k?(u&k-1)+k:u}function y(u,g,k,P,Y){t(!(P%k));do u[g+(P-=k)]=Y;while(0<P)}function A(u,g,k,P,Y){if(t(2328>=Y),512>=Y)var Q=o(512);else if((Q=o(Y))==null)return 0;return(function(ee,se,le,ce,xe,Ne){var ue,_e,Ce=se,Re=1<<le,Le=o(16),Fe=o(16);for(t(xe!=0),t(ce!=null),t(ee!=null),t(0<le),_e=0;_e<xe;++_e){if(15<ce[_e])return 0;++Le[ce[_e]]}if(Le[0]==xe)return 0;for(Fe[1]=0,ue=1;15>ue;++ue){if(Le[ue]>1<<ue)return 0;Fe[ue+1]=Fe[ue]+Le[ue]}for(_e=0;_e<xe;++_e)ue=ce[_e],0<ce[_e]&&(Ne[Fe[ue]++]=_e);if(Fe[15]==1)return(ce=new H).g=0,ce.value=Ne[0],y(ee,Ce,1,Re,ce),Re;var Ue,Ge=-1,He=Re-1,ft=0,st=1,Nt=1,lt=1<<le;for(_e=0,ue=1,xe=2;ue<=le;++ue,xe<<=1){if(st+=Nt<<=1,0>(Nt-=Le[ue]))return 0;for(;0<Le[ue];--Le[ue])(ce=new H).g=ue,ce.value=Ne[_e++],y(ee,Ce+ft,xe,lt,ce),ft=E(ft,ue)}for(ue=le+1,xe=2;15>=ue;++ue,xe<<=1){if(st+=Nt<<=1,0>(Nt-=Le[ue]))return 0;for(;0<Le[ue];--Le[ue]){if(ce=new H,(ft&He)!=Ge){for(Ce+=lt,Ue=1<<(Ge=ue)-le;15>Ge&&!(0>=(Ue-=Le[Ge]));)++Ge,Ue<<=1;Re+=lt=1<<(Ue=Ge-le),ee[se+(Ge=ft&He)].g=Ue+le,ee[se+Ge].value=Ce-se-Ge}ce.g=ue-le,ce.value=Ne[_e++],y(ee,Ce+(ft>>le),xe,lt,ce),ft=E(ft,ue)}}return st!=2*Fe[15]-1?0:Re})(u,g,k,P,Y,Q)}function H(){this.value=this.g=0}function F(){this.value=this.g=0}function ae(){this.G=i(5,H),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(ma,F)}function ge(u,g,k,P){t(u!=null),t(g!=null),t(2147483648>P),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=g,u.pa=k,u.Jd=g,u.Yc=k+P,u.Zc=4<=P?k+P-4+1:k,te(u)}function he(u,g){for(var k=0;0<g--;)k|=pe(u,128)<<g;return k}function Z(u,g){var k=he(u,g);return oe(u)?-k:k}function M(u,g,k,P){var Y,Q=0;for(t(u!=null),t(g!=null),t(4294967288>P),u.Sb=P,u.Ra=0,u.u=0,u.h=0,4<P&&(P=4),Y=0;Y<P;++Y)Q+=g[k+Y]<<8*Y;u.Ra=Q,u.bb=P,u.oa=g,u.pa=k}function z(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<pn-8>>>0,++u.bb,u.u-=8;$(u)&&(u.h=1,u.u=0)}function S(u,g){if(t(0<=g),!u.h&&g<=Fi){var k=L(u)&gn[g];return u.u+=g,z(u),k}return u.h=1,u.u=0}function m(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(u){return u.Ra>>>(u.u&pn-1)>>>0}function $(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>pn}function V(u,g){u.u=g,u.h=$(u)}function q(u){u.u>=pr&&(t(u.u>=pr),z(u))}function te(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function oe(u){return he(u,1)}function pe(u,g){var k=u.Ca;0>u.b&&te(u);var P=u.b,Y=k*g>>>8,Q=(u.I>>>P>Y)+0;for(Q?(k-=Y,u.I-=Y+1<<P>>>0):k=Y+1,P=k,Y=0;256<=P;)Y+=8,P>>=8;return P=7^Y+Uc[P],u.b-=P,u.Ca=(k<<P)-1,Q}function we(u,g,k){u[g+0]=k>>24&255,u[g+1]=k>>16&255,u[g+2]=k>>8&255,u[g+3]=255&k}function re(u,g){return u[g+0]|u[g+1]<<8}function ie(u,g){return re(u,g)|u[g+2]<<16}function ne(u,g){return re(u,g)|re(u,g+2)<<16}function T(u,g){var k=1<<g;return t(u!=null),t(0<g),u.X=o(k),u.X==null?0:(u.Mb=32-g,u.Xa=g,1)}function de(u,g){t(u!=null),t(g!=null),t(u.Xa==g.Xa),s(g.X,0,u.X,0,1<<g.Xa)}function me(){this.X=[],this.Xa=this.Mb=0}function ke(u,g,k,P){t(k!=null),t(P!=null);var Y=k[0],Q=P[0];return Y==0&&(Y=(u*Q+g/2)/g),Q==0&&(Q=(g*Y+u/2)/u),0>=Y||0>=Q?0:(k[0]=Y,P[0]=Q,1)}function ve(u,g){return u+(1<<g)-1>>>g}function $e(u,g){return((4278255360&u)+(4278255360&g)>>>0&4278255360)+((16711935&u)+(16711935&g)>>>0&16711935)>>>0}function Se(u,g){p[g]=function(k,P,Y,Q,ee,se,le){var ce;for(ce=0;ce<ee;++ce){var xe=p[u](se[le+ce-1],Y,Q+ce);se[le+ce]=$e(k[P+ce],xe)}}}function qe(){this.ud=this.hd=this.jd=0}function Te(u,g){return((4278124286&(u^g))>>>1)+(u&g)>>>0}function Oe(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Be(u,g){return Oe(u+(u-g+.5>>1))}function ze(u,g,k){return Math.abs(g-k)-Math.abs(u-k)}function et(u,g,k,P,Y,Q,ee){for(P=Q[ee-1],k=0;k<Y;++k)Q[ee+k]=P=$e(u[g+k],P)}function Ke(u,g,k,P,Y){var Q;for(Q=0;Q<k;++Q){var ee=u[g+Q],se=ee>>8&255,le=16711935&(le=(le=16711935&ee)+((se<<16)+se));P[Y+Q]=(4278255360&ee)+le>>>0}}function Ze(u,g){g.jd=255&u,g.hd=u>>8&255,g.ud=u>>16&255}function tt(u,g,k,P,Y,Q){var ee;for(ee=0;ee<P;++ee){var se=g[k+ee],le=se>>>8,ce=se,xe=255&(xe=(xe=se>>>16)+((u.jd<<24>>24)*(le<<24>>24)>>>5));ce=255&(ce=(ce+=(u.hd<<24>>24)*(le<<24>>24)>>>5)+((u.ud<<24>>24)*(xe<<24>>24)>>>5)),Y[Q+ee]=(4278255360&se)+(xe<<16)+ce}}function Xe(u,g,k,P,Y){p[g]=function(Q,ee,se,le,ce,xe,Ne,ue,_e){for(le=Ne;le<ue;++le)for(Ne=0;Ne<_e;++Ne)ce[xe++]=Y(se[P(Q[ee++])])},p[u]=function(Q,ee,se,le,ce,xe,Ne){var ue=8>>Q.b,_e=Q.Ea,Ce=Q.K[0],Re=Q.w;if(8>ue)for(Q=(1<<Q.b)-1,Re=(1<<ue)-1;ee<se;++ee){var Le,Fe=0;for(Le=0;Le<_e;++Le)Le&Q||(Fe=P(le[ce++])),xe[Ne++]=Y(Ce[Fe&Re]),Fe>>=ue}else p["VP8LMapColor"+k](le,ce,Ce,Re,xe,Ne,ee,se,_e)}}function vt(u,g,k,P,Y){for(k=g+k;g<k;){var Q=u[g++];P[Y++]=Q>>16&255,P[Y++]=Q>>8&255,P[Y++]=255&Q}}function At(u,g,k,P,Y){for(k=g+k;g<k;){var Q=u[g++];P[Y++]=Q>>16&255,P[Y++]=Q>>8&255,P[Y++]=255&Q,P[Y++]=Q>>24&255}}function ot(u,g,k,P,Y){for(k=g+k;g<k;){var Q=(ee=u[g++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;P[Y++]=Q,P[Y++]=ee}}function ht(u,g,k,P,Y){for(k=g+k;g<k;){var Q=(ee=u[g++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;P[Y++]=Q,P[Y++]=ee}}function Mt(u,g,k,P,Y){for(k=g+k;g<k;){var Q=u[g++];P[Y++]=255&Q,P[Y++]=Q>>8&255,P[Y++]=Q>>16&255}}function mt(u,g,k,P,Y,Q){if(Q==0)for(k=g+k;g<k;)we(P,((Q=u[g++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),Y+=32;else s(P,Y,u,g,k)}function It(u,g){p[g][0]=p[u+"0"],p[g][1]=p[u+"1"],p[g][2]=p[u+"2"],p[g][3]=p[u+"3"],p[g][4]=p[u+"4"],p[g][5]=p[u+"5"],p[g][6]=p[u+"6"],p[g][7]=p[u+"7"],p[g][8]=p[u+"8"],p[g][9]=p[u+"9"],p[g][10]=p[u+"10"],p[g][11]=p[u+"11"],p[g][12]=p[u+"12"],p[g][13]=p[u+"13"],p[g][14]=p[u+"0"],p[g][15]=p[u+"0"]}function Ct(u){return u==zc||u==Hc||u==nd||u==Vc}function hr(){this.eb=[],this.size=this.A=this.fb=0}function Lr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new hr,this.f.kb=new Lr,this.sd=null}function kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function zn(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Yr(u,g){var k=u.T,P=g.ba.f.RGBA,Y=P.eb,Q=P.fb+u.ka*P.A,ee=Os[g.ba.S],se=u.y,le=u.O,ce=u.f,xe=u.N,Ne=u.ea,ue=u.W,_e=g.cc,Ce=g.dc,Re=g.Mc,Le=g.Nc,Fe=u.ka,Ue=u.ka+u.T,Ge=u.U,He=Ge+1>>1;for(Fe==0?ee(se,le,null,null,ce,xe,Ne,ue,ce,xe,Ne,ue,Y,Q,null,null,Ge):(ee(g.ec,g.fc,se,le,_e,Ce,Re,Le,ce,xe,Ne,ue,Y,Q-P.A,Y,Q,Ge),++k);Fe+2<Ue;Fe+=2)_e=ce,Ce=xe,Re=Ne,Le=ue,xe+=u.Rc,ue+=u.Rc,Q+=2*P.A,ee(se,(le+=2*u.fa)-u.fa,se,le,_e,Ce,Re,Le,ce,xe,Ne,ue,Y,Q-P.A,Y,Q,Ge);return le+=u.fa,u.j+Ue<u.o?(s(g.ec,g.fc,se,le,Ge),s(g.cc,g.dc,ce,xe,He),s(g.Mc,g.Nc,Ne,ue,He),k--):1&Ue||ee(se,le,null,null,ce,xe,Ne,ue,ce,xe,Ne,ue,Y,Q+P.A,null,null,Ge),k}function $a(u,g,k){var P=u.F,Y=[u.J];if(P!=null){var Q=u.U,ee=g.ba.S,se=ee==ad||ee==nd;g=g.ba.f.RGBA;var le=[0],ce=u.ka;le[0]=u.T,u.Kb&&(ce==0?--le[0]:(--ce,Y[0]-=u.width),u.j+u.ka+u.T==u.o&&(le[0]=u.o-u.j-ce));var xe=g.eb;ce=g.fb+ce*g.A,u=nf(P,Y[0],u.width,Q,le,xe,ce+(se?0:3),g.A),t(k==le),u&&Ct(ee)&&qi(xe,ce,se,Q,le,g.A)}return 0}function ua(u){var g=u.ma,k=g.ba.S,P=11>k,Y=k==rd||k==sd||k==ad||k==qc||k==12||Ct(k);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!fs(g.Oa,u,Y?11:12))return 0;if(Y&&Ct(k)&&Ti(),u.da)alert("todo:use_scaling");else{if(P){if(g.Ib=zn,u.Kb){if(k=u.U+1>>1,g.memory=o(u.U+2*k),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+u.U,g.Mc=g.cc,g.Nc=g.dc+k,g.Ib=Yr,Ti()}}else alert("todo:EmitYUV");Y&&(g.Jb=$a,P&&to())}if(P&&!wf){for(u=0;256>u;++u)x2[u]=89858*(u-128)+id>>od,w2[u]=-22014*(u-128)+id,k2[u]=-45773*(u-128),y2[u]=113618*(u-128)+id>>od;for(u=Hi;u<Kc;++u)g=76283*(u-16)+id>>od,_2[u-Hi]=$r(g,255),S2[u-Hi]=$r(g+8>>4,15);wf=1}return 1}function bt(u){var g=u.ma,k=u.U,P=u.T;return t(!(1&u.ka)),0>=k||0>=P?0:(k=g.Ib(u,g),g.Jb!=null&&g.Jb(u,g,k),g.Dc+=k,1)}function Ea(u){u.ma.memory=null}function Ma(u,g,k,P){return S(u,8)!=47?0:(g[0]=S(u,14)+1,k[0]=S(u,14)+1,P[0]=S(u,1),S(u,3)!=0?0:!u.h)}function Es(u,g){if(4>u)return u+1;var k=u-2>>1;return(2+(1&u)<<k)+S(g,k)+1}function Ms(u,g){return 120<g?g-120:1<=(k=((k=n2[g-1])>>4)*u+(8-(15&k)))?k:1;var k}function lr(u,g,k){var P=L(k),Y=u[g+=255&P].g-8;return 0<Y&&(V(k,k.u+8),P=L(k),g+=u[g].value,g+=P&(1<<Y)-1),V(k,k.u+u[g].g),u[g].value}function Or(u,g,k){return k.g+=u.g,k.value+=u.value<<g>>>0,t(8>=k.g),u.g}function Ur(u,g,k){var P=u.xc;return t((g=P==0?0:u.vc[u.md*(k>>P)+(g>>P)])<u.Wb),u.Ya[g]}function Hn(u,g,k,P){var Y=u.ab,Q=u.c*g,ee=u.C;g=ee+g;var se=k,le=P;for(P=u.Ta,k=u.Ua;0<Y--;){var ce=u.gc[Y],xe=ee,Ne=g,ue=se,_e=le,Ce=(le=P,se=k,ce.Ea);switch(t(xe<Ne),t(Ne<=ce.nc),ce.hc){case 2:Uo(ue,_e,(Ne-xe)*Ce,le,se);break;case 0:var Re=xe,Le=Ne,Fe=le,Ue=se,Ge=(lt=ce).Ea;Re==0&&(ba(ue,_e,null,null,1,Fe,Ue),et(ue,_e+1,0,0,Ge-1,Fe,Ue+1),_e+=Ge,Ue+=Ge,++Re);for(var He=1<<lt.b,ft=He-1,st=ve(Ge,lt.b),Nt=lt.K,lt=lt.w+(Re>>lt.b)*st;Re<Le;){var Dt=Nt,Er=lt,$t=1;for(va(ue,_e,Fe,Ue-Ge,1,Fe,Ue);$t<Ge;){var dt=($t&~ft)+He;dt>Ge&&(dt=Ge),(0,ao[Dt[Er++]>>8&15])(ue,_e+ +$t,Fe,Ue+$t-Ge,dt-$t,Fe,Ue+$t),$t=dt}_e+=Ge,Ue+=Ge,++Re&ft||(lt+=st)}Ne!=ce.nc&&s(le,se-Ce,le,se+(Ne-xe-1)*Ce,Ce);break;case 1:for(Ce=ue,Le=_e,Ge=(ue=ce.Ea)-(Ue=ue&~(Fe=(_e=1<<ce.b)-1)),Re=ve(ue,ce.b),He=ce.K,ce=ce.w+(xe>>ce.b)*Re;xe<Ne;){for(ft=He,st=ce,Nt=new qe,lt=Le+Ue,Dt=Le+ue;Le<lt;)Ze(ft[st++],Nt),ja(Nt,Ce,Le,_e,le,se),Le+=_e,se+=_e;Le<Dt&&(Ze(ft[st++],Nt),ja(Nt,Ce,Le,Ge,le,se),Le+=Ge,se+=Ge),++xe&Fe||(ce+=Re)}break;case 3:if(ue==le&&_e==se&&0<ce.b){for(Le=le,ue=Ce=se+(Ne-xe)*Ce-(Ue=(Ne-xe)*ve(ce.Ea,ce.b)),_e=le,Fe=se,Re=[],Ue=(Ge=Ue)-1;0<=Ue;--Ue)Re[Ue]=_e[Fe+Ue];for(Ue=Ge-1;0<=Ue;--Ue)Le[ue+Ue]=Re[Ue];ji(ce,xe,Ne,le,Ce,le,se)}else ji(ce,xe,Ne,ue,_e,le,se)}se=P,le=k}le!=k&&s(P,k,se,le,Q)}function ln(u,g){var k=u.V,P=u.Ba+u.c*u.C,Y=g-u.C;if(t(g<=u.l.o),t(16>=Y),0<Y){var Q=u.l,ee=u.Ta,se=u.Ua,le=Q.width;if(Hn(u,Y,k,P),Y=se=[se],t((k=u.C)<(P=g)),t(Q.v<Q.va),P>Q.o&&(P=Q.o),k<Q.j){var ce=Q.j-k;k=Q.j,Y[0]+=ce*le}if(k>=P?k=0:(Y[0]+=4*Q.v,Q.ka=k-Q.j,Q.U=Q.va-Q.v,Q.T=P-k,k=1),k){if(se=se[0],11>(k=u.ca).S){var xe=k.f.RGBA,Ne=(P=k.S,Y=Q.U,Q=Q.T,ce=xe.eb,xe.A),ue=Q;for(xe=xe.fb+u.Ma*xe.A;0<ue--;){var _e=ee,Ce=se,Re=Y,Le=ce,Fe=xe;switch(P){case td:Ui(_e,Ce,Re,Le,Fe);break;case rd:vs(_e,Ce,Re,Le,Fe);break;case zc:vs(_e,Ce,Re,Le,Fe),qi(Le,Fe,0,Re,1,0);break;case hf:tr(_e,Ce,Re,Le,Fe);break;case sd:mt(_e,Ce,Re,Le,Fe,1);break;case Hc:mt(_e,Ce,Re,Le,Fe,1),qi(Le,Fe,0,Re,1,0);break;case ad:mt(_e,Ce,Re,Le,Fe,0);break;case nd:mt(_e,Ce,Re,Le,Fe,0),qi(Le,Fe,1,Re,1,0);break;case qc:xa(_e,Ce,Re,Le,Fe);break;case Vc:xa(_e,Ce,Re,Le,Fe),af(Le,Fe,Re,1,0);break;case gf:er(_e,Ce,Re,Le,Fe);break;default:t(0)}se+=le,xe+=Ne}u.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=k.height)}}u.C=g,t(u.C<=u.i)}function Ys(u){var g;if(0<u.ua)return 0;for(g=0;g<u.Wb;++g){var k=u.Ya[g].G,P=u.Ya[g].H;if(0<k[1][P[1]+0].g||0<k[2][P[2]+0].g||0<k[3][P[3]+0].g)return 0}return 1}function fa(u,g,k,P,Y,Q){if(u.Z!=0){var ee=u.qd,se=u.rd;for(t(bn[u.Z]!=null);g<k;++g)bn[u.Z](ee,se,P,Y,P,Y,Q),ee=P,se=Y,Y+=Q;u.qd=ee,u.rd=se}}function Js(u,g){var k=u.l.ma,P=k.Z==0||k.Z==1?u.l.j:u.C;if(P=u.C<P?P:u.C,t(g<=u.l.o),g>P){var Y=u.l.width,Q=k.ca,ee=k.tb+Y*P,se=u.V,le=u.Ba+u.c*P,ce=u.gc;t(u.ab==1),t(ce[0].hc==3),qo(ce[0],P,g,se,le,Q,ee),fa(k,P,g,Q,ee,Y)}u.C=u.Ma=g}function Zs(u,g,k,P,Y,Q,ee){var se=u.$/P,le=u.$%P,ce=u.m,xe=u.s,Ne=k+u.$,ue=Ne;Y=k+P*Y;var _e=k+P*Q,Ce=280+xe.ua,Re=u.Pb?se:16777216,Le=0<xe.ua?xe.Wa:null,Fe=xe.wc,Ue=Ne<_e?Ur(xe,le,se):null;t(u.C<Q),t(_e<=Y);var Ge=!1;e:for(;;){for(;Ge||Ne<_e;){var He=0;if(se>=Re){var ft=Ne-k;t((Re=u).Pb),Re.wd=Re.m,Re.xd=ft,0<Re.s.ua&&de(Re.s.Wa,Re.s.vb),Re=se+i2}if(le&Fe||(Ue=Ur(xe,le,se)),t(Ue!=null),Ue.Qb&&(g[Ne]=Ue.qb,Ge=!0),!Ge)if(q(ce),Ue.jc){He=ce,ft=g;var st=Ne,Nt=Ue.pd[L(He)&ma-1];t(Ue.jc),256>Nt.g?(V(He,He.u+Nt.g),ft[st]=Nt.value,He=0):(V(He,He.u+Nt.g-256),t(256<=Nt.value),He=Nt.value),He==0&&(Ge=!0)}else He=lr(Ue.G[0],Ue.H[0],ce);if(ce.h)break;if(Ge||256>He){if(!Ge)if(Ue.nd)g[Ne]=(Ue.qb|He<<8)>>>0;else{if(q(ce),Ge=lr(Ue.G[1],Ue.H[1],ce),q(ce),ft=lr(Ue.G[2],Ue.H[2],ce),st=lr(Ue.G[3],Ue.H[3],ce),ce.h)break;g[Ne]=(st<<24|Ge<<16|He<<8|ft)>>>0}if(Ge=!1,++Ne,++le>=P&&(le=0,++se,ee!=null&&se<=Q&&!(se%16)&&ee(u,se),Le!=null))for(;ue<Ne;)He=g[ue++],Le.X[(506832829*He&4294967295)>>>Le.Mb]=He}else if(280>He){if(He=Es(He-256,ce),ft=lr(Ue.G[4],Ue.H[4],ce),q(ce),ft=Ms(P,ft=Es(ft,ce)),ce.h)break;if(Ne-k<ft||Y-Ne<He)break e;for(st=0;st<He;++st)g[Ne+st]=g[Ne+st-ft];for(Ne+=He,le+=He;le>=P;)le-=P,++se,ee!=null&&se<=Q&&!(se%16)&&ee(u,se);if(t(Ne<=Y),le&Fe&&(Ue=Ur(xe,le,se)),Le!=null)for(;ue<Ne;)He=g[ue++],Le.X[(506832829*He&4294967295)>>>Le.Mb]=He}else{if(!(He<Ce))break e;for(Ge=He-280,t(Le!=null);ue<Ne;)He=g[ue++],Le.X[(506832829*He&4294967295)>>>Le.Mb]=He;He=Ne,t(!(Ge>>>(ft=Le).Xa)),g[He]=ft.X[Ge],Ge=!0}Ge||t(ce.h==$(ce))}if(u.Pb&&ce.h&&Ne<Y)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&de(u.s.vb,u.s.Wa);else{if(ce.h)break e;ee?.(u,se>Q?Q:se),u.a=0,u.$=Ne-k}return 1}return u.a=3,0}function Is(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var g=u.Wa;g!=null&&(g.X=null),u.vb=null,t(u!=null)}function Vn(){var u=new ir;return u==null?null:(u.a=0,u.xb=bf,It("Predictor","VP8LPredictors"),It("Predictor","VP8LPredictors_C"),It("PredictorAdd","VP8LPredictorsAdd"),It("PredictorAdd","VP8LPredictorsAdd_C"),Uo=Ke,ja=tt,Ui=vt,vs=At,xa=ot,er=ht,tr=Mt,p.VP8LMapColor32b=Bo,p.VP8LMapColor8b=so,u)}function ha(u,g,k,P,Y){var Q=1,ee=[u],se=[g],le=P.m,ce=P.s,xe=null,Ne=0;e:for(;;){if(k)for(;Q&&S(le,1);){var ue=ee,_e=se,Ce=P,Re=1,Le=Ce.m,Fe=Ce.gc[Ce.ab],Ue=S(Le,2);if(Ce.Oc&1<<Ue)Q=0;else{switch(Ce.Oc|=1<<Ue,Fe.hc=Ue,Fe.Ea=ue[0],Fe.nc=_e[0],Fe.K=[null],++Ce.ab,t(4>=Ce.ab),Ue){case 0:case 1:Fe.b=S(Le,3)+2,Re=ha(ve(Fe.Ea,Fe.b),ve(Fe.nc,Fe.b),0,Ce,Fe.K),Fe.K=Fe.K[0];break;case 3:var Ge,He=S(Le,8)+1,ft=16<He?0:4<He?1:2<He?2:3;if(ue[0]=ve(Fe.Ea,ft),Fe.b=ft,Ge=Re=ha(He,1,0,Ce,Fe.K)){var st,Nt=He,lt=Fe,Dt=1<<(8>>lt.b),Er=o(Dt);if(Er==null)Ge=0;else{var $t=lt.K[0],dt=lt.w;for(Er[0]=lt.K[0][0],st=1;st<1*Nt;++st)Er[st]=$e($t[dt+st],Er[st-1]);for(;st<4*Dt;++st)Er[st]=0;lt.K[0]=null,lt.K[0]=Er,Ge=1}}Re=Ge;break;case 2:break;default:t(0)}Q=Re}}if(ee=ee[0],se=se[0],Q&&S(le,1)&&!(Q=1<=(Ne=S(le,4))&&11>=Ne)){P.a=3;break e}var Je;if(Je=Q)t:{var vr,Pt,Rt,ar=P,qr=ee,is=se,dr=Ne,Jr=k,ls=ar.m,Mr=ar.s,Ot=[null],Ht=1,cr=0,Vt=o2[dr];r:for(;;){if(Jr&&S(ls,1)){var zr=S(ls,3)+2,ta=ve(qr,zr),xr=ve(is,zr),gs=ta*xr;if(!ha(ta,xr,0,ar,Ot))break r;for(Ot=Ot[0],Mr.xc=zr,vr=0;vr<gs;++vr){var Yt=Ot[vr]>>8&65535;Ot[vr]=Yt,Yt>=Ht&&(Ht=Yt+1)}}if(ls.h)break r;for(Pt=0;5>Pt;++Pt){var Ir=pf[Pt];!Pt&&0<dr&&(Ir+=1<<dr),cr<Ir&&(cr=Ir)}var ys=i(Ht*Vt,H),ds=Ht,ks=i(ds,ae);if(ks==null)var ws=null;else t(65536>=ds),ws=ks;var ps=o(cr);if(ws==null||ps==null||ys==null){ar.a=1;break r}var _s=ys;for(vr=Rt=0;vr<Ht;++vr){var rr=ws[vr],Ss=rr.G,ra=rr.H,no=0,qa=1,Hr=0;for(Pt=0;5>Pt;++Pt){Ir=pf[Pt],Ss[Pt]=_s,ra[Pt]=Rt,!Pt&&0<dr&&(Ir+=1<<dr);a:{var dd,Yc=Ir,cd=ar,Vi=ps,P2=_s,L2=Rt,Jc=0,vn=cd.m,N2=S(vn,1);if(n(Vi,0,0,Yc),N2){var $2=S(vn,1)+1,E2=S(vn,1),Af=S(vn,E2==0?1:8);Vi[Af]=1,$2==2&&(Vi[Af=S(vn,8)]=1);var ud=1}else{var Cf=o(19),Pf=S(vn,4)+4;if(19<Pf){cd.a=3;var fd=0;break a}for(dd=0;dd<Pf;++dd)Cf[a2[dd]]=S(vn,3);var Zc=void 0,Wi=void 0,Lf=cd,M2=Cf,hd=Yc,Nf=Vi,Xc=0,xn=Lf.m,$f=8,Ef=i(128,H);s:for(;A(Ef,0,7,M2,19);){if(S(xn,1)){var I2=2+2*S(xn,3);if((Zc=2+S(xn,I2))>hd)break s}else Zc=hd;for(Wi=0;Wi<hd&&Zc--;){q(xn);var Mf=Ef[0+(127&L(xn))];V(xn,xn.u+Mf.g);var Ho=Mf.value;if(16>Ho)Nf[Wi++]=Ho,Ho!=0&&($f=Ho);else{var T2=Ho==16,If=Ho-16,D2=r2[If],Tf=S(xn,t2[If])+D2;if(Wi+Tf>hd)break s;for(var R2=T2?$f:0;0<Tf--;)Nf[Wi++]=R2}}Xc=1;break s}Xc||(Lf.a=3),ud=Xc}(ud=ud&&!vn.h)&&(Jc=A(P2,L2,8,Vi,Yc)),ud&&Jc!=0?fd=Jc:(cd.a=3,fd=0)}if(fd==0)break r;if(qa&&s2[Pt]==1&&(qa=_s[Rt].g==0),no+=_s[Rt].g,Rt+=fd,3>=Pt){var Gi,Qc=ps[0];for(Gi=1;Gi<Ir;++Gi)ps[Gi]>Qc&&(Qc=ps[Gi]);Hr+=Qc}}if(rr.nd=qa,rr.Qb=0,qa&&(rr.qb=(Ss[3][ra[3]+0].value<<24|Ss[1][ra[1]+0].value<<16|Ss[2][ra[2]+0].value)>>>0,no==0&&256>Ss[0][ra[0]+0].value&&(rr.Qb=1,rr.qb+=Ss[0][ra[0]+0].value<<8)),rr.jc=!rr.Qb&&6>Hr,rr.jc){var gd,za=rr;for(gd=0;gd<ma;++gd){var yn=gd,kn=za.pd[yn],pd=za.G[0][za.H[0]+yn];256<=pd.value?(kn.g=pd.g+256,kn.value=pd.value):(kn.g=0,kn.value=0,yn>>=Or(pd,8,kn),yn>>=Or(za.G[1][za.H[1]+yn],16,kn),yn>>=Or(za.G[2][za.H[2]+yn],0,kn),Or(za.G[3][za.H[3]+yn],24,kn))}}}Mr.vc=Ot,Mr.Wb=Ht,Mr.Ya=ws,Mr.yc=ys,Je=1;break t}Je=0}if(!(Q=Je)){P.a=3;break e}if(0<Ne){if(ce.ua=1<<Ne,!T(ce.Wa,Ne)){P.a=1,Q=0;break e}}else ce.ua=0;var eu=P,Df=ee,O2=se,tu=eu.s,ru=tu.xc;if(eu.c=Df,eu.i=O2,tu.md=ve(Df,ru),tu.wc=ru==0?-1:(1<<ru)-1,k){P.xb=g2;break e}if((xe=o(ee*se))==null){P.a=1,Q=0;break e}Q=(Q=Zs(P,xe,0,ee,se,se,null))&&!le.h;break e}return Q?(Y!=null?Y[0]=xe:(t(xe==null),t(k)),P.$=0,k||Is(ce)):Is(ce),Q}function Wn(u,g){var k=u.c*u.i,P=k+g+16*g;return t(u.c<=g),u.V=o(P),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+k+g,1)}function Lo(u,g){var k=u.C,P=g-k,Y=u.V,Q=u.Ba+u.c*k;for(t(g<=u.l.o);0<P;){var ee=16<P?16:P,se=u.l.ma,le=u.l.width,ce=le*ee,xe=se.ca,Ne=se.tb+le*k,ue=u.Ta,_e=u.Ua;Hn(u,ee,Y,Q),of(ue,_e,xe,Ne,ce),fa(se,k,k+ee,xe,Ne,le),P-=ee,Y+=ee*u.c,k+=ee}t(k==g),u.C=u.Ma=g}function No(){this.ub=this.yd=this.td=this.Rb=0}function $o(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _c(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function yi(){this.Yb=(function(){var u=[];return(function g(k,P,Y){for(var Q=Y[P],ee=0;ee<Q&&(k.push(Y.length>P+1?[]:0),!(Y.length<P+1));ee++)g(k[ee],P+1,Y)})(u,0,[3,11]),u})()}function Bl(){this.jb=o(3),this.Wc=l([4,8],yi),this.Xc=l([4,17],yi)}function ql(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ts(){this.ld=this.La=this.dd=this.tc=0}function ki(){this.Na=this.la=0}function zl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ts),this.Y=0,this.ya=Array(new wi),this.aa=0,this.l=new Eo}function Vl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Wl(){this.cb=this.a=0,this.sc="",this.m=new m,this.Od=new No,this.Kc=new $o,this.ed=new ql,this.Qa=new _c,this.Ic=this.$c=this.Aa=0,this.D=new Hl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,m),this.ia=0,this.pb=i(4,zl),this.Pa=new Bl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vl),this.Hd=0,this.rb=Array(new ki),this.sb=0,this.wa=Array(new Ts),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wi),this.L=this.aa=0,this.gd=l([4,2],Ts),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Eo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sc(){var u=new Wl;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,zi||(zi=Ia)),u}function Sr(u,g,k){return u.a==0&&(u.a=g,u.sc=k,u.cb=0),0}function Gl(u,g,k){return 3<=k&&u[g+0]==157&&u[g+1]==1&&u[g+2]==42}function Kl(u,g){if(u==null)return 0;if(u.a=0,u.sc="OK",g==null)return Sr(u,2,"null VP8Io passed to VP8GetHeaders()");var k=g.data,P=g.w,Y=g.ha;if(4>Y)return Sr(u,7,"Truncated header.");var Q=k[P+0]|k[P+1]<<8|k[P+2]<<16,ee=u.Od;if(ee.Rb=!(1&Q),ee.td=Q>>1&7,ee.yd=Q>>4&1,ee.ub=Q>>5,3<ee.td)return Sr(u,3,"Incorrect keyframe parameters.");if(!ee.yd)return Sr(u,4,"Frame not displayable.");P+=3,Y-=3;var se=u.Kc;if(ee.Rb){if(7>Y)return Sr(u,7,"cannot parse picture header");if(!Gl(k,P,Y))return Sr(u,3,"Bad code word");se.c=16383&(k[P+4]<<8|k[P+3]),se.Td=k[P+4]>>6,se.i=16383&(k[P+6]<<8|k[P+5]),se.Ud=k[P+6]>>6,P+=7,Y-=7,u.za=se.c+15>>4,u.Ub=se.i+15>>4,g.width=se.c,g.height=se.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,n((Q=u.Pa).jb,0,255,Q.jb.length),t((Q=u.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,n(Q.Zb,0,0,Q.Zb.length),n(Q.Lb,0,0,Q.Lb)}if(ee.ub>Y)return Sr(u,7,"bad partition length");ge(Q=u.m,k,P,ee.ub),P+=ee.ub,Y-=ee.ub,ee.Rb&&(se.Ld=oe(Q),se.Kd=oe(Q)),se=u.Qa;var le,ce=u.Pa;if(t(Q!=null),t(se!=null),se.Cb=oe(Q),se.Cb){if(se.Bb=oe(Q),oe(Q)){for(se.Fb=oe(Q),le=0;4>le;++le)se.Zb[le]=oe(Q)?Z(Q,7):0;for(le=0;4>le;++le)se.Lb[le]=oe(Q)?Z(Q,6):0}if(se.Bb)for(le=0;3>le;++le)ce.jb[le]=oe(Q)?he(Q,8):255}else se.Bb=0;if(Q.Ka)return Sr(u,3,"cannot parse segment header");if((se=u.ed).zd=oe(Q),se.Tb=he(Q,6),se.wb=he(Q,3),se.Pc=oe(Q),se.Pc&&oe(Q)){for(ce=0;4>ce;++ce)oe(Q)&&(se.vd[ce]=Z(Q,6));for(ce=0;4>ce;++ce)oe(Q)&&(se.od[ce]=Z(Q,6))}if(u.L=se.Tb==0?0:se.zd?1:2,Q.Ka)return Sr(u,3,"cannot parse filter header");var xe=Y;if(Y=le=P,P=le+xe,se=xe,u.Xb=(1<<he(u.m,2))-1,xe<3*(ce=u.Xb))k=7;else{for(le+=3*ce,se-=3*ce,xe=0;xe<ce;++xe){var Ne=k[Y+0]|k[Y+1]<<8|k[Y+2]<<16;Ne>se&&(Ne=se),ge(u.Jc[+xe],k,le,Ne),le+=Ne,se-=Ne,Y+=3}ge(u.Jc[+ce],k,le,se),k=le<P?0:5}if(k!=0)return Sr(u,k,"cannot parse partitions");for(k=he(le=u.m,7),Y=oe(le)?Z(le,4):0,P=oe(le)?Z(le,4):0,se=oe(le)?Z(le,4):0,ce=oe(le)?Z(le,4):0,le=oe(le)?Z(le,4):0,xe=u.Qa,Ne=0;4>Ne;++Ne){if(xe.Cb){var ue=xe.Zb[Ne];xe.Fb||(ue+=k)}else{if(0<Ne){u.pb[Ne]=u.pb[0];continue}ue=k}var _e=u.pb[Ne];_e.Sc[0]=Wc[$r(ue+Y,127)],_e.Sc[1]=Gc[$r(ue+0,127)],_e.Eb[0]=2*Wc[$r(ue+P,127)],_e.Eb[1]=101581*Gc[$r(ue+se,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=Wc[$r(ue+ce,117)],_e.Qc[1]=Gc[$r(ue+le,127)],_e.lc=ue+le}if(!ee.Rb)return Sr(u,4,"Not a key frame.");for(oe(Q),ee=u.Pa,k=0;4>k;++k){for(Y=0;8>Y;++Y)for(P=0;3>P;++P)for(se=0;11>se;++se)ce=pe(Q,f2[k][Y][P][se])?he(Q,8):c2[k][Y][P][se],ee.Wc[k][Y].Yb[P][se]=ce;for(Y=0;17>Y;++Y)ee.Xc[k][Y]=ee.Wc[k][h2[Y]]}return u.kc=oe(Q),u.kc&&(u.Bd=he(Q,8)),u.cb=1}function Ia(u,g,k,P,Y,Q,ee){var se=g[Y].Yb[k];for(k=0;16>Y;++Y){if(!pe(u,se[k+0]))return Y;for(;!pe(u,se[k+1]);)if(se=g[++Y].Yb[0],k=0,Y==16)return 16;var le=g[Y+1].Yb;if(pe(u,se[k+2])){var ce=u,xe=0;if(pe(ce,(ue=se)[(Ne=k)+3]))if(pe(ce,ue[Ne+6])){for(se=0,Ne=2*(xe=pe(ce,ue[Ne+8]))+(ue=pe(ce,ue[Ne+9+xe])),xe=0,ue=l2[Ne];ue[se];++se)xe+=xe+pe(ce,ue[se]);xe+=3+(8<<Ne)}else pe(ce,ue[Ne+7])?(xe=7+2*pe(ce,165),xe+=pe(ce,145)):xe=5+pe(ce,159);else xe=pe(ce,ue[Ne+4])?3+pe(ce,ue[Ne+5]):2;se=le[2]}else xe=1,se=le[1];le=ee+d2[Y],0>(ce=u).b&&te(ce);var Ne,ue=ce.b,_e=(Ne=ce.Ca>>1)-(ce.I>>ue)>>31;--ce.b,ce.Ca+=_e,ce.Ca|=1,ce.I-=(Ne+1&_e)<<ue,Q[le]=((xe^_e)-_e)*P[(0<Y)+0]}return 16}function Gn(u){var g=u.rb[u.sb-1];g.la=0,g.Na=0,n(u.zc,0,0,u.zc.length),u.ja=0}function Xs(u,g,k,P,Y){Y=u[g+k+32*P]+(Y>>3),u[g+k+32*P]=-256&Y?0>Y?0:255:Y}function Kn(u,g,k,P,Y,Q){Xs(u,g,0,k,P+Y),Xs(u,g,1,k,P+Q),Xs(u,g,2,k,P-Q),Xs(u,g,3,k,P-Y)}function gr(u){return(20091*u>>16)+u}function _i(u,g,k,P){var Y,Q=0,ee=o(16);for(Y=0;4>Y;++Y){var se=u[g+0]+u[g+8],le=u[g+0]-u[g+8],ce=(35468*u[g+4]>>16)-gr(u[g+12]),xe=gr(u[g+4])+(35468*u[g+12]>>16);ee[Q+0]=se+xe,ee[Q+1]=le+ce,ee[Q+2]=le-ce,ee[Q+3]=se-xe,Q+=4,g++}for(Y=Q=0;4>Y;++Y)se=(u=ee[Q+0]+4)+ee[Q+8],le=u-ee[Q+8],ce=(35468*ee[Q+4]>>16)-gr(ee[Q+12]),Xs(k,P,0,0,se+(xe=gr(ee[Q+4])+(35468*ee[Q+12]>>16))),Xs(k,P,1,0,le+ce),Xs(k,P,2,0,le-ce),Xs(k,P,3,0,se-xe),Q++,P+=32}function Ac(u,g,k,P){var Y=u[g+0]+4,Q=35468*u[g+4]>>16,ee=gr(u[g+4]),se=35468*u[g+1]>>16;Kn(k,P,0,Y+ee,u=gr(u[g+1]),se),Kn(k,P,1,Y+Q,u,se),Kn(k,P,2,Y-Q,u,se),Kn(k,P,3,Y-ee,u,se)}function Cc(u,g,k,P,Y){_i(u,g,k,P),Y&&_i(u,g+16,k,P+4)}function Pc(u,g,k,P){br(u,g+0,k,P,1),br(u,g+32,k,P+128,1)}function ga(u,g,k,P){var Y;for(u=u[g+0]+4,Y=0;4>Y;++Y)for(g=0;4>g;++g)Xs(k,P,g,Y,u)}function Yl(u,g,k,P){u[g+0]&&ya(u,g+0,k,P),u[g+16]&&ya(u,g+16,k,P+4),u[g+32]&&ya(u,g+32,k,P+128),u[g+48]&&ya(u,g+48,k,P+128+4)}function Jl(u,g,k,P){var Y,Q=o(16);for(Y=0;4>Y;++Y){var ee=u[g+0+Y]+u[g+12+Y],se=u[g+4+Y]+u[g+8+Y],le=u[g+4+Y]-u[g+8+Y],ce=u[g+0+Y]-u[g+12+Y];Q[0+Y]=ee+se,Q[8+Y]=ee-se,Q[4+Y]=ce+le,Q[12+Y]=ce-le}for(Y=0;4>Y;++Y)ee=(u=Q[0+4*Y]+3)+Q[3+4*Y],se=Q[1+4*Y]+Q[2+4*Y],le=Q[1+4*Y]-Q[2+4*Y],ce=u-Q[3+4*Y],k[P+0]=ee+se>>3,k[P+16]=ce+le>>3,k[P+32]=ee-se>>3,k[P+48]=ce-le>>3,P+=64}function dn(u,g,k){var P,Y=g-32,Q=xs,ee=255-u[Y-1];for(P=0;P<k;++P){var se,le=Q,ce=ee+u[g-1];for(se=0;se<k;++se)u[g+se]=le[ce+u[Y+se]];g+=32}}function Si(u,g){dn(u,g,4)}function Lc(u,g){dn(u,g,8)}function Nc(u,g){dn(u,g,16)}function $c(u,g){var k;for(k=0;16>k;++k)s(u,g+32*k,u,g-32,16)}function Ai(u,g){var k;for(k=16;0<k;--k)n(u,g,u[g-1],16),g+=32}function Yn(u,g,k){var P;for(P=0;16>P;++P)n(g,k+32*P,u,16)}function cn(u,g){var k,P=16;for(k=0;16>k;++k)P+=u[g-1+32*k]+u[g+k-32];Yn(P>>5,u,g)}function Ec(u,g){var k,P=8;for(k=0;16>k;++k)P+=u[g-1+32*k];Yn(P>>4,u,g)}function Jn(u,g){var k,P=8;for(k=0;16>k;++k)P+=u[g+k-32];Yn(P>>4,u,g)}function Ci(u,g){Yn(128,u,g)}function wt(u,g,k){return u+2*g+k+2>>2}function Mc(u,g){var k,P=g-32;for(P=new Uint8Array([wt(u[P-1],u[P+0],u[P+1]),wt(u[P+0],u[P+1],u[P+2]),wt(u[P+1],u[P+2],u[P+3]),wt(u[P+2],u[P+3],u[P+4])]),k=0;4>k;++k)s(u,g+32*k,P,0,P.length)}function Ic(u,g){var k=u[g-1],P=u[g-1+32],Y=u[g-1+64],Q=u[g-1+96];we(u,g+0,16843009*wt(u[g-1-32],k,P)),we(u,g+32,16843009*wt(k,P,Y)),we(u,g+64,16843009*wt(P,Y,Q)),we(u,g+96,16843009*wt(Y,Q,Q))}function Tc(u,g){var k,P=4;for(k=0;4>k;++k)P+=u[g+k-32]+u[g-1+32*k];for(P>>=3,k=0;4>k;++k)n(u,g+32*k,P,4)}function Dc(u,g){var k=u[g-1+0],P=u[g-1+32],Y=u[g-1+64],Q=u[g-1-32],ee=u[g+0-32],se=u[g+1-32],le=u[g+2-32],ce=u[g+3-32];u[g+0+96]=wt(P,Y,u[g-1+96]),u[g+1+96]=u[g+0+64]=wt(k,P,Y),u[g+2+96]=u[g+1+64]=u[g+0+32]=wt(Q,k,P),u[g+3+96]=u[g+2+64]=u[g+1+32]=u[g+0+0]=wt(ee,Q,k),u[g+3+64]=u[g+2+32]=u[g+1+0]=wt(se,ee,Q),u[g+3+32]=u[g+2+0]=wt(le,se,ee),u[g+3+0]=wt(ce,le,se)}function Ta(u,g){var k=u[g+1-32],P=u[g+2-32],Y=u[g+3-32],Q=u[g+4-32],ee=u[g+5-32],se=u[g+6-32],le=u[g+7-32];u[g+0+0]=wt(u[g+0-32],k,P),u[g+1+0]=u[g+0+32]=wt(k,P,Y),u[g+2+0]=u[g+1+32]=u[g+0+64]=wt(P,Y,Q),u[g+3+0]=u[g+2+32]=u[g+1+64]=u[g+0+96]=wt(Y,Q,ee),u[g+3+32]=u[g+2+64]=u[g+1+96]=wt(Q,ee,se),u[g+3+64]=u[g+2+96]=wt(ee,se,le),u[g+3+96]=wt(se,le,le)}function Da(u,g){var k=u[g-1+0],P=u[g-1+32],Y=u[g-1+64],Q=u[g-1-32],ee=u[g+0-32],se=u[g+1-32],le=u[g+2-32],ce=u[g+3-32];u[g+0+0]=u[g+1+64]=Q+ee+1>>1,u[g+1+0]=u[g+2+64]=ee+se+1>>1,u[g+2+0]=u[g+3+64]=se+le+1>>1,u[g+3+0]=le+ce+1>>1,u[g+0+96]=wt(Y,P,k),u[g+0+64]=wt(P,k,Q),u[g+0+32]=u[g+1+96]=wt(k,Q,ee),u[g+1+32]=u[g+2+96]=wt(Q,ee,se),u[g+2+32]=u[g+3+96]=wt(ee,se,le),u[g+3+32]=wt(se,le,ce)}function Rc(u,g){var k=u[g+0-32],P=u[g+1-32],Y=u[g+2-32],Q=u[g+3-32],ee=u[g+4-32],se=u[g+5-32],le=u[g+6-32],ce=u[g+7-32];u[g+0+0]=k+P+1>>1,u[g+1+0]=u[g+0+64]=P+Y+1>>1,u[g+2+0]=u[g+1+64]=Y+Q+1>>1,u[g+3+0]=u[g+2+64]=Q+ee+1>>1,u[g+0+32]=wt(k,P,Y),u[g+1+32]=u[g+0+96]=wt(P,Y,Q),u[g+2+32]=u[g+1+96]=wt(Y,Q,ee),u[g+3+32]=u[g+2+96]=wt(Q,ee,se),u[g+3+64]=wt(ee,se,le),u[g+3+96]=wt(se,le,ce)}function Oc(u,g){var k=u[g-1+0],P=u[g-1+32],Y=u[g-1+64],Q=u[g-1+96];u[g+0+0]=k+P+1>>1,u[g+2+0]=u[g+0+32]=P+Y+1>>1,u[g+2+32]=u[g+0+64]=Y+Q+1>>1,u[g+1+0]=wt(k,P,Y),u[g+3+0]=u[g+1+32]=wt(P,Y,Q),u[g+3+32]=u[g+1+64]=wt(Y,Q,Q),u[g+3+64]=u[g+2+64]=u[g+0+96]=u[g+1+96]=u[g+2+96]=u[g+3+96]=Q}function Mo(u,g){var k=u[g-1+0],P=u[g-1+32],Y=u[g-1+64],Q=u[g-1+96],ee=u[g-1-32],se=u[g+0-32],le=u[g+1-32],ce=u[g+2-32];u[g+0+0]=u[g+2+32]=k+ee+1>>1,u[g+0+32]=u[g+2+64]=P+k+1>>1,u[g+0+64]=u[g+2+96]=Y+P+1>>1,u[g+0+96]=Q+Y+1>>1,u[g+3+0]=wt(se,le,ce),u[g+2+0]=wt(ee,se,le),u[g+1+0]=u[g+3+32]=wt(k,ee,se),u[g+1+32]=u[g+3+64]=wt(P,k,ee),u[g+1+64]=u[g+3+96]=wt(Y,P,k),u[g+1+96]=wt(Q,Y,P)}function Pi(u,g){var k;for(k=0;8>k;++k)s(u,g+32*k,u,g-32,8)}function Zn(u,g){var k;for(k=0;8>k;++k)n(u,g,u[g-1],8),g+=32}function Io(u,g,k){var P;for(P=0;8>P;++P)n(g,k+32*P,u,8)}function To(u,g){var k,P=8;for(k=0;8>k;++k)P+=u[g+k-32]+u[g-1+32*k];Io(P>>4,u,g)}function Fc(u,g){var k,P=4;for(k=0;8>k;++k)P+=u[g+k-32];Io(P>>3,u,g)}function Li(u,g){var k,P=4;for(k=0;8>k;++k)P+=u[g-1+32*k];Io(P>>3,u,g)}function Ni(u,g){Io(128,u,g)}function Xn(u,g,k){var P=u[g-k],Y=u[g+0],Q=3*(Y-P)+Bc[1020+u[g-2*k]-u[g+k]],ee=ed[112+(Q+4>>3)];u[g-k]=xs[255+P+ed[112+(Q+3>>3)]],u[g+0]=xs[255+Y-ee]}function Qn(u,g,k,P){var Y=u[g+0],Q=u[g+k];return Rs[255+u[g-2*k]-u[g-k]]>P||Rs[255+Q-Y]>P}function $i(u,g,k,P){return 4*Rs[255+u[g-k]-u[g+0]]+Rs[255+u[g-2*k]-u[g+k]]<=P}function Do(u,g,k,P,Y){var Q=u[g-3*k],ee=u[g-2*k],se=u[g-k],le=u[g+0],ce=u[g+k],xe=u[g+2*k],Ne=u[g+3*k];return 4*Rs[255+se-le]+Rs[255+ee-ce]>P?0:Rs[255+u[g-4*k]-Q]<=Y&&Rs[255+Q-ee]<=Y&&Rs[255+ee-se]<=Y&&Rs[255+Ne-xe]<=Y&&Rs[255+xe-ce]<=Y&&Rs[255+ce-le]<=Y}function Ei(u,g,k,P){var Y=2*P+1;for(P=0;16>P;++P)$i(u,g+P,k,Y)&&Xn(u,g+P,k)}function eo(u,g,k,P){var Y=2*P+1;for(P=0;16>P;++P)$i(u,g+P*k,1,Y)&&Xn(u,g+P*k,1)}function Mi(u,g,k,P){var Y;for(Y=3;0<Y;--Y)Ei(u,g+=4*k,k,P)}function Ii(u,g,k,P){var Y;for(Y=3;0<Y;--Y)eo(u,g+=4,k,P)}function bs(u,g,k,P,Y,Q,ee,se){for(Q=2*Q+1;0<Y--;){if(Do(u,g,k,Q,ee))if(Qn(u,g,k,se))Xn(u,g,k);else{var le=u,ce=g,xe=k,Ne=le[ce-2*xe],ue=le[ce-xe],_e=le[ce+0],Ce=le[ce+xe],Re=le[ce+2*xe],Le=27*(Ue=Bc[1020+3*(_e-ue)+Bc[1020+Ne-Ce]])+63>>7,Fe=18*Ue+63>>7,Ue=9*Ue+63>>7;le[ce-3*xe]=xs[255+le[ce-3*xe]+Ue],le[ce-2*xe]=xs[255+Ne+Fe],le[ce-xe]=xs[255+ue+Le],le[ce+0]=xs[255+_e-Le],le[ce+xe]=xs[255+Ce-Fe],le[ce+2*xe]=xs[255+Re-Ue]}g+=P}}function pa(u,g,k,P,Y,Q,ee,se){for(Q=2*Q+1;0<Y--;){if(Do(u,g,k,Q,ee))if(Qn(u,g,k,se))Xn(u,g,k);else{var le=u,ce=g,xe=k,Ne=le[ce-xe],ue=le[ce+0],_e=le[ce+xe],Ce=ed[112+(4+(Re=3*(ue-Ne))>>3)],Re=ed[112+(Re+3>>3)],Le=Ce+1>>1;le[ce-2*xe]=xs[255+le[ce-2*xe]+Le],le[ce-xe]=xs[255+Ne+Re],le[ce+0]=xs[255+ue-Ce],le[ce+xe]=xs[255+_e-Le]}g+=P}}function v(u,g,k,P,Y,Q){bs(u,g,k,1,16,P,Y,Q)}function J(u,g,k,P,Y,Q){bs(u,g,1,k,16,P,Y,Q)}function fe(u,g,k,P,Y,Q){var ee;for(ee=3;0<ee;--ee)pa(u,g+=4*k,k,1,16,P,Y,Q)}function be(u,g,k,P,Y,Q){var ee;for(ee=3;0<ee;--ee)pa(u,g+=4,1,k,16,P,Y,Q)}function Ae(u,g,k,P,Y,Q,ee,se){bs(u,g,Y,1,8,Q,ee,se),bs(k,P,Y,1,8,Q,ee,se)}function je(u,g,k,P,Y,Q,ee,se){bs(u,g,1,Y,8,Q,ee,se),bs(k,P,1,Y,8,Q,ee,se)}function Ve(u,g,k,P,Y,Q,ee,se){pa(u,g+4*Y,Y,1,8,Q,ee,se),pa(k,P+4*Y,Y,1,8,Q,ee,se)}function it(u,g,k,P,Y,Q,ee,se){pa(u,g+4,1,Y,8,Q,ee,se),pa(k,P+4,1,Y,8,Q,ee,se)}function ut(){this.ba=new Kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jt(){this.ua=0,this.Wa=new me,this.vb=new me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new H}function ir(){this.xb=this.a=0,this.l=new Eo,this.ca=new Kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jt,this.ab=0,this.gc=i(4,Lt),this.Oc=0}function Ar(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Eo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gt(u,g,k,P,Y,Q,ee){for(u=u==null?0:u[g+0],g=0;g<ee;++g)Y[Q+g]=u+k[P+g]&255,u=Y[Q+g]}function Nr(u,g,k,P,Y,Q,ee){var se;if(u==null)Gt(null,null,k,P,Y,Q,ee);else for(se=0;se<ee;++se)Y[Q+se]=u[g+se]+k[P+se]&255}function Cr(u,g,k,P,Y,Q,ee){if(u==null)Gt(null,null,k,P,Y,Q,ee);else{var se,le=u[g+0],ce=le,xe=le;for(se=0;se<ee;++se)ce=xe+(le=u[g+se])-ce,xe=k[P+se]+(-256&ce?0>ce?0:255:ce)&255,ce=le,Y[Q+se]=xe}}function Br(u,g,k,P){var Y=g.width,Q=g.o;if(t(u!=null&&g!=null),0>k||0>=P||k+P>Q)return null;if(!u.Cc){if(u.ga==null){var ee;if(u.ga=new Ar,(ee=u.ga==null)||(ee=g.width*g.o,t(u.Gb.length==0),u.Gb=o(ee),u.Uc=0,u.Gb==null?ee=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,ee=1),ee=!ee),!ee){ee=u.ga;var se=u.Fa,le=u.P,ce=u.qc,xe=u.mb,Ne=u.nb,ue=le+1,_e=ce-1,Ce=ee.l;if(t(se!=null&&xe!=null&&g!=null),bn[0]=null,bn[1]=Gt,bn[2]=Nr,bn[3]=Cr,ee.ca=xe,ee.tb=Ne,ee.c=g.width,ee.i=g.height,t(0<ee.c&&0<ee.i),1>=ce)g=0;else if(ee.$a=3&se[le+0],ee.Z=se[le+0]>>2&3,ee.Lc=se[le+0]>>4&3,le=se[le+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||le)g=0;else if(Ce.put=bt,Ce.ac=ua,Ce.bc=Ea,Ce.ma=ee,Ce.width=g.width,Ce.height=g.height,Ce.Da=g.Da,Ce.v=g.v,Ce.va=g.va,Ce.j=g.j,Ce.o=g.o,ee.$a)e:{t(ee.$a==1),g=Vn();t:for(;;){if(g==null){g=0;break e}if(t(ee!=null),ee.mc=g,g.c=ee.c,g.i=ee.i,g.l=ee.l,g.l.ma=ee,g.l.width=ee.c,g.l.height=ee.i,g.a=0,M(g.m,se,ue,_e),!ha(ee.c,ee.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Ys(g.s)?(ee.ic=1,se=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o(se),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(ee.ic=0,g=Wn(g,ee.c)),!g))break t;g=1;break e}ee.mc=null,g=0}else g=_e>=ee.c*ee.i;ee=!g}if(ee)return null;u.ga.Lc!=1?u.Ga=0:P=Q-k}t(u.ga!=null),t(k+P<=Q);e:{if(g=(se=u.ga).c,Q=se.l.o,se.$a==0){if(ue=u.rc,_e=u.Vc,Ce=u.Fa,le=u.P+1+k*g,ce=u.mb,xe=u.nb+k*g,t(le<=u.P+u.qc),se.Z!=0)for(t(bn[se.Z]!=null),ee=0;ee<P;++ee)bn[se.Z](ue,_e,Ce,le,ce,xe,g),ue=ce,_e=xe,xe+=g,le+=g;else for(ee=0;ee<P;++ee)s(ce,xe,Ce,le,g),ue=ce,_e=xe,xe+=g,le+=g;u.rc=ue,u.Vc=_e}else{if(t(se.mc!=null),g=k+P,t((ee=se.mc)!=null),t(g<=ee.i),ee.C>=g)g=1;else if(se.ic||to(),se.ic){se=ee.V,ue=ee.Ba,_e=ee.c;var Re=ee.i,Le=(Ce=1,le=ee.$/_e,ce=ee.$%_e,xe=ee.m,Ne=ee.s,ee.$),Fe=_e*Re,Ue=_e*g,Ge=Ne.wc,He=Le<Ue?Ur(Ne,ce,le):null;t(Le<=Fe),t(g<=Re),t(Ys(Ne));t:for(;;){for(;!xe.h&&Le<Ue;){if(ce&Ge||(He=Ur(Ne,ce,le)),t(He!=null),q(xe),256>(Re=lr(He.G[0],He.H[0],xe)))se[ue+Le]=Re,++Le,++ce>=_e&&(ce=0,++le<=g&&!(le%16)&&Js(ee,le));else{if(!(280>Re)){Ce=0;break t}Re=Es(Re-256,xe);var ft,st=lr(He.G[4],He.H[4],xe);if(q(xe),!(Le>=(st=Ms(_e,st=Es(st,xe)))&&Fe-Le>=Re)){Ce=0;break t}for(ft=0;ft<Re;++ft)se[ue+Le+ft]=se[ue+Le+ft-st];for(Le+=Re,ce+=Re;ce>=_e;)ce-=_e,++le<=g&&!(le%16)&&Js(ee,le);Le<Ue&&ce&Ge&&(He=Ur(Ne,ce,le))}t(xe.h==$(xe))}Js(ee,le>g?g:le);break t}!Ce||xe.h&&Le<Fe?(Ce=0,ee.a=xe.h?5:3):ee.$=Le,g=Ce}else g=Zs(ee,ee.V,ee.Ba,ee.c,ee.i,g,Lo);if(!g){P=0;break e}}k+P>=Q&&(u.Cc=1),P=1}if(!P)return null;if(u.Cc&&((P=u.ga)!=null&&(P.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+k*Y}function Ra(u,g,k,P,Y,Q){for(;0<Y--;){var ee,se=u,le=g+(k?1:0),ce=u,xe=g+(k?0:3);for(ee=0;ee<P;++ee){var Ne=ce[xe+4*ee];Ne!=255&&(Ne*=32897,se[le+4*ee+0]=se[le+4*ee+0]*Ne>>23,se[le+4*ee+1]=se[le+4*ee+1]*Ne>>23,se[le+4*ee+2]=se[le+4*ee+2]*Ne>>23)}g+=Q}}function un(u,g,k,P,Y){for(;0<P--;){var Q;for(Q=0;Q<k;++Q){var ee=u[g+2*Q+0],se=15&(ce=u[g+2*Q+1]),le=4369*se,ce=(240&ce|ce>>4)*le>>16;u[g+2*Q+0]=(240&ee|ee>>4)*le>>16&240|(15&ee|ee<<4)*le>>16>>4&15,u[g+2*Q+1]=240&ce|se}g+=Y}}function jc(u,g,k,P,Y,Q,ee,se){var le,ce,xe=255;for(ce=0;ce<Y;++ce){for(le=0;le<P;++le){var Ne=u[g+le];Q[ee+4*le]=Ne,xe&=Ne}g+=k,ee+=se}return xe!=255}function Zl(u,g,k,P,Y){var Q;for(Q=0;Q<Y;++Q)k[P+Q]=u[g+Q]>>8}function to(){qi=Ra,af=un,nf=jc,of=Zl}function Qs(u,g,k){p[u]=function(P,Y,Q,ee,se,le,ce,xe,Ne,ue,_e,Ce,Re,Le,Fe,Ue,Ge){var He,ft=Ge-1>>1,st=se[le+0]|ce[xe+0]<<16,Nt=Ne[ue+0]|_e[Ce+0]<<16;t(P!=null);var lt=3*st+Nt+131074>>2;for(g(P[Y+0],255&lt,lt>>16,Re,Le),Q!=null&&(lt=3*Nt+st+131074>>2,g(Q[ee+0],255&lt,lt>>16,Fe,Ue)),He=1;He<=ft;++He){var Dt=se[le+He]|ce[xe+He]<<16,Er=Ne[ue+He]|_e[Ce+He]<<16,$t=st+Dt+Nt+Er+524296,dt=$t+2*(Dt+Nt)>>3;lt=dt+st>>1,st=($t=$t+2*(st+Er)>>3)+Dt>>1,g(P[Y+2*He-1],255&lt,lt>>16,Re,Le+(2*He-1)*k),g(P[Y+2*He-0],255&st,st>>16,Re,Le+(2*He-0)*k),Q!=null&&(lt=$t+Nt>>1,st=dt+Er>>1,g(Q[ee+2*He-1],255&lt,lt>>16,Fe,Ue+(2*He-1)*k),g(Q[ee+2*He+0],255&st,st>>16,Fe,Ue+(2*He+0)*k)),st=Dt,Nt=Er}1&Ge||(lt=3*st+Nt+131074>>2,g(P[Y+Ge-1],255&lt,lt>>16,Re,Le+(Ge-1)*k),Q!=null&&(lt=3*Nt+st+131074>>2,g(Q[ee+Ge-1],255&lt,lt>>16,Fe,Ue+(Ge-1)*k)))}}function Ti(){Os[td]=p2,Os[rd]=vf,Os[hf]=m2,Os[sd]=xf,Os[ad]=yf,Os[qc]=kf,Os[gf]=b2,Os[zc]=vf,Os[Hc]=xf,Os[nd]=yf,Os[Vc]=kf}function Ro(u){return u&-16384?0>u?0:255:u>>v2}function fn(u,g){return Ro((19077*u>>8)+(26149*g>>8)-14234)}function Fr(u,g,k){return Ro((19077*u>>8)-(6419*g>>8)-(13320*k>>8)+8708)}function Oa(u,g){return Ro((19077*u>>8)+(33050*g>>8)-17685)}function Fa(u,g,k,P,Y){P[Y+0]=fn(u,k),P[Y+1]=Fr(u,g,k),P[Y+2]=Oa(u,g)}function Oo(u,g,k,P,Y){P[Y+0]=Oa(u,g),P[Y+1]=Fr(u,g,k),P[Y+2]=fn(u,k)}function Di(u,g,k,P,Y){var Q=Fr(u,g,k);g=Q<<3&224|Oa(u,g)>>3,P[Y+0]=248&fn(u,k)|Q>>5,P[Y+1]=g}function os(u,g,k,P,Y){var Q=240&Oa(u,g)|15;P[Y+0]=240&fn(u,k)|Fr(u,g,k)>>4,P[Y+1]=Q}function Xl(u,g,k,P,Y){P[Y+0]=255,Fa(u,g,k,P,Y+1)}function Fo(u,g,k,P,Y){Oo(u,g,k,P,Y),P[Y+3]=255}function Ql(u,g,k,P,Y){Fa(u,g,k,P,Y),P[Y+3]=255}function $r(u,g){return 0>u?0:u>g?g:u}function Ds(u,g,k){p[u]=function(P,Y,Q,ee,se,le,ce,xe,Ne){for(var ue=xe+(-2&Ne)*k;xe!=ue;)g(P[Y+0],Q[ee+0],se[le+0],ce,xe),g(P[Y+1],Q[ee+0],se[le+0],ce,xe+k),Y+=2,++ee,++le,xe+=2*k;1&Ne&&g(P[Y+0],Q[ee+0],se[le+0],ce,xe)}}function Ri(u,g,k){return k==0?u==0?g==0?6:5:g==0?4:0:k}function Oi(u,g,k,P,Y){switch(u>>>30){case 3:br(g,k,P,Y,0);break;case 2:Ua(g,k,P,Y);break;case 1:ya(g,k,P,Y)}}function hn(u,g){var k,P,Y=g.M,Q=g.Nb,ee=u.oc,se=u.pc+40,le=u.oc,ce=u.pc+584,xe=u.oc,Ne=u.pc+600;for(k=0;16>k;++k)ee[se+32*k-1]=129;for(k=0;8>k;++k)le[ce+32*k-1]=129,xe[Ne+32*k-1]=129;for(0<Y?ee[se-1-32]=le[ce-1-32]=xe[Ne-1-32]=129:(n(ee,se-32-1,127,21),n(le,ce-32-1,127,9),n(xe,Ne-32-1,127,9)),P=0;P<u.za;++P){var ue=g.ya[g.aa+P];if(0<P){for(k=-1;16>k;++k)s(ee,se+32*k-4,ee,se+32*k+12,4);for(k=-1;8>k;++k)s(le,ce+32*k-4,le,ce+32*k+4,4),s(xe,Ne+32*k-4,xe,Ne+32*k+4,4)}var _e=u.Gd,Ce=u.Hd+P,Re=ue.ad,Le=ue.Hc;if(0<Y&&(s(ee,se-32,_e[Ce].y,0,16),s(le,ce-32,_e[Ce].f,0,8),s(xe,Ne-32,_e[Ce].ea,0,8)),ue.Za){var Fe=ee,Ue=se-32+16;for(0<Y&&(P>=u.za-1?n(Fe,Ue,_e[Ce].y[15],4):s(Fe,Ue,_e[Ce+1].y,0,4)),k=0;4>k;k++)Fe[Ue+128+k]=Fe[Ue+256+k]=Fe[Ue+384+k]=Fe[Ue+0+k];for(k=0;16>k;++k,Le<<=2)Fe=ee,Ue=se+_f[k],ea[ue.Ob[k]](Fe,Ue),Oi(Le,Re,16*+k,Fe,Ue)}else if(Fe=Ri(P,Y,ue.Ob[0]),mn[Fe](ee,se),Le!=0)for(k=0;16>k;++k,Le<<=2)Oi(Le,Re,16*+k,ee,se+_f[k]);for(k=ue.Gc,Fe=Ri(P,Y,ue.Dd),Ba[Fe](le,ce),Ba[Fe](xe,Ne),Le=Re,Fe=le,Ue=ce,255&(ue=0|k)&&(170&ue?zo(Le,256,Fe,Ue):Bi(Le,256,Fe,Ue)),ue=xe,Le=Ne,255&(k>>=8)&&(170&k?zo(Re,320,ue,Le):Bi(Re,320,ue,Le)),Y<u.Ub-1&&(s(_e[Ce].y,0,ee,se+480,16),s(_e[Ce].f,0,le,ce+224,8),s(_e[Ce].ea,0,xe,Ne+224,8)),k=8*Q*u.B,_e=u.sa,Ce=u.ta+16*P+16*Q*u.R,Re=u.qa,ue=u.ra+8*P+k,Le=u.Ha,Fe=u.Ia+8*P+k,k=0;16>k;++k)s(_e,Ce+k*u.R,ee,se+32*k,16);for(k=0;8>k;++k)s(Re,ue+k*u.B,le,ce+32*k,8),s(Le,Fe+k*u.B,xe,Ne+32*k,8)}}function jo(u,g,k,P,Y,Q,ee,se,le){var ce=[0],xe=[0],Ne=0,ue=le!=null?le.kd:0,_e=le??new xt;if(u==null||12>k)return 7;_e.data=u,_e.w=g,_e.ha=k,g=[g],k=[k],_e.gb=[_e.gb];e:{var Ce=g,Re=k,Le=_e.gb;if(t(u!=null),t(Re!=null),t(Le!=null),Le[0]=0,12<=Re[0]&&!r(u,Ce[0],"RIFF")){if(r(u,Ce[0]+8,"WEBP")){Le=3;break e}var Fe=ne(u,Ce[0]+4);if(12>Fe||4294967286<Fe){Le=3;break e}if(ue&&Fe>Re[0]-8){Le=7;break e}Le[0]=Fe,Ce[0]+=12,Re[0]-=12}Le=0}if(Le!=0)return Le;for(Fe=0<_e.gb[0],k=k[0];;){e:{var Ue=u;Re=g,Le=k;var Ge=ce,He=xe,ft=Ce=[0];if((lt=Ne=[Ne])[0]=0,8>Le[0])Le=7;else{if(!r(Ue,Re[0],"VP8X")){if(ne(Ue,Re[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var st=ne(Ue,Re[0]+8),Nt=1+ie(Ue,Re[0]+12);if(2147483648<=Nt*(Ue=1+ie(Ue,Re[0]+15))){Le=3;break e}ft!=null&&(ft[0]=st),Ge!=null&&(Ge[0]=Nt),He!=null&&(He[0]=Ue),Re[0]+=18,Le[0]-=18,lt[0]=1}Le=0}}if(Ne=Ne[0],Ce=Ce[0],Le!=0)return Le;if(Re=!!(2&Ce),!Fe&&Ne)return 3;if(Q!=null&&(Q[0]=!!(16&Ce)),ee!=null&&(ee[0]=Re),se!=null&&(se[0]=0),ee=ce[0],Ce=xe[0],Ne&&Re&&le==null){Le=0;break}if(4>k){Le=7;break}if(Fe&&Ne||!Fe&&!Ne&&!r(u,g[0],"ALPH")){k=[k],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{st=u,Le=g,Fe=k;var lt=_e.gb;Ge=_e.na,He=_e.P,ft=_e.Sa,Nt=22,t(st!=null),t(Fe!=null),Ue=Le[0];var Dt=Fe[0];for(t(Ge!=null),t(ft!=null),Ge[0]=null,He[0]=null,ft[0]=0;;){if(Le[0]=Ue,Fe[0]=Dt,8>Dt){Le=7;break e}var Er=ne(st,Ue+4);if(4294967286<Er){Le=3;break e}var $t=8+Er+1&-2;if(Nt+=$t,0<lt&&Nt>lt){Le=3;break e}if(!r(st,Ue,"VP8 ")||!r(st,Ue,"VP8L")){Le=0;break e}if(Dt[0]<$t){Le=7;break e}r(st,Ue,"ALPH")||(Ge[0]=st,He[0]=Ue+8,ft[0]=Er),Ue+=$t,Dt-=$t}}if(k=k[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Le!=0)break}k=[k],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(lt=u,Le=g,Fe=k,Ge=_e.gb[0],He=_e.Ja,ft=_e.xa,st=Le[0],Ue=!r(lt,st,"VP8 "),Nt=!r(lt,st,"VP8L"),t(lt!=null),t(Fe!=null),t(He!=null),t(ft!=null),8>Fe[0])Le=7;else{if(Ue||Nt){if(lt=ne(lt,st+4),12<=Ge&&lt>Ge-12){Le=3;break e}if(ue&&lt>Fe[0]-8){Le=7;break e}He[0]=lt,Le[0]+=8,Fe[0]-=8,ft[0]=Nt}else ft[0]=5<=Fe[0]&&lt[st+0]==47&&!(lt[st+4]>>5),He[0]=Fe[0];Le=0}if(k=k[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],g=g[0],Le!=0)break;if(4294967286<_e.Ja)return 3;if(se==null||Re||(se[0]=_e.xa?2:1),ee=[ee],Ce=[Ce],_e.xa){if(5>k){Le=7;break}se=ee,ue=Ce,Re=Q,u==null||5>k?u=0:5<=k&&u[g+0]==47&&!(u[g+4]>>5)?(Fe=[0],lt=[0],Ge=[0],M(He=new C,u,g,k),Ma(He,Fe,lt,Ge)?(se!=null&&(se[0]=Fe[0]),ue!=null&&(ue[0]=lt[0]),Re!=null&&(Re[0]=Ge[0]),u=1):u=0):u=0}else{if(10>k){Le=7;break}se=Ce,u==null||10>k||!Gl(u,g+3,k-3)?u=0:(ue=u[g+0]|u[g+1]<<8|u[g+2]<<16,Re=16383&(u[g+7]<<8|u[g+6]),u=16383&(u[g+9]<<8|u[g+8]),1&ue||3<(ue>>1&7)||!(ue>>4&1)||ue>>5>=_e.Ja||!Re||!u?u=0:(ee&&(ee[0]=Re),se&&(se[0]=u),u=1))}if(!u||(ee=ee[0],Ce=Ce[0],Ne&&(ce[0]!=ee||xe[0]!=Ce)))return 3;le!=null&&(le[0]=_e,le.offset=g-le.w,t(4294967286>g-le.w),t(le.offset==le.ha-k));break}return Le==0||Le==7&&Ne&&le==null?(Q!=null&&(Q[0]|=_e.na!=null&&0<_e.na.length),P!=null&&(P[0]=ee),Y!=null&&(Y[0]=Ce),0):Le}function fs(u,g,k){var P=g.width,Y=g.height,Q=0,ee=0,se=P,le=Y;if(g.Da=u!=null&&0<u.Da,g.Da&&(se=u.cd,le=u.bd,Q=u.v,ee=u.j,11>k||(Q&=-2,ee&=-2),0>Q||0>ee||0>=se||0>=le||Q+se>P||ee+le>Y))return 0;if(g.v=Q,g.j=ee,g.va=Q+se,g.o=ee+le,g.U=se,g.T=le,g.da=u!=null&&0<u.da,g.da){if(!ke(se,le,k=[u.ib],Q=[u.hb]))return 0;g.ib=k[0],g.hb=Q[0]}return g.ob=u!=null&&u.ob,g.Kb=u==null||!u.Sd,g.da&&(g.ob=g.ib<3*P/4&&g.hb<3*Y/4,g.Kb=0),1}function hs(u){if(u==null)return 2;if(11>u.S){var g=u.f.RGBA;g.fb+=(u.height-1)*g.A,g.A=-g.A}else g=u.f.kb,u=u.height,g.O+=(u-1)*g.fa,g.fa=-g.fa,g.N+=(u-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(u-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(u-1)*g.lb,g.lb=-g.lb);return 0}function ro(u,g,k,P){if(P==null||0>=u||0>=g)return 2;if(k!=null){if(k.Da){var Y=k.cd,Q=k.bd,ee=-2&k.v,se=-2&k.j;if(0>ee||0>se||0>=Y||0>=Q||ee+Y>u||se+Q>g)return 2;u=Y,g=Q}if(k.da){if(!ke(u,g,Y=[k.ib],Q=[k.hb]))return 2;u=Y[0],g=Q[0]}}P.width=u,P.height=g;e:{var le=P.width,ce=P.height;if(u=P.S,0>=le||0>=ce||!(u>=td&&13>u))u=2;else{if(0>=P.Rd&&P.sd==null){ee=Q=Y=g=0;var xe=(se=le*Sf[u])*ce;if(11>u||(Q=(ce+1)/2*(g=(le+1)/2),u==12&&(ee=(Y=le)*ce)),(ce=o(xe+2*Q+ee))==null){u=1;break e}P.sd=ce,11>u?((le=P.f.RGBA).eb=ce,le.fb=0,le.A=se,le.size=xe):((le=P.f.kb).y=ce,le.O=0,le.fa=se,le.Fd=xe,le.f=ce,le.N=0+xe,le.Ab=g,le.Cd=Q,le.ea=ce,le.W=0+xe+Q,le.Db=g,le.Ed=Q,u==12&&(le.F=ce,le.J=0+xe+2*Q),le.Tc=ee,le.lb=Y)}if(g=1,Y=P.S,Q=P.width,ee=P.height,Y>=td&&13>Y)if(11>Y)u=P.f.RGBA,g&=(se=Math.abs(u.A))*(ee-1)+Q<=u.size,g&=se>=Q*Sf[Y],g&=u.eb!=null;else{u=P.f.kb,se=(Q+1)/2,xe=(ee+1)/2,le=Math.abs(u.fa),ce=Math.abs(u.Ab);var Ne=Math.abs(u.Db),ue=Math.abs(u.lb),_e=ue*(ee-1)+Q;g&=le*(ee-1)+Q<=u.Fd,g&=ce*(xe-1)+se<=u.Cd,g=(g&=Ne*(xe-1)+se<=u.Ed)&le>=Q&ce>=se&Ne>=se,g&=u.y!=null,g&=u.f!=null,g&=u.ea!=null,Y==12&&(g&=ue>=Q,g&=_e<=u.Tc,g&=u.F!=null)}else g=0;u=g?0:2}}return u!=0||k!=null&&k.fd&&(u=hs(P)),u}var ma=64,gn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fi=24,pn=32,pr=8,Uc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),p.Predictor0=function(){return 4278190080},p.Predictor1=function(u){return u},p.Predictor2=function(u,g,k){return g[k+0]},p.Predictor3=function(u,g,k){return g[k+1]},p.Predictor4=function(u,g,k){return g[k-1]},p.Predictor5=function(u,g,k){return Te(Te(u,g[k+1]),g[k+0])},p.Predictor6=function(u,g,k){return Te(u,g[k-1])},p.Predictor7=function(u,g,k){return Te(u,g[k+0])},p.Predictor8=function(u,g,k){return Te(g[k-1],g[k+0])},p.Predictor9=function(u,g,k){return Te(g[k+0],g[k+1])},p.Predictor10=function(u,g,k){return Te(Te(u,g[k-1]),Te(g[k+0],g[k+1]))},p.Predictor11=function(u,g,k){var P=g[k+0];return 0>=ze(P>>24&255,u>>24&255,(g=g[k-1])>>24&255)+ze(P>>16&255,u>>16&255,g>>16&255)+ze(P>>8&255,u>>8&255,g>>8&255)+ze(255&P,255&u,255&g)?P:u},p.Predictor12=function(u,g,k){var P=g[k+0];return(Oe((u>>24&255)+(P>>24&255)-((g=g[k-1])>>24&255))<<24|Oe((u>>16&255)+(P>>16&255)-(g>>16&255))<<16|Oe((u>>8&255)+(P>>8&255)-(g>>8&255))<<8|Oe((255&u)+(255&P)-(255&g)))>>>0},p.Predictor13=function(u,g,k){var P=g[k-1];return(Be((u=Te(u,g[k+0]))>>24&255,P>>24&255)<<24|Be(u>>16&255,P>>16&255)<<16|Be(u>>8&255,P>>8&255)<<8|Be(255&u,255&P))>>>0};var ba=p.PredictorAdd0;p.PredictorAdd1=et,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var va=p.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Uo,ji=p.ColorIndexInverseTransform,Bo=p.MapARGB,qo=p.VP8LColorIndexInverseTransformAlpha,so=p.MapAlpha,ao=p.VP8LPredictorsAdd=[];ao.length=16,(p.VP8LPredictors=[]).length=16,(p.VP8LPredictorsAdd_C=[]).length=16,(p.VP8LPredictors_C=[]).length=16;var ja,Ui,vs,xa,er,tr,mr,br,Ua,zo,ya,Bi,W0,G0,K0,Y0,J0,Z0,X0,Q0,ef,tf,rf,sf,qi,af,nf,of,lf=o(511),df=o(2041),cf=o(225),uf=o(767),ff=0,Bc=df,ed=cf,xs=uf,Rs=lf,td=0,rd=1,hf=2,sd=3,ad=4,qc=5,gf=6,zc=7,Hc=8,nd=9,Vc=10,t2=[2,3,7],r2=[3,3,11],pf=[280,256,256,256,40],s2=[0,1,1,1,0],a2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],n2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],o2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],i2=8,Wc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zi=null,l2=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],d2=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],c2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],u2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],f2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],h2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mn=[],ea=[],Ba=[],g2=1,bf=2,bn=[],Os=[];Qs("UpsampleRgbLinePair",Fa,3),Qs("UpsampleBgrLinePair",Oo,3),Qs("UpsampleRgbaLinePair",Ql,4),Qs("UpsampleBgraLinePair",Fo,4),Qs("UpsampleArgbLinePair",Xl,4),Qs("UpsampleRgba4444LinePair",os,2),Qs("UpsampleRgb565LinePair",Di,2);var p2=p.UpsampleRgbLinePair,m2=p.UpsampleBgrLinePair,vf=p.UpsampleRgbaLinePair,xf=p.UpsampleBgraLinePair,yf=p.UpsampleArgbLinePair,kf=p.UpsampleRgba4444LinePair,b2=p.UpsampleRgb565LinePair,od=16,id=1<<od-1,Hi=-227,Kc=482,v2=6,wf=0,x2=o(256),y2=o(256),k2=o(256),w2=o(256),_2=o(Kc-Hi),S2=o(Kc-Hi);Ds("YuvToRgbRow",Fa,3),Ds("YuvToBgrRow",Oo,3),Ds("YuvToRgbaRow",Ql,4),Ds("YuvToBgraRow",Fo,4),Ds("YuvToArgbRow",Xl,4),Ds("YuvToRgba4444Row",os,2),Ds("YuvToRgb565Row",Di,2);var _f=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ld=[0,2,8],A2=[8,7,6,4,4,2,2,2,1,1,1,1],C2=1;this.WebPDecodeRGBA=function(u,g,k,P,Y){var Q=rd,ee=new ut,se=new Kt;ee.ba=se,se.S=Q,se.width=[se.width],se.height=[se.height];var le=se.width,ce=se.height,xe=new kt;if(xe==null||u==null)var Ne=2;else t(xe!=null),Ne=jo(u,g,k,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Ne!=0?le=0:(le!=null&&(le[0]=xe.width[0]),ce!=null&&(ce[0]=xe.height[0]),le=1),le){se.width=se.width[0],se.height=se.height[0],P!=null&&(P[0]=se.width),Y!=null&&(Y[0]=se.height);e:{if(P=new Eo,(Y=new xt).data=u,Y.w=g,Y.ha=k,Y.kd=1,g=[0],t(Y!=null),((u=jo(Y.data,Y.w,Y.ha,null,null,null,g,null,Y))==0||u==7)&&g[0]&&(u=4),(g=u)==0){if(t(ee!=null),P.data=Y.data,P.w=Y.w+Y.offset,P.ha=Y.ha-Y.offset,P.put=bt,P.ac=ua,P.bc=Ea,P.ma=ee,Y.xa){if((u=Vn())==null){ee=1;break e}if((function(ue,_e){var Ce=[0],Re=[0],Le=[0];t:for(;;){if(ue==null)return 0;if(_e==null)return ue.a=2,0;if(ue.l=_e,ue.a=0,M(ue.m,_e.data,_e.w,_e.ha),!Ma(ue.m,Ce,Re,Le)){ue.a=3;break t}if(ue.xb=bf,_e.width=Ce[0],_e.height=Re[0],!ha(Ce[0],Re[0],1,ue,null))break t;return 1}return t(ue.a!=0),0})(u,P)){if(P=(g=ro(P.width,P.height,ee.Oa,ee.ba))==0){t:{P=u;r:for(;;){if(P==null){P=0;break t}if(t(P.s.yc!=null),t(P.s.Ya!=null),t(0<P.s.Wb),t((k=P.l)!=null),t((Y=k.ma)!=null),P.xb!=0){if(P.ca=Y.ba,P.tb=Y.tb,t(P.ca!=null),!fs(Y.Oa,k,sd)){P.a=2;break r}if(!Wn(P,k.width)||k.da)break r;if((k.da||Ct(P.ca.S))&&to(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&to()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!T(P.s.vb,P.s.Wa.Xa)){P.a=1;break r}P.xb=0}if(!Zs(P,P.V,P.Ba,P.c,P.i,k.o,ln))break r;Y.Dc=P.Ma,P=1;break t}t(P.a!=0),P=0}P=!P}P&&(g=u.a)}else g=u.a}else{if((u=new Sc)==null){ee=1;break e}if(u.Fa=Y.na,u.P=Y.P,u.qc=Y.Sa,Kl(u,P)){if((g=ro(P.width,P.height,ee.Oa,ee.ba))==0){if(u.Aa=0,k=ee.Oa,t((Y=u)!=null),k!=null){if(0<(le=0>(le=k.Md)?0:100<le?255:255*le/100)){for(ce=xe=0;4>ce;++ce)12>(Ne=Y.pb[ce]).lc&&(Ne.ia=le*A2[0>Ne.lc?0:Ne.lc]>>3),xe|=Ne.ia;xe&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=k.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}(function(ue,_e){if(ue==null)return 0;if(_e==null)return Sr(ue,2,"NULL VP8Io parameter in VP8Decode().");if(!ue.cb&&!Kl(ue,_e))return 0;if(t(ue.cb),_e.ac==null||_e.ac(_e)){_e.ob&&(ue.L=0);var Ce=ld[ue.L];if(ue.L==2?(ue.yb=0,ue.zb=0):(ue.yb=_e.v-Ce>>4,ue.zb=_e.j-Ce>>4,0>ue.yb&&(ue.yb=0),0>ue.zb&&(ue.zb=0)),ue.Va=_e.o+15+Ce>>4,ue.Hb=_e.va+15+Ce>>4,ue.Hb>ue.za&&(ue.Hb=ue.za),ue.Va>ue.Ub&&(ue.Va=ue.Ub),0<ue.L){var Re=ue.ed;for(Ce=0;4>Ce;++Ce){var Le;if(ue.Qa.Cb){var Fe=ue.Qa.Lb[Ce];ue.Qa.Fb||(Fe+=Re.Tb)}else Fe=Re.Tb;for(Le=0;1>=Le;++Le){var Ue=ue.gd[Ce][Le],Ge=Fe;if(Re.Pc&&(Ge+=Re.vd[0],Le&&(Ge+=Re.od[0])),0<(Ge=0>Ge?0:63<Ge?63:Ge)){var He=Ge;0<Re.wb&&(He=4<Re.wb?He>>2:He>>1)>9-Re.wb&&(He=9-Re.wb),1>He&&(He=1),Ue.dd=He,Ue.tc=2*Ge+He,Ue.ld=40<=Ge?2:15<=Ge?1:0}else Ue.tc=0;Ue.La=Le}}}Ce=0}else Sr(ue,6,"Frame setup failed"),Ce=ue.a;if(Ce=Ce==0){if(Ce){ue.$c=0,0<ue.Aa||(ue.Ic=C2);t:{Ce=ue.Ic,Re=4*(He=ue.za);var ft=32*He,st=He+1,Nt=0<ue.L?He*(0<ue.Aa?2:1):0,lt=(ue.Aa==2?2:1)*He;if((Ue=Re+832+(Le=3*(16*Ce+ld[ue.L])/2*ft)+(Fe=ue.Fa!=null&&0<ue.Fa.length?ue.Kc.c*ue.Kc.i:0))!=Ue)Ce=0;else{if(Ue>ue.Vb){if(ue.Vb=0,ue.Ec=o(Ue),ue.Fc=0,ue.Ec==null){Ce=Sr(ue,1,"no memory during frame initialization.");break t}ue.Vb=Ue}Ue=ue.Ec,Ge=ue.Fc,ue.Ac=Ue,ue.Bc=Ge,Ge+=Re,ue.Gd=i(ft,Vl),ue.Hd=0,ue.rb=i(st+1,ki),ue.sb=1,ue.wa=Nt?i(Nt,Ts):null,ue.Y=0,ue.D.Nb=0,ue.D.wa=ue.wa,ue.D.Y=ue.Y,0<ue.Aa&&(ue.D.Y+=He),t(!0),ue.oc=Ue,ue.pc=Ge,Ge+=832,ue.ya=i(lt,wi),ue.aa=0,ue.D.ya=ue.ya,ue.D.aa=ue.aa,ue.Aa==2&&(ue.D.aa+=He),ue.R=16*He,ue.B=8*He,He=(ft=ld[ue.L])*ue.R,ft=ft/2*ue.B,ue.sa=Ue,ue.ta=Ge+He,ue.qa=ue.sa,ue.ra=ue.ta+16*Ce*ue.R+ft,ue.Ha=ue.qa,ue.Ia=ue.ra+8*Ce*ue.B+ft,ue.$c=0,Ge+=Le,ue.mb=Fe?Ue:null,ue.nb=Fe?Ge:null,t(Ge+Fe<=ue.Fc+ue.Vb),Gn(ue),n(ue.Ac,ue.Bc,0,Re),Ce=1}}if(Ce){if(_e.ka=0,_e.y=ue.sa,_e.O=ue.ta,_e.f=ue.qa,_e.N=ue.ra,_e.ea=ue.Ha,_e.Vd=ue.Ia,_e.fa=ue.R,_e.Rc=ue.B,_e.F=null,_e.J=0,!ff){for(Ce=-255;255>=Ce;++Ce)lf[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)df[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)cf[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)uf[255+Ce]=0>Ce?0:255<Ce?255:Ce;ff=1}mr=Jl,br=Cc,zo=Pc,ya=ga,Bi=Yl,Ua=Ac,W0=v,G0=J,K0=Ae,Y0=je,J0=fe,Z0=be,X0=Ve,Q0=it,ef=Ei,tf=eo,rf=Mi,sf=Ii,ea[0]=Tc,ea[1]=Si,ea[2]=Mc,ea[3]=Ic,ea[4]=Dc,ea[5]=Da,ea[6]=Ta,ea[7]=Rc,ea[8]=Mo,ea[9]=Oc,mn[0]=cn,mn[1]=Nc,mn[2]=$c,mn[3]=Ai,mn[4]=Ec,mn[5]=Jn,mn[6]=Ci,Ba[0]=To,Ba[1]=Lc,Ba[2]=Pi,Ba[3]=Zn,Ba[4]=Li,Ba[5]=Fc,Ba[6]=Ni,Ce=1}else Ce=0}Ce&&(Ce=(function(Dt,Er){for(Dt.M=0;Dt.M<Dt.Va;++Dt.M){var $t,dt=Dt.Jc[Dt.M&Dt.Xb],Je=Dt.m,vr=Dt;for($t=0;$t<vr.za;++$t){var Pt=Je,Rt=vr,ar=Rt.Ac,qr=Rt.Bc+4*$t,is=Rt.zc,dr=Rt.ya[Rt.aa+$t];if(Rt.Qa.Bb?dr.$b=pe(Pt,Rt.Pa.jb[0])?2+pe(Pt,Rt.Pa.jb[2]):pe(Pt,Rt.Pa.jb[1]):dr.$b=0,Rt.kc&&(dr.Ad=pe(Pt,Rt.Bd)),dr.Za=!pe(Pt,145)+0,dr.Za){var Jr=dr.Ob,ls=0;for(Rt=0;4>Rt;++Rt){var Mr,Ot=is[0+Rt];for(Mr=0;4>Mr;++Mr){Ot=u2[ar[qr+Mr]][Ot];for(var Ht=mf[pe(Pt,Ot[0])];0<Ht;)Ht=mf[2*Ht+pe(Pt,Ot[Ht])];Ot=-Ht,ar[qr+Mr]=Ot}s(Jr,ls,ar,qr,4),ls+=4,is[0+Rt]=Ot}}else Ot=pe(Pt,156)?pe(Pt,128)?1:3:pe(Pt,163)?2:0,dr.Ob[0]=Ot,n(ar,qr,Ot,4),n(is,0,Ot,4);dr.Dd=pe(Pt,142)?pe(Pt,114)?pe(Pt,183)?1:3:2:0}if(vr.m.Ka)return Sr(Dt,7,"Premature end-of-partition0 encountered.");for(;Dt.ja<Dt.za;++Dt.ja){if(vr=dt,Pt=(Je=Dt).rb[Je.sb-1],ar=Je.rb[Je.sb+Je.ja],$t=Je.ya[Je.aa+Je.ja],qr=Je.kc?$t.Ad:0)Pt.la=ar.la=0,$t.Za||(Pt.Na=ar.Na=0),$t.Hc=0,$t.Gc=0,$t.ia=0;else{var cr,Vt;if(Pt=ar,ar=vr,qr=Je.Pa.Xc,is=Je.ya[Je.aa+Je.ja],dr=Je.pb[is.$b],Rt=is.ad,Jr=0,ls=Je.rb[Je.sb-1],Ot=Mr=0,n(Rt,Jr,0,384),is.Za)var zr=0,ta=qr[3];else{Ht=o(16);var xr=Pt.Na+ls.Na;if(xr=zi(ar,qr[1],xr,dr.Eb,0,Ht,0),Pt.Na=ls.Na=(0<xr)+0,1<xr)mr(Ht,0,Rt,Jr);else{var gs=Ht[0]+3>>3;for(Ht=0;256>Ht;Ht+=16)Rt[Jr+Ht]=gs}zr=1,ta=qr[0]}var Yt=15&Pt.la,Ir=15&ls.la;for(Ht=0;4>Ht;++Ht){var ys=1&Ir;for(gs=Vt=0;4>gs;++gs)Yt=Yt>>1|(ys=(xr=zi(ar,ta,xr=ys+(1&Yt),dr.Sc,zr,Rt,Jr))>zr)<<7,Vt=Vt<<2|(3<xr?3:1<xr?2:Rt[Jr+0]!=0),Jr+=16;Yt>>=4,Ir=Ir>>1|ys<<7,Mr=(Mr<<8|Vt)>>>0}for(ta=Yt,zr=Ir>>4,cr=0;4>cr;cr+=2){for(Vt=0,Yt=Pt.la>>4+cr,Ir=ls.la>>4+cr,Ht=0;2>Ht;++Ht){for(ys=1&Ir,gs=0;2>gs;++gs)xr=ys+(1&Yt),Yt=Yt>>1|(ys=0<(xr=zi(ar,qr[2],xr,dr.Qc,0,Rt,Jr)))<<3,Vt=Vt<<2|(3<xr?3:1<xr?2:Rt[Jr+0]!=0),Jr+=16;Yt>>=2,Ir=Ir>>1|ys<<5}Ot|=Vt<<4*cr,ta|=Yt<<4<<cr,zr|=(240&Ir)<<cr}Pt.la=ta,ls.la=zr,is.Hc=Mr,is.Gc=Ot,is.ia=43690&Ot?0:dr.ia,qr=!(Mr|Ot)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[$t.$b][$t.Za],Je.wa[Je.Y+Je.ja].La|=!qr),vr.Ka)return Sr(Dt,7,"Premature end-of-file encountered.")}if(Gn(Dt),Je=Er,vr=1,$t=(dt=Dt).D,Pt=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if($t.M=dt.M,$t.uc=Pt,hn(dt,$t),vr=1,$t=(Vt=dt.D).Nb,Pt=(Ot=ld[dt.L])*dt.R,ar=Ot/2*dt.B,Ht=16*$t*dt.R,gs=8*$t*dt.B,qr=dt.sa,is=dt.ta-Pt+Ht,dr=dt.qa,Rt=dt.ra-ar+gs,Jr=dt.Ha,ls=dt.Ia-ar+gs,Ir=(Yt=Vt.M)==0,Mr=Yt>=dt.Va-1,dt.Aa==2&&hn(dt,Vt),Vt.uc)for(ys=(xr=dt).D.M,t(xr.D.uc),Vt=xr.yb;Vt<xr.Hb;++Vt){zr=Vt,ta=ys;var ds=(ks=(Hr=xr).D).Nb;cr=Hr.R;var ks=ks.wa[ks.Y+zr],ws=Hr.sa,ps=Hr.ta+16*ds*cr+16*zr,_s=ks.dd,rr=ks.tc;if(rr!=0)if(t(3<=rr),Hr.L==1)0<zr&&tf(ws,ps,cr,rr+4),ks.La&&sf(ws,ps,cr,rr),0<ta&&ef(ws,ps,cr,rr+4),ks.La&&rf(ws,ps,cr,rr);else{var Ss=Hr.B,ra=Hr.qa,no=Hr.ra+8*ds*Ss+8*zr,qa=Hr.Ha,Hr=Hr.Ia+8*ds*Ss+8*zr;ds=ks.ld,0<zr&&(G0(ws,ps,cr,rr+4,_s,ds),Y0(ra,no,qa,Hr,Ss,rr+4,_s,ds)),ks.La&&(Z0(ws,ps,cr,rr,_s,ds),Q0(ra,no,qa,Hr,Ss,rr,_s,ds)),0<ta&&(W0(ws,ps,cr,rr+4,_s,ds),K0(ra,no,qa,Hr,Ss,rr+4,_s,ds)),ks.La&&(J0(ws,ps,cr,rr,_s,ds),X0(ra,no,qa,Hr,Ss,rr,_s,ds))}}if(dt.ia&&alert("todo:DitherRow"),Je.put!=null){if(Vt=16*Yt,Yt=16*(Yt+1),Ir?(Je.y=dt.sa,Je.O=dt.ta+Ht,Je.f=dt.qa,Je.N=dt.ra+gs,Je.ea=dt.Ha,Je.W=dt.Ia+gs):(Vt-=Ot,Je.y=qr,Je.O=is,Je.f=dr,Je.N=Rt,Je.ea=Jr,Je.W=ls),Mr||(Yt-=Ot),Yt>Je.o&&(Yt=Je.o),Je.F=null,Je.J=null,dt.Fa!=null&&0<dt.Fa.length&&Vt<Yt&&(Je.J=Br(dt,Je,Vt,Yt-Vt),Je.F=dt.mb,Je.F==null&&Je.F.length==0)){vr=Sr(dt,3,"Could not decode alpha data.");break t}Vt<Je.j&&(Ot=Je.j-Vt,Vt=Je.j,t(!(1&Ot)),Je.O+=dt.R*Ot,Je.N+=dt.B*(Ot>>1),Je.W+=dt.B*(Ot>>1),Je.F!=null&&(Je.J+=Je.width*Ot)),Vt<Yt&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Vt-Je.j,Je.U=Je.va-Je.v,Je.T=Yt-Vt,vr=Je.put(Je))}$t+1!=dt.Ic||Mr||(s(dt.sa,dt.ta-Pt,qr,is+16*dt.R,Pt),s(dt.qa,dt.ra-ar,dr,Rt+8*dt.B,ar),s(dt.Ha,dt.Ia-ar,Jr,ls+8*dt.B,ar))}if(!vr)return Sr(Dt,6,"Output aborted.")}return 1})(ue,_e)),_e.bc!=null&&_e.bc(_e),Ce&=1}return Ce?(ue.cb=0,Ce):0})(u,P)||(g=u.a)}}else g=u.a}g==0&&ee.Oa!=null&&ee.Oa.fd&&(g=hs(ee.ba))}ee=g}Q=ee!=0?null:11>Q?se.f.RGBA.eb:se.f.kb.y}else Q=null;return Q};var Sf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(p,E){for(var y="",A=0;A<4;A++)y+=String.fromCharCode(p[E++]);return y}function f(p,E){return p[E+0]|p[E+1]<<8}function b(p,E){return(p[E+0]|p[E+1]<<8|p[E+2]<<16)>>>0}function w(p,E){return(p[E+0]|p[E+1]<<8|p[E+2]<<16|p[E+3]<<24)>>>0}new d;var h=[0],_=[0],O=[],j=new d,N=e,W=(function(p,E){var y={},A=0,H=!1,F=0,ae=0;if(y.frames=[],!(function(m,C){for(var L=0;L<4;L++)if(m[C+L]!="RIFF".charCodeAt(L))return!0;return!1})(p,E)){for(w(p,E+=4),E+=8;E<p.length;){var ge=c(p,E),he=w(p,E+=4);E+=4;var Z=he+(1&he);switch(ge){case"VP8 ":case"VP8L":y.frames[A]===void 0&&(y.frames[A]={}),(S=y.frames[A]).src_off=H?ae:E-8,S.src_size=F+he+8,A++,H&&(H=!1,F=0,ae=0);break;case"VP8X":(S=y.header={}).feature_flags=p[E];var M=E+4;S.canvas_width=1+b(p,M),M+=3,S.canvas_height=1+b(p,M),M+=3;break;case"ALPH":H=!0,F=Z+8,ae=E-8;break;case"ANIM":(S=y.header).bgcolor=w(p,E),M=E+4,S.loop_count=f(p,M),M+=2;break;case"ANMF":var z,S;(S=y.frames[A]={}).offset_x=2*b(p,E),E+=3,S.offset_y=2*b(p,E),E+=3,S.width=1+b(p,E),E+=3,S.height=1+b(p,E),E+=3,S.duration=b(p,E),E+=3,z=p[E++],S.dispose=1&z,S.blend=z>>1&1}ge!="ANMF"&&(E+=Z)}return y}})(N,0);W.response=N,W.rgbaoutput=!0,W.dataurl=!1;var B=W.header?W.header:null,I=W.frames?W.frames:null;if(B){B.loop_counter=B.loop_count,h=[B.canvas_height],_=[B.canvas_width];for(var R=0;R<I.length&&I[R].blend!=0;R++);}var K=I[0],U=j.WebPDecodeRGBA(N,K.src_off,K.src_size,_,h);K.rgba=U,K.imgwidth=_[0],K.imgheight=h[0];for(var x=0;x<_[0]*h[0]*4;x++)O[x]=U[x];return this.width=_,this.height=h,this.data=O,this}(function(e){var t,r,s,n,o,i,l,d,c,f=function(m){return m=m||{},this.isStrokeTransparent=m.isStrokeTransparent||!1,this.strokeOpacity=m.strokeOpacity||1,this.strokeStyle=m.strokeStyle||"#000000",this.fillStyle=m.fillStyle||"#000000",this.isFillTransparent=m.isFillTransparent||!1,this.fillOpacity=m.fillOpacity||1,this.font=m.font||"10px sans-serif",this.textBaseline=m.textBaseline||"alphabetic",this.textAlign=m.textAlign||"left",this.lineWidth=m.lineWidth||1,this.lineJoin=m.lineJoin||"miter",this.lineCap=m.lineCap||"butt",this.path=m.path||[],this.transform=m.transform!==void 0?m.transform.clone():new d,this.globalCompositeOperation=m.globalCompositeOperation||"normal",this.globalAlpha=m.globalAlpha||1,this.clip_path=m.clip_path||[],this.currentPoint=m.currentPoint||new i,this.miterLimit=m.miterLimit||10,this.lastPoint=m.lastPoint||new i,this.lineDashOffset=m.lineDashOffset||0,this.lineDash=m.lineDash||[],this.margin=m.margin||[0,0,0,0],this.prevPageLastElemOffset=m.prevPageLastElemOffset||0,this.ignoreClearRect=typeof m.ignoreClearRect!="boolean"||m.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new b(this),t=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,d=this.internal.Matrix,c=new f}]);var b=function(m){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var C=m;Object.defineProperty(this,"pdf",{get:function(){return C}});var L=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return L},set:function(ne){L=!!ne}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(ne){$=!!ne}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(ne){isNaN(ne)||(V=ne)}});var q=0;Object.defineProperty(this,"posY",{get:function(){return q},set:function(ne){isNaN(ne)||(q=ne)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ne){var T;typeof ne=="number"?T=[ne,ne,ne,ne]:((T=new Array(4))[0]=ne[0],T[1]=ne.length>=2?ne[1]:T[0],T[2]=ne.length>=3?ne[2]:T[0],T[3]=ne.length>=4?ne[3]:T[1]),c.margin=T}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(ne){te=ne}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(ne){oe=ne}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(ne){pe=ne}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ne){ne instanceof f&&(c=ne)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ne){c.path=ne}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(ne){we=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var T;T=w(ne),this.ctx.fillStyle=T.style,this.ctx.isFillTransparent=T.a===0,this.ctx.fillOpacity=T.a,this.pdf.setFillColor(T.r,T.g,T.b,{a:T.a}),this.pdf.setTextColor(T.r,T.g,T.b,{a:T.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var T=w(ne);this.ctx.strokeStyle=T.style,this.ctx.isStrokeTransparent=T.a===0,this.ctx.strokeOpacity=T.a,T.a===0?this.pdf.setDrawColor(255,255,255):(T.a,this.pdf.setDrawColor(T.r,T.g,T.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var re=null,ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return ie},set:function(ne){re=null,ie=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var T;if(this.ctx.font=ne,(T=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ne))!==null){var de=T[1];T[2];var me=T[3],ke=T[4];T[5];var ve=T[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor($e==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Se=(function(tt){var Xe,vt,At=[],ot=tt.trim();if(ot==="")return Ru;if(ot in Wg)return[Wg[ot]];for(;ot!=="";){switch(vt=null,Xe=(ot=Kg(ot)).charAt(0)){case'"':case"'":vt=H_(ot.substring(1),Xe);break;default:vt=V_(ot)}if(vt===null||(At.push(vt[0]),(ot=Kg(vt[1]))!==""&&ot.charAt(0)!==","))return Ru;ot=ot.replace(/^,/,"")}return At})(ve);if(this.fontFaces){var qe=(function(tt,Xe){if(re===null){var vt=(function(At){var ot=[];return Object.keys(At).forEach(function(ht){At[ht].forEach(function(Mt){var mt=null;switch(Mt){case"bold":mt={family:ht,weight:"bold"};break;case"italic":mt={family:ht,style:"italic"};break;case"bolditalic":mt={family:ht,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:ht}}mt!==null&&(mt.ref={name:ht,style:Mt},ot.push(mt))})}),ot})(tt.getFontList());re=(function(At){for(var ot={},ht=0;ht<At.length;++ht){var Mt=Du(At[ht]),mt=Mt.family,It=Mt.stretch,Ct=Mt.style,hr=Mt.weight;ot[mt]=ot[mt]||{},ot[mt][It]=ot[mt][It]||{},ot[mt][It][Ct]=ot[mt][It][Ct]||{},ot[mt][It][Ct][hr]=Mt}return ot})(vt.concat(Xe))}return re})(this.pdf,this.fontFaces),Te=Se.map(function(tt){return{family:tt,stretch:"normal",weight:me,style:de}}),Oe=(function(tt,Xe,vt){for(var At=(vt=vt||{}).defaultFontFamily||"times",ot=Object.assign({},z_,vt.genericFontFamilies||{}),ht=null,Mt=null,mt=0;mt<Xe.length;++mt)if(ot[(ht=Du(Xe[mt])).family]&&(ht.family=ot[ht.family]),tt.hasOwnProperty(ht.family)){Mt=tt[ht.family];break}if(!(Mt=Mt||tt[At]))throw new Error("Could not find a font-family for the rule '"+Gg(ht)+"' and default family '"+At+"'.");if(Mt=(function(It,Ct){if(Ct[It])return Ct[It];var hr=p0[It],Lr=hr<=p0.normal?-1:1,Kt=Vg(Ct,Jm,hr,Lr);if(!Kt)throw new Error("Could not find a matching font-stretch value for "+It);return Kt})(ht.stretch,Mt),Mt=(function(It,Ct){if(Ct[It])return Ct[It];for(var hr=Ym[It],Lr=0;Lr<hr.length;++Lr)if(Ct[hr[Lr]])return Ct[hr[Lr]];throw new Error("Could not find a matching font-style for "+It)})(ht.style,Mt),!(Mt=(function(It,Ct){if(Ct[It])return Ct[It];if(It===400&&Ct[500])return Ct[500];if(It===500&&Ct[400])return Ct[400];var hr=q_[It],Lr=Vg(Ct,Zm,hr,It<400?-1:1);if(!Lr)throw new Error("Could not find a matching font-weight for value "+It);return Lr})(ht.weight,Mt)))throw new Error("Failed to resolve a font for the rule '"+Gg(ht)+"'.");return Mt})(qe,Te);this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var Be="";(me==="bold"||parseInt(me,10)>=700||de==="bold")&&(Be="bold"),de==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var ze="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<Se.length;Ke++){if(this.pdf.internal.getFont(Se[Ke],Be,{noFallback:!0,disableWarning:!0})!==void 0){ze=Se[Ke];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(Se[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=Se[Ke],Be="bold";else if(this.pdf.internal.getFont(Se[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=Se[Ke],Be="normal";break}}if(ze===""){for(var Ze=0;Ze<Se.length;Ze++)if(et[Se[Ze]]){ze=et[Se[Ze]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,S.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,S.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};b.prototype.setLineDash=function(m){this.lineDash=m},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){I.call(this,"fill",!1)},b.prototype.stroke=function(){I.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(m,C){if(isNaN(m)||isNaN(C))throw Jt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var L=this.ctx.transform.applyToPoint(new i(m,C));this.path.push({type:"mt",x:L.x,y:L.y}),this.ctx.lastPoint=new i(m,C)},b.prototype.closePath=function(){var m=new i(0,0),C=0;for(C=this.path.length-1;C!==-1;C--)if(this.path[C].type==="begin"&&Wt(this.path[C+1])==="object"&&typeof this.path[C+1].x=="number"){m=new i(this.path[C+1].x,this.path[C+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(m.x,m.y)},b.prototype.lineTo=function(m,C){if(isNaN(m)||isNaN(C))throw Jt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var L=this.ctx.transform.applyToPoint(new i(m,C));this.path.push({type:"lt",x:L.x,y:L.y}),this.ctx.lastPoint=new i(L.x,L.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},b.prototype.quadraticCurveTo=function(m,C,L,$){if(isNaN(L)||isNaN($)||isNaN(m)||isNaN(C))throw Jt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new i(L,$)),q=this.ctx.transform.applyToPoint(new i(m,C));this.path.push({type:"qct",x1:q.x,y1:q.y,x:V.x,y:V.y}),this.ctx.lastPoint=new i(V.x,V.y)},b.prototype.bezierCurveTo=function(m,C,L,$,V,q){if(isNaN(V)||isNaN(q)||isNaN(m)||isNaN(C)||isNaN(L)||isNaN($))throw Jt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new i(V,q)),oe=this.ctx.transform.applyToPoint(new i(m,C)),pe=this.ctx.transform.applyToPoint(new i(L,$));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:pe.x,y2:pe.y,x:te.x,y:te.y}),this.ctx.lastPoint=new i(te.x,te.y)},b.prototype.arc=function(m,C,L,$,V,q){if(isNaN(m)||isNaN(C)||isNaN(L)||isNaN($)||isNaN(V))throw Jt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(q=!!q,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new i(m,C));m=te.x,C=te.y;var oe=this.ctx.transform.applyToPoint(new i(0,L)),pe=this.ctx.transform.applyToPoint(new i(0,0));L=Math.sqrt(Math.pow(oe.x-pe.x,2)+Math.pow(oe.y-pe.y,2))}Math.abs(V-$)>=2*Math.PI&&($=0,V=2*Math.PI),this.path.push({type:"arc",x:m,y:C,radius:L,startAngle:$,endAngle:V,counterclockwise:q})},b.prototype.arcTo=function(m,C,L,$,V){throw new Error("arcTo not implemented.")},b.prototype.rect=function(m,C,L,$){if(isNaN(m)||isNaN(C)||isNaN(L)||isNaN($))throw Jt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(m,C),this.lineTo(m+L,C),this.lineTo(m+L,C+$),this.lineTo(m,C+$),this.lineTo(m,C),this.lineTo(m+L,C),this.lineTo(m,C)},b.prototype.fillRect=function(m,C,L,$){if(isNaN(m)||isNaN(C)||isNaN(L)||isNaN($))throw Jt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(m,C,L,$),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},b.prototype.strokeRect=function(m,C,L,$){if(isNaN(m)||isNaN(C)||isNaN(L)||isNaN($))throw Jt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(m,C,L,$),this.stroke())},b.prototype.clearRect=function(m,C,L,$){if(isNaN(m)||isNaN(C)||isNaN(L)||isNaN($))throw Jt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(m,C,L,$))},b.prototype.save=function(m){m=typeof m!="boolean"||m;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("q");if(this.pdf.setPage(C),m){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},b.prototype.restore=function(m){m=typeof m!="boolean"||m;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("Q");this.pdf.setPage(C),m&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(m){var C,L,$,V;if(m.isCanvasGradient===!0&&(m=m.getColor()),!m)return{r:0,g:0,b:0,a:0,style:m};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(m))C=0,L=0,$=0,V=0;else{var q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(m);if(q!==null)C=parseInt(q[1]),L=parseInt(q[2]),$=parseInt(q[3]),V=1;else if((q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(m))!==null)C=parseInt(q[1]),L=parseInt(q[2]),$=parseInt(q[3]),V=parseFloat(q[4]);else{if(V=1,typeof m=="string"&&m.charAt(0)!=="#"){var te=new qm(m);m=te.ok?te.toHex():"#000000"}m.length===4?(C=m.substring(1,2),C+=C,L=m.substring(2,3),L+=L,$=m.substring(3,4),$+=$):(C=m.substring(1,3),L=m.substring(3,5),$=m.substring(5,7)),C=parseInt(C,16),L=parseInt(L,16),$=parseInt($,16)}}return{r:C,g:L,b:$,a:V,style:m}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(m,C,L,$){if(isNaN(C)||isNaN(L)||typeof m!="string")throw Jt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!h.call(this)){var V=Z(this.ctx.transform.rotation),q=this.ctx.transform.scaleX;A.call(this,{text:m,x:C,y:L,scale:q,angle:V,align:this.textAlign,maxWidth:$})}},b.prototype.strokeText=function(m,C,L,$){if(isNaN(C)||isNaN(L)||typeof m!="string")throw Jt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){$=isNaN($)?void 0:$;var V=Z(this.ctx.transform.rotation),q=this.ctx.transform.scaleX;A.call(this,{text:m,x:C,y:L,scale:q,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:$})}},b.prototype.measureText=function(m){if(typeof m!="string")throw Jt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var C=this.pdf,L=this.pdf.internal.scaleFactor,$=C.internal.getFontSize(),V=C.getStringUnitWidth(m)*$/C.internal.scaleFactor;return new function(q){var te=(q=q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this}({width:V*=Math.round(96*L/72*1e4)/1e4})},b.prototype.scale=function(m,C){if(isNaN(m)||isNaN(C))throw Jt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var L=new d(m,0,0,C,0,0);this.ctx.transform=this.ctx.transform.multiply(L)},b.prototype.rotate=function(m){if(isNaN(m))throw Jt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var C=new d(Math.cos(m),Math.sin(m),-Math.sin(m),Math.cos(m),0,0);this.ctx.transform=this.ctx.transform.multiply(C)},b.prototype.translate=function(m,C){if(isNaN(m)||isNaN(C))throw Jt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var L=new d(1,0,0,1,m,C);this.ctx.transform=this.ctx.transform.multiply(L)},b.prototype.transform=function(m,C,L,$,V,q){if(isNaN(m)||isNaN(C)||isNaN(L)||isNaN($)||isNaN(V)||isNaN(q))throw Jt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new d(m,C,L,$,V,q);this.ctx.transform=this.ctx.transform.multiply(te)},b.prototype.setTransform=function(m,C,L,$,V,q){m=isNaN(m)?1:m,C=isNaN(C)?0:C,L=isNaN(L)?0:L,$=isNaN($)?1:$,V=isNaN(V)?0:V,q=isNaN(q)?0:q,this.ctx.transform=new d(m,C,L,$,V,q)};var O=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(m,C,L,$,V,q,te,oe,pe){var we=this.pdf.getImageProperties(m),re=1,ie=1,ne=1,T=1;$!==void 0&&oe!==void 0&&(ne=oe/$,T=pe/V,re=we.width/$*oe/$,ie=we.height/V*pe/V),q===void 0&&(q=C,te=L,C=0,L=0),$!==void 0&&oe===void 0&&(oe=$,pe=V),$===void 0&&oe===void 0&&(oe=we.width,pe=we.height);for(var de,me=this.ctx.transform.decompose(),ke=Z(me.rotate.shx),ve=new d,$e=(ve=(ve=(ve=ve.multiply(me.translate)).multiply(me.skew)).multiply(me.scale)).applyToRectangle(new l(q-C*ne,te-L*T,$*re,V*ie)),Se=j.call(this,$e),qe=[],Te=0;Te<Se.length;Te+=1)qe.indexOf(Se[Te])===-1&&qe.push(Se[Te]);if(B(qe),this.autoPaging)for(var Oe=qe[0],Be=qe[qe.length-1],ze=Oe;ze<Be+1;ze++){this.pdf.setPage(ze);var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=ze===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=ze===1?0:Ze+(ze-2)*tt;if(this.ctx.clip_path.length!==0){var vt=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(de,this.posX+this.margin[3],-Xe+Ke+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=vt}var At=JSON.parse(JSON.stringify($e));At=W([At],this.posX+this.margin[3],-Xe+Ke+this.ctx.prevPageLastElemOffset)[0];var ot=(ze>Oe||ze<Be)&&O.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,tt,null).clip().discardPath()),this.pdf.addImage(m,"JPEG",At.x,At.y,At.w,At.h,null,null,ke),ot&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(m,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,ke)};var j=function(m,C,L){var $=[];C=C||this.pdf.internal.pageSize.width,L=L||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(m.type){default:case"mt":case"lt":$.push(Math.floor((m.y+V)/L)+1);break;case"arc":$.push(Math.floor((m.y+V-m.radius)/L)+1),$.push(Math.floor((m.y+V+m.radius)/L)+1);break;case"qct":var q=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,m.x1,m.y1,m.x,m.y);$.push(Math.floor((q.y+V)/L)+1),$.push(Math.floor((q.y+q.h+V)/L)+1);break;case"bct":var te=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,m.x1,m.y1,m.x2,m.y2,m.x,m.y);$.push(Math.floor((te.y+V)/L)+1),$.push(Math.floor((te.y+te.h+V)/L)+1);break;case"rect":$.push(Math.floor((m.y+V)/L)+1),$.push(Math.floor((m.y+m.h+V)/L)+1)}for(var oe=0;oe<$.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<$[oe];)N.call(this);return $},N=function(){var m=this.fillStyle,C=this.strokeStyle,L=this.font,$=this.lineCap,V=this.lineWidth,q=this.lineJoin;this.pdf.addPage(),this.fillStyle=m,this.strokeStyle=C,this.font=L,this.lineCap=$,this.lineWidth=V,this.lineJoin=q},W=function(m,C,L){for(var $=0;$<m.length;$++)switch(m[$].type){case"bct":m[$].x2+=C,m[$].y2+=L;case"qct":m[$].x1+=C,m[$].y1+=L;default:m[$].x+=C,m[$].y+=L}return m},B=function(m){return m.sort(function(C,L){return C-L})},I=function(m,C){for(var L,$,V=this.fillStyle,q=this.strokeStyle,te=this.lineCap,oe=this.lineWidth,pe=Math.abs(oe*this.ctx.transform.scaleX),we=this.lineJoin,re=JSON.parse(JSON.stringify(this.path)),ie=JSON.parse(JSON.stringify(this.path)),ne=[],T=0;T<ie.length;T++)if(ie[T].x!==void 0)for(var de=j.call(this,ie[T]),me=0;me<de.length;me+=1)ne.indexOf(de[me])===-1&&ne.push(de[me]);for(var ke=0;ke<ne.length;ke++)for(;this.pdf.internal.getNumberOfPages()<ne[ke];)N.call(this);if(B(ne),this.autoPaging)for(var ve=ne[0],$e=ne[ne.length-1],Se=ve;Se<$e+1;Se++){this.pdf.setPage(Se),this.fillStyle=V,this.strokeStyle=q,this.lineCap=te,this.lineWidth=pe,this.lineJoin=we;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=Se===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Se===1?0:Oe+(Se-2)*Be;if(this.ctx.clip_path.length!==0){var et=this.path;L=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(L,this.posX+this.margin[3],-ze+Te+this.ctx.prevPageLastElemOffset),R.call(this,m,!0),this.path=et}if($=JSON.parse(JSON.stringify(re)),this.path=W($,this.posX+this.margin[3],-ze+Te+this.ctx.prevPageLastElemOffset),C===!1||Se===0){var Ke=(Se>ve||Se<$e)&&O.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Be,null).clip().discardPath()),R.call(this,m,C),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=pe,R.call(this,m,C),this.lineWidth=oe;this.path=re},R=function(m,C){if((m!=="stroke"||C||!_.call(this))&&(m==="stroke"||C||!h.call(this))){for(var L,$,V=[],q=this.path,te=0;te<q.length;te++){var oe=q[te];switch(oe.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:oe,deltas:[],abs:[]});break;case"lt":var pe=V.length;if(q[te-1]&&!isNaN(q[te-1].x)&&(L=[oe.x-q[te-1].x,oe.y-q[te-1].y],pe>0)){for(;pe>=0;pe--)if(V[pe-1].close!==!0&&V[pe-1].begin!==!0){V[pe-1].deltas.push(L),V[pe-1].abs.push(oe);break}}break;case"bct":L=[oe.x1-q[te-1].x,oe.y1-q[te-1].y,oe.x2-q[te-1].x,oe.y2-q[te-1].y,oe.x-q[te-1].x,oe.y-q[te-1].y],V[V.length-1].deltas.push(L);break;case"qct":var we=q[te-1].x+2/3*(oe.x1-q[te-1].x),re=q[te-1].y+2/3*(oe.y1-q[te-1].y),ie=oe.x+2/3*(oe.x1-oe.x),ne=oe.y+2/3*(oe.y1-oe.y),T=oe.x,de=oe.y;L=[we-q[te-1].x,re-q[te-1].y,ie-q[te-1].x,ne-q[te-1].y,T-q[te-1].x,de-q[te-1].y],V[V.length-1].deltas.push(L);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(oe)}}$=C?null:m==="stroke"?"stroke":"fill";for(var me=!1,ke=0;ke<V.length;ke++)if(V[ke].arc)for(var ve=V[ke].abs,$e=0;$e<ve.length;$e++){var Se=ve[$e];Se.type==="arc"?x.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,C,!me):H.call(this,Se.x,Se.y),me=!0}else if(V[ke].close===!0)this.pdf.internal.out("h"),me=!1;else if(V[ke].begin!==!0){var qe=V[ke].start.x,Te=V[ke].start.y;F.call(this,V[ke].deltas,qe,Te),me=!0}$&&p.call(this,$),C&&E.call(this)}},K=function(m){var C=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,L=C*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return m-L;case"top":return m+C-L;case"hanging":return m+C-2*L;case"middle":return m+C/2-L;default:return m}},U=function(m){return m+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var m=function(){};return m.colorStops=[],m.addColorStop=function(C,L){this.colorStops.push([C,L])},m.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},m.isCanvasGradient=!0,m},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(m,C,L,$,V,q,te,oe,pe){for(var we=ge.call(this,L,$,V,q),re=0;re<we.length;re++){var ie=we[re];re===0&&(pe?y.call(this,ie.x1+m,ie.y1+C):H.call(this,ie.x1+m,ie.y1+C)),ae.call(this,m,C,ie.x2,ie.y2,ie.x3,ie.y3,ie.x4,ie.y4)}oe?E.call(this):p.call(this,te)},p=function(m){switch(m){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},E=function(){this.pdf.clip(),this.pdf.discardPath()},y=function(m,C){this.pdf.internal.out(r(m)+" "+s(C)+" m")},A=function(m){var C;switch(m.align){case"right":case"end":C="right";break;case"center":C="center";break;default:C="left"}var L=this.pdf.getTextDimensions(m.text),$=K.call(this,m.y),V=U.call(this,$)-L.h,q=this.ctx.transform.applyToPoint(new i(m.x,$)),te=this.ctx.transform.decompose(),oe=new d;oe=(oe=(oe=oe.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var pe,we,re,ie=this.ctx.transform.applyToRectangle(new l(m.x,$,L.w,L.h)),ne=oe.applyToRectangle(new l(m.x,V,L.w,L.h)),T=j.call(this,ne),de=[],me=0;me<T.length;me+=1)de.indexOf(T[me])===-1&&de.push(T[me]);if(B(de),this.autoPaging)for(var ke=de[0],ve=de[de.length-1],$e=ke;$e<ve+1;$e++){this.pdf.setPage($e);var Se=$e===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[2],Oe=Te-this.margin[0],Be=this.pdf.internal.pageSize.width-this.margin[1],ze=Be-this.margin[3],et=$e===1?0:qe+($e-2)*Oe;if(this.ctx.clip_path.length!==0){var Ke=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(pe,this.posX+this.margin[3],-1*et+Se),R.call(this,"fill",!0),this.path=Ke}var Ze=W([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-et+Se+this.ctx.prevPageLastElemOffset)[0];m.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*m.scale),re=this.lineWidth,this.lineWidth=re*m.scale);var tt=this.autoPaging!=="text";if(tt||Ze.y+Ze.h<=Te){if(tt||Ze.y>=Se&&Ze.x<=Be){var Xe=tt?m.text:this.pdf.splitTextToSize(m.text,m.maxWidth||Be-Ze.x)[0],vt=W([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-et+Se+this.ctx.prevPageLastElemOffset)[0],At=tt&&($e>ke||$e<ve)&&O.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,Oe,null).clip().discardPath()),this.pdf.text(Xe,vt.x,vt.y,{angle:m.angle,align:C,renderingMode:m.renderingMode}),At&&this.pdf.restoreGraphicsState()}}else Ze.y<Te&&(this.ctx.prevPageLastElemOffset+=Te-Ze.y);m.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=re)}else m.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*m.scale),re=this.lineWidth,this.lineWidth=re*m.scale),this.pdf.text(m.text,q.x+this.posX,q.y+this.posY,{angle:m.angle,align:C,renderingMode:m.renderingMode,maxWidth:m.maxWidth}),m.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=re)},H=function(m,C,L,$){L=L||0,$=$||0,this.pdf.internal.out(r(m+L)+" "+s(C+$)+" l")},F=function(m,C,L){return this.pdf.lines(m,C,L,null,null)},ae=function(m,C,L,$,V,q,te,oe){this.pdf.internal.out([t(n(L+m)),t(o($+C)),t(n(V+m)),t(o(q+C)),t(n(te+m)),t(o(oe+C)),"c"].join(" "))},ge=function(m,C,L,$){for(var V=2*Math.PI,q=Math.PI/2;C>L;)C-=V;var te=Math.abs(L-C);te<V&&$&&(te=V-te);for(var oe=[],pe=$?-1:1,we=C;te>1e-5;){var re=we+pe*Math.min(te,q);oe.push(he.call(this,m,we,re)),te-=Math.abs(re-we),we=re}return oe},he=function(m,C,L){var $=(L-C)/2,V=m*Math.cos($),q=m*Math.sin($),te=V,oe=-q,pe=te*te+oe*oe,we=pe+te*V+oe*q,re=4/3*(Math.sqrt(2*pe*we)-we)/(te*q-oe*V),ie=te-re*oe,ne=oe+re*te,T=ie,de=-ne,me=$+C,ke=Math.cos(me),ve=Math.sin(me);return{x1:m*Math.cos(C),y1:m*Math.sin(C),x2:ie*ke-ne*ve,y2:ie*ve+ne*ke,x3:T*ke-de*ve,y3:T*ve+de*ke,x4:m*Math.cos(L),y4:m*Math.sin(L)}},Z=function(m){return 180*m/Math.PI},M=function(m,C,L,$,V,q){var te=m+.5*(L-m),oe=C+.5*($-C),pe=V+.5*(L-V),we=q+.5*($-q),re=Math.min(m,V,te,pe),ie=Math.max(m,V,te,pe),ne=Math.min(C,q,oe,we),T=Math.max(C,q,oe,we);return new l(re,ne,ie-re,T-ne)},z=function(m,C,L,$,V,q,te,oe){var pe,we,re,ie,ne,T,de,me,ke,ve,$e,Se,qe,Te,Oe=L-m,Be=$-C,ze=V-L,et=q-$,Ke=te-V,Ze=oe-q;for(we=0;we<41;we++)ke=(de=(re=m+(pe=we/40)*Oe)+pe*((ne=L+pe*ze)-re))+pe*(ne+pe*(V+pe*Ke-ne)-de),ve=(me=(ie=C+pe*Be)+pe*((T=$+pe*et)-ie))+pe*(T+pe*(q+pe*Ze-T)-me),we==0?($e=ke,Se=ve,qe=ke,Te=ve):($e=Math.min($e,ke),Se=Math.min(Se,ve),qe=Math.max(qe,ke),Te=Math.max(Te,ve));return new l(Math.round($e),Math.round(Se),Math.round(qe-$e),Math.round(Te-Se))},S=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var m,C,L=(m=this.ctx.lineDash,C=this.ctx.lineDashOffset,JSON.stringify({lineDash:m,lineDashOffset:C}));this.prevLineDash!==L&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=L)}}})(ct.API),(function(e){var t=function(i){var l,d,c,f,b,w,h,_,O,j;for(d=[],c=0,f=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;f>c;c+=4)(b=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(w=(b=((b=((b=((b=(b-(j=b%85))/85)-(O=b%85))/85)-(_=b%85))/85)-(h=b%85))/85)%85,d.push(w+33,h+33,_+33,O+33,j+33)):d.push(122);return(function(N,W){for(var B=W;B>0;B--)N.pop()})(d,l.length),String.fromCharCode.apply(String,d)+"~>"},r=function(i){var l,d,c,f,b,w=String,h="length",_=255,O="charCodeAt",j="slice",N="replace";for(i[j](-2),i=i[j](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],f=0,b=(i+=l="uuuuu"[j](i[h]%5||5))[h];b>f;f+=5)d=52200625*(i[O](f)-33)+614125*(i[O](f+1)-33)+7225*(i[O](f+2)-33)+85*(i[O](f+3)-33)+(i[O](f+4)-33),c.push(_&d>>24,_&d>>16,_&d>>8,_&d);return(function(W,B){for(var I=B;I>0;I--)W.pop()})(c,l[h]),w.fromCharCode.apply(w,c)},s=function(i){return i.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var d="",c=0;c<i.length;c+=2)d+=String.fromCharCode("0x"+(i[c]+i[c+1]));return d},o=function(i){for(var l=new Uint8Array(i.length),d=i.length;d--;)l[d]=i.charCodeAt(d);return(l=l0(l)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};e.processDataByFilters=function(i,l){var d=0,c=i||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),d=0;d<l.length;d+=1)switch(l[d]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=s(c),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[d]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}})(ct.API),(function(e){e.loadFile=function(t,r,s){return(function(n,o,i){o=o!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=(function(d,c,f){var b=new XMLHttpRequest,w=0,h=function(_){var O=_.length,j=[],N=String.fromCharCode;for(w=0;w<O;w+=1)j.push(N(255&_.charCodeAt(w)));return j.join("")};if(b.open("GET",d,!c),b.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(b.onload=function(){b.status===200?f(h(this.responseText)):f(void 0)}),b.send(null),c&&b.status===200)return h(b.responseText)})(n,o,i)}catch{}return l})(t,r,s)},e.loadImageFile=e.loadFile})(ct.API),(function(e){function t(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):hl(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):hl(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var d=Wt(l);return d==="undefined"?"undefined":d==="string"||l instanceof String?"string":d==="number"||l instanceof Number?"number":d==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":d==="object"?"object":"unknown"},n=function(l,d){var c=document.createElement(l);for(var f in d.className&&(c.className=d.className),d.innerHTML&&d.dompurify&&(c.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)c.style[f]=d.style[f];return c},o=function l(d,c){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)c!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||f.appendChild(l(b,c));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f},i=function l(d){var c=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),c);return(f=f.setProgress(1,l,1,[l])).set(d)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,d){return l.__proto__=d||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,d){return this.then(function(){switch(d=d||(function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),d){case"string":return this.then(r).then(function(c){return this.set({src:n("div",{innerHTML:l,dompurify:c})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(d){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,d(this.prop.container,c)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(d){var c=this.opt.jsPDF,f=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var h=0;h<f.length;++h){var _=f[h],O=_.src.find(function(j){return j.format==="truetype"});O&&c.addFont(O.url,_.ref.name,_.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,c.context2d.save(!0),d(this.prop.container,w)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(l,d,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(l,d):this.outputPdf(l,d)},i.prototype.outputPdf=function(l,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,d)})},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(l){if(s(l)!=="object")return this;var d=Object.keys(l||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=l[c]};switch(c){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[c]=l[c]}}},this);return this.then(function(){return this.thenList(d)})},i.prototype.get=function(l,d){return this.then(function(){var c=l in i.template.prop?this.prop[l]:this.opt[l];return d?d(c):c})},i.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},i.prototype.setPageSize=function(l){function d(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(l=l||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:d(l.inner.width,l.k),height:d(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},i.prototype.setProgress=function(l,d,c,f){return l!=null&&(this.progress.val=l),d!=null&&(this.progress.state=d),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,d,c,f){return this.setProgress(l?this.progress.val+l:null,d||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},i.prototype.then=function(l,d){var c=this;return this.thenCore(l,d,function(f,b){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(w){return c.updateProgress(null,f),w}).then(f,b).then(function(w){return c.updateProgress(1),w})})},i.prototype.thenCore=function(l,d,c){c=c||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),d&&(d=d.bind(f));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:i.convert(Object.assign({},f),Promise.prototype),w=c.call(b,l,d);return i.convert(w,f.__proto__)},i.prototype.thenExternal=function(l,d){return Promise.prototype.then.call(this,l,d)},i.prototype.thenList=function(l){var d=this;return l.forEach(function(c){d=d.thenCore(c)}),d},i.prototype.catch=function(l){l&&(l=l.bind(this));var d=Promise.prototype.catch.call(this,l);return i.convert(d,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then(function(){throw new Error(l)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ct.getPageSize=function(l,d,c){if(Wt(l)==="object"){var f=l;l=f.orientation,d=f.unit||d,c=f.format||c}d=d||"mm",c=c||"a4",l=(""+(l||"P")).toLowerCase();var b,w=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+d}var _,O=0,j=0;if(h.hasOwnProperty(w))O=h[w][1]/b,j=h[w][0]/b;else try{O=c[1],j=c[0]}catch{throw new Error("Invalid format: "+c)}if(l==="p"||l==="portrait")l="p",j>O&&(_=j,j=O,O=_);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",O>j&&(_=j,j=O,O=_)}return{width:j,height:O,unit:d,k:b,orientation:l}},e.html=function(l,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Du):null;var c=new i(d);return d.worker?c:c.from(l).doCallback()}})(ct.API),ct.API.addJS=function(e){return Jg=e,this.internal.events.subscribe("postPutResources",function(){$d=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($d+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Yg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Jg+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$d!==void 0&&Yg!==void 0&&this.internal.out("/Names <</JavaScript "+$d+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),o=0;o<n.length;o++){var i=n[o],l=s.exec(i);if(l!=null){var d=l[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(o=0;o<c;o++){var b=r.internal.newObject();f.push(b);var w=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<f.length;o++)r.internal.write("(page_"+(o+1)+")"+f[o]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,n,o){var i={title:n,options:o,children:[]};return s==null&&(s=this.root),s.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var n=0;n<s.children.length;n++)this.genIds_r(s.children[n])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var i=s.children[o];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var d=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<s.children.length;c++)this.renderItems(s.children[c])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,n){for(var o=0;o<n.children.length;o++)s.count++,this.count_r(s,n.children[o]);return s.count}}])})(ct.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,s,n,o,i,l){var d,c=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(b){for(var w,h=256*b.charCodeAt(4)+b.charCodeAt(5),_=b.length,O={width:0,height:0,numcomponents:1},j=4;j<_;j+=2){if(j+=h,t.indexOf(b.charCodeAt(j+1))!==-1){w=256*b.charCodeAt(j+5)+b.charCodeAt(j+6),O={width:256*b.charCodeAt(j+7)+b.charCodeAt(j+8),height:w,numcomponents:b.charCodeAt(j+9)};break}h=256*b.charCodeAt(j+2)+b.charCodeAt(j+3)}return O})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:d.width,height:d.height,colorSpace:l,bitsPerComponent:8,filter:c,index:s,alias:n}}return f}})(ct.API),ct.API.processPNG=function(e,t,r,s){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,o=P_(e,{checkCrc:!0}),i=o.width,l=o.height,d=o.channels,c=o.palette,f=o.depth;n=c&&d===1?(function(U){for(var x=U.width,p=U.height,E=U.data,y=U.palette,A=U.depth,H=!1,F=[],ae=[],ge=void 0,he=!1,Z=0,M=0;M<y.length;M++){var z=eg(y[M],4),S=z[0],m=z[1],C=z[2],L=z[3];F.push(S,m,C),L!=null&&(L===0?(Z++,ae.length<1&&ae.push(M)):L<255&&(he=!0))}if(he||Z>1){H=!0,ae=void 0;var $=x*p;ge=new Uint8Array($);for(var V=new DataView(E.buffer),q=0;q<$;q++){var te=Ou(V,q,A),oe=eg(y[te],4)[3];ge[q]=oe}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:E,alphaBytes:ge,needSMask:H,palette:F,mask:ae}})(o):d===2||d===4?(function(U){for(var x=U.data,p=U.width,E=U.height,y=U.channels,A=U.depth,H=y===2?"DeviceGray":"DeviceRGB",F=y-1,ae=p*E,ge=F,he=ae*ge,Z=1*ae,M=Math.ceil(he*A/8),z=Math.ceil(Z*A/8),S=new Uint8Array(M),m=new Uint8Array(z),C=new DataView(x.buffer),L=new DataView(S.buffer),$=new DataView(m.buffer),V=!1,q=0;q<ae;q++){for(var te=q*y,oe=0;oe<ge;oe++)np(L,Ou(C,te+oe,A),q*ge+oe,A);var pe=Ou(C,te+ge,A);pe<(1<<A)-1&&(V=!0),np($,pe,1*q,A)}return{colorSpace:H,colorsPerPixel:F,colorBytes:S,alphaBytes:m,needSMask:V}})(o):(function(U){var x=U.data,p=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:p,colorsPerPixel:p==="DeviceGray"?1:3,colorBytes:x instanceof Uint8Array?x:new Uint8Array(x.buffer),needSMask:!1}})(o);var b,w,h,_=n,O=_.colorSpace,j=_.colorsPerPixel,N=_.colorBytes,W=_.alphaBytes,B=_.needSMask,I=_.palette,R=_.mask,K=null;return s!==ct.API.image_compression.NONE&&typeof l0=="function"?(K=(function(U){var x;switch(U){case ct.API.image_compression.FAST:x=11;break;case ct.API.image_compression.MEDIUM:x=13;break;case ct.API.image_compression.SLOW:x=14;break;default:x=12}return x})(s),b=this.decode.FLATE_DECODE,w="/Predictor ".concat(K," "),e=ep(N,i*j,j,s),B&&(h=ep(W,i,1,s))):(b=void 0,w="",e=N,B&&(h=W)),w+="/Colors ".concat(j," /BitsPerComponent ").concat(f," /Columns ").concat(i),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:b,decodeParameters:w,transparency:R,palette:I,sMask:h,predictor:K,width:i,height:l,bitsPerComponent:f,colorSpace:O}}},(function(e){e.processGIF89A=function(t,r,s,n){var o=new Y_(t),i=o.width,l=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var c={data:d,width:i,height:l},f=new Fu(100).encode(c,100);return e.processJPEG.call(this,f,r,s,n)},e.processGIF87A=e.processGIF89A})(ct.API),sa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:s,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},sa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Jt.log("bit decode error:"+r)}},sa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var o=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+8*n*4,l=0;l<8&&8*n+l<this.width;l++){var d=this.palette[o>>7-l&1];this.data[i+4*l]=d.blue,this.data[i+4*l+1]=d.green,this.data[i+4*l+2]=d.red,this.data[i+4*l+3]=255}r!==0&&(this.pos+=4-r)}},sa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var o=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+2*n*4,l=o>>4,d=15&o,c=this.palette[l];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*n+1>=this.width)break;c=this.palette[d],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},sa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*s;if(n<this.palette.length){var i=this.palette[n];this.data[o]=i.red,this.data[o+1]=i.green,this.data[o+2]=i.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},sa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(o&t)/t*255|0,l=(o>>5&t)/t*255|0,d=(o>>10&t)/t*255|0,c=o>>15?255:0,f=s*this.width*4+4*n;this.data[f]=d,this.data[f+1]=l,this.data[f+2]=i,this.data[f+3]=c}this.pos+=e}},sa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,d=(i>>5&r)/r*255|0,c=(i>>11)/t*255|0,f=n*this.width*4+4*o;this.data[f]=c,this.data[f+1]=d,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},sa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=o,this.data[i+1]=n,this.data[i+2]=s,this.data[i+3]=255}this.pos+=this.width%4}},sa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=o,this.data[l+1]=n,this.data[l+2]=s,this.data[l+3]=i}},sa.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,s,n){var o=new sa(t,!1),i=o.width,l=o.height,d={data:o.getData(),width:i,height:l},c=new Fu(100).encode(d,100);return e.processJPEG.call(this,c,r,s,n)}})(ct.API),ip.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,s,n){var o=new ip(t),i=o.width,l=o.height,d={data:o.getData(),width:i,height:l},c=new Fu(100).encode(d,100);return e.processJPEG.call(this,c,r,s,n)}})(ct.API),ct.API.processRGBA=function(e,t,r){for(var s=e.data,n=s.length,o=new Uint8Array(n/4*3),i=new Uint8Array(n/4),l=0,d=0,c=0;c<n;c+=4){var f=s[c],b=s[c+1],w=s[c+2],h=s[c+3];o[l++]=f,o[l++]=b,o[l++]=w,i[d++]=h}var _=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:_,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ct.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yo=ct.API,Ed=Yo.getCharWidthsArray=function(e,t){var r,s,n=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:n.metadata.Unicode.widths,d=l.fof?l.fof:1,c=t.kerning?t.kerning:n.metadata.Unicode.kerning,f=c.fof?c.fof:1,b=t.doKerning!==!1,w=0,h=e.length,_=0,O=l[0]||d,j=[];for(r=0;r<h;r++)s=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?j.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(s))+i*(1e3/o)||0)/1e3):(w=b&&Wt(c[s])==="object"&&!isNaN(parseInt(c[s][_],10))?c[s][_]/f:0,j.push((l[s]||O)/d+w)),_=s;return j},Zg=Yo.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Yo.processArabic&&(e=Yo.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,r,n)/r:Ed.apply(this,arguments).reduce(function(o,i){return o+i},0)},Xg=function(e,t,r,s){for(var n=[],o=0,i=e.length,l=0;o!==i&&l+t[o]<r;)l+=t[o],o++;n.push(e.slice(0,o));var d=o;for(l=0;o!==i;)l+t[o]>s&&(n.push(e.slice(d,o)),l=0,d=o),l+=t[o],o++;return d!==o&&n.push(e.slice(d,o)),n},Qg=function(e,t,r){r||(r={});var s,n,o,i,l,d,c,f=[],b=[f],w=r.textIndent||0,h=0,_=0,O=e.split(" "),j=Ed.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?O[0].length+2:r.lineIndent||0){var N=Array(d).join(" "),W=[];O.map(function(I){(I=I.split(/\s*\n/)).length>1?W=W.concat(I.map(function(R,K){return(K&&R.length?`
`:"")+R})):W.push(I[0])}),O=W,d=Zg.apply(this,[N,r])}for(o=0,i=O.length;o<i;o++){var B=0;if(s=O[o],d&&s[0]==`
`&&(s=s.substr(1),B=1),w+h+(_=(n=Ed.apply(this,[s,r])).reduce(function(I,R){return I+R},0))>t||B){if(_>t){for(l=Xg.apply(this,[s,n,t-(w+h),t]),f.push(l.shift()),f=[l.pop()];l.length;)b.push([l.shift()]);_=n.slice(s.length-(f[0]?f[0].length:0)).reduce(function(I,R){return I+R},0)}else f=[s];b.push(f),w=_+d,h=j}else f.push(s),w+=h+_,h=j}return c=d?function(I,R){return(R?N:"")+I.join(" ")}:function(I){return I.join(" ")},b.map(c)},Yo.splitTextToSize=function(e,t,r){var s,n=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var b=this.internal.getFont(f.fontName,f.fontStyle),w="Unicode";return b.metadata[w]?{widths:b.metadata[w].widths||{0:1},kerning:b.metadata[w].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/n;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,o.lineIndent=r.lineIndent;var l,d,c=[];for(l=0,d=s.length;l<d;l++)c=c.concat(Qg.apply(this,[s[l],i,o]));return c},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",s={},n={},o=0;o<16;o++)s[r[o]]=t[o],n[t[o]]=r[o];var i=function(w){return"0x"+parseInt(w,10).toString(16)},l=e.__fontmetrics__.compress=function(w){var h,_,O,j,N=["{"];for(var W in w){if(h=w[W],isNaN(parseInt(W,10))?_="'"+W+"'":(W=parseInt(W,10),_=(_=i(W).slice(2)).slice(0,-1)+n[_.slice(-1)]),typeof h=="number")h<0?(O=i(h).slice(3),j="-"):(O=i(h).slice(2),j=""),O=j+O.slice(0,-1)+n[O.slice(-1)];else{if(Wt(h)!=="object")throw new Error("Don't know what to do with value type "+Wt(h)+".");O=l(h)}N.push(_+O)}return N.push("}"),N.join("")},d=e.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,_,O,j,N={},W=1,B=N,I=[],R="",K="",U=w.length-1,x=1;x<U;x+=1)(j=w[x])=="'"?h?(O=h.join(""),h=void 0):h=[]:h?h.push(j):j=="{"?(I.push([B,O]),B={},O=void 0):j=="}"?((_=I.pop())[0][_[1]]=B,O=void 0,B=_[0]):j=="-"?W=-1:O===void 0?s.hasOwnProperty(j)?(R+=s[j],O=parseInt(R,16)*W,W=1,R=""):R+=j:s.hasOwnProperty(j)?(K+=s[j],B[O]=parseInt(K,16)*W,W=1,O=void 0,K=""):K+=j;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},b={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(w){var h=w.font,_=b.Unicode[h.postScriptName];_&&(h.metadata.Unicode={},h.metadata.Unicode.widths=_.widths,h.metadata.Unicode.kerning=_.kerning);var O=f.Unicode[h.postScriptName];O&&(h.metadata.Unicode.encoding=O,h.encoding=O.codePages[0])}])})(ct.API),(function(e){var t=function(r){for(var s=r.length,n=new Uint8Array(s),o=0;o<s;o++)n[o]=r.charCodeAt(o);return n};e.API.events.push(["addFont",function(r){var s=void 0,n=r.font,o=r.instance;if(!n.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(s=o.existsFileInVFS(n.postScriptName)===!1?o.loadFile(n.postScriptName):o.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Bd(l)),i.metadata=e.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(n,s)}}])})(ct),ct.API.addSvgAsImage=function(e,t,r,s,n,o,i,l){if(isNaN(t)||isNaN(r))throw Jt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(n))throw Jt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=n;var c=d.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(yt.canvg?Promise.resolve(yt.canvg):hl(()=>import("./index.es-Di-xE06Z.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(c,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(f)}).then(function(){b.addImage(d.toDataURL("image/jpeg",1),t,r,s,n,i,l)})},ct.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var n=0;n<this.internal.pages[s].length;n++)this.internal.pages[s][n]=this.internal.pages[s][n].replace(t,r);return this},ct.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var s,n,o,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),d=[],c=0,f=0,b=0;function w(_,O){var j,N=!1;for(j=0;j<_.length;j+=1)_[j]===O&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(b=0;b<h;b+=1)r[l[b]].value=r[l[b]].defaultValue,r[l[b]].explicitSet=!1}if(Wt(e)==="object"){for(n in e)if(o=e[n],w(l,n)&&o!==void 0){if(r[n].type==="boolean"&&typeof o=="boolean")r[n].value=o;else if(r[n].type==="name"&&w(r[n].valueSet,o))r[n].value=o;else if(r[n].type==="integer"&&Number.isInteger(o))r[n].value=o;else if(r[n].type==="array"){for(c=0;c<o.length;c+=1)if(s=!0,o[c].length===1&&typeof o[c][0]=="number")d.push(String(o[c]-1));else if(o[c].length>1){for(f=0;f<o[c].length;f+=1)typeof o[c][f]!="number"&&(s=!1);s===!0&&d.push([o[c][0]-1,o[c][1]-1].join(" "))}r[n].value="["+d.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,O=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?O.push("/"+_+" /"+r[_].value):O.push("/"+_+" "+r[_].value));O.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+O.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+i.length+l.length+n.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+o+i+l+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(ct.API),(function(e){var t=e.API,r=t.pdfEscape16=function(o,i){for(var l,d=i.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],b=0,w=o.length;b<w;++b){if(l=i.metadata.characterToGlyph(o.charCodeAt(b)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=o.charCodeAt(b),d.indexOf(l)==-1&&(d.push(l),d.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(c[4-l.length],l)}return f.join("")},s=function(o){var i,l,d,c,f,b,w;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],b=0,w=(l=Object.keys(o).sort(function(h,_){return h-_})).length;b<w;b++)i=l[b],d.length>=100&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[i]!==void 0&&o[i]!==null&&typeof o[i].toString=="function"&&(c=("0000"+o[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),d.push("<"+i+"><"+c+">"));return d.length&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(i){var l=i.font,d=i.out,c=i.newObject,f=i.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var b=l.metadata.Unicode.widths,w=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",_=0;_<w.length;_++)h+=String.fromCharCode(w[_]);var O=c();f({data:h,addLength1:!0,objectId:O}),d("endobj");var j=c();f({data:s(l.metadata.toUnicode),addLength1:!0,objectId:j}),d("endobj");var N=c();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Qo(l.fontName)),d("/FontFile2 "+O+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),d("/Flags "+l.metadata.flags),d("/StemV "+l.metadata.stemV),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d(">>"),d("endobj");var W=c();d("<<"),d("/Type /Font"),d("/BaseFont /"+Qo(l.fontName)),d("/FontDescriptor "+N+" 0 R"),d("/W "+e.API.PDFObject.convert(b)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+l.encoding+")"),d(">>"),d(">>"),d("endobj"),l.objectNumber=c(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+j+" 0 R"),d("/BaseFont /"+Qo(l.fontName)),d("/Encoding /"+l.encoding),d("/DescendantFonts ["+W+" 0 R]"),d(">>"),d("endobj"),l.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(i){var l=i.font,d=i.out,c=i.newObject,f=i.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var b=l.metadata.rawData,w="",h=0;h<b.length;h++)w+=String.fromCharCode(b[h]);var _=c();f({data:w,addLength1:!0,objectId:_}),d("endobj");var O=c();f({data:s(l.metadata.toUnicode),addLength1:!0,objectId:O}),d("endobj");var j=c();d("<<"),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d("/StemV "+l.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+_+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),d("/FontName /"+Qo(l.fontName)),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d(">>"),d("endobj"),l.objectNumber=c();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+O+" 0 R/BaseFont/"+Qo(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),d("endobj"),l.isAlreadyPutted=!0}})(o)}]);var n=function(o){var i,l=o.text||"",d=o.x,c=o.y,f=o.options||{},b=o.mutex||{},w=b.pdfEscape,h=b.activeFontKey,_=b.fonts,O=h,j="",N=0,W="",B=_[O].encoding;if(_[O].encoding!=="Identity-H")return{text:l,x:d,y:c,options:f,mutex:b};for(W=l,O=h,Array.isArray(l)&&(W=l[0]),N=0;N<W.length;N+=1)_[O].metadata.hasOwnProperty("cmap")&&(i=_[O].metadata.cmap.unicode.codeMap[W[N].charCodeAt(0)]),i||W[N].charCodeAt(0)<256&&_[O].metadata.hasOwnProperty("Unicode")?j+=W[N]:j+="";var I="";return parseInt(O.slice(1))<14||B==="WinAnsiEncoding"?I=w(j,O).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(I=r(j,_[O])),b.isHex=!0,{text:I,x:d,y:c,options:f,mutex:b}};t.events.push(["postProcessText",function(o){var i=o.text||"",l=[],d={text:i,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(i)){var c=0;for(c=0;c<i.length;c+=1)Array.isArray(i[c])&&i[c].length===3?l.push([n(Object.assign({},d,{text:i[c][0]})).text,i[c][1],i[c][2]]):l.push(n(Object.assign({},d,{text:i[c]})).text);o.text=l}else o.text=n(Object.assign({},d,{text:i})).text}])})(ct),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,s){return t.call(this),this.internal.vFS[r]=s,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(ct.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var n,o,i,l,d,c,f,b=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},O={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,B=0;this.__bidiEngine__={};var I=function(y){var A=y.charCodeAt(),H=A>>8,F=O[H];return F!==void 0?b[256*F+(255&A)]:H===252||H===253?"AL":N.test(H)?"L":H===8?"R":"N"},R=function(y){for(var A,H=0;H<y.length;H++){if((A=I(y.charAt(H)))==="L")return!1;if(A==="R")return!0}return!1},K=function(y,A,H,F){var ae,ge,he,Z,M=A[F];switch(M){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"N":case"AN":break;case"EN":W&&(M="AN");break;case"AL":W=!0,M="R";break;case"WS":case"BN":M="N";break;case"CS":F<1||F+1>=A.length||(ae=H[F-1])!=="EN"&&ae!=="AN"||(ge=A[F+1])!=="EN"&&ge!=="AN"?M="N":W&&(ge="AN"),M=ge===ae?ge:"N";break;case"ES":M=(ae=F>0?H[F-1]:"B")==="EN"&&F+1<A.length&&A[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&H[F-1]==="EN"){M="EN";break}if(W){M="N";break}for(he=F+1,Z=A.length;he<Z&&A[he]==="ET";)he++;M=he<Z&&A[he]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(Z=A.length,he=F+1;he<Z&&A[he]==="NSM";)he++;if(he<Z){var z=y[F],S=z>=1425&&z<=2303||z===64286;if(ae=A[he],S&&(ae==="R"||ae==="AL")){M="R";break}}}M=F<1||(ae=A[F-1])==="B"?"N":H[F-1];break;case"B":W=!1,n=!0,M=B;break;case"S":o=!0,M="N"}return M},U=function(y,A,H){var F=y.split("");return H&&x(F,H,{hiLevel:B}),F.reverse(),A&&A.reverse(),F.join("")},x=function(y,A,H){var F,ae,ge,he,Z,M=-1,z=y.length,S=0,m=[],C=B?h:w,L=[];for(W=!1,n=!1,o=!1,ae=0;ae<z;ae++)L[ae]=I(y[ae]);for(ge=0;ge<z;ge++){if(Z=S,m[ge]=K(y,L,m,ge),F=240&(S=C[Z][_[m[ge]]]),S&=15,A[ge]=he=C[S][5],F>0)if(F===16){for(ae=M;ae<ge;ae++)A[ae]=1;M=-1}else M=-1;if(C[S][6])M===-1&&(M=ge);else if(M>-1){for(ae=M;ae<ge;ae++)A[ae]=he;M=-1}L[ge]==="B"&&(A[ge]=0),H.hiLevel|=he}o&&(function($,V,q){for(var te=0;te<q;te++)if($[te]==="S"){V[te]=B;for(var oe=te-1;oe>=0&&$[oe]==="WS";oe--)V[oe]=B}})(L,A,z)},p=function(y,A,H,F,ae){if(!(ae.hiLevel<y)){if(y===1&&B===1&&!n)return A.reverse(),void(H&&H.reverse());for(var ge,he,Z,M,z=A.length,S=0;S<z;){if(F[S]>=y){for(Z=S+1;Z<z&&F[Z]>=y;)Z++;for(M=S,he=Z-1;M<he;M++,he--)ge=A[M],A[M]=A[he],A[he]=ge,H&&(ge=H[M],H[M]=H[he],H[he]=ge);S=Z}S++}}},E=function(y,A,H){var F=y.split(""),ae={hiLevel:B};return H||(H=[]),x(F,H,ae),(function(ge,he,Z){if(Z.hiLevel!==0&&f)for(var M,z=0;z<ge.length;z++)he[z]===1&&(M=j.indexOf(ge[z]))>=0&&(ge[z]=j[M+1])})(F,H,ae),p(2,F,A,H,ae),p(1,F,A,H,ae),F.join("")};return this.__bidiEngine__.doBidiReorder=function(y,A,H){if((function(ae,ge){if(ge)for(var he=0;he<ae.length;he++)ge[he]=he;l===void 0&&(l=R(ae)),c===void 0&&(c=R(ae))})(y,A),i||!d||c)if(i&&d&&l^c)B=l?1:0,y=U(y,A,H);else if(!i&&d&&c)B=l?1:0,y=E(y,A,H),y=U(y,A);else if(!i||l||d||c){if(i&&!d&&l^c)y=U(y,A),l?(B=0,y=E(y,A,H)):(B=1,y=E(y,A,H),y=U(y,A));else if(i&&l&&!d&&c)B=1,y=E(y,A,H),y=U(y,A);else if(!i&&!d&&l^c){var F=f;l?(B=1,y=E(y,A,H),B=0,f=!1,y=E(y,A,H),f=F):(B=0,y=E(y,A,H),y=U(y,A),B=1,f=!1,y=E(y,A,H),f=F,y=U(y,A))}}else B=0,y=E(y,A,H);else B=l?1:0,y=E(y,A,H);return y},this.__bidiEngine__.setOptions=function(y){y&&(i=y.isInputVisual,d=y.isOutputVisual,l=y.isInputRtl,c=y.isOutputRtl,f=y.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var n=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var i=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(n)==="[object Array]"){var l=0;for(i=[],l=0;l<n.length;l+=1)Object.prototype.toString.call(n[l])==="[object Array]"?i.push([r.doBidiReorder(n[l][0]),n[l][1],n[l][2]]):i.push([r.doBidiReorder(n[l])]);s.text=i}else s.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])})(ct),ct.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new jn(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new cS(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new J_(this.contents),this.head=new X_(this),this.name=new sS(this),this.cmap=new Qm(this),this.toUnicode={},this.hhea=new Q_(this),this.maxp=new aS(this),this.hmtx=new nS(this),this.post=new tS(this),this.os2=new eS(this),this.loca=new dS(this),this.glyf=new oS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,n,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,d,c;for(c=[],i=0,l=(d=this.bbox).length;i<l;i++)t=d[i],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(s=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,s){var n,o,i,l;for(i=0,o=0,l=(t=""+t).length;0<=l?o<l:o>l;o=0<=l?++o:--o)n=t.charCodeAt(o),i+=this.widthOfGlyph(this.characterToGlyph(n))+s*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e})();var ca,jn=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,s;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var r,s,n;for(n=[],r=0,s=t.length;0<=s?r<s:r>s;r=0<=s?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,s,n,o,i,l,d;return t=this.readByte(),r=this.readByte(),s=this.readByte(),n=this.readByte(),o=this.readByte(),i=this.readByte(),l=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^n)+16777216*(255^o)+65536*(255^i)+256*(255^l)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*s+4294967296*n+16777216*o+65536*i+256*l+d},e.prototype.writeLongLong=function(t){var r,s;return r=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,s;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push(this.readByte());return r},e.prototype.write=function(t){var r,s,n,o;for(o=[],s=0,n=t.length;s<n;s++)r=t[s],o.push(this.writeByte(r));return o},e})(),J_=(function(){var e;function t(r){var s,n,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,o=this.tableCount;0<=o?n<o:n>o;n=0<=o?++n:--n)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(r){var s,n,o,i,l,d,c,f,b,w,h,_,O;for(O in h=Object.keys(r).length,d=Math.log(2),b=16*Math.floor(Math.log(h)/d),i=Math.floor(b/d),f=16*h-b,(n=new jn).writeInt(this.scalarType),n.writeShort(h),n.writeShort(b),n.writeShort(i),n.writeShort(f),o=16*h,c=n.pos+o,l=null,_=[],r)for(w=r[O],n.writeString(O),n.writeInt(e(w)),n.writeInt(c),n.writeInt(w.length),_=_.concat(w),O==="head"&&(l=c),c+=w.length;c%4;)_.push(0),c++;return n.write(_),s=2981146554-e(n.data),n.pos=l+8,n.writeUInt32(s),n.data},e=function(r){var s,n,o,i;for(r=e2.call(r);r.length%4;)r.push(0);for(o=new jn(r),n=0,s=0,i=r.length;s<i;s=s+=4)n+=o.readUInt32();return 4294967295&n},t})(),Z_={}.hasOwnProperty,Na=function(e,t){for(var r in t)Z_.call(t,r)&&(e[r]=t[r]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};ca=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var X_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new jn).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),lp=(function(){function e(t,r){var s,n,o,i,l,d,c,f,b,w,h,_,O,j,N,W,B;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),b=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(h=t.readUInt16(),w=h/2,t.pos+=6,o=(function(){var I,R;for(R=[],d=I=0;0<=w?I<w:I>w;d=0<=w?++I:--I)R.push(t.readUInt16());return R})(),t.pos+=2,O=(function(){var I,R;for(R=[],d=I=0;0<=w?I<w:I>w;d=0<=w?++I:--I)R.push(t.readUInt16());return R})(),c=(function(){var I,R;for(R=[],d=I=0;0<=w?I<w:I>w;d=0<=w?++I:--I)R.push(t.readUInt16());return R})(),f=(function(){var I,R;for(R=[],d=I=0;0<=w?I<w:I>w;d=0<=w?++I:--I)R.push(t.readUInt16());return R})(),n=(this.length-t.pos+this.offset)/2,l=(function(){var I,R;for(R=[],d=I=0;0<=n?I<n:I>n;d=0<=n?++I:--I)R.push(t.readUInt16());return R})(),d=N=0,B=o.length;N<B;d=++N)for(j=o[d],s=W=_=O[d];_<=j?W<=j:W>=j;s=_<=j?++W:--W)f[d]===0?i=s+c[d]:(i=l[f[d]/2+(s-_)-(w-d)]||0)!==0&&(i+=c[d]),this.codeMap[s]=65535&i}t.pos=b}return e.encode=function(t,r){var s,n,o,i,l,d,c,f,b,w,h,_,O,j,N,W,B,I,R,K,U,x,p,E,y,A,H,F,ae,ge,he,Z,M,z,S,m,C,L,$,V,q,te,oe,pe,we,re;switch(F=new jn,i=Object.keys(t).sort(function(ie,ne){return ie-ne}),r){case"macroman":for(O=0,j=(function(){var ie=[];for(_=0;_<256;++_)ie.push(0);return ie})(),W={0:0},o={},ae=0,M=i.length;ae<M;ae++)W[oe=t[n=i[ae]]]==null&&(W[oe]=++O),o[n]={old:t[n],new:W[t[n]]},j[n]=W[t[n]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(j),{charMap:o,subtable:F.data,maxGlyphID:O+1};case"unicode":for(A=[],b=[],B=0,W={},s={},N=c=null,ge=0,z=i.length;ge<z;ge++)W[R=t[n=i[ge]]]==null&&(W[R]=++B),s[n]={old:R,new:W[R]},l=W[R]-n,N!=null&&l===c||(N&&b.push(N),A.push(n),c=l),N=n;for(N&&b.push(N),b.push(65535),A.push(65535),E=2*(p=A.length),x=2*Math.pow(Math.log(p)/Math.LN2,2),w=Math.log(x/2)/Math.LN2,U=2*p-x,d=[],K=[],h=[],_=he=0,S=A.length;he<S;_=++he){if(y=A[_],f=b[_],y===65535){d.push(0),K.push(0);break}if(y-(H=s[y].new)>=32768)for(d.push(0),K.push(2*(h.length+p-_)),n=Z=y;y<=f?Z<=f:Z>=f;n=y<=f?++Z:--Z)h.push(s[n].new);else d.push(H-y),K.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*p+2*h.length),F.writeUInt16(0),F.writeUInt16(E),F.writeUInt16(x),F.writeUInt16(w),F.writeUInt16(U),q=0,m=b.length;q<m;q++)n=b[q],F.writeUInt16(n);for(F.writeUInt16(0),te=0,C=A.length;te<C;te++)n=A[te],F.writeUInt16(n);for(pe=0,L=d.length;pe<L;pe++)l=d[pe],F.writeUInt16(l);for(we=0,$=K.length;we<$;we++)I=K[we],F.writeUInt16(I);for(re=0,V=h.length;re<V;re++)O=h[re],F.writeUInt16(O);return{charMap:s,subtable:F.data,maxGlyphID:B+1}}},e})(),Qm=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r=new lp(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,n;return r==null&&(r="macroman"),s=lp.encode(t,r),(n=new jn).writeUInt16(0),n.writeUInt16(1),s.table=n.data.concat(s.subtable),s},e})(),Q_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),eS=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s})(),this.charRange=(function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),tS=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)r=t.readByte(),n.push(this.names.push(t.readString(r)));return n;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 262144:return this.map=(function(){var i,l,d;for(d=[],o=i=0,l=this.file.maxp.numGlyphs;0<=l?i<l:i>l;o=0<=l?++i:--i)d.push(t.readUInt32());return d}).call(this)}},e})(),rS=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},sS=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,n,o,i,l,d,c,f,b,w;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(d={},o=f=0,b=s.length;f<b;o=++f)n=s[o],t.pos=n.offset,c=t.readString(n.length),i=new rS(c,n),d[w=n.nameID]==null&&(d[w]=[]),d[n.nameID].push(i);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),aS=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),nS=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,n,o,i,l,d;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,f;for(f=[],r=c=0;0<=n?c<n:c>n;r=0<=n?++c:--c)f.push(t.readInt16());return f})(),this.widths=(function(){var c,f,b,w;for(w=[],c=0,f=(b=this.metrics).length;c<f;c++)o=b[c],w.push(o.advance);return w}).call(this),s=this.widths[this.widths.length-1],d=[],r=i=0;0<=n?i<n:i>n;r=0<=n?++i:--i)d.push(this.widths.push(s));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),e2=[].slice,oS=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,n,o,i,l,d,c,f,b;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(t),(n=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,i=(l=new jn(r.read(n))).readShort(),c=l.readShort(),b=l.readShort(),d=l.readShort(),f=l.readShort(),this.cache[t]=i===-1?new lS(l,c,b,d,f):new iS(l,i,c,b,d,f),this.cache[t]))},e.prototype.encode=function(t,r,s){var n,o,i,l,d;for(i=[],o=[],l=0,d=r.length;l<d;l++)n=t[r[l]],o.push(i.length),n&&(i=i.concat(n.encode(s)));return o.push(i.length),{table:i,offsets:o}},e})(),iS=(function(){function e(t,r,s,n,o,i){this.raw=t,this.numberOfContours=r,this.xMin=s,this.yMin=n,this.xMax=o,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),lS=(function(){function e(t,r,s,n,o){var i,l;for(this.raw=t,this.xMin=r,this.yMin=s,this.xMax=n,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,s;for(r=new jn(e2.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),dS=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Na(e,ca),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var n,o;for(o=[],s=0,n=this.length;s<n;s+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var n,o;for(o=[],s=0,n=this.length;s<n;s+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),n=0,o=0,i=0;i<s.length;++i)if(s[i]=n,o<r.length&&r[o]==i){++o,s[i]=n;var l=this.offsets[i],d=this.offsets[i+1]-l;d>0&&(n+=d)}for(var c=new Array(4*s.length),f=0;f<s.length;++f)c[4*f+3]=255&s[f],c[4*f+2]=(65280&s[f])>>8,c[4*f+1]=(16711680&s[f])>>16,c[4*f]=(4278190080&s[f])>>24;return c},e})(),cS=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,s,n,o;for(r in n=this.font.cmap.tables[0].codeMap,t={},o=this.subset)s=o[r],t[r]=n[s];return t},e.prototype.glyphsFor=function(t){var r,s,n,o,i,l,d;for(n={},i=0,l=t.length;i<l;i++)n[o=t[i]]=this.font.glyf.glyphFor(o);for(o in r=[],n)(s=n[o])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(o in d=this.glyphsFor(r))s=d[o],n[o]=s;return n},e.prototype.encode=function(t,r){var s,n,o,i,l,d,c,f,b,w,h,_,O,j,N;for(n in s=Qm.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),h={0:0},N=s.charMap)h[(d=N[n]).old]=d.new;for(_ in w=s.maxGlyphID,i)_ in h||(h[_]=w++);return f=(function(W){var B,I;for(B in I={},W)I[W[B]]=B;return I})(h),b=Object.keys(f).sort(function(W,B){return W-B}),O=(function(){var W,B,I;for(I=[],W=0,B=b.length;W<B;W++)l=b[W],I.push(f[l]);return I})(),o=this.font.glyf.encode(i,O,h),c=this.font.loca.encode(o.offsets,O),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e})();ct.API.PDFObject=(function(){var e;function t(){}return e=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},t.convert=function(r){var s,n,o,i;if(Array.isArray(r))return"["+(function(){var l,d,c;for(c=[],l=0,d=r.length;l<d;l++)s=r[l],c.push(t.convert(s));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in o=["<<"],r)i=r[n],o.push("/"+n+" "+t.convert(i));return o.push(">>"),o.join(`
`)}return""+r},t})();const uS=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:B_,AcroFormAppearance:at,AcroFormButton:Tr,AcroFormCheckBox:vl,AcroFormChoiceField:vo,AcroFormComboBox:yo,AcroFormEditBox:ml,AcroFormListBox:xo,AcroFormPasswordField:xl,AcroFormPushButton:bl,AcroFormRadioButton:ko,AcroFormTextField:Tn,GState:Il,ShadingPattern:$n,TilingPattern:go,default:ct,jsPDF:ct},Symbol.toStringTag,{value:"Module"})),fS={class:"flex flex-col items-center p-8 bg-white dark:bg-black rounded-2xl shadow-lg max-w-4xl mx-auto text-black dark:text-red-400"},hS={class:"mb-8 flex gap-6 flex-wrap justify-center items-center bg-gray-50 dark:bg-red-600 p-6 rounded-xl border border-gray-200 dark:border-red-500"},gS={class:"flex flex-col gap-2 font-semibold text-black dark:text-black text-sm text-center"},pS={class:"flex flex-col gap-2 font-semibold text-black dark:text-black text-sm text-center"},mS={class:"flex flex-col gap-2 font-semibold text-black dark:text-black text-sm text-center"},bS={class:"flex flex-col gap-2 font-semibold text-black dark:text-black text-sm text-center"},vS=["innerHTML"],xS={key:1,class:"mt-2 font-semibold text-black dark:text-red-400"},js=600,Us=40,dp=12,yS=Tt({__name:"ZeroTarget",setup(e){const t=ye(null),r=ye(null),s=js/2,n=js/2,o=ye(100),i=ye("yd"),l=ye("mil"),d=ye(3),c=Dn([]),f=ye(""),b=ye("");let w=null;Kr(()=>{if(t.value){r.value=t.value.getContext("2d"),h();const R=t.value;R.addEventListener("touchstart",K=>{K.preventDefault(),K.stopPropagation();const U=R.getBoundingClientRect(),x=K.touches[0],p=R.width/U.width,E=R.height/U.height,y=(x.clientX-U.left)*p,A=(x.clientY-U.top)*E;j(y,A)},{passive:!1}),R.addEventListener("touchend",K=>{K.preventDefault(),K.stopPropagation()},{passive:!1}),R.addEventListener("touchmove",K=>{K.preventDefault(),K.stopPropagation()},{passive:!1})}});function h(){if(!r.value)return;const R=r.value;R.clearRect(0,0,js,js),R.strokeStyle="#f33",R.lineWidth=1,R.font="14px Arial",R.fillStyle="#f33";for(let x=-dp/2;x<=dp/2;x++){const p=s+x*Us,E=n+x*Us;R.beginPath(),R.moveTo(p,0),R.lineTo(p,js),R.stroke(),R.beginPath(),R.moveTo(0,E),R.lineTo(js,E),R.stroke();const y=Math.abs(x).toString();R.fillText(y,p-4,15),R.fillText(y,p-4,js-5),R.fillText(y,5,E+5),R.fillText(y,js-15,E+5)}R.strokeStyle="#f33",R.lineWidth=4,R.beginPath(),R.moveTo(s,0),R.lineTo(s,js),R.stroke(),R.beginPath(),R.moveTo(0,n),R.lineTo(js,n),R.stroke();const K=(x,p,E,y=2)=>{R.beginPath(),R.moveTo(x,p-E),R.lineTo(x+E,p),R.lineTo(x,p+E),R.lineTo(x-E,p),R.closePath(),R.lineWidth=y,R.strokeStyle="#f33",R.stroke()};[Us*.5,Us*1,Us*1.5,Us*2].forEach(x=>K(s,n,x));const U=Us*4;if([[s-U,n-U],[s+U,n-U],[s-U,n+U],[s+U,n+U]].forEach(([x,p])=>{K(x,p,Us*.5),K(x,p,Us*1)}),c.forEach(x=>{R.beginPath(),R.arc(x.x,x.y,5,0,Math.PI*2),R.fillStyle="red",R.fill()}),w){R.strokeStyle="blue",R.lineWidth=2,R.beginPath(),R.moveTo(w.p1.x,w.p1.y),R.lineTo(w.p2.x,w.p2.y),R.stroke();const x=(w.p1.x+w.p2.x)/2,p=(w.p1.y+w.p2.y)/2;R.beginPath(),R.arc(x,p,w.maxDist/2,0,Math.PI*2),R.stroke()}}function _(){const R=i.value==="yd"?o.value:o.value*1.09361;return l.value==="mil"?3.6*(R/100):1.047*(R/100)}function O(R){const K=R.target.getBoundingClientRect(),U=R.target,x=U.width/K.width,p=U.height/K.height,E=(R.clientX-K.left)*x,y=(R.clientY-K.top)*p;j(E,y)}function j(R,K){c.push({x:R,y:K}),c.length>=d.value?N():f.value=`Shot ${c.length} recorded. Waiting for ${d.value-c.length} more shots.`,h()}function N(){const R=c.reduce((te,oe)=>te+oe.x,0)/c.length,K=c.reduce((te,oe)=>te+oe.y,0)/c.length,U=(R-s)/Us,x=(n-K)/Us,p=-U/_(),E=-x/_(),y=l.value==="mil"?.1:.05,A=Math.round(p/y),H=Math.round(E/y),F=U>=0?"RIGHT":"LEFT",ae=x>=0?"UP":"DOWN",ge=p>0?"RIGHT":"LEFT",he=E>0?"UP":"DOWN",Z=A>0?"RIGHT":"LEFT",M=H>0?"UP":"DOWN";f.value=`
    Group Center Offset: ${Math.abs(U).toFixed(2)}" ${F}, ${Math.abs(x).toFixed(2)}" ${ae}
    (${Math.abs(U*2.54).toFixed(1)} cm ${F}, ${Math.abs(x*2.54).toFixed(1)} cm ${ae})<br>
    Adjust: ${Math.abs(p).toFixed(2)} ${l.value} ${ge}, ${Math.abs(E).toFixed(2)} ${l.value} ${he}<br>
    Dial: ${Math.abs(A)} clicks ${Z}, ${Math.abs(H)} clicks ${M}
  `;let z=0,S=c[0],m=c[0];for(let te=0;te<c.length;te++)for(let oe=te+1;oe<c.length;oe++){const pe=c[te].x-c[oe].x,we=c[te].y-c[oe].y,re=Math.sqrt(pe*pe+we*we);re>z&&(z=re,S=c[te],m=c[oe])}w={p1:S,p2:m,maxDist:z};const C=z/Us,L=C*2.54,$=i.value==="yd"?o.value:o.value*1.09361,V=C/($*1.047/100),q=L/(o.value*.1);i.value==="yd"?b.value=`Group Size: ${C.toFixed(2)}" (${V.toFixed(2)} MOA)`:b.value=`Group Size: ${L.toFixed(1)} cm (${q.toFixed(2)} MIL)`}function W(){c.length>0&&(c.pop(),f.value=c.length>0?`Removed last shot. ${c.length} remaining.`:"No shots placed.",c.length>=d.value?N():(w=null,b.value=""),h())}function B(){c.splice(0,c.length),f.value="Click on the target where your group landed",b.value="",w=null,h()}function I(){const x=new ct({unit:"mm",format:"a4",orientation:"portrait"}),p=210/2,E=297/2;x.setDrawColor(255,0,0),x.setTextColor(255,0,0),x.setLineWidth(.2);const y=Math.floor(p/25.4),A=Math.floor(E/25.4);for(let M=-y;M<=y;M++){const z=p+M*25.4;x.line(z,0,z,297)}for(let M=-A;M<=A;M++){const z=E+M*25.4;x.line(0,z,210,z)}x.setFontSize(8);for(let M=-y;M<=y;M++){const z=Math.abs(M).toString(),S=p+M*25.4;x.text(z,S+1,5),x.text(z,S+1,295)}for(let M=-A;M<=A;M++){const z=Math.abs(M).toString(),S=E+M*25.4;x.text(z,2,S+3),x.text(z,206,S+3)}x.setLineWidth(1),x.line(p,0,p,297),x.line(0,E,210,E);function H(M,z,S,m=.4){x.setLineWidth(m),x.line(M,z-S,M+S,z),x.line(M+S,z,M,z+S),x.line(M,z+S,M-S,z),x.line(M-S,z,M,z-S)}H(p,E,25.4*.5),H(p,E,25.4*1),H(p,E,25.4*1.5),H(p,E,25.4*2);const F=25.4*4;[[p-F,E-F],[p+F,E-F],[p-F,E+F],[p+F,E+F]].forEach(([M,z])=>{H(M,z,25.4*.5),H(M,z,25.4*1)});const he=new Date().toISOString().split("T")[0],Z=`DOPE-Zero-Target-${o.value}${i.value.toLowerCase()}-${he}.pdf`;x.save(Z)}return(R,K)=>(G(),X("div",fS,[a("div",hS,[a("label",gS,[K[4]||(K[4]=We(" Range to Target: ",-1)),De(a("input",{"onUpdate:modelValue":K[0]||(K[0]=U=>o.value=U),type:"number",min:"25",step:"25",class:"px-3 py-2 border-2 border-gray-300 dark:border-red-500 rounded-lg bg-gray-100 dark:!bg-black text-black dark:!text-red-400 font-medium transition-all min-w-[100px] focus:outline-none focus:border-blue-500 dark:focus:border-red-700"},null,512),[[rt,o.value,void 0,{number:!0}]])]),a("label",pS,[K[6]||(K[6]=We(" Distance Unit: ",-1)),De(a("select",{"onUpdate:modelValue":K[1]||(K[1]=U=>i.value=U),class:"px-3 py-2 border-2 border-gray-300 dark:border-red-500 rounded-lg bg-gray-100 dark:!bg-black text-black dark:!text-red-400 font-medium transition-all min-w-[100px] focus:outline-none focus:border-blue-500 dark:focus:border-red-700"},[...K[5]||(K[5]=[a("option",{value:"yd"},"Yards",-1),a("option",{value:"m"},"Meters",-1)])],512),[[Et,i.value]])]),a("label",mS,[K[8]||(K[8]=We(" Adjustment Unit: ",-1)),De(a("select",{"onUpdate:modelValue":K[2]||(K[2]=U=>l.value=U),class:"px-3 py-2 border-2 border-gray-300 dark:border-red-500 rounded-lg bg-gray-100 dark:!bg-black text-black dark:!text-red-400 font-medium transition-all min-w-[100px] focus:outline-none focus:border-blue-500 dark:focus:border-red-700"},[...K[7]||(K[7]=[a("option",{value:"mil"},"MIL",-1),a("option",{value:"moa"},"MOA",-1)])],512),[[Et,l.value]])]),a("label",bS,[K[9]||(K[9]=We(" Group Size (number of rounds): ",-1)),De(a("input",{"onUpdate:modelValue":K[3]||(K[3]=U=>d.value=U),type:"number",min:"2",max:"10",class:"px-3 py-2 border-2 border-gray-300 dark:border-red-500 rounded-lg bg-gray-100 dark:!bg-black text-black dark:!text-red-400 font-medium transition-all min-w-[100px] focus:outline-none focus:border-blue-500 dark:focus:border-red-700"},null,512),[[rt,d.value,void 0,{number:!0}]])])]),a("canvas",{ref_key:"canvasRef",ref:t,width:js,height:js,onClick:O,class:"border-3 border-gray-300 dark:border-red-400 rounded-xl cursor-crosshair bg-white shadow-md transition-transform hover:scale-105 relative z-10 touch-none"},null,512),f.value?(G(),X("div",{key:0,class:"mt-6 font-bold text-black dark:text-black bg-gray-100 dark:bg-red-600 p-4 rounded-lg border-l-4 border-gray-400 dark:border-red-500 max-w-2xl text-center leading-relaxed",innerHTML:f.value},null,8,vS)):Ie("",!0),b.value?(G(),X("div",xS,D(b.value),1)):Ie("",!0),a("div",{class:"mt-6 flex gap-4 flex-wrap justify-center"},[a("button",{onClick:I,class:"px-6 py-3 bg-blue-600 dark:bg-red-600 hover:bg-blue-700 dark:hover:bg-red-700 text-white dark:text-black font-semibold rounded-lg transition-all shadow-md hover:shadow-lg hover:-translate-y-1 active:translate-y-0"},"  Download PDF Target "),a("button",{onClick:W,class:"px-6 py-3 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 text-white dark:text-black font-semibold rounded-lg transition-all shadow-md hover:shadow-lg hover:-translate-y-1 active:translate-y-0"}," Undo Last Shot "),a("button",{onClick:B,class:"px-6 py-3 bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 text-white dark:text-black font-semibold rounded-lg transition-all shadow-md hover:shadow-lg hover:-translate-y-1 active:translate-y-0"}," Clear All ")])]))}}),kS=$s(yS,[["__scopeId","data-v-b758c686"]]),wS={class:"min-h-screen bg-white dark:bg-red-500 transition-colors duration-300"},_S={class:"bg-white dark:bg-black border-b border-gray-300 dark:border-red-600"},SS={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},AS={class:"text-center"},CS={class:"flex items-center justify-center mb-4"},PS={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},LS={class:"space-y-8"},NS={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},$S={class:"flex items-start space-x-4"},ES={class:"flex-shrink-0"},MS={class:"w-10 h-10 bg-gradient-to-br from-gray-500 to-gray-600 dark:from-red-600 dark:to-red-700 rounded-lg flex items-center justify-center"},IS={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},TS={class:"grid md:grid-cols-3 gap-6"},DS={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},RS={class:"flex items-center mb-4"},OS={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},FS={class:"flex items-center mb-4"},jS={class:"bg-white dark:bg-black rounded-2xl p-6 border border-gray-300 dark:border-red-600"},US={class:"flex items-center mb-4"},BS=Tt({__name:"ZeroView",setup(e){return(t,r)=>(G(),X("div",wS,[a("div",_S,[a("div",SS,[a("div",AS,[a("div",CS,[Me(Ee(Rr),{class:"w-12 h-12 text-gray-600 dark:text-red-400 mr-4"}),r[0]||(r[0]=a("h1",{class:"text-4xl font-bold bg-gradient-to-r from-gray-700 to-gray-800 dark:from-red-400 dark:to-red-500 bg-clip-text text-transparent font-display"}," Zero Target ",-1))]),r[1]||(r[1]=a("p",{class:"text-lg text-gray-600 dark:text-red-400 max-w-3xl mx-auto"}," Interactive zeroing tool for precise scope adjustments. Click on the target where your shots landed to calculate required corrections. ",-1))])])]),a("div",PS,[a("div",LS,[a("div",NS,[a("div",$S,[a("div",ES,[a("div",MS,[Me(Ee(O0),{class:"w-5 h-5 text-white dark:text-black"})])]),r[2]||(r[2]=a("div",null,[a("h3",{class:"text-lg font-semibold text-black dark:text-red-500 mb-2"}," How to Use the Zero Target "),a("div",{class:"space-y-2 text-gray-700 dark:text-red-400"},[a("p",null,"1. Set your range distance and preferred units"),a("p",null,"2. Specify the number of rounds in your group"),a("p",null,"3. Click on the target grid where each shot landed"),a("p",null,"4. Get precise scope adjustment recommendations")])],-1))])]),a("div",IS,[Me(kS)]),a("div",TS,[a("div",DS,[a("div",RS,[Me(Ee(bo),{class:"w-6 h-6 text-gray-600 dark:text-red-400 mr-3"}),r[3]||(r[3]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-500"}," Scope Adjustment Tips ",-1))]),r[4]||(r[4]=Xt('<div class="space-y-3 text-sm text-gray-700 dark:text-red-400" data-v-e048dcac><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>MIL:</strong> 1 click = 0.1 MIL = 10cm per 100m</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>MOA:</strong> 1 click = 1/4 MOA = ~1&quot; per 100 yards</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>Windage:</strong> Move reticle toward impact</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>Elevation:</strong> Move reticle toward impact</p></div></div>',1))]),a("div",OS,[a("div",FS,[Me(Ee(Px),{class:"w-6 h-6 text-gray-600 dark:text-red-400 mr-3"}),r[5]||(r[5]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-500"}," Printable PDF Target ",-1))]),r[6]||(r[6]=Xt('<div class="space-y-3 text-sm text-gray-700 dark:text-red-400" data-v-e048dcac><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>A4 Paper:</strong> Prints perfectly on standard paper</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>1&quot; Grid:</strong> Accurate scaling for your zero distance</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>Reference:</strong> Corner diamonds and center crosshairs</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac><strong data-v-e048dcac>Instructions:</strong> Printed guidance on target</p></div></div>',1))]),a("div",jS,[a("div",US,[Me(Ee(Fl),{class:"w-6 h-6 text-gray-600 dark:text-red-400 mr-3"}),r[7]||(r[7]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-500"}," Target Grid Reference ",-1))]),r[8]||(r[8]=Xt('<div class="space-y-3 text-sm text-gray-700 dark:text-red-400" data-v-e048dcac><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac>Grid squares represent 1-inch intervals</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac>Center crosshairs mark point of aim</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac>Red diamonds provide aiming references</p></div><div class="flex items-start space-x-2" data-v-e048dcac><div class="w-2 h-2 bg-gray-500 dark:bg-red-600 rounded-full mt-2 flex-shrink-0" data-v-e048dcac></div><p data-v-e048dcac>Blue overlay shows group spread analysis</p></div></div>',1))])])])])]))}}),kB=$s(BS,[["__scopeId","data-v-e048dcac"]]),qS={class:"min-h-screen bg-white dark:bg-red-500 py-6"},zS={class:"max-w-7xl mx-auto px-4 space-y-8"},HS={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4"},VS=["value"],WS={key:0,label:"Common Pistol Calibers"},GS=["value"],KS=["label"],YS=["value"],JS={key:0,class:"text-red-600 dark:text-red-400 mt-2"},ZS={key:0,value:"0.5"},XS={key:1,value:"0.25"},QS={key:2,value:"0.05"},eA={key:3,value:"0.1"},tA={class:"flex gap-2"},rA={class:"mb-6"},sA={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},aA={key:0,class:"mt-2"},nA={class:"flex flex-wrap gap-2"},oA=["src","alt"],iA=["onClick"],lA={key:0,class:"mt-2"},dA={class:"flex flex-wrap gap-2"},cA=["src","alt"],uA=["onClick"],fA={class:"flex gap-4"},hA={type:"submit",class:"bg-blue-600 dark:bg-red-600 hover:bg-blue-700 dark:hover:bg-red-700 text-white dark:text-black px-6 py-2 rounded-md transition-colors"},gA={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},pA={key:0,class:"overflow-x-auto"},mA={class:"w-full border-collapse"},bA={class:"py-3 px-4 text-black dark:text-red-400"},vA={class:"py-3 px-4 text-black dark:text-red-400"},xA={class:"py-3 px-4 text-black dark:text-red-400"},yA={class:"py-3 px-4 text-black dark:text-red-400 text-right"},kA={class:"py-3 px-4 text-black dark:text-red-400"},wA={key:0,class:"text-sm"},_A={key:1,class:"text-gray-500 dark:text-red-300"},SA={class:"py-3 px-4 text-black dark:text-red-400 text-right"},AA={class:"py-3 px-4"},CA=["onClick"],PA=["onClick"],LA=["onClick"],NA={key:1,class:"text-gray-600 dark:text-red-400"},$A={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},EA={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},MA={class:"inline-block align-bottom bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full border border-gray-200 dark:border-red-500"},IA={class:"px-6 py-4 border-b border-gray-200 dark:border-red-500"},TA={class:"flex items-center justify-between"},DA={class:"text-lg font-medium text-gray-900 dark:text-red-600",id:"modal-title"},RA={key:0,class:"p-6"},OA={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},FA={class:"space-y-4"},jA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},UA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},BA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},qA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},zA={class:"space-y-4"},HA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},VA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},WA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},GA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},KA={class:"space-y-4"},YA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},JA={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},ZA={key:0},XA={key:1},QA={class:"mt-6 pt-6 border-t border-gray-200 dark:border-red-500"},eC={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},tC={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},rC={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},sC={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},aC={class:"mt-1 text-sm text-gray-900 dark:text-red-600"},nC={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-red-500"},oC={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},iC=["src","alt"],lC={class:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1 rounded-b"},dC=Tt({__name:"RiflesView",setup(e){const t=qn(),r=Pe(()=>t.profiles),s=ye(!1),n=ye(null),o=ye({make:"",type:"",caliber:"",licenceNumber:"",licenceExpiryDate:"",barrelLength:"",opticsMeasurement:"MOA",scopeAdjustmentValue:.25,zeroDistance:"100",zeroDistanceUnit:"yards",rifleImages:[],licenceImages:[]}),i=ye(null),l=ye([]),d=ye(),c=ye(),f=Pe(()=>o.value.type==="semi-auto-handgun");Dr(()=>o.value.opticsMeasurement,x=>{x==="MIL"?o.value.scopeAdjustmentValue=.1:x==="MOA"&&(o.value.scopeAdjustmentValue=.25)}),Kr(()=>{fetch("./dope_tables/dope_yards.csv").then(x=>x.text()).then(x=>{const E=a0.parse(x,{header:!0,skipEmptyLines:!0}).data.map(y=>y.Caliber&&y.Caliber.trim()).filter(y=>!!y);l.value=Array.from(new Set(E)).sort()}).catch(()=>{l.value=[]})});function b(x){if(!x)return"-";const p=Hh.find(E=>E.value===x);return p?p.label:x}function w(x){return x?new Date(x).toLocaleDateString():""}function h(x){n.value=x,s.value=!0}function _(){s.value=!1,n.value=null}function O(x){const p=x.target;p.files&&N(p.files,"rifle")}function j(x){const p=x.target;p.files&&N(p.files,"licence")}function N(x,p){for(let E=0;E<x.length;E++){const y=x[E],A=new FileReader;A.onload=H=>{const F={id:`${Date.now()}_${E}`,filename:y.name,type:p,url:H.target?.result,uploadDate:new Date,size:y.size,mimeType:y.type};p==="rifle"?o.value.rifleImages.push(F):o.value.licenceImages.push(F)},A.readAsDataURL(y)}}function W(x,p){x==="rifle"?o.value.rifleImages.splice(p,1):o.value.licenceImages.splice(p,1)}function B(){const x=[...o.value.rifleImages,...o.value.licenceImages],p={make:o.value.make,name:o.value.make,type:o.value.type,caliber:o.value.caliber,licenceNumber:o.value.licenceNumber||void 0,licenceExpiryDate:o.value.licenceExpiryDate?new Date(o.value.licenceExpiryDate):void 0,images:x.length>0?x:void 0,barrelLength:Number(o.value.barrelLength)||0,opticsMeasurement:o.value.opticsMeasurement,scopeAdjustmentValue:Number(o.value.scopeAdjustmentValue)||(o.value.opticsMeasurement==="MOA"?.25:.1),zeroDistance:Number(o.value.zeroDistance)||100,zeroDistanceUnit:o.value.zeroDistanceUnit,muzzleVelocity:0,ballisticCoefficient:0,dragModel:"G1",scopeHeight:1.5,twistRate:"",bulletWeight:0};i.value?t.updateProfile(i.value,p):t.createProfile(p),U()}function I(x){const p=x.images?.filter(y=>y.type==="rifle")||[],E=x.images?.filter(y=>y.type==="licence")||[];o.value={make:x.make||x.name||"",type:x.type||"",caliber:x.caliber||"",licenceNumber:x.licenceNumber||"",licenceExpiryDate:x.licenceExpiryDate?new Date(x.licenceExpiryDate).toISOString().split("T")[0]:"",barrelLength:x.barrelLength?.toString()||"",opticsMeasurement:x.opticsMeasurement||"MOA",scopeAdjustmentValue:x.scopeAdjustmentValue||(x.opticsMeasurement==="MOA"?.25:.1),zeroDistance:x.zeroDistance?.toString()||"100",zeroDistanceUnit:x.zeroDistanceUnit||"yards",rifleImages:p,licenceImages:E},i.value=x.id,window.scrollTo({top:0,behavior:"smooth"})}function R(x){confirm("Are you sure you want to delete this firearm?")&&(t.deleteProfile(x),i.value===x&&U())}function K(){U()}function U(){o.value={make:"",type:"",caliber:"",licenceNumber:"",licenceExpiryDate:"",barrelLength:"",opticsMeasurement:"MOA",scopeAdjustmentValue:.25,zeroDistance:"100",zeroDistanceUnit:"yards",rifleImages:[],licenceImages:[]},i.value=null,d.value&&(d.value.value=""),c.value&&(c.value.value="")}return(x,p)=>(G(),X("div",qS,[a("div",zS,[a("form",{onSubmit:Gs(B,["prevent"]),class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6 mb-8"},[p[31]||(p[31]=a("h2",{class:"text-lg font-semibold mb-4 text-black dark:text-red-400"},"Add Firearm",-1)),a("div",HS,[a("div",null,[p[10]||(p[10]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Make",-1)),De(a("input",{"onUpdate:modelValue":p[0]||(p[0]=E=>o.value.make=E),type:"text",required:"",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"Firearm Make"},null,512),[[rt,o.value.make]])]),a("div",null,[p[12]||(p[12]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},[We("Type "),a("span",{class:"text-red-500"},"*")],-1)),De(a("select",{"onUpdate:modelValue":p[1]||(p[1]=E=>o.value.type=E),required:"",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[p[11]||(p[11]=a("option",{value:"",disabled:""},"Select Type",-1)),(G(!0),X(Ye,null,nt(Ee(Hh),E=>(G(),X("option",{key:E.value,value:E.value},D(E.label),9,VS))),128))],512),[[Et,o.value.type]])]),a("div",null,[p[14]||(p[14]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Calibre",-1)),De(a("select",{"onUpdate:modelValue":p[2]||(p[2]=E=>o.value.caliber=E),required:"",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[p[13]||(p[13]=a("option",{value:"",disabled:""},"Select Calibre",-1)),f.value?(G(),X("optgroup",WS,[(G(!0),X(Ye,null,nt(Ee(Wx),E=>(G(),X("option",{key:E,value:E},D(E),9,GS))),128))])):Ie("",!0),a("optgroup",{label:f.value?"Other Calibers":"Available Calibers"},[(G(!0),X(Ye,null,nt(l.value,E=>(G(),X("option",{key:E,value:E},D(E),9,YS))),128))],8,KS)],512),[[Et,o.value.caliber]]),l.value.length===0?(G(),X("div",JS,"No calibres available. Please check DOPE table loading.")):Ie("",!0)]),a("div",null,[p[15]||(p[15]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Licence Number",-1)),De(a("input",{"onUpdate:modelValue":p[3]||(p[3]=E=>o.value.licenceNumber=E),type:"text",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"Enter licence number"},null,512),[[rt,o.value.licenceNumber]])]),a("div",null,[p[16]||(p[16]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Licence Expiry Date",-1)),De(a("input",{"onUpdate:modelValue":p[4]||(p[4]=E=>o.value.licenceExpiryDate=E),type:"date",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},null,512),[[rt,o.value.licenceExpiryDate]])]),a("div",null,[p[17]||(p[17]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Barrel Length (inches)",-1)),De(a("input",{"onUpdate:modelValue":p[5]||(p[5]=E=>o.value.barrelLength=E),type:"number",min:"0",class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400",placeholder:"e.g. 24"},null,512),[[rt,o.value.barrelLength]])]),a("div",null,[p[19]||(p[19]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Optics Measurement",-1)),De(a("select",{"onUpdate:modelValue":p[6]||(p[6]=E=>o.value.opticsMeasurement=E),class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[...p[18]||(p[18]=[a("option",{value:"MOA"},"MOA",-1),a("option",{value:"MIL"},"MIL",-1)])],512),[[Et,o.value.opticsMeasurement]])]),a("div",null,[p[20]||(p[20]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Scope Adjustment Value (per click)",-1)),De(a("select",{"onUpdate:modelValue":p[7]||(p[7]=E=>o.value.scopeAdjustmentValue=E),class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[o.value.opticsMeasurement==="MOA"?(G(),X("option",ZS,"0.50 MOA")):Ie("",!0),o.value.opticsMeasurement==="MOA"?(G(),X("option",XS,"0.25 MOA")):Ie("",!0),o.value.opticsMeasurement==="MOA"?(G(),X("option",QS,"0.05 MOA")):Ie("",!0),o.value.opticsMeasurement==="MIL"?(G(),X("option",eA,"0.1 MIL")):Ie("",!0)],512),[[Et,o.value.scopeAdjustmentValue]]),p[21]||(p[21]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"}," Amount of windage/elevation adjustment per turret click ",-1))]),a("div",null,[p[24]||(p[24]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Zeroed Distance",-1)),a("div",tA,[De(a("select",{"onUpdate:modelValue":p[8]||(p[8]=E=>o.value.zeroDistance=E),class:"flex-1 px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[...p[22]||(p[22]=[Xt('<option value="25" data-v-bafe5909>25</option><option value="50" data-v-bafe5909>50</option><option value="100" data-v-bafe5909>100</option><option value="200" data-v-bafe5909>200</option><option value="300" data-v-bafe5909>300</option>',5)])],512),[[Et,o.value.zeroDistance]]),De(a("select",{"onUpdate:modelValue":p[9]||(p[9]=E=>o.value.zeroDistanceUnit=E),class:"flex-1 px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},[...p[23]||(p[23]=[a("option",{value:"yards"},"Yards",-1),a("option",{value:"meters"},"Meters",-1)])],512),[[Et,o.value.zeroDistanceUnit]])]),p[25]||(p[25]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"}," Distance at which the firearm is zeroed ",-1))])]),a("div",rA,[p[30]||(p[30]=a("h3",{class:"text-md font-medium mb-3 text-black dark:text-red-400"},"Images",-1)),a("div",sA,[a("div",null,[p[26]||(p[26]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Firearm Images",-1)),a("input",{ref_key:"rifleImageInput",ref:d,type:"file",accept:"image/*",multiple:"",onChange:O,class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},null,544),p[27]||(p[27]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"},"Upload images of your firearm",-1)),o.value.rifleImages&&o.value.rifleImages.length>0?(G(),X("div",aA,[a("div",nA,[(G(!0),X(Ye,null,nt(o.value.rifleImages,(E,y)=>(G(),X("div",{key:y,class:"relative"},[a("img",{src:E.url,alt:E.filename,class:"w-16 h-16 object-cover rounded border"},null,8,oA),a("button",{type:"button",onClick:A=>W("rifle",y),class:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs flex items-center justify-center"},"",8,iA)]))),128))])])):Ie("",!0)]),a("div",null,[p[28]||(p[28]=a("label",{class:"block text-sm font-medium mb-2 text-black dark:text-red-400"},"Licence Images",-1)),a("input",{ref_key:"licenceImageInput",ref:c,type:"file",accept:"image/*",multiple:"",onChange:j,class:"w-full px-3 py-2 bg-gray-100 dark:bg-red-600 text-black dark:text-black border border-gray-300 dark:border-red-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400"},null,544),p[29]||(p[29]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"},"Upload images of your licence",-1)),o.value.licenceImages&&o.value.licenceImages.length>0?(G(),X("div",lA,[a("div",dA,[(G(!0),X(Ye,null,nt(o.value.licenceImages,(E,y)=>(G(),X("div",{key:y,class:"relative"},[a("img",{src:E.url,alt:E.filename,class:"w-16 h-16 object-cover rounded border"},null,8,cA),a("button",{type:"button",onClick:A=>W("licence",y),class:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs flex items-center justify-center"},"",8,uA)]))),128))])])):Ie("",!0)])])]),a("div",fA,[a("button",hA,D(i.value?"Update":"Add")+" Firearm",1),i.value?(G(),X("button",{key:0,type:"button",onClick:K,class:"bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-800 text-black dark:text-red-400 px-6 py-2 rounded-md border border-gray-300 dark:border-red-400 transition-colors"},"Cancel")):Ie("",!0)])],32),a("div",gA,[p[33]||(p[33]=a("h2",{class:"text-lg font-semibold mb-4 text-black dark:text-red-400"},"Your Firearms",-1)),r.value.length?(G(),X("div",pA,[a("table",mA,[p[32]||(p[32]=a("thead",null,[a("tr",{class:"border-b border-gray-200 dark:border-red-400"},[a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[120px]"},"Make"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[100px]"},"Type"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[100px]"},"Calibre"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[120px]"},"Barrel Length"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[140px]"},"Licence Expiry"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[120px]"},"Zeroed Distance"),a("th",{class:"text-left py-3 px-4 font-medium text-black dark:text-red-400 min-w-[160px]"},"Actions")])],-1)),a("tbody",null,[(G(!0),X(Ye,null,nt(r.value,E=>(G(),X("tr",{key:E.id,class:"border-b border-gray-100 dark:border-red-400 hover:bg-gray-50 dark:hover:bg-gray-900"},[a("td",bA,D(E.make||E.name),1),a("td",vA,D(b(E.type)),1),a("td",xA,D(E.caliber),1),a("td",yA,D(E.barrelLength)+'"',1),a("td",kA,[E.licenceExpiryDate?(G(),X("span",wA,D(w(E.licenceExpiryDate)),1)):(G(),X("span",_A,"-"))]),a("td",SA,D(E.zeroDistance||100)+" "+D(E.zeroDistanceUnit||"yards"),1),a("td",AA,[a("button",{onClick:y=>h(E),class:"text-green-600 dark:text-green-500 hover:text-green-800 dark:hover:text-green-300 px-2 transition-colors"},"View",8,CA),a("button",{onClick:y=>I(E),class:"text-blue-600 dark:text-red-500 hover:text-blue-800 dark:hover:text-red-300 px-2 transition-colors"},"Edit",8,PA),a("button",{onClick:y=>R(E.id),class:"text-red-600 dark:text-red-500 hover:text-red-800 dark:hover:text-red-300 px-2 transition-colors"},"Delete",8,LA)])]))),128))])])])):(G(),X("div",NA,"No firearms saved yet."))])]),s.value?(G(),X("div",$A,[a("div",EA,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:_}),a("div",MA,[a("div",IA,[a("div",TA,[a("h3",DA,D(n.value?.make||n.value?.name)+" Details ",1),a("button",{onClick:_,class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300"},[Me(Ee(nn),{class:"w-6 h-6"})])])]),n.value?(G(),X("div",RA,[a("div",OA,[a("div",FA,[p[38]||(p[38]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 border-b border-gray-200 dark:border-red-500 pb-2"},"Basic Information",-1)),a("div",null,[p[34]||(p[34]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Make",-1)),a("div",jA,D(n.value.make||n.value.name||"-"),1)]),a("div",null,[p[35]||(p[35]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Type",-1)),a("div",UA,D(b(n.value.type)),1)]),a("div",null,[p[36]||(p[36]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Caliber",-1)),a("div",BA,D(n.value.caliber||"-"),1)]),a("div",null,[p[37]||(p[37]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Barrel Length",-1)),a("div",qA,D(n.value.barrelLength?n.value.barrelLength+'"':"-"),1)])]),a("div",zA,[p[43]||(p[43]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 border-b border-gray-200 dark:border-red-500 pb-2"},"Optics & Zeroing",-1)),a("div",null,[p[39]||(p[39]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Optics Measurement",-1)),a("div",HA,D(n.value.opticsMeasurement||"MOA"),1)]),a("div",null,[p[40]||(p[40]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Scope Adjustment Value",-1)),a("div",VA,D(n.value.scopeAdjustmentValue||.25)+" "+D(n.value.opticsMeasurement||"MOA"),1)]),a("div",null,[p[41]||(p[41]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Zeroed Distance",-1)),a("div",WA,D(n.value.zeroDistance||100)+" "+D(n.value.zeroDistanceUnit||"yards"),1)]),a("div",null,[p[42]||(p[42]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Scope Height",-1)),a("div",GA,D(n.value.scopeHeight||1.5)+'"',1)])]),a("div",KA,[p[46]||(p[46]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 border-b border-gray-200 dark:border-red-500 pb-2"},"Licensing",-1)),a("div",null,[p[44]||(p[44]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Licence Number",-1)),a("div",YA,D(n.value.licenceNumber||"-"),1)]),a("div",null,[p[45]||(p[45]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Licence Expiry Date",-1)),a("div",JA,[n.value.licenceExpiryDate?(G(),X("span",ZA,D(w(n.value.licenceExpiryDate)),1)):(G(),X("span",XA,"-"))])])])]),a("div",QA,[p[51]||(p[51]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 mb-4"},"Ballistic Data",-1)),a("div",eC,[a("div",null,[p[47]||(p[47]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Muzzle Velocity",-1)),a("div",tC,D(n.value.muzzleVelocity||0)+" fps",1)]),a("div",null,[p[48]||(p[48]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Bullet Weight",-1)),a("div",rC,D(n.value.bulletWeight||0)+" grains",1)]),a("div",null,[p[49]||(p[49]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Ballistic Coefficient",-1)),a("div",sC,D(n.value.ballisticCoefficient||0),1)]),a("div",null,[p[50]||(p[50]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400"},"Drag Model",-1)),a("div",aC,D(n.value.dragModel||"G1"),1)])])]),n.value.images&&n.value.images.length>0?(G(),X("div",nC,[p[52]||(p[52]=a("h4",{class:"text-md font-semibold text-gray-900 dark:text-red-600 mb-4"},"Images",-1)),a("div",oC,[(G(!0),X(Ye,null,nt(n.value.images,(E,y)=>(G(),X("div",{key:y,class:"relative"},[a("img",{src:E.url,alt:E.filename,class:"w-full h-24 object-cover rounded border border-gray-200 dark:border-red-500"},null,8,iC),a("div",lC,D(E.type==="rifle"?"Firearm":"Licence"),1)]))),128))])])):Ie("",!0)])):Ie("",!0),a("div",{class:"px-6 py-4 border-t border-gray-200 dark:border-red-500 bg-gray-50 dark:bg-red-700/10"},[a("div",{class:"flex justify-end"},[a("button",{onClick:_,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"}," Close ")])])])])])):Ie("",!0)]))}}),wB=$s(dC,[["__scopeId","data-v-bafe5909"]]);function cC(e){return e.sportType==="IPSC"}function uC(e){return e.sportType==="IDPA"}class fC{calculateHitPoints(t,r){switch(t){case"A":return 5;case"C":return r==="MAJOR"?4:3;case"D":return r==="MAJOR"?2:1;case"MISS":return 0;case"NO_SHOOT":return 0;default:return 0}}calculateTotalPoints(t,r){const s=t.reduce((o,i)=>o+i.points,0),n=r.reduce((o,i)=>o+Math.abs(i.points),0);return Math.max(0,s-n)}calculateHitFactor(t,r){return r<=0?0:Number((t/r).toFixed(4))}calculateStagePoints(t,r,s){if(r<=0)return 0;const n=t/r;return Number((n*s).toFixed(2))}calculateStagePercent(t,r){return r<=0?0:Number((t/r*100).toFixed(2))}calculatePowerFactor(t,r){return Number((t*r/1e3).toFixed(2))}classifyPowerFactor(t){return t>=170?"MAJOR":"MINOR"}processShot(t,r,s,n,o){const i=t.map(c=>({...c,points:this.calculateHitPoints(c.zone,n)})),l=this.calculateTotalPoints(i,r),d=this.calculateHitFactor(l,s);return{id:o||`shot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,hits:i,penalties:r,stageTime:s,totalPoints:l,hitFactor:d}}calculateStageResults(t,r,s){const n=new Map;for(const[l,d]of r){const c=d.reduce((w,h)=>w+h.totalPoints,0),f=d.reduce((w,h)=>w+h.stageTime,0),b=this.calculateHitFactor(c,f);n.set(l,{stageId:t.id,stageName:t.name,shots:d,totalPoints:c,totalTime:f,hitFactor:b,stagePoints:0,stagePlace:0,stagePercent:0})}const o=Math.max(...Array.from(n.values()).map(l=>l.hitFactor));for(const l of n.values())l.stagePoints=this.calculateStagePoints(l.hitFactor,o,t.stagePoints),l.stagePercent=this.calculateStagePercent(l.hitFactor,o);return Array.from(n.values()).sort((l,d)=>d.hitFactor-l.hitFactor).forEach((l,d)=>{l.stagePlace=d+1}),n}calculateMatchResults(t,r){const s=[];for(const i of t.shooters){const l=[];let d=0;for(const c of t.stages){const f=r.get(c.id);if(f&&f.has(i.id)){const b=f.get(i.id);l.push(b),d+=b.stagePoints}}s.push({shooterId:i.id,shooterName:i.name,division:i.division,powerFactor:i.powerFactor||"MINOR",stageResults:l,totalPoints:d,overallPlace:0,divisionPlace:0,totalPercent:0})}s.sort((i,l)=>l.totalPoints-i.totalPoints);const n=s[0]?.totalPoints||0;s.forEach((i,l)=>{i.overallPlace=l+1,i.totalPercent=n>0?Number((i.totalPoints/n*100).toFixed(2)):0});const o=new Map;s.forEach(i=>{const l=i.division;o.has(l)||o.set(l,[]),o.get(l).push(i)});for(const i of o.values())i.sort((l,d)=>d.totalPoints-l.totalPoints),i.forEach((l,d)=>{l.divisionPlace=d+1});return s}validateShot(t,r){const s=[],n=t.hits.length;n<r.minimumRounds&&s.push(`Minimum ${r.minimumRounds} rounds required, only ${n} recorded`);const o=t.hits.filter(l=>!["A","C","D","MISS","NO_SHOOT"].includes(l.zone));o.length>0&&s.push(`Invalid zones detected: ${o.map(l=>l.zone).join(", ")}`),t.stageTime<=0&&s.push("Stage time must be greater than 0");const i=t.penalties.filter(l=>!["MISS","NO_SHOOT","PROCEDURAL","FOOT_FAULT","FAILURE_TO_ENGAGE"].includes(l.type));return i.length>0&&s.push(`Invalid penalty types: ${i.map(l=>l.type).join(", ")}`),{valid:s.length===0,errors:s}}generateShooterStatistics(t){if(t.length===0)return{averagePercent:0,bestPercent:0,averagePlace:0,bestPlace:0,improvementTrend:"STABLE",strongStages:[],weakStages:[]};const r=t.map(h=>h.totalPercent),s=t.map(h=>h.overallPlace),n=r.reduce((h,_)=>h+_,0)/r.length,o=Math.max(...r),i=s.reduce((h,_)=>h+_,0)/s.length,l=Math.min(...s);let d="STABLE";if(t.length>=3){const h=r.slice(-3),_=r.slice(0,-3),O=h.reduce((N,W)=>N+W,0)/h.length,j=_.reduce((N,W)=>N+W,0)/_.length;O>j+2?d="IMPROVING":O<j-2&&(d="DECLINING")}const c=new Map;t.forEach(h=>{h.stageResults.forEach(_=>{c.has(_.stageName)||c.set(_.stageName,[]),c.get(_.stageName).push(_.stagePercent)})});const f=Array.from(c.entries()).map(([h,_])=>({stage:h,average:_.reduce((O,j)=>O+j,0)/_.length}));f.sort((h,_)=>_.average-h.average);const b=f.slice(0,3).map(h=>h.stage),w=f.slice(-3).map(h=>h.stage);return{averagePercent:Number(n.toFixed(2)),bestPercent:o,averagePlace:Number(i.toFixed(1)),bestPlace:l,improvementTrend:d,strongStages:b,weakStages:w}}}const cp=new fC;class hC{calculatePenaltySeconds(t){switch(t){case"DOWN_0":return 0;case"DOWN_1":return .5;case"DOWN_3":return 1.5;case"MISS":return 5;case"NON_THREAT":return 5;default:return 0}}calculateTotalTime(t,r,s){const n=r.reduce((i,l)=>i+l.penaltySeconds,0),o=s.reduce((i,l)=>i+l.seconds,0);return Number((t+n+o).toFixed(2))}calculateStagePoints(t,r){return Math.max(1,r-t+1)}getProceduralPenaltySeconds(t){switch(t){case"NON_THREAT":return 5;case"PROCEDURAL":return 3;case"COVER_VIOLATION":return 3;case"FOOT_FAULT":return 3;case"FAILURE_TO_ENGAGE":return 5;default:return 3}}validateMagazineCapacity(t,r){switch(t){case"CDP":return r<=8;case"ESP":return r<=10;case"SSP":return r<=10;case"CCP":return r<=8;case"BUG":return r<=5;case"PCC":return r<=10;default:return!0}}processShot(t,r,s,n){const o=t.map(l=>({...l,penaltySeconds:this.calculatePenaltySeconds(l.zone)})),i=this.calculateTotalTime(s,o,r);return{id:n||`idpa_shot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,hits:o,penalties:r,stageTime:s,totalTime:i}}calculateStageResults(t,r){const s=new Map;for(const[i,l]of r){const d=l.reduce((c,f)=>c+f.totalTime,0);s.set(i,{stageId:t.id,stageName:t.name,shots:l,totalTime:d,stagePlace:0,stagePoints:0})}const n=Array.from(s.values()).sort((i,l)=>i.totalTime-l.totalTime),o=n.length;return n.forEach((i,l)=>{i.stagePlace=l+1,i.stagePoints=this.calculateStagePoints(i.stagePlace,o)}),s}calculateMatchResults(t,r){const s=[];for(const o of t.shooters){const i=[];let l=0,d=0;for(const c of t.stages){const f=r.get(c.id);if(f&&f.has(o.id)){const b=f.get(o.id);i.push(b),l+=b.totalTime,d+=b.stagePoints}}s.push({shooterId:o.id,shooterName:o.name,division:o.division,stageResults:i,totalTime:l,totalPoints:d,overallPlace:0,divisionPlace:0})}s.sort((o,i)=>o.totalTime-i.totalTime),s.forEach((o,i)=>{o.overallPlace=i+1});const n=new Map;s.forEach(o=>{const i=o.division;n.has(i)||n.set(i,[]),n.get(i).push(o)});for(const o of n.values())o.sort((i,l)=>i.totalTime-l.totalTime),o.forEach((i,l)=>{i.divisionPlace=l+1});return s}validateShot(t,r,s){const n=[],o=new Map;t.hits.forEach(c=>{const f=o.get(c.targetNumber)||0;o.set(c.targetNumber,f+1)});const i=r.stringCount;for(let c=1;c<=r.targetCount;c++){const f=o.get(c)||0;f<i&&n.push(`Target ${c} requires ${i} shots, only ${f} recorded`)}t.stageTime<=0&&n.push("Stage time must be greater than 0");const l=t.hits.filter(c=>!["DOWN_0","DOWN_1","DOWN_3","MISS","NON_THREAT"].includes(c.zone));l.length>0&&n.push(`Invalid zones detected: ${l.map(c=>c.zone).join(", ")}`);const d=t.penalties.filter(c=>!["NON_THREAT","PROCEDURAL","FOOT_FAULT","FAILURE_TO_ENGAGE","COVER_VIOLATION"].includes(c.type));if(d.length>0&&n.push(`Invalid penalty types: ${d.map(c=>c.type).join(", ")}`),r.maxRounds){const c=t.hits.length;this.validateMagazineCapacity(s,c)||n.push(`Magazine capacity exceeded for ${s} division`)}return{valid:n.length===0,errors:n}}generateShooterStatistics(t){if(t.length===0)return{averageTime:0,bestTime:0,averagePoints:0,bestPoints:0,averagePlace:0,bestPlace:0,improvementTrend:"STABLE",strongStages:[],weakStages:[]};const r=t.map(j=>j.totalTime),s=t.map(j=>j.totalPoints),n=t.map(j=>j.overallPlace),o=r.reduce((j,N)=>j+N,0)/r.length,i=Math.min(...r),l=s.reduce((j,N)=>j+N,0)/s.length,d=Math.max(...s),c=n.reduce((j,N)=>j+N,0)/n.length,f=Math.min(...n);let b="STABLE";if(t.length>=3){const j=s.slice(-3),N=s.slice(0,-3);if(N.length>0){const W=j.reduce((I,R)=>I+R,0)/j.length,B=N.reduce((I,R)=>I+R,0)/N.length;W>B+5?b="IMPROVING":W<B-5&&(b="DECLINING")}}const w=new Map;t.forEach(j=>{j.stageResults.forEach(N=>{w.has(N.stageName)||w.set(N.stageName,[]),w.get(N.stageName).push(N.stagePoints)})});const h=Array.from(w.entries()).map(([j,N])=>({stage:j,average:N.reduce((W,B)=>W+B,0)/N.length}));h.sort((j,N)=>N.average-j.average);const _=h.slice(0,3).map(j=>j.stage),O=h.slice(-3).map(j=>j.stage);return{averageTime:Number(o.toFixed(2)),bestTime:i,averagePoints:Number(l.toFixed(1)),bestPoints:d,averagePlace:Number(c.toFixed(1)),bestPlace:f,improvementTrend:b,strongStages:_,weakStages:O}}calculateClassificationPoints(t,r){if(r<=0)return 0;const s=r/t*100;return Number(Math.min(100,s).toFixed(2))}determineClassification(t){return t>=95?"Master":t>=85?"Expert":t>=75?"Sharpshooter":t>=60?"Marksman":"Novice"}}const up=new hC,V0=mi("sports",()=>{const e=La();function t(){const Z=e.currentUserDataKeys;return{matches:Z?.sportsMatches||"sports_matches",results:Z?.sportsResults||"sports_results",practiceSessions:Z?.sportsPracticeSessions||"sports_practice_sessions",shooters:Z?.sportsShooters||"sports_shooters"}}const r=ye([]),s=ye(new Map),n=ye([]),o=ye([]),i=ye(null),l=ye(null),d=Pe(()=>()=>r.value.sort((Z,M)=>new Date(M.date).getTime()-new Date(Z.date).getTime())),c=Pe(()=>()=>r.value.filter(Z=>Z.status==="IN_PROGRESS")),f=Pe(()=>()=>r.value.filter(Z=>Z.status==="COMPLETED")),b=Pe(()=>Z=>r.value.filter(M=>M.sportType===Z)),w=Pe(()=>Z=>{const M=[];for(const[,z]of s.value)M.push(...z.filter(S=>Z==="IPSC"?"hitFactor"in S||"totalPercent"in S:"totalTime"in S&&"totalPoints"in S));return M}),h=Pe(()=>(Z,M)=>{const z=w.value(M).filter(S=>S.shooterId===Z);if(z.length===0)return{shooterId:Z,sportType:M,matchesParticipated:0,averagePercent:0,bestPercent:0,averagePlace:0,bestPlace:0,trend:"STABLE",lastMatch:new Date};if(M==="IPSC"){const S=z,m=cp.generateShooterStatistics(S);return{shooterId:Z,sportType:M,matchesParticipated:S.length,averagePercent:m.averagePercent,bestPercent:m.bestPercent,averagePlace:m.averagePlace,bestPlace:m.bestPlace,trend:m.improvementTrend,lastMatch:new Date(Math.max(...S.map(C=>r.value.find(L=>L.results.has(C.shooterId))?.date.getTime()||0)))}}else{const S=z,m=up.generateShooterStatistics(S);return{shooterId:Z,sportType:M,matchesParticipated:S.length,averagePercent:m.averagePoints/S.length*10,bestPercent:m.bestPoints/S.length*10,averagePlace:m.averagePlace,bestPlace:m.bestPlace,trend:m.improvementTrend,lastMatch:new Date(Math.max(...S.map(C=>r.value.find(L=>L.results.has(C.shooterId))?.date.getTime()||0)))}}});function _(Z,M,z,S,m,C){const L={id:oi(),name:Z,date:S,location:z,sportType:M,stages:m,shooters:[],results:new Map,status:"SETUP",notes:C};let $;return M==="IPSC"?$={...L,sportType:"IPSC",matchDirector:e.currentProfile?.name||"Unknown"}:$={...L,sportType:"IDPA",safetyOfficer:e.currentProfile?.name||"Unknown"},r.value.push($),A(),$}function O(Z){const M=r.value.findIndex(z=>z.id===Z.id);return M===-1?!1:(r.value[M]=Z,A(),!0)}function j(Z,M){const z=r.value.find(S=>S.id===Z);return!z||z.shooters.find(S=>S.id===M.id)?!1:(M.isCurrentUser&&z.shooters.forEach(S=>{S.isCurrentUser&&(S.isCurrentUser=!1)}),z.shooters.push(M),A(),!0)}function N(Z,M){const z=r.value.find(m=>m.id===Z);if(!z)return!1;const S=z.shooters.findIndex(m=>m.id===M);return S===-1?!1:(z.shooters.splice(S,1),z.results.delete(M),A(),!0)}function W(Z){const M=r.value.find(z=>z.id===Z);return!M||M.status!=="SETUP"?!1:(M.status="IN_PROGRESS",i.value=M,A(),!0)}function B(Z){const M=r.value.find(z=>z.id===Z);return!M||M.status!=="IN_PROGRESS"?!1:(M.status="COMPLETED",i.value?.id===Z&&(i.value=null),A(),!0)}function I(Z){const M=r.value.find(z=>z.id===Z);if(!M)return!1;try{if(cC(M)){const z=new Map,S=cp.calculateMatchResults(M,z);s.value.set(Z,S),S.forEach(m=>{M.results.set(m.shooterId,m)})}else if(uC(M)){const z=new Map,S=up.calculateMatchResults(M,z);s.value.set(Z,S),S.forEach(m=>{M.results.set(m.shooterId,m)})}return A(),!0}catch(z){return console.error("Error calculating match results:",z),!1}}function R(Z,M,z,S,m){const C={id:oi(),name:Z,division:M,email:z,membershipNumber:S,powerFactor:m};return o.value.push(C),A(),C}function K(Z,M,z,S){const m={id:oi(),name:Z,date:new Date,sportType:M,stages:z,shots:[],notes:S};return l.value=m,n.value.push(m),A(),m}function U(){const Z=l.value;return Z&&(l.value=null,A()),Z}function x(Z){const M=r.value.findIndex(z=>z.id===Z);return M===-1?!1:(r.value.splice(M,1),s.value.delete(Z),i.value?.id===Z&&(i.value=null),A(),!0)}function p(Z){const M=r.value.find(S=>S.id===Z);if(!M)return null;const z=s.value.get(Z)||[];return{match:{...M,results:Array.from(M.results.entries())},calculatedResults:z,exportDate:new Date().toISOString()}}function E(Z){try{const M=Z.match,z=Z.calculatedResults||[];return M.results=new Map(M.results||[]),M.date=new Date(M.date),r.value.push(M),z.length>0&&s.value.set(M.id,z),A(),!0}catch(M){return console.error("Error importing match data:",M),!1}}function y(){r.value=[],s.value.clear(),n.value=[],o.value=[],i.value=null,l.value=null;const Z=t();localStorage.removeItem(Z.matches),localStorage.removeItem(Z.results),localStorage.removeItem(Z.practiceSessions),localStorage.removeItem(Z.shooters)}function A(){try{const Z=t();localStorage.setItem(Z.matches,JSON.stringify(r.value)),localStorage.setItem(Z.practiceSessions,JSON.stringify(n.value)),localStorage.setItem(Z.shooters,JSON.stringify(o.value));const M=Array.from(s.value.entries());localStorage.setItem(Z.results,JSON.stringify(M))}catch(Z){console.error("Failed to save sports data:",Z)}}function H(){try{const Z=t(),M=localStorage.getItem(Z.matches);if(M){const C=JSON.parse(M);r.value=C.map(L=>({...L,date:new Date(L.date),results:new Map(L.results||[])}))}const z=localStorage.getItem(Z.practiceSessions);if(z){const C=JSON.parse(z);n.value=C.map(L=>({...L,date:new Date(L.date)}))}const S=localStorage.getItem(Z.shooters);S&&(o.value=JSON.parse(S));const m=localStorage.getItem(Z.results);if(m){const C=JSON.parse(m);s.value=new Map(C)}}catch(Z){console.error("Failed to load sports data:",Z)}}const F=Z=>{const{isGuest:M}=Z.detail;r.value=[],s.value.clear(),n.value=[],o.value=[],i.value=null,l.value=null,H()};function ae(Z,M){const z=r.value.find(m=>m.id===Z);if(!z)return!1;const S=z.shooters.find(m=>m.id===M);return S?(S.isCurrentUser?S.isCurrentUser=!1:(z.shooters.forEach(m=>{m.id!==M&&(m.isCurrentUser=!1)}),S.isCurrentUser=!0),A(),!0):!1}function ge(Z){const M=r.value.find(z=>z.id===Z);return M&&M.shooters.find(z=>z.isCurrentUser)||null}function he(Z){if(!r.value.find(m=>m.id===Z))return[];const z=ge(Z);return z?s.value.get(Z)?.filter(m=>m.shooterId===z.id)||[]:[]}return H(),typeof window<"u"&&window.addEventListener("userProfileChanged",F),{matches:r,matchResults:s,practiceSessions:n,shooters:o,currentMatch:i,currentPracticeSession:l,getAllMatches:d,getActiveMatches:c,getCompletedMatches:f,getMatchesByType:b,getShooterResults:w,getShooterStatistics:h,createMatch:_,updateMatch:O,addShooterToMatch:j,removeShooterFromMatch:N,startMatch:W,completeMatch:B,calculateMatchResults:I,createShooter:R,startPracticeSession:K,endPracticeSession:U,deleteMatch:x,exportMatchData:p,importMatchData:E,clearAllData:y,loadFromStorage:H,saveToStorage:A,toggleCurrentUser:ae,getCurrentUser:ge,getUserSpecificResults:he}}),gC={class:"fixed inset-0 z-[9999] overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},pC={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},mC={class:"inline-block align-bottom bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-gray-200 dark:border-red-500"},bC={class:"px-6 py-4 border-b border-gray-200 dark:border-red-500"},vC={class:"flex items-center justify-between"},xC={class:"text-lg font-medium text-gray-900 dark:text-red-600",id:"modal-title"},yC={class:"flex justify-end space-x-3 pt-4"},kC=["disabled"],wC=Tt({__name:"CreateMatchModal",props:{sportType:{}},emits:["close","created"],setup(e,{emit:t}){const r=e,s=t,n=V0(),o=ye({name:"",location:"",date:new Date().toISOString().split("T")[0],stageCount:6,notes:""}),i=Pe(()=>o.value.name.trim()!==""&&o.value.location.trim()!==""&&o.value.date!==""&&o.value.stageCount>0),l=()=>{if(!i.value)return;const d=Array.from({length:o.value.stageCount},(f,b)=>{const w=b+1;return r.sportType==="IPSC"?{id:`stage_${w}_${Date.now()}`,name:`Stage ${w}`,description:`${r.sportType} Stage ${w}`,targetCount:6,steelTargets:2,paperTargets:4,minimumRounds:12,maximumPoints:60,stagePoints:50,startPosition:"Standing"}:{id:`stage_${w}_${Date.now()}`,name:`Stage ${w}`,description:`${r.sportType} Stage ${w}`,scenario:"Defensive scenario",targetCount:3,stringCount:2,limitedTargets:2,unlimitedTargets:1,startPosition:"Standing",maxRounds:6}}),c=n.createMatch(o.value.name,r.sportType,o.value.location,new Date(o.value.date),d,o.value.notes||void 0);s("created",c)};return(d,c)=>(G(),X("div",gC,[a("div",pC,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:c[0]||(c[0]=f=>d.$emit("close"))}),a("div",mC,[a("div",bC,[a("div",vC,[a("h3",xC," Create New "+D(d.sportType)+" Match ",1),a("button",{onClick:c[1]||(c[1]=f=>d.$emit("close")),class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300"},[Me(Ee(nn),{class:"w-6 h-6"})])])]),a("form",{onSubmit:Gs(l,["prevent"]),class:"p-6 space-y-6"},[a("div",null,[c[8]||(c[8]=a("label",{for:"matchName",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Match Name * ",-1)),De(a("input",{id:"matchName","onUpdate:modelValue":c[2]||(c[2]=f=>o.value.name=f),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent",placeholder:"Enter match name"},null,512),[[rt,o.value.name]])]),a("div",null,[c[9]||(c[9]=a("label",{for:"location",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Location * ",-1)),De(a("input",{id:"location","onUpdate:modelValue":c[3]||(c[3]=f=>o.value.location=f),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent",placeholder:"Enter location"},null,512),[[rt,o.value.location]])]),a("div",null,[c[10]||(c[10]=a("label",{for:"date",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Match Date * ",-1)),De(a("input",{id:"date","onUpdate:modelValue":c[4]||(c[4]=f=>o.value.date=f),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent"},null,512),[[rt,o.value.date]])]),a("div",null,[c[11]||(c[11]=a("label",{for:"stageCount",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Number of Stages * ",-1)),De(a("input",{id:"stageCount","onUpdate:modelValue":c[5]||(c[5]=f=>o.value.stageCount=f),type:"number",min:"1",max:"20",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent"},null,512),[[rt,o.value.stageCount,void 0,{number:!0}]])]),a("div",null,[c[12]||(c[12]=a("label",{for:"notes",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Notes (Optional) ",-1)),De(a("textarea",{id:"notes","onUpdate:modelValue":c[6]||(c[6]=f=>o.value.notes=f),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent",placeholder:"Any additional notes about the match"},null,512),[[rt,o.value.notes]])]),a("div",yC,[a("button",{type:"button",onClick:c[7]||(c[7]=f=>d.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"}," Cancel "),a("button",{type:"submit",disabled:!i.value,class:"px-4 py-2 text-sm font-medium text-white bg-gray-600 dark:bg-red-600 border border-transparent rounded-md hover:bg-gray-700 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"}," Create Match ",8,kC)])],32)])])]))}}),_C=$s(wC,[["__scopeId","data-v-e699ab6e"]]),SC={class:"space-y-6"},AC={class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-4"},CC={class:"flex justify-between items-start"},PC={class:"font-medium text-gray-900 dark:text-red-600"},LC={key:0,class:"text-sm text-gray-600 dark:text-red-400 mt-1"},NC={class:"flex items-center space-x-4 mt-2 text-sm text-gray-600 dark:text-red-400"},$C={class:"text-right"},EC={class:"text-2xl font-bold text-gray-900 dark:text-red-600"},MC={class:"bg-gray-900 dark:bg-black border border-gray-700 dark:border-red-500 rounded-lg p-6 text-center"},IC={class:"flex justify-center space-x-4 mb-4"},TC={key:0,class:"space-y-4"},DC={class:"text-6xl font-mono font-bold text-green-400 dark:text-red-400"},RC={class:"flex justify-center space-x-4"},OC=["disabled"],FC=["disabled"],jC={class:"text-sm text-gray-400 dark:text-gray-500"},UC={key:1,class:"space-y-4"},BC={class:"flex justify-center items-center space-x-2"},qC={class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-6"},zC={class:"flex justify-between items-center mb-4"},HC={class:"flex items-center space-x-4"},VC={class:"text-sm text-gray-600 dark:text-gray-400"},WC=["disabled"],GC={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},KC={class:"flex justify-between items-center mb-3"},YC={class:"font-medium text-gray-900 dark:text-red-600"},JC=["onClick","disabled"],ZC={class:"space-y-3"},XC={class:"text-sm text-gray-600 dark:text-gray-400 sm:w-16 flex-shrink-0"},QC={class:"flex-1 min-w-0"},e9={class:"flex flex-wrap gap-1 max-w-full"},t9=["onClick","disabled"],r9={class:"truncate"},s9={class:"flex items-center space-x-2 flex-shrink-0"},a9={class:"text-sm font-medium text-gray-900 dark:text-red-400 w-8"},n9=["onClick"],o9=["onClick"],i9={class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-6"},l9={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},d9={class:"font-medium text-gray-900 dark:text-red-400"},c9={class:"text-sm text-gray-600 dark:text-gray-400"},u9={class:"flex items-center space-x-2"},f9=["onClick","disabled"],h9={class:"w-8 text-center font-medium text-gray-900 dark:text-red-400"},g9=["onClick"],p9={class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-6"},m9={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},b9={class:"text-center"},v9={class:"text-2xl font-bold text-gray-900 dark:text-red-400"},x9={class:"text-center"},y9={class:"text-2xl font-bold text-red-600 dark:text-red-400"},k9={class:"text-center"},w9={class:"text-2xl font-bold text-green-600 dark:text-red-400"},_9={class:"text-center"},S9={class:"text-2xl font-bold text-purple-600 dark:text-red-400"},A9={class:"flex justify-end space-x-3"},C9=["disabled"],P9=["disabled"],L9=Tt({__name:"IPSCScoring",props:{stage:{},shooter:{},existingScore:{}},emits:["save","complete","cancel"],setup(e,{emit:t}){const r=e,s=t,n=ye(0),o=ye(0),i=ye(!1),l=ye(null),d=ye("stopwatch"),c=ye(new Map),f=ye([]),b=[{name:"A",activeClass:"bg-green-600 text-white",inactiveClass:"bg-white dark:bg-black text-green-600 dark:text-green-400",hoverClass:"bg-green-100 dark:bg-green-900/20"},{name:"C",activeClass:"bg-yellow-600 text-white",inactiveClass:"bg-white dark:bg-black text-yellow-600 dark:text-yellow-400",hoverClass:"bg-yellow-100 dark:bg-yellow-900/20"},{name:"D",activeClass:"bg-orange-600 text-white",inactiveClass:"bg-white dark:bg-black text-orange-600 dark:text-orange-400",hoverClass:"bg-orange-100 dark:bg-orange-900/20"},{name:"MISS",activeClass:"bg-red-600 text-white",inactiveClass:"bg-white dark:bg-black text-red-600 dark:text-red-400",hoverClass:"bg-red-100 dark:bg-red-900/20"},{name:"NO_SHOOT",activeClass:"bg-purple-600 text-white",inactiveClass:"bg-white dark:bg-black text-purple-600 dark:text-purple-400",hoverClass:"bg-purple-100 dark:bg-purple-900/20"}],w=[{type:"MISS",name:"Miss",description:"-10 points"},{type:"NO_SHOOT",name:"No-Shoot",description:"-10 points"},{type:"PROCEDURAL",name:"Procedural",description:"-10 points"},{type:"FOOT_FAULT",name:"Foot Fault",description:"-10 points"},{type:"FAILURE_TO_ENGAGE",name:"FTE",description:"-10 points"}],h=()=>{c.value.clear(),f.value=[],o.value=0,j(),r.existingScore&&(o.value=r.existingScore.stageTime,r.existingScore.hits.forEach(q=>{const te=`${q.targetNumber}-${y(q)}`;c.value.set(te,q)}),f.value=[...r.existingScore.penalties])};Kr(()=>{h()}),Dr([()=>r.shooter,()=>r.stage,()=>r.existingScore],()=>{h()},{deep:!0});const _=()=>{if(i.value)return;i.value=!0;const q=Date.now()-n.value*1e3;l.value=window.setInterval(()=>{n.value=(Date.now()-q)/1e3},10)},O=()=>{i.value&&(i.value=!1,l.value&&(clearInterval(l.value),l.value=null),o.value=n.value)},j=()=>{O(),n.value=0,o.value=0},N=q=>{d.value=q,q==="manual"&&O()};pi(()=>{l.value&&clearInterval(l.value)});const W=q=>{const te=Array.from(c.value.keys()).filter(oe=>oe.startsWith(`${q}-`)).length;return Math.max(te+(Z.value?1:0),te||1)},B=q=>Array.from(c.value.keys()).filter(te=>te.startsWith(`${q}-`)).length,I=(q,te)=>{const oe=`${q}-${te}`;c.value.delete(oe);const pe=Array.from(c.value.entries()).filter(([we,re])=>we.startsWith(`${q}-`)).sort(([we],[re])=>parseInt(we.split("-")[1])-parseInt(re.split("-")[1]));pe.forEach(([we,re])=>c.value.delete(we)),pe.forEach(([we,re],ie)=>{const ne=`${q}-${ie+1}`;c.value.set(ne,re)})},R=q=>{Array.from(c.value.keys()).filter(oe=>oe.startsWith(`${q}-`)).forEach(oe=>c.value.delete(oe))},K=()=>{c.value.clear(),f.value=[],o.value=0,j()},U=q=>{},x=(q,te,oe)=>{const pe=`${q}-${te}`,we={zone:oe,points:A(oe),targetNumber:q};c.value.set(pe,we)},p=(q,te)=>{const oe=`${q}-${te}`;return c.value.get(oe)?.zone||null},E=(q,te)=>c.value.get(`${q}-${te}`)?.points||0,y=q=>Array.from(c.value.entries()).filter(([pe,we])=>pe.startsWith(`${q.targetNumber}-`)).sort(([pe],[we])=>parseInt(pe.split("-")[1])-parseInt(we.split("-")[1])).findIndex(([pe,we])=>we===q)+1,A=q=>{const te=r.shooter.powerFactor||"MINOR";switch(q){case"A":return 5;case"C":return te==="MAJOR"?4:3;case"D":return te==="MAJOR"?2:1;case"MISS":return 0;case"NO_SHOOT":return 0;default:return 0}},H=q=>{const te={type:q,points:-10};f.value.push(te)},F=q=>{const te=f.value.map((oe,pe)=>({penalty:oe,index:pe})).filter(({penalty:oe})=>oe.type===q).pop()?.index;te!==void 0&&f.value.splice(te,1)},ae=q=>f.value.filter(te=>te.type===q).length,ge=Pe(()=>Array.from(c.value.values()).length),he=Pe(()=>r.stage.targetCount*2+Math.floor(r.stage.targetCount/2)),Z=Pe(()=>ge.value<he.value),M=Pe(()=>Array.from(c.value.values()).reduce((q,te)=>q+te.points,0)),z=Pe(()=>f.value.reduce((q,te)=>q+te.points,0)),S=Pe(()=>M.value+z.value),m=Pe(()=>o.value<=0?0:(S.value/o.value).toFixed(4)),C=Pe(()=>o.value>0&&Array.from(c.value.values()).length>0),L=q=>q.toFixed(2),$=()=>{if(!C.value)return;const q={id:`shot_${Date.now()}`,timestamp:new Date,hits:Array.from(c.value.values()),penalties:[...f.value],stageTime:o.value,totalPoints:S.value,hitFactor:parseFloat(m.value.toString())};s("save",q)},V=()=>{if(!C.value)return;const q={id:`shot_${Date.now()}`,timestamp:new Date,hits:Array.from(c.value.values()),penalties:[...f.value],stageTime:o.value,totalPoints:S.value,hitFactor:parseFloat(m.value.toString())};s("complete",q)};return(q,te)=>(G(),X("div",SC,[a("div",AC,[a("div",CC,[a("div",null,[a("h3",PC,D(q.stage.name),1),q.stage.description?(G(),X("p",LC,D(q.stage.description),1)):Ie("",!0),a("div",NC,[a("span",null,D(q.stage.targetCount)+" targets",1),a("span",null,D(q.stage.minimumRounds)+" min rounds",1),a("span",null,D(q.stage.maximumPoints)+" max points",1)])]),a("div",$C,[a("div",EC,D(q.stage.stagePoints),1),te[5]||(te[5]=a("div",{class:"text-xs text-gray-600 dark:text-red-400"},"Stage Points",-1))])])]),a("div",MC,[a("div",IC,[a("button",{onClick:te[0]||(te[0]=oe=>N("stopwatch")),class:Qe(["flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors",d.value==="stopwatch"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},[Me(Ee(jl),{class:"w-4 h-4 mr-2"}),te[6]||(te[6]=We(" Stopwatch Mode ",-1))],2),a("button",{onClick:te[1]||(te[1]=oe=>N("manual")),class:Qe(["flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors",d.value==="manual"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},[Me(Ee(rm),{class:"w-4 h-4 mr-2"}),te[7]||(te[7]=We(" Manual Entry ",-1))],2)]),d.value==="stopwatch"?(G(),X("div",TC,[a("div",DC,D(L(n.value)),1),a("div",RC,[a("button",{onClick:_,disabled:i.value,class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[Me(Ee(yc),{class:"w-5 h-5 inline mr-2"}),te[8]||(te[8]=We(" Start ",-1))],8,OC),a("button",{onClick:O,disabled:!i.value,class:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},[Me(Ee(am),{class:"w-5 h-5 inline mr-2"}),te[9]||(te[9]=We(" Stop ",-1))],8,FC),a("button",{onClick:j,class:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"},[Me(Ee(F0),{class:"w-5 h-5 inline mr-2"}),te[10]||(te[10]=We(" Reset ",-1))])]),a("div",jC," Final Time: "+D(L(o.value)),1)])):(G(),X("div",UC,[te[12]||(te[12]=a("div",{class:"text-2xl font-medium text-red-600 dark:text-red-400 mb-4"}," Enter Stage Time ",-1)),a("div",BC,[De(a("input",{"onUpdate:modelValue":te[2]||(te[2]=oe=>o.value=oe),type:"number",step:"0.01",min:"0",class:"w-32 px-4 py-3 text-2xl bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 rounded-lg text-gray-900 dark:text-black text-center font-mono",placeholder:"0.00",onInput:te[3]||(te[3]=oe=>n.value=o.value)},null,544),[[rt,o.value]]),te[11]||(te[11]=a("span",{class:"text-lg text-gray-400 dark:text-gray-500"},"seconds",-1))]),te[13]||(te[13]=a("div",{class:"text-sm text-gray-400 dark:text-gray-500"}," Enter the shooter's stage time manually ",-1))]))]),a("div",qC,[a("div",zC,[te[14]||(te[14]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-600"},"Target Scoring",-1)),a("div",HC,[a("div",VC," Shots: "+D(ge.value)+"/"+D(he.value)+" max ",1),a("button",{onClick:K,disabled:ge.value===0,class:"px-3 py-1 text-sm font-medium text-red-600 dark:text-red-400 border border-red-300 dark:border-red-500 rounded hover:bg-red-50 dark:hover:bg-red-700/10 disabled:opacity-50 disabled:cursor-not-allowed"}," Clear All ",8,WC)])]),a("div",GC,[(G(!0),X(Ye,null,nt(q.stage.targetCount,oe=>(G(),X("div",{key:oe,class:"border border-gray-200 dark:border-red-500 rounded-lg p-3 min-w-0 overflow-hidden"},[a("div",KC,[a("h4",YC,"Target "+D(oe),1),a("button",{onClick:pe=>R(oe),disabled:B(oe)===0,class:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed"}," Clear ",8,JC)]),a("div",ZC,[(G(!0),X(Ye,null,nt(W(oe),pe=>(G(),X("div",{key:pe,class:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2"},[a("span",XC,"Shot "+D(pe)+":",1),a("div",QC,[a("div",e9,[(G(),X(Ye,null,nt(b,we=>a("button",{key:we.name,onClick:re=>x(oe,pe,we.name),disabled:!Z.value&&!p(oe,pe),class:Qe(["px-2 py-1 text-xs font-medium rounded border-2 transition-colors flex-shrink-0 min-w-0",p(oe,pe)===we.name?`${we.activeClass} border-current`:`${we.inactiveClass} border-gray-300 dark:border-red-500/30 hover:${we.hoverClass}`,!Z.value&&!p(oe,pe)?"opacity-50 cursor-not-allowed":""])},[a("span",r9,D(we.name==="NO_SHOOT"?"NS":we.name),1)],10,t9)),64))])]),a("div",s9,[a("div",a9,D(E(oe,pe)),1),p(oe,pe)?(G(),X("button",{key:0,onClick:we=>I(oe,pe),class:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 w-4 h-4 flex items-center justify-center"},"  ",8,n9)):Ie("",!0)])]))),128)),W(oe)<5?(G(),X("button",{key:0,onClick:pe=>U(),class:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300"}," + Add Shot ",8,o9)):Ie("",!0)])]))),128))])]),a("div",i9,[te[15]||(te[15]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-600 mb-4"},"Penalties",-1)),a("div",l9,[(G(),X(Ye,null,nt(w,oe=>a("div",{key:oe.type,class:"flex items-center justify-between p-3 border border-gray-200 dark:border-red-500 rounded"},[a("div",null,[a("div",d9,D(oe.name),1),a("div",c9,D(oe.description),1)]),a("div",u9,[a("button",{onClick:pe=>F(oe.type),disabled:ae(oe.type)===0,class:"w-8 h-8 flex items-center justify-center bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded hover:bg-red-200 dark:hover:bg-red-900/40 disabled:opacity-50 disabled:cursor-not-allowed"}," - ",8,f9),a("span",h9,D(ae(oe.type)),1),a("button",{onClick:pe=>H(oe.type),class:"w-8 h-8 flex items-center justify-center bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded hover:bg-green-200 dark:hover:bg-green-900/40"}," + ",8,g9)])])),64))])]),a("div",p9,[te[20]||(te[20]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-600 mb-4"},"Score Summary",-1)),a("div",m9,[a("div",b9,[a("div",v9,D(M.value),1),te[16]||(te[16]=a("div",{class:"text-sm text-gray-600 dark:text-red-400"},"Hit Points",-1))]),a("div",x9,[a("div",y9,D(z.value),1),te[17]||(te[17]=a("div",{class:"text-sm text-red-600 dark:text-red-400"},"Penalties",-1))]),a("div",k9,[a("div",w9,D(S.value),1),te[18]||(te[18]=a("div",{class:"text-sm text-green-600 dark:text-red-400"},"Total Points",-1))]),a("div",_9,[a("div",S9,D(m.value),1),te[19]||(te[19]=a("div",{class:"text-sm text-purple-600 dark:text-red-400"},"Hit Factor",-1))])])]),a("div",A9,[a("button",{onClick:te[4]||(te[4]=oe=>q.$emit("cancel")),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10"}," Cancel "),a("button",{onClick:$,disabled:!C.value,class:"px-6 py-2 text-sm font-medium text-white bg-blue-600 dark:bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 dark:hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Save Score ",8,C9),a("button",{onClick:V,disabled:!C.value,class:"px-6 py-2 text-sm font-medium text-white bg-green-600 dark:bg-green-600 border border-transparent rounded-md hover:bg-green-700 dark:hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Complete Stage ",8,P9)])]))}}),N9={class:"space-y-6"},$9={class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-4"},E9={class:"flex justify-between items-start"},M9={class:"font-medium text-gray-900 dark:text-red-600"},I9={key:0,class:"text-sm text-gray-600 dark:text-red-400 mt-1"},T9={class:"flex items-center space-x-4 mt-2 text-sm text-gray-600 dark:text-red-400"},D9={class:"bg-gray-900 dark:bg-black border border-gray-700 dark:border-red-500 rounded-lg p-6 text-center"},R9={class:"flex justify-center space-x-4 mb-4"},O9={key:0,class:"space-y-4"},F9={class:"text-6xl font-mono font-bold text-red-600 dark:text-red-400"},j9={class:"flex justify-center space-x-4"},U9=["disabled"],B9=["disabled"],q9={class:"text-sm text-gray-400 dark:text-gray-500"},z9={key:1,class:"space-y-4"},H9={class:"flex justify-center items-center space-x-2"},V9={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},W9={class:"flex justify-between items-center mb-3"},G9={class:"font-medium text-gray-900 dark:text-red-600"},K9={class:"text-xs text-gray-500 dark:text-red-400"},Y9={class:"space-y-2"},J9={class:"text-sm text-gray-600 dark:text-red-400 w-8"},Z9={class:"flex space-x-1 flex-wrap flex-1"},X9=["onClick"],Q9={key:0,class:"mt-2"},eP=["onClick"],tP={class:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4"},rP={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},sP={class:"text-sm text-orange-800 dark:text-orange-300"},aP={class:"flex items-center space-x-2"},nP=["onClick","disabled"],oP={class:"w-8 text-center font-mono text-orange-900 dark:text-orange-400"},iP=["onClick"],lP={class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},dP={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},cP={class:"text-center"},uP={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},fP={class:"text-center"},hP={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},gP={class:"text-center"},pP={class:"text-2xl font-bold text-green-600 dark:text-green-400"},mP={class:"text-center"},bP={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},vP={class:"mt-4 pt-4 border-t border-green-200 dark:border-green-700"},xP={class:"grid grid-cols-4 gap-2 text-xs"},yP={class:"text-center"},kP={class:"font-bold text-green-600 dark:text-green-400"},wP={class:"text-center"},_P={class:"font-bold text-yellow-600 dark:text-yellow-400"},SP={class:"text-center"},AP={class:"font-bold text-orange-600 dark:text-orange-400"},CP={class:"text-center"},PP={class:"font-bold text-red-600 dark:text-red-400"},LP={class:"flex justify-end space-x-3"},NP=["disabled"],$P=["disabled"],EP=Tt({__name:"IDPAScoring",props:{stage:{},shooter:{},stageIndex:{}},emits:["save","complete","cancel"],setup(e,{emit:t}){const r=e,s=t,n=ye(!1),o=ye(0),i=ye(0),l=ye("stopwatch");let d=null;const c=ye(new Map),f=ye([]),b=ye(new Map),w=()=>{n.value||(n.value=!0,d=setInterval(()=>{o.value+=.01},10))},h=()=>{n.value&&(n.value=!1,d&&(clearInterval(d),d=null),i.value=o.value)},_=()=>{n.value=!1,d&&(clearInterval(d),d=null),o.value=0,i.value=0},O=C=>{l.value=C,C==="manual"&&_()},j=C=>{const $=C+1<=r.stage.limitedTargets,V=V.value.get(C)||0;return r.stage.stringCount+($?0:V)},N=C=>C+1<=r.stage.limitedTargets?"Limited":"Unlimited",W=C=>r.stage.stringCount,B=C=>{const L=b.value.get(C)||0;b.value.set(C,L+1)},I=(C,L,$)=>{const V=`${C}-${L}`,q=C+1,te={zone:$,penaltySeconds:K($),targetNumber:q};c.value.set(V,te)},R=(C,L)=>{const $=`${C}-${L}`;return c.value.get($)?.zone},K=C=>{switch(C){case"DOWN_0":return 0;case"DOWN_1":return .5;case"DOWN_3":return 1.5;case"MISS":return 5;case"NON_THREAT":return 5;default:return 0}},U=(C,L)=>{const $=L?"ring-2 ring-offset-1":"hover:bg-opacity-80";switch(C){case"DOWN_0":return L?`bg-green-600 text-white border-green-600 ring-green-500 ${$}`:`bg-green-100 text-green-800 border-green-300 hover:bg-green-200 dark:bg-green-900 dark:text-green-300 dark:border-green-700 dark:hover:bg-green-800 ${$}`;case"DOWN_1":return L?`bg-yellow-600 text-white border-yellow-600 ring-yellow-500 ${$}`:`bg-yellow-100 text-yellow-800 border-yellow-300 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-300 dark:border-yellow-700 dark:hover:bg-yellow-800 ${$}`;case"DOWN_3":return L?`bg-orange-600 text-white border-orange-600 ring-orange-500 ${$}`:`bg-orange-100 text-orange-800 border-orange-300 hover:bg-orange-200 dark:bg-orange-900 dark:text-orange-300 dark:border-orange-700 dark:hover:bg-orange-800 ${$}`;case"MISS":return L?`bg-red-600 text-white border-red-600 ring-red-500 ${$}`:`bg-red-100 text-red-800 border-red-300 hover:bg-red-200 dark:bg-red-900 dark:text-red-300 dark:border-red-700 dark:hover:bg-red-800 ${$}`;case"NON_THREAT":return L?`bg-purple-600 text-white border-purple-600 ring-purple-500 ${$}`:`bg-purple-100 text-purple-800 border-purple-300 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-300 dark:border-purple-700 dark:hover:bg-purple-800 ${$}`;default:return`bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-800 ${$}`}},x=C=>{switch(C){case"DOWN_0":return"0";case"DOWN_1":return"1";case"DOWN_3":return"3";case"MISS":return"M";case"NON_THREAT":return"NT";default:return C}},p=C=>{const L=C==="PROCEDURAL"?3:5;f.value.push({type:C,seconds:L})},E=C=>{const L=f.value.findIndex($=>$.type===C);L!==-1&&f.value.splice(L,1)},y=C=>f.value.filter(L=>L.type===C).length,A=C=>C.replace(/_/g," ").toLowerCase().replace(/\b\w/g,L=>L.toUpperCase()),H=C=>Array.from(c.value.values()).filter(L=>L.zone===C).length,F=Pe(()=>{const C=Array.from(c.value.values()).reduce(($,V)=>$+V.penaltySeconds,0),L=f.value.reduce(($,V)=>$+V.seconds,0);return C+L}),ae=Pe(()=>(i.value||0)+F.value),ge=Pe(()=>H("DOWN_1")+H("DOWN_3")*3),he=Pe(()=>{let C=0;return c.value.forEach(L=>{L.zone&&L.zone!=="MISS"&&L.zone!=="NON_THREAT"&&C++}),C}),Z=Pe(()=>r.stage.targetCount*r.stage.stringCount);Pe(()=>he.value<Z.value);const M=Pe(()=>i.value>0&&Array.from(c.value.values()).length>0),z=C=>C.toFixed(2),S=()=>{if(!M.value)return;const C={id:`shot_${Date.now()}`,timestamp:new Date,hits:Array.from(c.value.values()),penalties:[...f.value],stageTime:i.value,totalTime:ae.value};s("save",C)},m=()=>{if(!M.value)return;const C={id:`shot_${Date.now()}`,timestamp:new Date,hits:Array.from(c.value.values()),penalties:[...f.value],stageTime:i.value,totalTime:ae.value};s("complete",C)};return pi(()=>{d&&clearInterval(d)}),(C,L)=>(G(),X("div",N9,[a("div",$9,[a("div",E9,[a("div",null,[a("h3",M9,D(C.stage.name),1),C.stage.description?(G(),X("p",I9,D(C.stage.description),1)):Ie("",!0),a("div",T9,[a("span",null,D(C.stage.targetCount)+" targets",1),a("span",null,D(C.stage.stringCount)+" strings",1),a("span",null,D(C.stage.scenario),1)])]),L[5]||(L[5]=a("div",{class:"text-right"},[a("div",{class:"text-sm text-gray-600 dark:text-red-400"},"IDPA Stage")],-1))])]),a("div",D9,[a("div",R9,[a("button",{onClick:L[0]||(L[0]=$=>O("stopwatch")),class:Qe(["flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors",l.value==="stopwatch"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},[Me(Ee(jl),{class:"w-4 h-4 mr-2"}),L[6]||(L[6]=We(" Stopwatch Mode ",-1))],2),a("button",{onClick:L[1]||(L[1]=$=>O("manual")),class:Qe(["flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors",l.value==="manual"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},[Me(Ee(rm),{class:"w-4 h-4 mr-2"}),L[7]||(L[7]=We(" Manual Entry ",-1))],2)]),l.value==="stopwatch"?(G(),X("div",O9,[a("div",F9,D(z(o.value)),1),a("div",j9,[a("button",{onClick:w,disabled:n.value,class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[Me(Ee(yc),{class:"w-5 h-5 inline mr-2"}),L[8]||(L[8]=We(" Start ",-1))],8,U9),a("button",{onClick:h,disabled:!n.value,class:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},[Me(Ee(am),{class:"w-5 h-5 inline mr-2"}),L[9]||(L[9]=We(" Stop ",-1))],8,B9),a("button",{onClick:_,class:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"},[Me(Ee(F0),{class:"w-5 h-5 inline mr-2"}),L[10]||(L[10]=We(" Reset ",-1))])]),a("div",q9," Final Time: "+D(z(i.value)),1)])):(G(),X("div",z9,[L[12]||(L[12]=a("div",{class:"text-2xl font-medium text-red-600 dark:text-red-400 mb-4"}," Enter Stage Time ",-1)),a("div",H9,[De(a("input",{"onUpdate:modelValue":L[2]||(L[2]=$=>i.value=$),type:"number",step:"0.01",min:"0",class:"w-32 px-4 py-3 text-2xl bg-white dark:bg-red-600 border border-gray-300 dark:border-red-500 rounded-lg text-gray-900 dark:text-black text-center font-mono",placeholder:"0.00",onInput:L[3]||(L[3]=$=>o.value=i.value)},null,544),[[rt,i.value]]),L[11]||(L[11]=a("span",{class:"text-lg text-gray-400 dark:text-gray-500"},"seconds",-1))])]))]),a("div",V9,[(G(!0),X(Ye,null,nt(C.stage.targetCount,$=>(G(),X("div",{key:$,class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-4"},[a("div",W9,[a("h4",G9,"Target "+D($),1),a("div",K9,D(N($-1))+" ("+D(W())+" shots) ",1)]),a("div",Y9,[(G(!0),X(Ye,null,nt(j($-1),V=>(G(),X("div",{key:V,class:"flex items-center space-x-2"},[a("span",J9,D(V)+":",1),a("div",Z9,[(G(),X(Ye,null,nt(["DOWN_0","DOWN_1","DOWN_3","MISS","NON_THREAT"],q=>a("button",{key:q,onClick:te=>I($-1,V-1,q),class:Qe(["px-2 py-1 text-xs rounded border transition-colors",R($-1,V-1)===q?U(q,!0):U(q,!1)])},D(x(q)),11,X9)),64))])]))),128)),N($-1)==="Unlimited"?(G(),X("div",Q9,[a("button",{onClick:V=>B($-1),class:"w-full px-3 py-2 text-sm bg-blue-100 hover:bg-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 text-blue-800 dark:text-blue-200 rounded border border-blue-300 dark:border-blue-600 transition-colors"}," + Add Extra Shot ",8,eP)])):Ie("",!0)])]))),128))]),a("div",tP,[L[13]||(L[13]=a("h3",{class:"font-medium text-orange-900 dark:text-orange-400 mb-3"},"Penalties",-1)),a("div",rP,[(G(),X(Ye,null,nt(["PROCEDURAL","FOOT_FAULT","COVER_VIOLATION"],$=>a("div",{key:$,class:"flex items-center justify-between"},[a("span",sP,D(A($)),1),a("div",aP,[a("button",{onClick:V=>E($),disabled:y($)===0,class:"w-8 h-8 bg-red-100 hover:bg-red-200 dark:bg-red-900 dark:hover:bg-red-800 text-red-600 dark:text-red-400 rounded disabled:opacity-50 disabled:cursor-not-allowed text-lg font-bold"}," - ",8,nP),a("span",oP,D(y($)),1),a("button",{onClick:V=>p($),class:"w-8 h-8 bg-green-100 hover:bg-green-200 dark:bg-green-900 dark:hover:bg-green-800 text-green-600 dark:text-green-400 rounded text-lg font-bold"}," + ",8,iP)])])),64))])]),a("div",lP,[L[23]||(L[23]=a("h3",{class:"font-medium text-green-900 dark:text-green-400 mb-3"},"Score Summary",-1)),a("div",dP,[a("div",cP,[a("div",uP,D(z(i.value))+"s",1),L[14]||(L[14]=a("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Raw Time",-1))]),a("div",fP,[a("div",hP,"+"+D(z(F.value))+"s",1),L[15]||(L[15]=a("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Penalty Time",-1))]),a("div",gP,[a("div",pP,D(z(ae.value))+"s",1),L[16]||(L[16]=a("div",{class:"text-sm text-green-700 dark:text-green-300"},"Total Time",-1))]),a("div",mP,[a("div",bP,D(ge.value),1),L[17]||(L[17]=a("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Points Down",-1))])]),a("div",vP,[L[22]||(L[22]=a("h4",{class:"text-sm font-medium text-green-900 dark:text-green-400 mb-2"},"Hit Breakdown",-1)),a("div",xP,[a("div",yP,[a("div",kP,D(H("DOWN_0")),1),L[18]||(L[18]=a("div",{class:"text-green-700 dark:text-green-300"},"Down 0",-1))]),a("div",wP,[a("div",_P,D(H("DOWN_1")),1),L[19]||(L[19]=a("div",{class:"text-yellow-700 dark:text-yellow-300"},"Down 1",-1))]),a("div",SP,[a("div",AP,D(H("DOWN_3")),1),L[20]||(L[20]=a("div",{class:"text-orange-700 dark:text-orange-300"},"Down 3",-1))]),a("div",CP,[a("div",PP,D(H("MISS")+H("NON_THREAT")),1),L[21]||(L[21]=a("div",{class:"text-red-700 dark:text-red-300"},"Miss/NT",-1))])])])]),a("div",LP,[a("button",{onClick:L[4]||(L[4]=$=>C.$emit("cancel")),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10"}," Cancel "),a("button",{onClick:S,disabled:!M.value,class:"px-6 py-2 text-sm font-medium text-white bg-blue-600 dark:bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 dark:hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Save Score ",8,NP),a("button",{onClick:m,disabled:!M.value,class:"px-6 py-2 text-sm font-medium text-white bg-green-600 dark:bg-green-600 border border-transparent rounded-md hover:bg-green-700 dark:hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Complete Stage ",8,$P)])]))}}),MP={class:"fixed inset-0 z-[10001] overflow-y-auto","aria-labelledby":"add-shooter-modal-title",role:"dialog","aria-modal":"true"},IP={class:"flex items-center justify-center min-h-screen p-4"},TP={class:"relative bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all w-full max-w-md border border-gray-200 dark:border-red-500"},DP={class:"px-6 py-4 border-b border-gray-200 dark:border-red-500"},RP={class:"flex items-center justify-between"},OP=["value"],FP={key:0},jP=["value"],UP={class:"flex items-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700"},BP={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-red-500"},qP=Tt({__name:"AddShooterModal",props:{sportType:{}},emits:["close","add"],setup(e,{emit:t}){const r=e,s=t,n=ye({name:"",email:"",division:"",powerFactor:"",membershipNumber:"",classification:"",isCurrentUser:!1}),o=Pe(()=>r.sportType==="IPSC"?[{value:"OPEN",label:"Open"},{value:"LIMITED",label:"Limited"},{value:"LIMITED_10",label:"Limited 10"},{value:"PRODUCTION",label:"Production"},{value:"STANDARD",label:"Standard"},{value:"CLASSIC",label:"Classic"}]:[{value:"CDP",label:"Custom Defensive Pistol (CDP)"},{value:"ESP",label:"Enhanced Service Pistol (ESP)"},{value:"SSP",label:"Stock Service Pistol (SSP)"},{value:"CCP",label:"Carry Concealed Pistol (CCP)"},{value:"BUG",label:"Back Up Gun (BUG)"},{value:"PCC",label:"Pistol Caliber Carbine (PCC)"}]),i=Pe(()=>r.sportType==="IPSC"?["GM","M","A","B","C","D","U"]:["MA","EX","SS","MM","AM","NV","UN"]),l=()=>{const d={id:`shooter_${Date.now()}`,name:n.value.name,email:n.value.email||void 0,division:n.value.division,powerFactor:n.value.powerFactor||void 0,membershipNumber:n.value.membershipNumber||void 0,classification:n.value.classification||void 0,isCurrentUser:n.value.isCurrentUser};s("add",d)};return(d,c)=>(G(),X("div",MP,[a("div",IP,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 backdrop-blur-sm transition-opacity","aria-hidden":"true",onClick:c[0]||(c[0]=f=>d.$emit("close"))}),a("div",TP,[a("div",DP,[a("div",RP,[c[10]||(c[10]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-600",id:"add-shooter-modal-title"}," Add Shooter ",-1)),a("button",{onClick:c[1]||(c[1]=f=>d.$emit("close")),class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300"},[Me(Ee(nn),{class:"w-6 h-6"})])])]),a("form",{onSubmit:Gs(l,["prevent"]),class:"p-6 space-y-4"},[a("div",null,[c[11]||(c[11]=a("label",{for:"shooterName",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Full Name * ",-1)),De(a("input",{id:"shooterName","onUpdate:modelValue":c[2]||(c[2]=f=>n.value.name=f),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent",placeholder:"Enter shooter's full name"},null,512),[[rt,n.value.name]])]),a("div",null,[c[12]||(c[12]=a("label",{for:"shooterEmail",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Email ",-1)),De(a("input",{id:"shooterEmail","onUpdate:modelValue":c[3]||(c[3]=f=>n.value.email=f),type:"email",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent",placeholder:"shooter@example.com"},null,512),[[rt,n.value.email]])]),a("div",null,[c[14]||(c[14]=a("label",{for:"shooterDivision",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Division * ",-1)),De(a("select",{id:"shooterDivision","onUpdate:modelValue":c[4]||(c[4]=f=>n.value.division=f),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent"},[c[13]||(c[13]=a("option",{value:""},"Select Division",-1)),(G(!0),X(Ye,null,nt(o.value,f=>(G(),X("option",{key:f.value,value:f.value},D(f.label),9,OP))),128))],512),[[Et,n.value.division]])]),d.sportType==="IPSC"?(G(),X("div",FP,[c[16]||(c[16]=a("label",{for:"powerFactor",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Power Factor * ",-1)),De(a("select",{id:"powerFactor","onUpdate:modelValue":c[5]||(c[5]=f=>n.value.powerFactor=f),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent"},[...c[15]||(c[15]=[a("option",{value:""},"Select Power Factor",-1),a("option",{value:"MAJOR"},"Major",-1),a("option",{value:"MINOR"},"Minor",-1)])],512),[[Et,n.value.powerFactor]])])):Ie("",!0),a("div",null,[c[17]||(c[17]=a("label",{for:"membershipNumber",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Membership Number ",-1)),De(a("input",{id:"membershipNumber","onUpdate:modelValue":c[6]||(c[6]=f=>n.value.membershipNumber=f),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent",placeholder:"Optional membership number"},null,512),[[rt,n.value.membershipNumber]])]),a("div",null,[c[19]||(c[19]=a("label",{for:"classification",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Classification ",-1)),De(a("select",{id:"classification","onUpdate:modelValue":c[7]||(c[7]=f=>n.value.classification=f),class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent"},[c[18]||(c[18]=a("option",{value:""},"Select Classification",-1)),(G(!0),X(Ye,null,nt(i.value,f=>(G(),X("option",{key:f,value:f},D(f),9,jP))),128))],512),[[Et,n.value.classification]])]),a("div",UP,[De(a("input",{id:"isCurrentUser","onUpdate:modelValue":c[8]||(c[8]=f=>n.value.isCurrentUser=f),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"},null,512),[[Bs,n.value.isCurrentUser]]),c[20]||(c[20]=Xt('<div class="flex-1"><label for="isCurrentUser" class="text-sm font-medium text-blue-900 dark:text-blue-200 cursor-pointer"> This is me (logged-in user) </label><p class="text-xs text-blue-700 dark:text-blue-300 mt-1"> Records for this shooter will be tracked specifically for your profile </p></div><div class="text-blue-600 dark:text-blue-400"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg></div>',2))]),a("div",BP,[a("button",{type:"button",onClick:c[9]||(c[9]=f=>d.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"}," Cancel "),c[21]||(c[21]=a("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-red-600 dark:bg-red-600 border border-transparent rounded-md hover:bg-red-700 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-500"}," Add Shooter ",-1))])],32)])])]))}}),zP={class:"fixed inset-0 z-[10002] overflow-y-auto","aria-labelledby":"results-modal-title",role:"dialog","aria-modal":"true"},HP={class:"flex items-center justify-center min-h-screen p-4"},VP={class:"relative bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all w-full max-w-6xl border border-gray-200 dark:border-red-500"},WP={class:"px-6 py-4 border-b border-gray-200 dark:border-red-500 bg-gray-50 dark:bg-red-700/10"},GP={class:"flex items-center justify-between"},KP={class:"text-xl font-bold text-gray-900 dark:text-red-600",id:"results-modal-title"},YP={class:"text-sm text-gray-600 dark:text-gray-300 mt-1"},JP={class:"flex items-center space-x-3"},ZP={class:"border-b border-gray-200 dark:border-red-500"},XP={class:"flex space-x-8 px-6","aria-label":"Tabs"},QP=["onClick"],eL={class:"p-6 max-h-[600px] overflow-y-auto"},tL={key:0,class:"space-y-6"},rL={class:"flex justify-between items-center"},sL={class:"flex items-center space-x-2"},aL=["value"],nL={class:"overflow-x-auto"},oL={class:"min-w-full divide-y divide-gray-200 dark:divide-red-500"},iL={class:"bg-gray-50 dark:bg-red-700/10"},lL={key:0,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},dL={key:1,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},cL={key:2,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},uL={key:3,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},fL={class:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-red-500"},hL={class:"px-6 py-4 whitespace-nowrap"},gL={class:"flex items-center"},pL={class:"text-sm font-medium text-gray-900 dark:text-red-400"},mL={key:0,class:"ml-2"},bL={class:"px-6 py-4 whitespace-nowrap"},vL={class:"text-sm font-medium text-gray-900 dark:text-red-400"},xL={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},yL={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},kL={key:0,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},wL={key:1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},_L={key:2,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},SL={key:3,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},AL={class:"px-6 py-4 whitespace-nowrap"},CL={class:"text-sm text-gray-900 dark:text-red-400"},PL={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},LL={key:1,class:"space-y-6"},NL={class:"flex justify-between items-center"},$L={class:"flex items-center space-x-2"},EL=["value"],ML={key:0,class:"overflow-x-auto"},IL={class:"min-w-full divide-y divide-gray-200 dark:divide-red-500"},TL={class:"bg-gray-50 dark:bg-red-700/10"},DL={key:0,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},RL={key:1,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},OL={key:2,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},FL={key:3,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},jL={class:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-red-500"},UL={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-red-400"},BL={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-red-400"},qL={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},zL={key:0,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},HL={key:1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},VL={key:2,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},WL={key:3,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-red-400"},GL={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},KL=["onClick"],YL={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},JL={key:2,class:"space-y-6"},ZL={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},XL={class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-4 text-center"},QL={class:"text-2xl font-bold text-gray-900 dark:text-red-400"},eN={class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-4 text-center"},tN={class:"text-2xl font-bold text-green-600 dark:text-red-400"},rN={class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-4 text-center"},sN={class:"text-2xl font-bold text-gray-900 dark:text-red-400"},aN={class:"bg-white dark:bg-black border border-gray-200 dark:border-red-500 rounded-lg p-4 text-center"},nN={class:"text-2xl font-bold text-purple-600 dark:text-red-400"},oN={class:"bg-gray-50 dark:bg-red-700/5 border border-gray-200 dark:border-red-500 rounded-lg p-4"},iN={class:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm"},lN={class:"text-gray-600 dark:text-gray-400"},dN={class:"font-medium text-gray-900 dark:text-red-400"},cN={class:"px-6 py-3 bg-gray-50 dark:bg-red-700/10 border-t border-gray-200 dark:border-red-500 flex justify-between items-center"},uN={class:"text-sm text-gray-600 dark:text-gray-300"},fN=Tt({__name:"ScoringResultsModal",props:{match:{},scores:{}},emits:["close"],setup(e,{emit:t}){const r=e,s=ye("overall"),n=ye(""),o=ye(r.match.stages[0]?.id||""),i=[{id:"overall",name:"Overall",icon:Qd},{id:"stages",name:"By Stage",icon:Rr},{id:"stats",name:"Statistics",icon:tn}],l=Pe(()=>{const I=new Set;for(const[R,K]of r.scores){const U=r.match.shooters?.find(x=>x.id===R);U?.division&&I.add(U.division)}return Array.from(I).sort()}),d=Pe(()=>{const I=[];for(const[R,K]of r.scores){const U=r.match.shooters?.find(y=>y.id===R),x=U?.name||`Shooter ${R.slice(-4)}`,p=U?.division||"OPEN",E=K.size;if(!(n.value&&p!==n.value))if(r.match.sportType==="IPSC"){let y=0;for(const[A,H]of K)y+=H.totalPoints||0;I.push({shooterId:R,shooterName:x,division:p,totalPoints:y,percentage:85.5,stagesComplete:E,place:0})}else{let y=0,A=0;for(const[H,F]of K)y+=F.totalTime||0;I.push({shooterId:R,shooterName:x,division:p,totalTime:y,pointsDown:A,stagesComplete:E,place:0})}}return r.match.sportType==="IPSC"?I.sort((R,K)=>K.totalPoints-R.totalPoints):I.sort((R,K)=>R.totalTime-K.totalTime),I.forEach((R,K)=>{R.place=K+1}),I}),c=Pe(()=>{if(!o.value)return[];const I=[];for(const[R,K]of r.scores){const U=K.get(o.value);if(!U)continue;const p=r.match.shooters?.find(E=>E.id===R)?.name||`Shooter ${R.slice(-4)}`;if(r.match.sportType==="IPSC"){const E=U;I.push({shooterId:R,shooterName:p,rawTime:E.stageTime,points:E.totalPoints,hitFactor:E.hitFactor,place:0})}else{const E=U;I.push({shooterId:R,shooterName:p,rawTime:E.stageTime,penalties:E.totalTime-E.stageTime,totalTime:E.totalTime,place:0})}}return r.match.sportType==="IPSC"?I.sort((R,K)=>K.hitFactor-R.hitFactor):I.sort((R,K)=>R.totalTime-K.totalTime),I.forEach((R,K)=>{R.place=K+1}),I}),f=Pe(()=>r.scores.size),b=Pe(()=>{let I=0;for(const[R,K]of r.scores)K.size===r.match.stages.length&&I++;return I}),w=Pe(()=>{let I=0;for(const[R,K]of r.scores)I+=K.size;return I}),h=Pe(()=>{const I=r.scores.size*r.match.stages.length;return I>0?w.value/I:0}),_=Pe(()=>{const I={};return I.OPEN=5,I.LIMITED=3,I.PRODUCTION=7,I}),O=I=>new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}).format(new Date(I)),j=I=>I.toFixed(2),N=I=>{switch(I){case 1:return"text-yellow-500";case 2:return"text-gray-400";case 3:return"text-orange-600";default:return"text-gray-300"}},W=I=>{alert(`Score details for ${I.shooterName} - Feature coming soon!`)},B=()=>{alert("PDF export feature coming soon!")};return(I,R)=>(G(),X("div",zP,[a("div",HP,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 backdrop-blur-sm transition-opacity","aria-hidden":"true",onClick:R[0]||(R[0]=K=>I.$emit("close"))}),a("div",VP,[a("div",WP,[a("div",GP,[a("div",null,[a("h3",KP," Match Results - "+D(I.match.name),1),a("p",YP,D(I.match.sportType)+"  "+D(O(I.match.date))+"  "+D(I.match.location),1)]),a("div",JP,[a("button",{onClick:B,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10"},[Me(Ee(X1),{class:"w-4 h-4 inline mr-2"}),R[5]||(R[5]=We(" Export PDF ",-1))]),a("button",{onClick:R[1]||(R[1]=K=>I.$emit("close")),class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-red-700/20"},[Me(Ee(nn),{class:"w-6 h-6"})])])])]),a("div",ZP,[a("nav",XP,[(G(),X(Ye,null,nt(i,K=>a("button",{key:K.id,onClick:U=>s.value=K.id,class:Qe(["py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap",s.value===K.id?"border-blue-500 dark:border-red-500 text-blue-600 dark:text-red-500":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-red-300 hover:border-gray-300 dark:hover:border-red-400"])},[(G(),Ut(ns(K.icon),{class:"w-5 h-5 inline mr-2"})),We(" "+D(K.name),1)],10,QP)),64))])]),a("div",eL,[s.value==="overall"?(G(),X("div",tL,[a("div",rL,[R[8]||(R[8]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-red-600"},"Overall Rankings",-1)),a("div",sL,[R[7]||(R[7]=a("label",{class:"text-sm text-gray-600 dark:text-gray-400"},"Division:",-1)),De(a("select",{"onUpdate:modelValue":R[2]||(R[2]=K=>n.value=K),class:"px-3 py-1 text-sm border border-gray-300 dark:border-red-500 rounded bg-white dark:bg-black text-gray-900 dark:text-red-400"},[R[6]||(R[6]=a("option",{value:""},"All Divisions",-1)),(G(!0),X(Ye,null,nt(l.value,K=>(G(),X("option",{key:K,value:K},D(K),9,aL))),128))],512),[[Et,n.value]])])]),a("div",nL,[a("table",oL,[a("thead",iL,[a("tr",null,[R[9]||(R[9]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Place",-1)),R[10]||(R[10]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Shooter",-1)),R[11]||(R[11]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Division",-1)),I.match.sportType==="IPSC"?(G(),X("th",lL,"Total Points")):Ie("",!0),I.match.sportType==="IPSC"?(G(),X("th",dL,"Percentage")):Ie("",!0),I.match.sportType==="IDPA"?(G(),X("th",cL,"Total Time")):Ie("",!0),I.match.sportType==="IDPA"?(G(),X("th",uL,"Points Down")):Ie("",!0),R[12]||(R[12]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Stages Complete",-1))])]),a("tbody",fL,[(G(!0),X(Ye,null,nt(d.value,K=>(G(),X("tr",{key:K.shooterId,class:"hover:bg-gray-50 dark:hover:bg-red-700/5"},[a("td",hL,[a("div",gL,[a("div",pL,D(K.place),1),K.place<=3?(G(),X("div",mL,[Me(Ee(Ex),{class:Qe(["w-4 h-4",N(K.place)])},null,8,["class"])])):Ie("",!0)])]),a("td",bL,[a("div",vL,D(K.shooterName),1),K.classification?(G(),X("div",xL,D(K.classification),1)):Ie("",!0)]),a("td",yL,D(K.division),1),I.match.sportType==="IPSC"?(G(),X("td",kL,D(K.totalPoints),1)):Ie("",!0),I.match.sportType==="IPSC"?(G(),X("td",wL,D(K.percentage)+"%",1)):Ie("",!0),I.match.sportType==="IDPA"?(G(),X("td",_L,D(j(K.totalTime)),1)):Ie("",!0),I.match.sportType==="IDPA"?(G(),X("td",SL,D(K.pointsDown),1)):Ie("",!0),a("td",AL,[a("div",CL,D(K.stagesComplete)+"/"+D(I.match.stages.length),1),a("div",PL,[a("div",{class:"bg-blue-600 dark:bg-red-600 h-2 rounded-full",style:gi({width:`${K.stagesComplete/I.match.stages.length*100}%`})},null,4)])])]))),128))])])])])):Ie("",!0),s.value==="stages"?(G(),X("div",LL,[a("div",NL,[R[14]||(R[14]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-red-600"},"Stage Results",-1)),a("div",$L,[R[13]||(R[13]=a("label",{class:"text-sm text-gray-600 dark:text-gray-400"},"Stage:",-1)),De(a("select",{"onUpdate:modelValue":R[3]||(R[3]=K=>o.value=K),class:"px-3 py-1 text-sm border border-gray-300 dark:border-red-500 rounded bg-white dark:bg-black text-gray-900 dark:text-red-400"},[(G(!0),X(Ye,null,nt(I.match.stages,(K,U)=>(G(),X("option",{key:K.id,value:K.id}," Stage "+D(U+1)+": "+D(K.name),9,EL))),128))],512),[[Et,o.value]])])]),c.value.length>0?(G(),X("div",ML,[a("table",IL,[a("thead",TL,[a("tr",null,[R[15]||(R[15]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Place",-1)),R[16]||(R[16]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Shooter",-1)),R[17]||(R[17]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Time",-1)),I.match.sportType==="IPSC"?(G(),X("th",DL,"Points")):Ie("",!0),I.match.sportType==="IPSC"?(G(),X("th",RL,"Hit Factor")):Ie("",!0),I.match.sportType==="IDPA"?(G(),X("th",OL,"Penalties")):Ie("",!0),I.match.sportType==="IDPA"?(G(),X("th",FL,"Total Time")):Ie("",!0),R[18]||(R[18]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Score Details",-1))])]),a("tbody",jL,[(G(!0),X(Ye,null,nt(c.value,K=>(G(),X("tr",{key:K.shooterId,class:"hover:bg-gray-50 dark:hover:bg-red-700/5"},[a("td",UL,D(K.place),1),a("td",BL,D(K.shooterName),1),a("td",qL,D(j(K.rawTime)),1),I.match.sportType==="IPSC"?(G(),X("td",zL,D(K.points),1)):Ie("",!0),I.match.sportType==="IPSC"?(G(),X("td",HL,D(K.hitFactor),1)):Ie("",!0),I.match.sportType==="IDPA"?(G(),X("td",VL,D(j(K.penalties)),1)):Ie("",!0),I.match.sportType==="IDPA"?(G(),X("td",WL,D(j(K.totalTime)),1)):Ie("",!0),a("td",GL,[a("button",{onClick:U=>W(K),class:"text-blue-600 dark:text-red-400 hover:text-blue-800 dark:hover:text-red-300"}," View Details ",8,KL)])]))),128))])])])):(G(),X("div",YL," No results for this stage yet. "))])):Ie("",!0),s.value==="stats"?(G(),X("div",JL,[R[24]||(R[24]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-red-600"},"Match Statistics",-1)),a("div",ZL,[a("div",XL,[a("div",QL,D(f.value),1),R[19]||(R[19]=a("div",{class:"text-sm text-gray-600 dark:text-red-400"},"Total Shooters",-1))]),a("div",eN,[a("div",tN,D(b.value),1),R[20]||(R[20]=a("div",{class:"text-sm text-green-600 dark:text-red-400"},"Completed",-1))]),a("div",rN,[a("div",sN,D(w.value),1),R[21]||(R[21]=a("div",{class:"text-sm text-gray-600 dark:text-red-400"},"Total Scores",-1))]),a("div",aN,[a("div",nN,D((h.value*100).toFixed(1))+"%",1),R[22]||(R[22]=a("div",{class:"text-sm text-purple-600 dark:text-red-400"},"Completion Rate",-1))])]),a("div",oN,[R[23]||(R[23]=a("h5",{class:"font-medium text-gray-900 dark:text-red-600 mb-3"},"Division Breakdown",-1)),a("div",iN,[(G(!0),X(Ye,null,nt(_.value,(K,U)=>(G(),X("div",{key:U,class:"flex justify-between"},[a("span",lN,D(U)+":",1),a("span",dN,D(K),1)]))),128))])])])):Ie("",!0)]),a("div",cN,[a("div",uN," Last updated: "+D(new Date().toLocaleString()),1),a("button",{onClick:R[4]||(R[4]=K=>I.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10"}," Close ")])])])]))}}),hN={class:"fixed inset-0 z-[10000] overflow-y-auto","aria-labelledby":"scoring-modal-title",role:"dialog","aria-modal":"true"},gN={class:"flex items-center justify-center min-h-screen p-2 sm:p-4"},pN={class:"relative bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all w-full max-w-7xl border border-gray-200 dark:border-red-500 max-h-[95vh] flex flex-col"},mN={class:"px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-red-500 bg-gray-50 dark:bg-red-700/10 flex-shrink-0"},bN={class:"flex items-center justify-between"},vN={class:"min-w-0 flex-1"},xN={class:"text-lg sm:text-xl font-bold text-gray-900 dark:text-red-600 truncate",id:"scoring-modal-title"},yN={class:"text-sm text-gray-600 dark:text-gray-300 mt-1 truncate"},kN={class:"flex items-center space-x-2 sm:space-x-4 ml-4"},wN={class:"hidden sm:flex items-center space-x-2"},_N={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},SN={class:"border-b border-gray-200 dark:border-red-500 bg-white dark:bg-black"},AN={class:"flex space-x-1 px-4 sm:px-6","aria-label":"Tabs"},CN=["onClick","disabled"],PN={class:"truncate"},LN={key:0,class:"px-2 py-0.5 text-xs bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full flex-shrink-0"},NN={class:"flex-1 flex flex-col min-h-0"},$N={key:0,class:"flex-1 flex flex-col lg:flex-row min-h-0"},EN={class:"w-full lg:w-80 border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-red-500 bg-white dark:bg-black overflow-y-auto flex-shrink-0 max-h-80 lg:max-h-none"},MN={class:"p-4 border-b border-gray-200 dark:border-red-500"},IN={class:"font-medium text-gray-900 dark:text-red-600 mb-3"},TN={class:"space-y-2"},DN=["onClick"],RN={class:"flex justify-between items-center"},ON={class:"font-medium"},FN={class:"text-sm opacity-75"},jN={class:"text-xs"},UN={class:"p-4"},BN={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},qN={class:"font-medium"},zN={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},HN={class:"flex-1 p-4 sm:p-6 overflow-y-auto"},VN={class:"max-w-4xl mx-auto"},WN={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0"},GN={class:"text-gray-600 dark:text-gray-300 mt-1"},KN={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},YN={class:"flex items-center justify-between mb-3"},JN={class:"flex items-center space-x-2"},ZN={class:"w-10 h-10 bg-red-100 dark:bg-red-700/20 rounded-full flex items-center justify-center"},XN={class:"font-medium text-gray-900 dark:text-white"},QN={class:"text-sm text-gray-500 dark:text-gray-400"},e$=["onClick","title"],t$={class:"mb-3"},r$={class:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1"},s$={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},a$={class:"flex space-x-2"},n$=["onClick","disabled"],o$={key:0,class:"mt-3 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},i$={key:1,class:"text-center py-12"},l$={key:1,class:"flex-1 flex flex-col min-h-0"},d$={key:0,class:"p-4 sm:p-6 border-b border-gray-200 dark:border-red-500 bg-white dark:bg-black flex-shrink-0"},c$={class:"flex flex-col lg:flex-row lg:justify-between lg:items-start space-y-4 lg:space-y-0"},u$={class:"min-w-0 flex-1"},f$={class:"flex items-center space-x-4 mb-3"},h$=["value"],g$={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-red-600"},p$={class:"text-gray-600 dark:text-gray-300 mt-1"},m$={class:"font-medium text-red-600 dark:text-red-400"},b$={class:"hidden sm:inline"},v$={class:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-2 text-sm text-gray-500 dark:text-gray-400"},x$={class:"flex flex-col space-y-2 lg:items-end"},y$={class:"flex items-center space-x-2"},k$={class:"flex space-x-2"},w$={key:1,class:"flex-1 p-4 sm:p-6 overflow-y-auto min-h-0"},_$={key:2,class:"flex-1 flex items-center justify-center p-4 sm:p-6"},S$={class:"text-center max-w-md"},A$={class:"px-6 py-3 bg-gray-50 dark:bg-red-700/10 border-t border-gray-200 dark:border-red-500 flex justify-between items-center"},C$={class:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300"},P$={class:"flex space-x-3"},L$=["disabled"],N$=Tt({__name:"LiveScoringModal",props:{match:{}},emits:["close","save"],setup(e,{emit:t}){const r=e,s=t,n=V0(),o=ye("shooters"),i=ye(r.match.stages[0]||null),l=ye(null),d=ye(!1),c=ye(!1),f=ye(new Map),b=ye([]),w=S=>{n.toggleCurrentUser(r.match.id,S);const m=n.matches.find(C=>C.id===r.match.id);m&&(b.value=[...m.shooters])};Kr(()=>{b.value=[...r.match.shooters||[]],r.match.stages.length>0&&(i.value=r.match.stages[0]),b.value.length>0&&(l.value=b.value[0])});const h=Pe(()=>{const S=R(),m=K();return S===0?"bg-gray-400":S<m*.5?"bg-red-400":S<m?"bg-red-500":"bg-green-400"}),_=Pe(()=>{const S=R(),m=K();return S===0?"Not Started":S<m*.5?"In Progress":S<m?"Nearly Complete":"Complete"}),O=Pe(()=>[{id:"shooters",name:"Shooters",icon:kd,count:b.value.length,description:"Manage shooters"},{id:"scoring",name:"Scoring",icon:Rr,count:i.value?B(i.value.id):0,description:"Score stages",disabled:b.value.length===0||!i.value}]),j=S=>new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}).format(new Date(S)),N=S=>r.match.sportType==="IPSC"?S.minimumRounds||0:S.maxRounds||0,W=S=>r.match.sportType==="IPSC"?S.maximumPoints||S.targetCount*5:S.stagePoints||100,B=S=>{let m=0;for(const C of b.value)f.value.get(C.id)?.has(S)&&m++;return m},I=S=>{const m=f.value.get(S);return m?m.size:0},R=()=>{let S=0;for(const m of b.value)S+=I(m.id);return S},K=()=>b.value.length*r.match.stages.length,U=()=>{let S=0;for(const m of b.value)I(m.id)===r.match.stages.length&&S++;return S},x=()=>!i.value||!l.value?!1:f.value.get(l.value.id)?.has(i.value.id)||!1,p=()=>!i.value||!l.value?null:f.value.get(l.value.id)?.get(i.value.id)||null,E=()=>i.value?r.match.stages.findIndex(S=>S.id===i.value?.id):0,y=()=>{console.log("Loading existing score for",l.value?.name,"on",i.value?.name)},A=S=>{!i.value||!l.value||(f.value.has(l.value.id)||f.value.set(l.value.id,new Map),f.value.get(l.value.id).set(i.value.id,S),console.log("Score saved:",{shooter:l.value.name,stage:i.value.name,shot:S}),ge())},H=S=>{!i.value||!l.value||(f.value.has(l.value.id)||f.value.set(l.value.id,new Map),f.value.get(l.value.id).set(i.value.id,S),console.log("Stage completed for shooter:",{shooter:l.value.name,stage:i.value.name,shot:S}),ge())},F=()=>{const S=r.match.stages.length*r.match.shooters.length;return R()>=S},ae=()=>{if(!i.value||!l.value)return;const S=f.value.get(l.value.id);S&&S.delete(i.value.id),console.log("Score reset for",l.value.name,"on",i.value.name)},ge=()=>{const S=i.value?.id;if(!S)return;for(const C of b.value)if(!f.value.get(C.id)?.has(S)){l.value=C;return}const m=r.match.stages.findIndex(C=>C.id===S);m<r.match.stages.length-1&&(i.value=r.match.stages[m+1],l.value=b.value[0])},he=S=>{b.value.push(S),d.value=!1,l.value=S},Z=()=>{M()},M=()=>{try{hl(()=>Promise.resolve().then(()=>uS),void 0).then(S=>{const m=S.default,C=new m,L=C.internal.pageSize.width;let $=20;C.setFontSize(20),C.text("Match Results",L/2,$,{align:"center"}),$+=15,C.setFontSize(14),C.text(r.match.name,L/2,$,{align:"center"}),$+=10,C.setFontSize(12);const V=new Date(r.match.date).toLocaleDateString();C.text(`Date: ${V} | Location: ${r.match.location} | Type: ${r.match.sportType}`,L/2,$,{align:"center"}),$+=20;const q=`${r.match.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_results_${new Date().toISOString().split("T")[0]}.pdf`;C.save(q),alert(`PDF exported successfully as "${q}"`)}).catch(S=>{console.error("Failed to load jsPDF:",S),alert("Failed to export PDF. Please try again.")})}catch(S){console.error("Export error:",S),alert("Failed to export PDF. Please try again.")}},z=()=>{const S={...r.match};S.status="COMPLETED",s("save",S),alert(`Match "${r.match.name}" has been completed! All scores have been recorded. Redirecting to results...`),s("close")};return(S,m)=>(G(),X("div",hN,[a("div",gN,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 backdrop-blur-sm transition-opacity","aria-hidden":"true",onClick:m[0]||(m[0]=C=>S.$emit("close"))}),a("div",pN,[a("div",mN,[a("div",bN,[a("div",vN,[a("h3",xN," Live Scoring - "+D(S.match.name),1),a("p",yN,D(S.match.sportType)+"  "+D(S.match.location)+"  "+D(j(S.match.date)),1)]),a("div",kN,[a("div",wN,[a("div",{class:Qe(["w-3 h-3 rounded-full",h.value])},null,2),a("span",_N,D(_.value),1)]),a("button",{onClick:m[1]||(m[1]=C=>S.$emit("close")),class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-red-700/20 flex-shrink-0"},[Me(Ee(nn),{class:"w-6 h-6"})])])])]),a("div",SN,[a("nav",AN,[(G(!0),X(Ye,null,nt(O.value,C=>(G(),X("button",{key:C.id,onClick:L=>o.value=C.id,disabled:C.disabled,class:Qe(["px-3 py-3 text-sm font-medium rounded-t-lg border-b-2 transition-colors flex items-center space-x-2 min-w-0",o.value===C.id?"border-red-500 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-700/10":C.disabled?"border-transparent text-gray-400 dark:text-gray-600 cursor-not-allowed":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-red-500"])},[(G(),Ut(ns(C.icon),{class:"w-4 h-4 flex-shrink-0"})),a("span",PN,D(C.name),1),C.count!==void 0?(G(),X("span",LN,D(C.count),1)):Ie("",!0)],10,CN))),128))])]),a("div",NN,[o.value==="shooters"?(G(),X("div",$N,[a("div",EN,[a("div",MN,[a("h4",IN,"Stages ("+D(S.match.stages.length)+")",1),a("div",TN,[(G(!0),X(Ye,null,nt(S.match.stages,(C,L)=>(G(),X("button",{key:C.id,onClick:$=>i.value=C,class:Qe(["w-full text-left p-3 rounded-lg border transition-colors",i.value?.id===C.id?"bg-white dark:bg-red-700/20 border-gray-300 dark:border-red-500 text-gray-900 dark:text-red-400":"bg-white dark:bg-black border-gray-200 dark:border-red-500/30 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-red-700/10"])},[a("div",RN,[a("div",null,[a("div",ON,"Stage "+D(L+1),1),a("div",FN,D(C.name),1)]),a("div",jN,D(B(C.id))+"/"+D(b.value.length),1)])],10,DN))),128))])]),a("div",UN,[m[12]||(m[12]=a("div",{class:"flex justify-between items-center mb-3"},[a("h4",{class:"font-medium text-gray-900 dark:text-red-600"},"Current Stage")],-1)),i.value?(G(),X("div",BN,[a("p",qN,D(i.value.name),1),a("p",null,D(i.value.targetCount)+" targets  "+D(N(i.value))+" rounds",1)])):(G(),X("div",zN," Select a stage to begin "))])]),a("div",HN,[a("div",VN,[a("div",WN,[a("div",null,[m[13]||(m[13]=a("h2",{class:"text-2xl font-bold text-gray-900 dark:text-red-600"},"Manage Shooters",-1)),a("p",GN," Add and organize shooters for "+D(S.match.name),1)]),a("button",{onClick:m[2]||(m[2]=C=>d.value=!0),class:"px-4 py-2 bg-red-600 dark:bg-red-600 text-white rounded-md hover:bg-red-700 dark:hover:bg-red-700 font-medium flex items-center space-x-2"},[Me(Ee(kd),{class:"w-4 h-4"}),m[14]||(m[14]=a("span",null,"Add Shooter",-1))])]),b.value.length>0?(G(),X("div",KN,[(G(!0),X(Ye,null,nt(b.value,C=>(G(),X("div",{key:C.id,class:Qe(["bg-white dark:bg-black border border-gray-200 dark:border-red-500/30 rounded-lg p-4 hover:shadow-md transition-all",C.isCurrentUser?"ring-2 ring-blue-500 dark:ring-blue-400":""])},[a("div",YN,[a("div",JN,[a("div",ZN,[Me(Ee(kd),{class:"w-5 h-5 text-red-600 dark:text-red-400"})]),a("div",null,[a("h3",XN,D(C.name),1),a("p",QN,D(C.division),1)])]),a("button",{onClick:L=>w(C.id),class:Qe(["p-2 rounded-full transition-colors",C.isCurrentUser?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800":"bg-gray-100 text-gray-400 dark:bg-gray-700 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"]),title:C.isCurrentUser?"Remove as current user":"Set as current user"},[...m[15]||(m[15]=[a("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1)])],10,e$)]),a("div",t$,[a("div",r$,[m[16]||(m[16]=a("span",null,"Stage Progress",-1)),a("span",null,D(I(C.id))+"/"+D(S.match.stages.length),1)]),a("div",s$,[a("div",{class:"bg-red-600 h-2 rounded-full transition-all duration-300",style:gi({width:`${I(C.id)/S.match.stages.length*100}%`})},null,4)])]),a("div",a$,[a("button",{onClick:L=>{l.value=C,o.value="scoring"},disabled:!i.value,class:"flex-1 px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed"}," Start Scoring ",8,n$),a("button",{onClick:m[3]||(m[3]=L=>c.value=!0),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm"},[Me(Ee(tn),{class:"w-4 h-4"})])]),C.isCurrentUser?(G(),X("div",o$,[...m[17]||(m[17]=[a("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1),We(" You ",-1)])])):Ie("",!0)],2))),128))])):(G(),X("div",i$,[Me(Ee(kd),{class:"w-16 h-16 mx-auto text-gray-400 dark:text-red-400 mb-4"}),m[18]||(m[18]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-600 mb-2"},"No Shooters Added",-1)),m[19]||(m[19]=a("p",{class:"text-gray-600 dark:text-gray-300 mb-4"}," Add shooters to begin scoring this match ",-1)),a("button",{onClick:m[4]||(m[4]=C=>d.value=!0),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 font-medium"}," Add First Shooter ")]))])])])):o.value==="scoring"?(G(),X("div",l$,[i.value&&l.value?(G(),X("div",d$,[a("div",c$,[a("div",u$,[a("div",f$,[De(a("select",{"onUpdate:modelValue":m[5]||(m[5]=C=>i.value=C),class:"rounded-md border-gray-300 dark:border-red-500 dark:bg-black dark:text-white shadow-sm focus:border-red-500 focus:ring-red-500"},[(G(!0),X(Ye,null,nt(S.match.stages,C=>(G(),X("option",{key:C.id,value:C},D(C.name),9,h$))),128))],512),[[Et,i.value]]),a("button",{onClick:m[6]||(m[6]=C=>c.value=!0),class:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10"},[Me(Ee(tn),{class:"w-4 h-4 inline mr-1"}),m[20]||(m[20]=We(" Results ",-1))])]),a("h2",g$,D(i.value.name),1),a("p",p$,[m[21]||(m[21]=We(" Scoring: ",-1)),a("span",m$,D(l.value.name),1),a("span",b$,"("+D(l.value.division)+D(l.value.powerFactor?" - "+l.value.powerFactor:"")+")",1)]),a("div",v$,[a("span",null,D(i.value.targetCount)+" targets",1),a("span",null,D(N(i.value))+" rounds",1),a("span",null,D(W(i.value))+" max pts",1)])]),a("div",x$,[a("div",y$,[Me(Ee(jx),{class:"w-5 h-5 text-gray-500 dark:text-gray-400"}),m[22]||(m[22]=a("span",{class:"text-lg font-mono font-bold text-gray-900 dark:text-white"}," 00:00.00 ",-1))]),a("div",k$,[m[23]||(m[23]=a("button",{class:"px-3 py-1.5 text-sm font-medium text-green-700 dark:text-green-400 bg-green-100 dark:bg-green-900/20 border border-green-300 dark:border-green-600 rounded-md hover:bg-green-200 dark:hover:bg-green-900/30"}," Start Timer ",-1)),x()?(G(),X("button",{key:0,onClick:m[7]||(m[7]=C=>y()),class:"px-3 py-1.5 text-sm font-medium text-red-700 dark:text-red-400 bg-red-100 dark:bg-red-700/10 border border-red-300 dark:border-red-500 rounded-md hover:bg-red-200 dark:hover:bg-red-700/20"}," Load Score ")):Ie("",!0)])])])])):Ie("",!0),i.value&&l.value?(G(),X("div",w$,[S.match.sportType==="IPSC"?(G(),Ut(L9,{key:0,stage:i.value,shooter:l.value,"stage-index":E(),"existing-score":p(),onSave:A,onComplete:H,onCancel:ae},null,8,["stage","shooter","stage-index","existing-score"])):(G(),Ut(EP,{key:1,stage:i.value,shooter:l.value,"stage-index":E(),"existing-score":p(),onSave:A,onComplete:H,onCancel:ae},null,8,["stage","shooter","stage-index","existing-score"]))])):(G(),X("div",_$,[a("div",S$,[Me(Ee(Rr),{class:"w-16 h-16 mx-auto text-gray-400 dark:text-red-400 mb-4"}),m[24]||(m[24]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-red-600 mb-2"},"Ready to Score",-1)),m[25]||(m[25]=a("p",{class:"text-gray-600 dark:text-gray-300 mb-4"}," Select a shooter from the Shooters tab to begin scoring ",-1)),a("button",{onClick:m[8]||(m[8]=C=>o.value="shooters"),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 font-medium"}," Go to Shooters ")])]))])):Ie("",!0)]),a("div",A$,[a("div",C$,[a("span",null,"Progress: "+D(R())+"/"+D(K())+" scores",1),m[26]||(m[26]=a("span",null,"",-1)),a("span",null,D(U())+"/"+D(b.value.length)+" shooters completed",1)]),a("div",P$,[F()?(G(),X("button",{key:0,onClick:z,class:"px-4 py-2 text-sm font-medium text-white bg-green-600 dark:bg-green-600 border border-transparent rounded-md hover:bg-green-700 dark:hover:bg-green-700"}," Complete Match ")):Ie("",!0),a("button",{onClick:Z,disabled:R()===0,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10 disabled:opacity-50 disabled:cursor-not-allowed"}," Export Results ",8,L$),a("button",{onClick:m[9]||(m[9]=C=>S.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10"}," Close ")])])])]),d.value?(G(),Ut(qP,{key:0,"sport-type":S.match.sportType,onClose:m[10]||(m[10]=C=>d.value=!1),onAdd:he},null,8,["sport-type"])):Ie("",!0),c.value?(G(),Ut(fN,{key:1,match:S.match,scores:f.value,onClose:m[11]||(m[11]=C=>c.value=!1)},null,8,["match","scores"])):Ie("",!0)]))}}),$$={class:"fixed inset-0 z-[9999] overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},E$={class:"flex items-center justify-center min-h-screen pt-4 px-2 sm:px-4 pb-20 text-center sm:block sm:p-0"},M$={class:"inline-block align-bottom bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full max-w-6xl sm:w-full border border-gray-200 dark:border-red-500 max-h-[95vh] flex flex-col"},I$={class:"px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-red-500 flex-shrink-0"},T$={class:"flex items-center justify-between"},D$={class:"text-lg font-medium text-gray-900 dark:text-red-600 truncate pr-4",id:"modal-title"},R$={class:"border-b border-gray-200 dark:border-red-500"},O$={class:"overflow-x-auto scrollbar-hide"},F$={class:"flex space-x-8 px-6 min-w-max","aria-label":"Tabs"},j$=["onClick"],U$={class:"px-4 sm:px-6 py-4 flex-1 overflow-y-auto min-h-0"},B$={key:0,class:"space-y-4"},q$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z$={class:"space-y-2"},H$={class:"text-sm text-gray-900 dark:text-red-400"},V$={class:"text-sm text-gray-900 dark:text-red-400"},W$={class:"text-sm text-gray-900 dark:text-red-400"},G$={class:"text-sm text-gray-900 dark:text-red-400"},K$={class:"space-y-2"},Y$={class:"text-sm text-gray-900 dark:text-red-400"},J$={class:"text-sm text-gray-900 dark:text-red-400"},Z$={class:"text-sm text-gray-900 dark:text-red-400"},X$={class:"text-sm text-gray-900 dark:text-red-400"},Q$={key:0},eE={class:"text-sm text-gray-700 dark:text-gray-300"},tE={key:1,class:"space-y-4"},rE={class:"flex justify-between items-center"},sE={class:"font-medium text-gray-900 dark:text-red-600"},aE={class:"space-y-3"},nE={class:"flex justify-between items-start"},oE={class:"flex-1"},iE={class:"flex items-center space-x-2"},lE={class:"font-medium text-gray-900 dark:text-red-600"},dE={class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-red-700/20 text-gray-800 dark:text-red-400"},cE={class:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600 dark:text-gray-300"},uE={key:0,class:"mt-2 text-sm text-gray-600 dark:text-gray-300"},fE={class:"flex space-x-2 ml-4"},hE=["onClick"],gE={key:0,class:"text-center py-8"},pE={key:2,class:"space-y-6"},mE={class:"text-center py-8"},bE={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 text-left"},vE={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},xE={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},yE={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},kE={key:0},wE={class:"space-y-2"},_E={class:"text-sm font-medium text-gray-900 dark:text-white"},SE={class:"text-xs text-gray-500 dark:text-gray-400"},AE={key:1,class:"text-center py-4"},CE={class:"flex flex-col sm:flex-row gap-3 justify-center mt-6"},PE={key:3,class:"space-y-4"},LE={class:"text-center py-8"},NE={class:"text-gray-600 dark:text-gray-300 mb-4"},$E={key:0,class:"space-y-2"},EE={class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-md p-4"},ME={class:"flex"},IE={class:"text-left"},TE={class:"text-xs text-yellow-600 dark:text-yellow-300"},DE={key:1,class:"bg-gray-50 dark:bg-red-700/10 border border-gray-200 dark:border-red-500 rounded-md p-4"},RE={key:4,class:"space-y-6"},OE={class:"text-center py-6"},FE={class:"text-gray-600 dark:text-gray-300 mb-4"},jE={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},UE={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},BE={class:"text-2xl font-bold text-gray-900 dark:text-white"},qE={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},zE={class:"text-2xl font-bold text-gray-900 dark:text-white"},HE={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},VE={class:"text-2xl font-bold text-gray-900 dark:text-white"},WE={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},GE={class:"text-2xl font-bold text-gray-900 dark:text-white"},KE={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg"},YE={key:0,class:"overflow-x-auto"},JE={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ZE={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},XE={class:"px-6 py-4 whitespace-nowrap"},QE={key:0,class:"w-5 h-5 ml-2 text-yellow-400 inline",fill:"currentColor",viewBox:"0 0 20 20"},eM={class:"px-6 py-4 whitespace-nowrap"},tM={class:"text-sm font-medium text-gray-900 dark:text-white"},rM={class:"px-6 py-4 whitespace-nowrap"},sM={class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},aM={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},nM={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},oM={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},iM={key:1,class:"p-6 text-center"},lM={class:"px-4 sm:px-6 py-3 bg-gray-50 dark:bg-red-700/10 border-t border-gray-200 dark:border-red-500 flex justify-between items-center flex-shrink-0"},dM={class:"flex space-x-3"},cM={key:0,class:"fixed inset-0 z-[10001] overflow-y-auto","aria-labelledby":"stage-edit-modal-title",role:"dialog","aria-modal":"true"},uM={class:"flex items-center justify-center min-h-screen pt-4 px-2 sm:px-4 pb-20 text-center sm:block sm:p-0"},fM={class:"inline-block align-bottom bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full max-w-2xl sm:w-full border border-gray-200 dark:border-red-500 max-h-[90vh] flex flex-col"},hM={class:"px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-red-500 flex-shrink-0"},gM={class:"flex items-center justify-between"},pM={class:"text-lg font-medium text-gray-900 dark:text-red-600 truncate pr-4",id:"stage-edit-modal-title"},mM={for:"rounds",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"},bM={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-red-500 flex-shrink-0 bg-white dark:bg-black px-4 sm:px-6 py-3 mt-auto"},vM={type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-gray-600 dark:bg-red-600 border border-transparent rounded-md hover:bg-gray-700 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},xM={key:2,class:"fixed inset-0 z-[10002] overflow-y-auto","aria-labelledby":"delete-modal-title",role:"dialog","aria-modal":"true"},yM={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},kM={class:"inline-block align-bottom bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-gray-200 dark:border-red-500"},wM={class:"bg-white dark:bg-black px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},_M={class:"sm:flex sm:items-start"},SM={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/30 sm:mx-0 sm:h-10 sm:w-10"},AM={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},CM={class:"mt-2"},PM={class:"text-sm text-gray-500 dark:text-gray-400"},LM=Tt({__name:"MatchDetailsModal",props:{match:{}},emits:["close","save","delete"],setup(e,{emit:t}){const r=e,s=t,n=ye("stages"),o=ye(!1),i=ye(null),l=ye(!1),d=ye(!1),c=ye({name:"",description:"",targetCount:6,rounds:12}),f=Pe(()=>{const z=[{id:"stages",name:"Set up Stages",icon:bo},{id:"info",name:"Confirm Match Info",icon:Rr},{id:"save",name:"Save",icon:Fd},{id:"scoring",name:"Scoring",icon:tn}];return r.match.status==="COMPLETED"&&z.push({id:"results",name:"Results",icon:tn}),z}),b=Pe(()=>r.match.stages.reduce((z,S)=>z+S.targetCount,0)),w=Pe(()=>r.match.stages.reduce((z,S)=>z+O(S),0)),h=Pe(()=>r.match.stages.reduce((z,S)=>z+j(S),0)),_=z=>new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(new Date(z)),O=z=>r.match.sportType==="IPSC"?z.minimumRounds||0:z.maxRounds||0,j=z=>r.match.sportType==="IPSC"?z.targetCount*5:z.stagePoints||100,N=z=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(z),W=Pe(()=>{if(!r.match.results)return[];const z=[];return r.match.results.forEach(S=>{z.push(S)}),z.sort((S,m)=>r.match.sportType==="IPSC"?(m.totalPoints||0)-(S.totalPoints||0):(S.totalTime||0)-(m.totalTime||0))}),B=z=>r.match.sportType==="IPSC"?z.totalPoints?.toFixed(4)||"0.0000":`${z.totalTime?.toFixed(2)||"0.00"}s`,I=(z,S)=>{if(S===0)return 100;const m=W.value[0];if(!m)return 0;if(r.match.sportType==="IPSC"){const C=m.totalPoints||1;return(z.totalPoints||0)/C*100}else{const C=m.totalTime||1,L=z.totalTime||1/0;return C/L*100}},R=z=>{switch(z){case 1:return"bg-yellow-500 text-white";case 2:return"bg-gray-400 text-white";case 3:return"bg-orange-600 text-white";default:return"bg-red-500 text-white"}},K=()=>{console.log("Exporting results to PDF...")},U=()=>{if(console.log("Exporting results to CSV..."),!r.match.results)return;const z=W.value,S=["Rank","Shooter","Division","Total Score","% of Winner","Stages Complete"],m=z.map((V,q)=>[q+1,V.shooterName,V.division,B(V),I(V,q).toFixed(1)+"%",`${V.stageResults?.length||0}/${r.match.stages?.length||0}`]),C=[S,...m].map(V=>V.map(q=>`"${q}"`).join(",")).join(`
`),L=new Blob([C],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a");if($.download!==void 0){const V=URL.createObjectURL(L);$.setAttribute("href",V),$.setAttribute("download",`${r.match.name}_results.csv`),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)}},x=z=>r.match.sportType==="IPSC"?z.steelTargets>0?"Mixed":"Paper":z.scenario||"Defensive",p=()=>{i.value=null,c.value={name:"",description:"",targetCount:6,rounds:12},o.value=!0},E=z=>{console.log("Editing stage:",z),i.value={...z},c.value={name:z.name,description:z.description||"",targetCount:z.targetCount,rounds:O(z)},o.value=!0},y=()=>{o.value=!1,i.value=null,c.value={name:"",description:"",targetCount:6,rounds:12}},A=()=>{const z={...r.match};if(i.value){const S=z.stages.findIndex(m=>m.id===i.value.id);if(S!==-1){const m={...i.value};m.name=c.value.name,m.description=c.value.description,m.targetCount=c.value.targetCount,r.match.sportType==="IPSC"?(m.minimumRounds=c.value.rounds,m.maximumPoints=c.value.targetCount*5,m.paperTargets=c.value.targetCount):(m.maxRounds=c.value.rounds,m.limitedTargets=c.value.targetCount),z.stages[S]=m}}else{const S={id:`stage_${Date.now()}`,name:c.value.name,description:c.value.description,targetCount:c.value.targetCount};r.match.sportType==="IPSC"?(S.minimumRounds=c.value.rounds,S.maximumPoints=c.value.targetCount*5,S.steelTargets=0,S.paperTargets=c.value.targetCount,S.stagePoints=100,S.startPosition="Box 1"):(S.maxRounds=c.value.rounds,S.scenario="Defensive Scenario",S.stringCount=2,S.limitedTargets=c.value.targetCount,S.unlimitedTargets=0,S.startPosition="Box 1"),z.stages.push(S)}s("save",z),y()},H=()=>{console.log("Starting scoring for match:",r.match.name),l.value=!0},F=z=>{s("save",z),l.value=!1},ae=()=>{console.log("Saving match configuration:",r.match.name),s("save",r.match)},ge=()=>{console.log("Saving match and proceeding to scoring:",r.match.name),s("save",r.match),n.value="scoring"},he=()=>{d.value=!0},Z=()=>{console.log("Deleting match:",r.match.name),s("delete",r.match.id),d.value=!1},M=()=>{d.value=!1};return(z,S)=>(G(),X("div",$$,[a("div",E$,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:S[0]||(S[0]=m=>z.$emit("close"))}),a("div",M$,[a("div",I$,[a("div",T$,[a("h3",D$,D(z.match.name)+" - "+D(z.match.sportType),1),a("button",{onClick:S[1]||(S[1]=m=>z.$emit("close")),class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300 flex-shrink-0"},[Me(Ee(nn),{class:"w-6 h-6"})])])]),a("div",R$,[a("div",O$,[a("nav",F$,[(G(!0),X(Ye,null,nt(f.value,m=>(G(),X("button",{key:m.id,onClick:C=>n.value=m.id,class:Qe(["py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap flex-shrink-0 flex items-center",n.value===m.id?"border-gray-500 dark:border-red-500 text-gray-600 dark:text-red-500":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-red-300 hover:border-gray-300 dark:hover:border-red-400"])},[(G(),Ut(ns(m.icon),{class:"w-5 h-5 mr-2"})),We(" "+D(m.name),1)],10,j$))),128))])])]),a("div",U$,[n.value==="info"?(G(),X("div",B$,[a("div",q$,[a("div",null,[S[15]||(S[15]=a("h4",{class:"font-medium text-gray-900 dark:text-red-600 mb-2"},"Match Details",-1)),a("dl",z$,[a("div",null,[S[11]||(S[11]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Date",-1)),a("dd",H$,D(_(z.match.date.toString())),1)]),a("div",null,[S[12]||(S[12]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Location",-1)),a("dd",V$,D(z.match.location),1)]),a("div",null,[S[13]||(S[13]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Sport Type",-1)),a("dd",W$,D(z.match.sportType),1)]),a("div",null,[S[14]||(S[14]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Stages",-1)),a("dd",G$,D(z.match.stages.length),1)])])]),a("div",null,[S[20]||(S[20]=a("h4",{class:"font-medium text-gray-900 dark:text-red-600 mb-2"},"Match Statistics",-1)),a("dl",K$,[a("div",null,[S[16]||(S[16]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Targets",-1)),a("dd",Y$,D(b.value),1)]),a("div",null,[S[17]||(S[17]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Rounds",-1)),a("dd",J$,D(w.value),1)]),a("div",null,[S[18]||(S[18]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Max Points",-1)),a("dd",Z$,D(h.value),1)]),a("div",null,[S[19]||(S[19]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Status",-1)),a("dd",X$,D(z.match.status),1)])])])]),z.match.description?(G(),X("div",Q$,[S[21]||(S[21]=a("h4",{class:"font-medium text-gray-900 dark:text-red-600 mb-2"},"Description",-1)),a("p",eE,D(z.match.description),1)])):Ie("",!0)])):Ie("",!0),n.value==="stages"?(G(),X("div",tE,[a("div",rE,[a("h4",sE,"Stages ("+D(z.match.stages.length)+")",1),a("button",{onClick:p,class:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-gray-600 dark:bg-red-600 hover:bg-gray-700 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},[Me(Ee(ni),{class:"w-4 h-4 mr-1"}),S[22]||(S[22]=We(" Add Stage ",-1))])]),a("div",aE,[(G(!0),X(Ye,null,nt(z.match.stages,(m,C)=>(G(),X("div",{key:m.id,class:"border border-gray-200 dark:border-red-500 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-red-700/10"},[a("div",nE,[a("div",oE,[a("div",iE,[a("h5",lE," Stage "+D(C+1)+": "+D(m.name),1),a("span",dE,D(m.targetCount)+" targets ",1)]),a("div",cE,[a("div",null,[S[23]||(S[23]=a("span",{class:"font-medium"},"Targets:",-1)),We(" "+D(m.targetCount),1)]),a("div",null,[S[24]||(S[24]=a("span",{class:"font-medium"},"Rounds:",-1)),We(" "+D(O(m)),1)]),a("div",null,[S[25]||(S[25]=a("span",{class:"font-medium"},"Max Points:",-1)),We(" "+D(j(m)),1)]),a("div",null,[S[26]||(S[26]=a("span",{class:"font-medium"},"Type:",-1)),We(" "+D(x(m)),1)])]),m.description?(G(),X("div",uE,D(m.description),1)):Ie("",!0)]),a("div",fE,[a("button",{onClick:L=>E(m),class:"inline-flex items-center px-2 py-1 border border-gray-300 dark:border-red-500 text-xs font-medium rounded text-gray-700 dark:text-red-400 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},[Me(Ee(bo),{class:"w-3 h-3 mr-1"}),S[27]||(S[27]=We(" Edit ",-1))],8,hE)])])]))),128)),z.match.stages.length===0?(G(),X("div",gE,[Me(Ee(Rr),{class:"w-12 h-12 mx-auto text-gray-400 dark:text-red-400 mb-4"}),S[29]||(S[29]=a("p",{class:"text-gray-500 dark:text-gray-400"},"No stages configured yet.",-1)),a("button",{onClick:p,class:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 dark:border-red-500 text-sm font-medium rounded-md text-gray-700 dark:text-red-400 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},[Me(Ee(ni),{class:"w-4 h-4 mr-2"}),S[28]||(S[28]=We(" Add First Stage ",-1))])])):Ie("",!0)])])):Ie("",!0),n.value==="save"?(G(),X("div",pE,[a("div",mE,[Me(Ee(Fd),{class:"w-12 h-12 mx-auto text-gray-400 dark:text-red-400 mb-4"}),S[47]||(S[47]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-red-600 mb-2"},"Save Match Configuration",-1)),S[48]||(S[48]=a("p",{class:"text-gray-600 dark:text-gray-300 mb-6"}," Review your match setup and save the configuration before proceeding to scoring. ",-1)),a("div",bE,[S[42]||(S[42]=a("h5",{class:"text-md font-semibold text-gray-900 dark:text-white mb-4"},"Match Summary",-1)),a("div",vE,[a("div",null,[S[34]||(S[34]=a("h6",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Basic Information",-1)),a("ul",xE,[a("li",null,[S[30]||(S[30]=a("strong",null,"Name:",-1)),We(" "+D(z.match.name),1)]),a("li",null,[S[31]||(S[31]=a("strong",null,"Sport:",-1)),We(" "+D(z.match.sportType),1)]),a("li",null,[S[32]||(S[32]=a("strong",null,"Date:",-1)),We(" "+D(_(z.match.date.toString())),1)]),a("li",null,[S[33]||(S[33]=a("strong",null,"Location:",-1)),We(" "+D(z.match.location),1)])])]),a("div",null,[S[39]||(S[39]=a("h6",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Match Configuration",-1)),a("ul",yE,[a("li",null,[S[35]||(S[35]=a("strong",null,"Stages:",-1)),We(" "+D(z.match.stages.length),1)]),a("li",null,[S[36]||(S[36]=a("strong",null,"Total Targets:",-1)),We(" "+D(b.value),1)]),a("li",null,[S[37]||(S[37]=a("strong",null,"Total Rounds:",-1)),We(" "+D(w.value),1)]),a("li",null,[S[38]||(S[38]=a("strong",null,"Max Points:",-1)),We(" "+D(h.value),1)])])])]),z.match.stages.length>0?(G(),X("div",kE,[S[40]||(S[40]=a("h6",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Configured Stages",-1)),a("div",wE,[(G(!0),X(Ye,null,nt(z.match.stages,(m,C)=>(G(),X("div",{key:m.id,class:"flex items-center justify-between p-3 bg-white dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600"},[a("span",_E," Stage "+D(C+1)+": "+D(m.name),1),a("span",SE,D(m.targetCount)+" targets ",1)]))),128))])])):(G(),X("div",AE,[...S[41]||(S[41]=[a("p",{class:"text-sm text-amber-600 dark:text-amber-400"},"  No stages configured yet. Please set up at least one stage before saving. ",-1)])]))]),a("div",CE,[z.match.stages.length===0?(G(),X("button",{key:0,onClick:S[2]||(S[2]=m=>n.value="stages"),class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-red-500 text-sm font-medium rounded-md text-gray-700 dark:text-red-400 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},[Me(Ee(bo),{class:"w-4 h-4 mr-2"}),S[43]||(S[43]=We(" Go Back to Set up Stages ",-1))])):Ie("",!0),z.match.stages.length===0?(G(),X("button",{key:1,onClick:S[3]||(S[3]=m=>n.value="info"),class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-red-500 text-sm font-medium rounded-md text-gray-700 dark:text-red-400 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"},[Me(Ee(Rr),{class:"w-4 h-4 mr-2"}),S[44]||(S[44]=We(" Review Match Info ",-1))])):Ie("",!0),z.match.stages.length>0?(G(),X("button",{key:2,onClick:ae,class:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[Me(Ee(Fd),{class:"w-4 h-4 mr-2"}),S[45]||(S[45]=We(" Save Match Configuration ",-1))])):Ie("",!0),z.match.stages.length>0?(G(),X("button",{key:3,onClick:ge,class:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[Me(Ee(tn),{class:"w-4 h-4 mr-2"}),S[46]||(S[46]=We(" Save & Proceed to Scoring ",-1))])):Ie("",!0)])])])):Ie("",!0),n.value==="scoring"?(G(),X("div",PE,[a("div",LE,[Me(Ee(tn),{class:"w-12 h-12 mx-auto text-gray-400 dark:text-red-400 mb-4"}),S[52]||(S[52]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-red-600 mb-2"},"Live Scoring",-1)),a("p",NE," Real-time scoring and results for "+D(z.match.name),1),z.match.stages.length>0?(G(),X("div",$E,[a("div",EE,[a("div",ME,[Me(Ee(fi),{class:"w-5 h-5 text-yellow-400 mr-2 mt-0.5"}),a("div",IE,[S[49]||(S[49]=a("h5",{class:"text-sm font-medium text-yellow-800 dark:text-yellow-400"},"Ready to Start",-1)),a("p",TE,D(z.match.stages.length)+" stages configured. Click below to begin live scoring. ",1)])])]),a("button",{onClick:H,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[Me(Ee(yc),{class:"w-4 h-4 mr-2"}),S[50]||(S[50]=We(" Start Live Scoring ",-1))])])):(G(),X("div",DE,[S[51]||(S[51]=a("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Configure at least one stage before starting scoring. ",-1)),a("button",{onClick:S[4]||(S[4]=m=>n.value="stages"),class:"mt-2 text-sm text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300 underline"}," Go to Stages  ")]))])])):Ie("",!0),n.value==="results"?(G(),X("div",RE,[a("div",OE,[Me(Ee(tn),{class:"w-12 h-12 mx-auto text-green-500 mb-4"}),S[53]||(S[53]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Match Results",-1)),a("p",FE," Final results for "+D(z.match.name),1)]),a("div",jE,[a("div",UE,[S[54]||(S[54]=a("h5",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Competitors",-1)),a("p",BE,D(z.match.shooters?.length||0),1)]),a("div",qE,[S[55]||(S[55]=a("h5",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Stages",-1)),a("p",zE,D(z.match.stages?.length||0),1)]),a("div",HE,[S[56]||(S[56]=a("h5",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Match Type",-1)),a("p",VE,D(z.match.sportType?.toUpperCase()),1)]),a("div",WE,[S[57]||(S[57]=a("h5",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Date",-1)),a("p",GE,D(N(z.match.date)),1)])]),a("div",KE,[S[61]||(S[61]=a("div",{class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700"},[a("h5",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Overall Rankings")],-1)),z.match.results&&z.match.results.size>0?(G(),X("div",YE,[a("table",JE,[S[59]||(S[59]=a("thead",{class:"bg-gray-50 dark:bg-gray-900"},[a("tr",null,[a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Rank"),a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Shooter"),a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Division"),a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Total Score"),a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"% of Winner"),a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Stages Complete")])],-1)),a("tbody",ZE,[(G(!0),X(Ye,null,nt(W.value,(m,C)=>(G(),X("tr",{key:m.shooterId,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",XE,[a("span",{class:Qe([R(C+1),"inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold"])},D(C+1),3),C===0?(G(),X("svg",QE,[...S[58]||(S[58]=[a("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])])):Ie("",!0)]),a("td",eM,[a("div",tM,D(m.shooterName),1)]),a("td",rM,[a("span",sM,D(m.division),1)]),a("td",aM,D(B(m)),1),a("td",nM,D(I(m,C).toFixed(1))+"% ",1),a("td",oM,D(m.stageResults?.length||0)+"/"+D(z.match.stages?.length||0),1)]))),128))])])])):(G(),X("div",iM,[...S[60]||(S[60]=[a("p",{class:"text-gray-500 dark:text-gray-400"},"No results available yet.",-1)])]))]),a("div",{class:"flex flex-col sm:flex-row gap-3 justify-center"},[a("button",{onClick:K,class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[...S[62]||(S[62]=[a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),We(" Export to PDF ",-1)])]),a("button",{onClick:U,class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[...S[63]||(S[63]=[a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),We(" Export to CSV ",-1)])])])])):Ie("",!0)]),a("div",lM,[a("button",{onClick:he,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-600 rounded-md hover:bg-red-100 dark:hover:bg-red-900/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[Me(Ee(qh),{class:"w-4 h-4 mr-2"}),S[64]||(S[64]=We(" Delete Match ",-1))]),a("div",dM,[a("button",{onClick:S[5]||(S[5]=m=>z.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"}," Close ")])])])]),o.value?(G(),X("div",cM,[a("div",uM,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:y}),a("div",fM,[a("div",hM,[a("div",gM,[a("h3",pM,D(i.value?"Edit Stage":"Add New Stage"),1),a("button",{onClick:y,class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300 flex-shrink-0"},[Me(Ee(nn),{class:"w-6 h-6"})])])]),a("form",{onSubmit:Gs(A,["prevent"]),class:"p-4 sm:p-6 space-y-4 flex-1 overflow-y-auto min-h-0"},[a("div",null,[S[65]||(S[65]=a("label",{for:"stageName",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Stage Name * ",-1)),De(a("input",{id:"stageName","onUpdate:modelValue":S[6]||(S[6]=m=>c.value.name=m),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent",placeholder:"Enter stage name"},null,512),[[rt,c.value.name]])]),a("div",null,[S[66]||(S[66]=a("label",{for:"stageDescription",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Description ",-1)),De(a("textarea",{id:"stageDescription","onUpdate:modelValue":S[7]||(S[7]=m=>c.value.description=m),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent",placeholder:"Describe the stage layout and requirements..."},null,512),[[rt,c.value.description]])]),a("div",null,[S[67]||(S[67]=a("label",{for:"targetCount",class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"}," Number of Targets * ",-1)),De(a("input",{id:"targetCount","onUpdate:modelValue":S[8]||(S[8]=m=>c.value.targetCount=m),type:"number",min:"1",max:"20",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent"},null,512),[[rt,c.value.targetCount,void 0,{number:!0}]])]),a("div",null,[a("label",mM,D(z.match.sportType==="IPSC"?"Minimum Rounds":"Maximum Rounds")+" * ",1),De(a("input",{id:"rounds","onUpdate:modelValue":S[9]||(S[9]=m=>c.value.rounds=m),type:"number",min:"1",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md shadow-sm bg-white dark:bg-black text-gray-900 dark:text-red-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-red-500 focus:border-transparent"},null,512),[[rt,c.value.rounds,void 0,{number:!0}]])]),a("div",bM,[a("button",{type:"button",onClick:y,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-red-700/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-red-500"}," Cancel "),a("button",vM,D(i.value?"Update Stage":"Create Stage"),1)])],32)])])])):Ie("",!0),l.value?(G(),Ut(N$,{key:1,match:z.match,onClose:S[10]||(S[10]=m=>l.value=!1),onSave:F},null,8,["match"])):Ie("",!0),d.value?(G(),X("div",xM,[a("div",yM,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:M}),a("div",kM,[a("div",wM,[a("div",_M,[a("div",SM,[Me(Ee(qh),{class:"h-6 w-6 text-red-600 dark:text-red-400"})]),a("div",AM,[S[68]||(S[68]=a("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"delete-modal-title"}," Delete Match ",-1)),a("div",CM,[a("p",PM,' Are you sure you want to delete "'+D(z.match.name)+'"? This action cannot be undone and will permanently remove all match data, including stages, shooters, and results. ',1)])])])]),a("div",{class:"bg-gray-50 dark:bg-red-700/10 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[a("button",{onClick:Z,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete Match "),a("button",{onClick:M,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):Ie("",!0)]))}}),NM=$s(LM,[["__scopeId","data-v-7b4e5982"]]),$M={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},EM={class:"mb-8"},MM={class:"flex items-center justify-between"},IM={class:"flex space-x-3"},TM={class:"mb-6"},DM={class:"flex space-x-8","aria-label":"Tabs"},RM=["onClick"],OM={class:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},FM={key:0,class:"text-sm text-gray-700 dark:text-gray-300"},jM={key:1,class:"text-sm text-gray-700 dark:text-gray-300"},UM={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},BM={class:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 p-6"},qM={class:"flex items-center"},zM={class:"flex-shrink-0"},HM={class:"ml-5 w-0 flex-1"},VM={class:"text-lg font-medium text-gray-900 dark:text-white"},WM={class:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 p-6"},GM={class:"flex items-center"},KM={class:"flex-shrink-0"},YM={class:"ml-5 w-0 flex-1"},JM={class:"text-lg font-medium text-gray-900 dark:text-white"},ZM={class:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 p-6"},XM={class:"flex items-center"},QM={class:"flex-shrink-0"},eI={class:"ml-5 w-0 flex-1"},tI={class:"text-lg font-medium text-gray-900 dark:text-white"},rI={class:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 p-6"},sI={class:"flex items-center"},aI={class:"flex-shrink-0"},nI={class:"ml-5 w-0 flex-1"},oI={class:"text-lg font-medium text-gray-900 dark:text-white"},iI={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},lI={class:"lg:col-span-2"},dI={class:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700"},cI={class:"p-6"},uI={key:0,class:"text-center py-8"},fI={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},hI={class:"mt-6"},gI={key:1,class:"space-y-4"},pI=["onClick"],mI={class:"flex items-center justify-between"},bI={class:"flex-1"},vI={class:"flex items-center space-x-3"},xI={class:"flex-shrink-0"},yI={class:"text-sm font-medium text-gray-900 dark:text-white"},kI={class:"text-sm text-gray-500 dark:text-gray-400"},wI={class:"flex items-center space-x-4"},_I={class:"text-right"},SI={class:"text-sm font-medium text-gray-900 dark:text-white"},AI={class:"text-sm text-gray-500 dark:text-gray-400"},CI={class:"flex items-center space-x-2"},PI=["onClick","title"],LI={class:"space-y-6"},NI={class:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700"},$I={class:"p-6 space-y-4"},EI={class:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700"},MI={class:"p-6"},II={class:"flex items-center"},TI={class:"text-lg font-medium text-gray-900 dark:text-white"},DI={key:2,class:"fixed inset-0 z-[9999] overflow-y-auto","aria-labelledby":"delete-modal-title",role:"dialog","aria-modal":"true"},RI={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},OI={class:"inline-block align-bottom bg-white dark:bg-black rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-gray-200 dark:border-red-500"},FI={class:"bg-white dark:bg-black px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},jI={class:"sm:flex sm:items-start"},UI={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/30 sm:mx-0 sm:h-10 sm:w-10"},BI={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},qI={class:"mt-2"},zI={class:"text-sm text-gray-500 dark:text-gray-400"},HI=Tt({__name:"SportsView",setup(e){const t=V0(),r=ye("IPSC"),s=ye(!1),n=ye(null),o=ye(!1),i=ye(null),l=[{type:"IPSC",name:"IPSC",icon:Rr},{type:"IDPA",name:"IDPA",icon:ui}],d=Pe(()=>t.getAllMatches()),c=Pe(()=>t.getActiveMatches()),f=Pe(()=>d.value.filter(x=>x.sportType===r.value)),b=Pe(()=>{const x=t.getShooterResults(r.value);if(x.length===0)return"0";const p=x.reduce((E,y)=>r.value==="IPSC"?E+(y.totalPercent||0):E+y.totalPoints/x.length*10,0);return Math.round(p/x.length).toString()}),w=Pe(()=>"Marksman"),h=Pe(()=>{const x=f.value.slice(-5).sort((p,E)=>new Date(p.date).getTime()-new Date(E.date).getTime());if(x.length<3)return"STABLE";if(x.length>=3){const p=x.slice(0,2).length,E=x.slice(-2).length;return p<E?"IMPROVING":"DECLINING"}return"IMPROVING"}),_=x=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(x)),O=x=>{n.value=x},j=x=>{t.updateMatch(x),n.value=x},N=x=>{s.value=!1},W=(x,p)=>{p&&p.stopPropagation(),i.value=x,o.value=!0},B=()=>{i.value&&t.deleteMatch(i.value.id)&&(console.log("Match deleted successfully:",i.value.name),n.value?.id===i.value.id&&(n.value=null)),o.value=!1,i.value=null},I=()=>{o.value=!1,i.value=null},R=x=>{t.deleteMatch(x)&&(console.log("Match deleted successfully from modal"),n.value=null)},K=()=>{console.log("Starting practice session for",r.value)},U=()=>{console.log("Viewing statistics for",r.value)};return Kr(()=>{t.loadFromStorage()}),(x,p)=>{const E=r1("Trash2");return G(),X("div",$M,[a("div",EM,[a("div",MM,[p[6]||(p[6]=a("div",null,[a("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},"Sports Shooting"),a("p",{class:"text-gray-600 dark:text-gray-300"},"IPSC and IDPA match setup, scoring, and performance tracking")],-1)),a("div",IM,[a("button",{onClick:p[0]||(p[0]=y=>s.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 dark:bg-red-600 hover:bg-red-700 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-500 transition-colors"},[Me(Ee(ni),{class:"w-4 h-4 mr-2"}),p[5]||(p[5]=We(" New Match ",-1))])])])]),a("div",TM,[a("nav",DM,[(G(),X(Ye,null,nt(l,y=>a("button",{key:y.type,onClick:A=>r.value=y.type,class:Qe([r.value===y.type?"border-red-500 dark:border-gray-500 text-red-600 dark:text-white bg-white dark:bg-gray-700":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-500","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors"])},[(G(),Ut(ns(y.icon),{class:"w-5 h-5 mr-2 inline"})),We(" "+D(y.name),1)],10,RM)),64))]),a("div",OM,[r.value==="IPSC"?(G(),X("div",FM,[...p[7]||(p[7]=[Xt('<h4 class="font-semibold text-gray-900 dark:text-white mb-2" data-v-056c5b6b>International Practical Shooting Confederation (IPSC)</h4><p class="mb-2" data-v-056c5b6b> IPSC is a dynamic shooting sport that tests accuracy, power, and speed. Competitors navigate through courses of fire engaging multiple targets while moving between shooting positions. </p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-xs" data-v-056c5b6b><div data-v-056c5b6b><strong class="text-gray-800 dark:text-gray-200" data-v-056c5b6b>Scoring:</strong> Comstock (Hit Factor = Points  Time) </div><div data-v-056c5b6b><strong class="text-gray-800 dark:text-gray-200" data-v-056c5b6b>Target Zones:</strong> A=5pts, C=3pts, D=1pt, Miss=0pts </div><div data-v-056c5b6b><strong class="text-gray-800 dark:text-gray-200" data-v-056c5b6b>Power Factor:</strong> Major (160+) or Minor (&lt;160) </div><div data-v-056c5b6b><strong class="text-gray-800 dark:text-gray-200" data-v-056c5b6b>Penalties:</strong> -10pts per procedural/miss </div></div>',3)])])):Ie("",!0),r.value==="IDPA"?(G(),X("div",jM,[...p[8]||(p[8]=[Xt('<h4 class="font-semibold text-gray-900 dark:text-white mb-2" data-v-056c5b6b>International Defensive Pistol Association (IDPA)</h4><p class="mb-2" data-v-056c5b6b> IDPA simulates real-world defensive scenarios with an emphasis on practical equipment and tactics. The sport focuses on accuracy and precision over raw speed. </p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-xs" data-v-056c5b6b><div data-v-056c5b6b><strong class="text-gray-800 dark:text-gray-200" data-v-056c5b6b>Scoring:</strong> Vickers Count (Time + Penalties) </div><div data-v-056c5b6b><strong class="text-gray-800 dark:text-gray-200" data-v-056c5b6b>Target Zones:</strong> Down-0=0s, Down-1=0.5s, Down-3=1.5s </div><div data-v-056c5b6b><strong class="text-gray-800 dark:text-gray-200" data-v-056c5b6b>Cover:</strong> Must use available cover tactically </div><div data-v-056c5b6b><strong class="text-gray-800 dark:text-gray-200" data-v-056c5b6b>Equipment:</strong> Practical concealment gear only </div></div>',3)])])):Ie("",!0)])]),a("div",UM,[a("div",BM,[a("div",qM,[a("div",zM,[Me(Ee(Qd),{class:"h-8 w-8 text-red-600 dark:text-gray-400"})]),a("div",HM,[a("dl",null,[p[9]||(p[9]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Active Matches",-1)),a("dd",VM,D(c.value.length),1)])])])]),a("div",WM,[a("div",GM,[a("div",KM,[Me(Ee(Rr),{class:"h-8 w-8 text-red-600 dark:text-gray-400"})]),a("div",YM,[a("dl",null,[p[10]||(p[10]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Total Matches",-1)),a("dd",JM,D(d.value.length),1)])])])]),a("div",ZM,[a("div",XM,[a("div",QM,[Me(Ee(zh),{class:"h-8 w-8 text-red-600 dark:text-gray-400"})]),a("div",eI,[a("dl",null,[p[11]||(p[11]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Average Performance",-1)),a("dd",tI,D(b.value)+"%",1)])])])]),a("div",rI,[a("div",sI,[a("div",aI,[Me(Ee(R0),{class:"h-8 w-8 text-red-600 dark:text-gray-400"})]),a("div",nI,[a("dl",null,[p[12]||(p[12]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Classification",-1)),a("dd",oI,D(w.value),1)])])])])]),a("div",iI,[a("div",lI,[a("div",dI,[p[14]||(p[14]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Recent Matches")],-1)),a("div",cI,[f.value.length===0?(G(),X("div",uI,[Me(Ee(Qd),{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),p[13]||(p[13]=a("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"No matches found",-1)),a("p",fI,"Get started by creating your first "+D(r.value)+" match.",1),a("div",hI,[a("button",{onClick:p[1]||(p[1]=y=>s.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 dark:bg-red-600 hover:bg-red-700 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-500"},[Me(Ee(ni),{class:"w-4 h-4 mr-2"}),We(" New "+D(r.value)+" Match ",1)])])])):(G(),X("div",gI,[(G(!0),X(Ye,null,nt(f.value.slice(0,5),y=>(G(),X("div",{key:y.id,class:"group border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer relative",onClick:A=>O(y)},[a("div",mI,[a("div",bI,[a("div",vI,[a("div",xI,[(G(),Ut(ns(y.sportType==="IPSC"?Ee(Rr):Ee(ui)),{class:"h-6 w-6 text-red-600 dark:text-red-400"}))]),a("div",null,[a("h4",yI,D(y.name),1),a("p",kI,D(_(y.date))+"  "+D(y.location),1)])])]),a("div",wI,[a("div",_I,[a("div",SI,D(y.stages.length)+" Stages ",1),a("div",AI,D(y.shooters.length)+" Shooters ",1)]),a("div",CI,[a("span",{class:Qe([y.status==="COMPLETED"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":y.status==="IN_PROGRESS"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},D(y.status),3),a("button",{onClick:A=>W(y,A),class:"opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-md text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 dark:hover:text-red-400 focus:outline-none focus:ring-2 focus:ring-red-500",title:`Delete ${y.name}`},[Me(E,{class:"w-4 h-4"})],8,PI)])])])],8,pI))),128))]))])])]),a("div",LI,[a("div",NI,[p[18]||(p[18]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Quick Actions")],-1)),a("div",$I,[a("button",{onClick:p[2]||(p[2]=y=>s.value=!0),class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-500"},[Me(Ee(ni),{class:"w-4 h-4 mr-2"}),p[15]||(p[15]=We(" Create Match ",-1))]),a("button",{onClick:K,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-500"},[Me(Ee(jl),{class:"w-4 h-4 mr-2"}),p[16]||(p[16]=We(" Practice Session ",-1))]),a("button",{onClick:U,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-500"},[Me(Ee(tn),{class:"w-4 h-4 mr-2"}),p[17]||(p[17]=We(" View Statistics ",-1))])])]),a("div",EI,[p[20]||(p[20]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Performance Trend")],-1)),a("div",MI,[a("div",II,[(G(),Ut(ns(h.value==="IMPROVING"?Ee(zh):h.value==="DECLINING"?Ee(Ux):Ee(Ix)),{class:Qe([h.value==="IMPROVING"?"text-green-500":h.value==="DECLINING"?"text-red-500":"text-gray-500","h-8 w-8 mr-3"])},null,8,["class"])),a("div",null,[a("div",TI,D(h.value),1),p[19]||(p[19]=a("div",{class:"text-sm text-gray-500 dark:text-gray-400"}," Based on last 5 matches ",-1))])])])])])]),n.value?(G(),Ut(NM,{key:0,match:n.value,onClose:p[3]||(p[3]=y=>n.value=null),onSave:j,onDelete:R},null,8,["match"])):Ie("",!0),s.value?(G(),Ut(_C,{key:1,sportType:r.value,onClose:p[4]||(p[4]=y=>s.value=!1),onCreated:N},null,8,["sportType"])):Ie("",!0),o.value?(G(),X("div",DI,[a("div",RI,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:I}),a("div",OI,[a("div",FI,[a("div",jI,[a("div",UI,[Me(E,{class:"h-6 w-6 text-red-600 dark:text-red-400"})]),a("div",BI,[p[21]||(p[21]=a("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"delete-modal-title"}," Delete Match ",-1)),a("div",qI,[a("p",zI,' Are you sure you want to delete "'+D(i.value?.name)+'"? This action cannot be undone and will permanently remove all match data, including stages, shooters, and results. ',1)])])])]),a("div",{class:"bg-gray-50 dark:bg-red-700/10 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[a("button",{onClick:B,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete Match "),a("button",{onClick:I,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):Ie("",!0)])}}}),_B=$s(HI,[["__scopeId","data-v-056c5b6b"]]),VI={class:"wind-direction-picker"},WI={class:"compass-container"},GI={class:"tick-marks"},KI=["x1","y1","x2","y2"],YI=["transform"],JI={class:"direction-display"},ZI={class:"direction-value"},XI={class:"direction-cardinal"},QI={class:"quick-directions"},eT=["onClick"],tT=Tt({__name:"WindDirectionPicker",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,s=t,n=[{label:"N",angle:0},{label:"NE",angle:45},{label:"E",angle:90},{label:"SE",angle:135},{label:"S",angle:180},{label:"SW",angle:225},{label:"W",angle:270},{label:"NW",angle:315}],o=Pe(()=>{const c=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],f=Math.round((r.modelValue||0)/22.5)%16;return c[f]}),i=Pe(()=>{const c=[];for(let f=0;f<360;f+=15){const b=f%45===0,w=b?90:85,h=b?75:80,_=100+h*Math.sin(f*Math.PI/180),O=100-h*Math.cos(f*Math.PI/180),j=100+w*Math.sin(f*Math.PI/180),N=100-w*Math.cos(f*Math.PI/180);c.push({angle:f,x1:_,y1:O,x2:j,y2:N,major:b})}return c}),l=c=>{s("update:modelValue",c)},d=c=>{const b=c.currentTarget.getBoundingClientRect(),w=b.left+b.width/2,h=b.top+b.height/2,_=c.clientX-w,O=c.clientY-h;let j=Math.atan2(_,-O)*(180/Math.PI);j<0&&(j+=360),j=Math.round(j/15)*15,l(j)};return(c,f)=>(G(),X("div",VI,[a("div",WI,[(G(),X("svg",{class:"compass",viewBox:"0 0 200 200",onClick:d},[f[1]||(f[1]=Xt('<circle cx="100" cy="100" r="90" fill="none" stroke="currentColor" stroke-width="2" class="compass-circle" data-v-b2786415></circle><g class="cardinal-labels" data-v-b2786415><text x="100" y="15" text-anchor="middle" class="compass-label" data-v-b2786415>N</text><text x="185" y="105" text-anchor="middle" class="compass-label" data-v-b2786415>E</text><text x="100" y="195" text-anchor="middle" class="compass-label" data-v-b2786415>S</text><text x="15" y="105" text-anchor="middle" class="compass-label" data-v-b2786415>W</text></g>',2)),a("g",GI,[(G(!0),X(Ye,null,nt(i.value,b=>(G(),X("line",{key:b.angle,x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,class:Qe(b.major?"major-tick":"minor-tick")},null,10,KI))),128))]),a("g",{class:"wind-arrow",transform:`rotate(${c.modelValue||0} 100 100)`},[...f[0]||(f[0]=[a("path",{d:"M 100 30 L 110 50 L 100 40 L 90 50 Z",fill:"currentColor",class:"arrow-head"},null,-1),a("line",{x1:"100",y1:"40",x2:"100",y2:"100",stroke:"currentColor","stroke-width":"2",class:"arrow-shaft"},null,-1)])],8,YI),f[2]||(f[2]=a("circle",{cx:"100",cy:"100",r:"4",fill:"currentColor",class:"center-dot"},null,-1))])),a("div",JI,[a("div",ZI,D(Math.round(c.modelValue||0))+" ",1),a("div",XI,D(o.value),1)])]),a("div",QI,[(G(),X(Ye,null,nt(n,b=>a("button",{key:b.label,onClick:w=>l(b.angle),class:Qe(["direction-btn",c.modelValue===b.angle?"direction-btn-active":"direction-btn-inactive"])},D(b.label),11,eT)),64))])]))}}),rT=$s(tT,[["__scopeId","data-v-b2786415"]]),sT={class:"space-y-6 p-6"},aT={class:"text-center"},nT={class:"flex justify-center mb-4"},oT={class:"inline-flex rounded-lg border border-army-green-300 dark:border-red-500 bg-white dark:bg-red-600"},iT={class:"space-y-4"},lT={class:"text-center"},dT={key:0,class:"relative"},cT={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:text-black"},uT={class:"text-center"},fT={key:0,class:"relative"},hT={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:text-black"},gT=Tt({__name:"LocationControls",props:{location:{default:null},manualOverride:{type:Boolean,default:!1}},emits:["update:location","update:manualOverride"],setup(e,{emit:t}){const r=e,s=t,n=ye({latitude:r.location?.latitude||0,longitude:r.location?.longitude||0,elevation:r.location?.elevation||0});Dr(()=>r.location,i=>{i&&!r.manualOverride&&(n.value={latitude:i.latitude||0,longitude:i.longitude||0,elevation:i.elevation||0})},{immediate:!0,deep:!0});const o=()=>{s("update:manualOverride",!r.manualOverride)};return Dr(n,i=>{r.manualOverride&&i.latitude&&i.longitude&&s("update:location",{latitude:i.latitude,longitude:i.longitude,elevation:i.elevation||0,timestamp:new Date,source:"MANUAL"})},{deep:!0}),(i,l)=>(G(),X("div",sT,[a("div",aT,[l[3]||(l[3]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-400 mb-4"}," Location ",-1)),a("div",nT,[a("div",oT,[a("button",{onClick:o,class:Qe(["px-6 py-2 text-sm font-medium rounded-l-lg transition-colors",i.manualOverride?"bg-army-green-600 text-white dark:bg-red-700 dark:text-black":"text-army-green-700 dark:text-black hover:bg-army-green-50 dark:hover:bg-red-700"])}," Manual ",2),a("button",{onClick:l[0]||(l[0]=()=>i.$emit("update:manualOverride",!1)),class:Qe(["px-6 py-2 text-sm font-medium rounded-r-lg transition-colors border-l border-army-green-300 dark:border-red-500",i.manualOverride?"text-army-green-700 dark:text-black hover:bg-army-green-50 dark:hover:bg-red-700":"bg-army-green-600 text-white dark:bg-red-700 dark:text-black"])}," Auto ",2)])])]),a("div",iT,[a("div",lT,[l[4]||(l[4]=a("div",{class:"text-sm font-medium text-black dark:text-red-400 mb-2"},"Latitude",-1)),i.manualOverride?(G(),X("div",dT,[De(a("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>n.value.latitude=d),type:"number",step:"0.000001",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"0.000000"},null,512),[[rt,n.value.latitude,void 0,{number:!0}]])])):(G(),X("div",cT,D(n.value.latitude?.toFixed(6)||"0.000000"),1))]),a("div",uT,[l[5]||(l[5]=a("div",{class:"text-sm font-medium text-black dark:text-red-400 mb-2"},"Longitude",-1)),i.manualOverride?(G(),X("div",fT,[De(a("input",{"onUpdate:modelValue":l[2]||(l[2]=d=>n.value.longitude=d),type:"number",step:"0.000001",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"0.000000"},null,512),[[rt,n.value.longitude,void 0,{number:!0}]])])):(G(),X("div",hT,D(n.value.longitude?.toFixed(6)||"0.000000"),1))])])]))}}),pT=$s(gT,[["__scopeId","data-v-8ef5b326"]]),mT={class:"space-y-6"},bT={class:"text-center"},vT={class:"flex justify-center mb-4"},xT={class:"inline-flex rounded-lg border border-army-green-300 dark:border-red-500 bg-white dark:bg-black"},yT={class:"mb-6"},kT={key:0,class:"flex items-center justify-center text-sm text-red-600 dark:text-red-600"},wT={key:1,class:"flex items-center justify-center text-sm text-yellow-600 dark:text-yellow-600"},_T={key:2,class:"flex items-center justify-center text-sm text-green-600 dark:text-green-600"},ST={class:"flex justify-center mt-3"},AT=["disabled"],CT={key:0},PT={key:1},LT={key:0,class:"mb-4 p-3 bg-blue-50 dark:bg-black rounded-lg border border-blue-200 dark:border-red-500"},NT={class:"flex items-center mb-3"},$T={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ET={class:"space-y-1"},MT={class:"block text-sm font-medium text-army-green-800 dark:text-red-400"},IT=["min","max"],TT={class:"space-y-1"},DT={class:"space-y-1"},RT={class:"block text-sm font-medium text-army-green-800 dark:text-red-400"},OT=["min","max"],FT={class:"space-y-1"},jT={class:"block text-sm font-medium text-army-green-800 dark:text-red-400"},UT=["min","max"],BT={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-red-500"},qT={class:"space-y-1"},zT={class:"block text-sm font-medium text-army-green-800 dark:text-red-400"},HT={class:"space-y-1"},VT={class:"space-y-4"},WT={class:"text-center"},GT={class:"flex items-center justify-center mb-2 relative"},KT={key:0,class:"relative"},YT=["min","max","placeholder"],JT={class:"text-xs text-gray-600 dark:text-red-400 mt-1"},ZT={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},XT={class:"text-center"},QT={key:0,class:"relative"},eD={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},tD={class:"text-center"},rD={class:"flex items-center justify-center mb-2 relative"},sD={key:0,class:"relative"},aD={class:"text-xs text-gray-600 dark:text-red-400 mt-1"},nD={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},oD={class:"text-center"},iD={class:"flex items-center justify-center mb-2 relative"},lD={key:0,class:"relative"},dD={class:"text-xs text-gray-600 dark:text-red-400 mt-1"},cD={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},uD={class:"text-center"},fD={class:"flex items-center justify-center mb-2 relative"},hD={key:0,class:"relative"},gD={class:"text-xs text-gray-600 dark:text-red-400 mt-1"},pD={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},mD={class:"text-center"},bD={key:0,class:"relative"},vD={key:1,class:"px-3 py-3 text-lg font-semibold bg-orange-100 dark:!bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg text-gray-900 dark:!text-black"},xD={key:1,class:"mt-4 p-3 bg-yellow-50 dark:bg-black rounded-lg border border-yellow-200 dark:border-red-500"},yD={class:"grid grid-cols-2 gap-3"},kD={class:"block text-xs font-medium text-yellow-700 dark:text-red-400 mb-1"},wD={key:2,class:"mt-4"},_D=Tt({__name:"EnvironmentalControls",props:{conditions:{default:null},manualOverride:{type:Boolean,default:!1},showLocationControls:{type:Boolean,default:!0},unitSystem:{default:"IMPERIAL"}},emits:["update:conditions","update:manualOverride"],setup(e,{emit:t}){const r=e,s=t,n=bi(),o=ye({}),i=ye({}),l=ye({temperature:20,humidity:60,pressure:29.92,elevation:0,windSpeed:0,windDirection:270}),d=ye("F"),c=ye("inHg"),f=ye("mph"),b=ye("ft"),w=()=>{if(l.value.temperature!==void 0&&l.value.humidity!==void 0&&l.value.pressure!==void 0&&l.value.elevation!==void 0&&l.value.windSpeed!==void 0&&l.value.windDirection!==void 0){const M={temperature:l.value.temperature,humidity:l.value.humidity,pressure:l.value.pressure,elevation:l.value.elevation,windSpeed:l.value.windSpeed,windDirection:l.value.windDirection,timestamp:new Date,source:Ps.MANUAL};s("update:conditions",M)}},h=Pe(()=>r.conditions||n.effectiveConditions),_=Pe(()=>n.weatherError||n.locationError),O=Pe(()=>n.isDataStale),j=Pe(()=>n.lastWeatherUpdate?(new Date().getTime()-n.lastWeatherUpdate.getTime())/6e4:0),N=Pe(()=>{if(!h.value)return"Unknown";switch(h.value.source){case"GPS":return"GPS";case"WEATHER_API":return"Weather Service";case"MANUAL":return"Manual";case"CACHED":return"Cached";default:return"Unknown"}}),W=Pe(()=>d.value),B=Pe(()=>c.value),I=Pe(()=>f.value),R=Pe(()=>b.value),K=()=>{const M=!r.manualOverride;n.setManualOverride(M),s("update:manualOverride",M)},U=()=>{d.value=d.value==="C"?"F":"C"},x=()=>{c.value=c.value==="hPa"?"inHg":"hPa"},p=()=>{f.value=f.value==="m/s"?"mph":"m/s"},E=()=>{b.value=b.value==="m"?"ft":"m"},y=M=>M==null?"--":d.value==="C"?((M-32)*5/9).toFixed(1):M.toFixed(1),A=M=>M==null?"--":Math.round(M),H=M=>M==null?"--":c.value==="hPa"?(M*33.863886666667).toFixed(0):M.toFixed(2),F=M=>{if(M==null)return"--";if(b.value==="m"){const z=M*.3048;return Math.round(z)}return Math.round(M)},ae=M=>M==null?"--":f.value==="m/s"?(M*.44704).toFixed(1):M.toFixed(1),ge=M=>M==null?"--":Math.round(M),he=M=>{n.updateManualLocation(M)};Dr(o,M=>{n.updateManualConditions(M)},{deep:!0}),Dr(i,M=>{n.updateManualLocation(M)},{deep:!0}),Dr(()=>n.effectiveConditions,M=>{M&&s("update:conditions",M)},{deep:!0}),Kr(async()=>{if(await n.initializeWithDefaults(),!r.manualOverride)try{await n.refreshAllData()}catch{}});const Z=async()=>{try{await n.forceLocationRefresh(),await n.refreshAllData()}catch{}};return(M,z)=>(G(),X("div",mT,[a("div",bT,[z[16]||(z[16]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-400 mb-4"}," Environmental Conditions ",-1)),a("div",vT,[a("div",xT,[a("button",{onClick:K,class:Qe(["px-6 py-2 text-sm font-medium rounded-l-lg transition-colors",M.manualOverride?"bg-army-green-600 text-white dark:bg-red-700 dark:text-black":"text-army-green-700 dark:text-black hover:bg-army-green-50 dark:hover:bg-red-700"])}," Manual ",2),a("button",{onClick:z[0]||(z[0]=()=>s("update:manualOverride",!1)),class:Qe(["px-6 py-2 text-sm font-medium rounded-r-lg transition-colors border-l border-army-green-300 dark:border-red-500",M.manualOverride?"text-army-green-700 dark:text-black hover:bg-army-green-50 dark:hover:bg-red-700":"bg-army-green-600 text-white dark:bg-red-700 dark:text-black"])}," Auto ",2)])]),a("div",yT,[_.value?(G(),X("div",kT,[Me(Ee(fi),{class:"w-4 h-4 mr-2"}),We(" "+D(_.value),1)])):O.value?(G(),X("div",wT,[Me(Ee(jl),{class:"w-4 h-4 mr-2"}),We(" Data is "+D(Math.round(j.value))+" minutes old ",1)])):(G(),X("div",_T,[Me(Ee($l),{class:"w-4 h-4 mr-2"}),We(" Current data ("+D(N.value)+") ",1)])),a("div",ST,[a("button",{onClick:Z,disabled:Ee(n).isLoadingWeather||Ee(n).isLoadingLocation,class:"px-4 py-2 text-sm font-medium text-army-green-800 dark:text-red-400 bg-army-green-50 dark:bg-black border border-army-green-300 dark:border-red-500 rounded-lg hover:bg-army-green-100 dark:hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Ee(n).isLoadingWeather||Ee(n).isLoadingLocation?(G(),X("span",CT," Refreshing... ")):(G(),X("span",PT," Refresh Data "))],8,AT)])])]),M.manualOverride?(G(),X("div",LT,[a("div",NT,[Me(Ee(Nx),{class:"w-4 h-4 text-blue-500 dark:text-red-400 mr-2"}),z[17]||(z[17]=a("span",{class:"text-sm text-blue-700 dark:text-red-400"}," Manual override enabled. Values below will override automatic data. ",-1))]),a("div",$T,[a("div",ET,[a("label",MT," Temperature ("+D(W.value)+") ",1),De(a("input",{"onUpdate:modelValue":z[1]||(z[1]=S=>o.value.temperature=S),type:"number",min:W.value==="F"?-50:-45,max:W.value==="F"?150:65,class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,8,IT),[[rt,o.value.temperature,void 0,{number:!0}]])]),a("div",TT,[z[18]||(z[18]=a("label",{class:"block text-sm font-medium text-army-green-800 dark:text-red-400"}," Humidity (%) ",-1)),De(a("input",{"onUpdate:modelValue":z[2]||(z[2]=S=>o.value.humidity=S),type:"number",min:"0",max:"100",class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[rt,o.value.humidity,void 0,{number:!0}]])]),a("div",DT,[a("label",RT," Pressure ("+D(B.value)+") ",1),De(a("input",{"onUpdate:modelValue":z[3]||(z[3]=S=>o.value.pressure=S),type:"number",min:B.value==="inHg"?25:850,max:B.value==="inHg"?35:1050,step:"0.01",class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,8,OT),[[rt,o.value.pressure,void 0,{number:!0}]])]),a("div",FT,[a("label",jT," Elevation ("+D(R.value)+") ",1),De(a("input",{"onUpdate:modelValue":z[4]||(z[4]=S=>o.value.elevation=S),type:"number",min:R.value==="ft"?-1e3:-300,max:R.value==="ft"?15e3:4500,class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,8,UT),[[rt,o.value.elevation,void 0,{number:!0}]])])]),a("div",BT,[a("div",qT,[a("label",zT," Wind Speed ("+D(I.value)+") ",1),De(a("input",{"onUpdate:modelValue":z[5]||(z[5]=S=>o.value.windSpeed=S),type:"number",min:"0",max:"100",class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[rt,o.value.windSpeed,void 0,{number:!0}]])]),a("div",HT,[z[19]||(z[19]=a("label",{class:"block text-sm font-medium text-army-green-800 dark:text-red-400"}," Wind Direction () ",-1)),De(a("input",{"onUpdate:modelValue":z[6]||(z[6]=S=>o.value.windDirection=S),type:"number",min:"0",max:"360",class:"w-full px-3 py-2 border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[rt,o.value.windDirection,void 0,{number:!0}]])])])])):Ie("",!0),a("div",VT,[a("div",WT,[a("div",GT,[z[20]||(z[20]=a("div",{class:"text-sm font-medium text-black dark:text-red-400"},"Temperature",-1)),a("button",{onClick:U,class:Qe(["absolute right-0 px-3 py-1.5 text-sm font-medium rounded-md transition-colors min-w-[50px]",W.value==="C"?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-red-600 dark:text-black dark:hover:bg-red-700":"bg-gray-300 text-gray-700 hover:bg-gray-400 dark:bg-red-700 dark:text-black dark:hover:bg-red-800"])}," "+D(W.value==="C"?"C":"F"),3)]),M.manualOverride?(G(),X("div",KT,[De(a("input",{"onUpdate:modelValue":z[7]||(z[7]=S=>l.value.temperature=S),onInput:w,type:"number",min:W.value==="C"?-50:-58,max:W.value==="C"?60:140,class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:`${W.value==="C"?"20":"68"}`},null,40,YT),[[rt,l.value.temperature,void 0,{number:!0}]]),a("div",JT,""+D(W.value.charAt(0).toUpperCase()),1)])):(G(),X("div",ZT,D(y(h.value?.temperature))+""+D(W.value.charAt(0).toUpperCase()),1))]),a("div",XT,[z[22]||(z[22]=a("div",{class:"text-sm font-medium text-black dark:text-red-400 mb-2"},"Humidity",-1)),M.manualOverride?(G(),X("div",QT,[De(a("input",{"onUpdate:modelValue":z[8]||(z[8]=S=>l.value.humidity=S),onInput:w,type:"number",min:"0",max:"100",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"60"},null,544),[[rt,l.value.humidity,void 0,{number:!0}]]),z[21]||(z[21]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"},"%",-1))])):(G(),X("div",eD,D(A(h.value?.humidity))+"% ",1))]),a("div",tD,[a("div",rD,[z[23]||(z[23]=a("div",{class:"text-sm font-medium text-black dark:text-red-400"},"Pressure",-1)),a("button",{onClick:x,class:Qe(["absolute right-0 px-3 py-1.5 text-sm font-medium rounded-md transition-colors min-w-[50px]",B.value==="hPa"?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-red-600 dark:text-black dark:hover:bg-red-700":"bg-gray-300 text-gray-700 hover:bg-gray-400 dark:bg-red-700 dark:text-black dark:hover:bg-red-800"])},D(B.value==="hPa"?"hPa":"inHg"),3)]),M.manualOverride?(G(),X("div",sD,[De(a("input",{"onUpdate:modelValue":z[9]||(z[9]=S=>l.value.pressure=S),onInput:w,type:"number",min:"25",max:"35",step:"0.1",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"29.92"},null,544),[[rt,l.value.pressure,void 0,{number:!0}]]),a("div",aD,D(B.value),1)])):(G(),X("div",nD,D(H(h.value?.pressure))+" "+D(B.value),1))]),a("div",oD,[a("div",iD,[z[24]||(z[24]=a("div",{class:"text-sm font-medium text-black dark:text-red-400"},"Elevation",-1)),a("button",{onClick:E,class:Qe(["absolute right-0 px-3 py-1.5 text-sm font-medium rounded-md transition-colors min-w-[50px]",R.value==="m"?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-red-600 dark:text-black dark:hover:bg-red-700":"bg-gray-300 text-gray-700 hover:bg-gray-400 dark:bg-red-700 dark:text-black dark:hover:bg-red-800"])},D(R.value==="m"?"m":"ft"),3)]),M.manualOverride?(G(),X("div",lD,[De(a("input",{"onUpdate:modelValue":z[10]||(z[10]=S=>l.value.elevation=S),onInput:w,type:"number",min:"-1000",max:"15000",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"1000"},null,544),[[rt,l.value.elevation,void 0,{number:!0}]]),a("div",dD,D(R.value),1)])):(G(),X("div",cD,D(F(h.value?.elevation))+" "+D(R.value),1))]),a("div",uD,[a("div",fD,[z[25]||(z[25]=a("div",{class:"text-sm font-medium text-black dark:text-red-400"},"Wind Speed",-1)),a("button",{onClick:p,class:Qe(["absolute right-0 px-3 py-1.5 text-sm font-medium rounded-md transition-colors min-w-[50px]",I.value==="m/s"?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-red-600 dark:text-black dark:hover:bg-red-700":"bg-gray-300 text-gray-700 hover:bg-gray-400 dark:bg-red-700 dark:text-black dark:hover:bg-red-800"])},D(I.value==="m/s"?"m/s":"mph"),3)]),M.manualOverride?(G(),X("div",hD,[De(a("input",{"onUpdate:modelValue":z[11]||(z[11]=S=>l.value.windSpeed=S),onInput:w,type:"number",min:"0",max:"100",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"10"},null,544),[[rt,l.value.windSpeed,void 0,{number:!0}]]),a("div",gD,D(I.value),1)])):(G(),X("div",pD,D(ae(h.value?.windSpeed))+" "+D(I.value),1))]),a("div",mD,[z[27]||(z[27]=a("div",{class:"text-sm font-medium text-black dark:text-red-400 mb-2"},"Wind Direction",-1)),M.manualOverride?(G(),X("div",bD,[De(a("input",{"onUpdate:modelValue":z[12]||(z[12]=S=>l.value.windDirection=S),onInput:w,type:"number",min:"0",max:"360",class:"w-full px-3 py-3 text-center text-lg font-semibold bg-orange-100 dark:bg-red-600 border-2 border-orange-300 dark:border-red-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-400 focus:border-army-green-500 dark:focus:border-red-400 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700",placeholder:"270"},null,544),[[rt,l.value.windDirection,void 0,{number:!0}]]),z[26]||(z[26]=a("div",{class:"text-xs text-gray-600 dark:text-red-400 mt-1"},"",-1))])):(G(),X("div",vD,D(ge(h.value?.windDirection))+" ",1))])]),M.manualOverride?(G(),X("div",xD,[z[29]||(z[29]=a("h4",{class:"text-sm font-medium text-yellow-800 dark:text-red-400 mb-3"}," Wind Conditions ",-1)),a("div",yD,[a("div",null,[a("label",kD," Wind Speed ("+D(I.value)+") ",1),De(a("input",{"onUpdate:modelValue":z[13]||(z[13]=S=>o.value.windSpeed=S),type:"number",min:"0",max:"100",step:"0.1",class:"w-full px-3 py-2 text-sm border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-500 focus:border-army-green-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[rt,o.value.windSpeed,void 0,{number:!0}]])]),a("div",null,[z[28]||(z[28]=a("label",{class:"block text-xs font-medium text-yellow-700 dark:text-red-400 mb-1"}," Wind Direction () ",-1)),De(a("input",{"onUpdate:modelValue":z[14]||(z[14]=S=>o.value.windDirection=S),type:"number",min:"0",max:"360",step:"1",class:"w-full px-3 py-2 text-sm border border-army-green-300 dark:border-red-500 rounded-md shadow-sm focus:ring-2 focus:ring-army-green-500 dark:focus:ring-red-500 focus:border-army-green-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black placeholder-gray-500 dark:placeholder-gray-700"},null,512),[[rt,o.value.windDirection,void 0,{number:!0}]])])]),Me(rT,{"model-value":o.value.windDirection||0,"onUpdate:modelValue":z[15]||(z[15]=S=>o.value.windDirection=S),class:"mt-3"},null,8,["model-value"])])):Ie("",!0),M.showLocationControls?(G(),X("div",wD,[Me(pT,{location:Ee(n).effectiveLocation,"manual-override":M.manualOverride,"onUpdate:location":he,"onUpdate:manualOverride":K},null,8,["location","manual-override"])])):Ie("",!0)]))}}),SD={class:"space-y-6"},AD={class:"bg-light-surface dark:bg-black rounded-lg shadow-tactical border border-army-green-200 dark:border-red-500"},SB=Tt({__name:"EnvironmentView",setup(e){const t=bi();return(r,s)=>(G(),X("div",SD,[a("div",AD,[Me(_D,{"manual-override":Ee(t).manualOverrideEnabled,"onUpdate:manualOverride":s[0]||(s[0]=n=>Ee(t).setManualOverride(n))},null,8,["manual-override"])])]))}}),CD={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},PD={class:"flex items-center justify-between mb-6"},LD={class:"flex space-x-3"},ND=["value"],$D={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},ED={class:"text-center p-3 bg-gray-50 dark:bg-red-600 rounded-lg"},MD={class:"text-2xl font-bold text-gray-900 dark:text-black"},ID={class:"text-center p-3 bg-green-50 dark:bg-red-600 rounded-lg"},TD={class:"text-2xl font-bold text-green-600 dark:text-black"},DD={class:"text-center p-3 bg-red-50 dark:bg-red-600 rounded-lg"},RD={class:"text-2xl font-bold text-red-600 dark:text-black"},OD={class:"text-center p-3 bg-blue-50 dark:bg-red-600 rounded-lg"},FD={class:"text-2xl font-bold text-blue-600 dark:text-black"},jD={key:0,class:"text-center py-12"},UD={key:1,class:"space-y-4"},BD={class:"flex items-center justify-between"},qD={class:"flex items-center justify-between"},zD={class:"flex items-center space-x-2 bg-gray-100 dark:bg-red-600 rounded-lg p-1 ml-4"},HD={class:"text-sm text-gray-500 dark:text-red-400"},VD={class:"grid gap-4"},WD=["onClick"],GD={key:0,class:"flex items-center justify-between"},KD={class:"flex items-center space-x-4"},YD={class:"flex items-center space-x-2"},JD={class:"text-sm text-gray-600 dark:text-red-400"},ZD={class:"text-sm font-medium text-gray-900 dark:text-red-400"},XD={class:"text-sm text-gray-600 dark:text-red-400"},QD={key:1},eR={class:"flex items-center justify-between"},tR={class:"flex items-center space-x-4"},rR={class:"flex items-center space-x-2"},sR={class:"text-sm text-gray-600 dark:text-red-400"},aR={class:"text-sm font-medium text-gray-900 dark:text-red-400"},nR={class:"text-sm text-gray-600 dark:text-red-400"},oR={class:"flex items-center space-x-4"},iR={class:"text-right"},lR={class:"text-sm font-medium text-gray-900 dark:text-red-400"},dR={key:0,class:"mt-4 pt-4 border-t border-gray-200 dark:border-red-700 space-y-4"},cR={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},uR={class:"text-center p-2 bg-blue-50 dark:bg-red-600 rounded"},fR={class:"text-sm font-medium text-gray-900 dark:text-black"},hR={class:"text-center p-2 bg-green-50 dark:bg-red-600 rounded"},gR={class:"text-sm font-medium text-gray-900 dark:text-black"},pR={class:"text-center p-2 bg-yellow-50 dark:bg-red-600 rounded"},mR={class:"text-sm font-medium text-gray-900 dark:text-black"},bR={class:"text-center p-2 bg-purple-50 dark:bg-red-600 rounded"},vR={class:"text-sm font-medium text-gray-900 dark:text-black"},xR={class:"text-center p-2 bg-orange-50 dark:bg-red-600 rounded"},yR={class:"text-sm font-medium text-gray-900 dark:text-black"},kR={key:0,class:"text-center p-2 bg-red-50 dark:bg-red-600 rounded"},wR={class:"text-sm font-medium text-gray-900 dark:text-black"},_R={class:"grid grid-cols-2 gap-4"},SR={class:"bg-blue-50 dark:bg-red-600 p-3 rounded"},AR={class:"space-y-1"},CR={class:"text-sm text-gray-700 dark:text-black"},PR={class:"text-sm text-gray-700 dark:text-black"},LR={class:"text-sm text-gray-700 dark:text-black"},NR={class:"bg-green-50 dark:bg-red-600 p-3 rounded"},$R={class:"space-y-1"},ER={class:"text-sm text-gray-700 dark:text-black"},MR={class:"text-sm text-gray-700 dark:text-black"},IR={key:0,class:"text-sm text-gray-700 dark:text-black"},TR={key:0},DR={class:"text-sm text-gray-600 dark:text-black bg-gray-50 dark:bg-red-600 p-2 rounded"},RR={class:"flex space-x-2 pt-2"},OR=["onClick"],FR=["onClick"],jR=Tt({__name:"ShotRecordsList",setup(e){const t=vi(),r=Bn(),s=Pe(()=>r.unitPreset),n=ye(null),o=ye("timestamp"),i=ye("desc"),l=ye("detailed"),d=ye({rifle:"",result:""}),c=Pe(()=>t.allShots),f=Pe(()=>{const H=new Set(c.value.map(F=>F.rifleProfile.name));return Array.from(H).sort()}),b=Pe(()=>{let H=c.value;if(d.value.rifle&&(H=H.filter(F=>F.rifleProfile.name===d.value.rifle)),d.value.result){const F=d.value.result==="hit";H=H.filter(ae=>ae.actualResult.hit===F)}return H}),w=Pe(()=>{const H=[...b.value];return H.sort((F,ae)=>{let ge,he;switch(o.value){case"timestamp":ge=new Date(F.timestamp).getTime(),he=new Date(ae.timestamp).getTime();break;case"distance":ge=F.distance,he=ae.distance;break;case"accuracy":ge=I(F),he=I(ae);break;case"rifle":ge=F.rifleProfile.name,he=ae.rifleProfile.name;break;default:return 0}return i.value==="asc"?ge>he?1:-1:ge<he?1:-1}),H}),h=Pe(()=>b.value.filter(H=>H.actualResult.hit).length),_=Pe(()=>b.value.filter(H=>!H.actualResult.hit).length),O=Pe(()=>b.value.length===0?0:(h.value/b.value.length*100).toFixed(1)),j=H=>new Date(H).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),N=H=>s.value==="metric"?`${(H*_o.INCHES_TO_CM).toFixed(1)} cm`:`${H.toFixed(1)}"`,W=(H,F)=>{if((F.unitPreferences?.distance||F.zeroDistanceUnit||(s.value==="metric"?"meters":"yards"))==="meters"){const ge=H*.9144;return`${Math.round(ge)}m`}else return`${Math.round(H)}yd`},B=H=>{const F=Math.abs(H.actualResult.horizontalOffset),ae=Math.abs(H.actualResult.verticalOffset),ge=Math.sqrt(F*F+ae*ae);return s.value==="metric"?`${(ge*_o.INCHES_TO_CM).toFixed(1)} cm`:`${ge.toFixed(1)}"`},I=H=>{const F=Math.abs(H.actualResult.horizontalOffset),ae=Math.abs(H.actualResult.verticalOffset);return Math.sqrt(F*F+ae*ae)},R=H=>{if(s.value==="metric"){const F=(H-32)*5/9;return`${Math.round(F)}C`}else return`${Math.round(H)}F`},K=H=>{if(s.value==="metric"){const F=H*1.60934;return`${Math.round(F)}km/h`}else return`${Math.round(H)}mph`},U=H=>{if(s.value==="metric"){const F=H*33.8639;return`${Math.round(F)}hPa`}else return`${Math.round(H*100)/100}inHg`},x=H=>`${Math.round(H)}%`,p=H=>{const F=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],ae=Math.round(H/22.5)%16;return F[ae]},E=()=>{d.value.rifle="",d.value.result=""},y=H=>{confirm("Are you sure you want to delete this shot record?")&&(t.deleteShotRecord(H),n.value?.id===H&&(n.value=null))},A=H=>{const F=JSON.stringify(H,null,2),ae="data:application/json;charset=utf-8,"+encodeURIComponent(F),ge=`shot-${H.id}-${new Date(H.timestamp).toISOString().split("T")[0]}.json`,he=document.createElement("a");he.setAttribute("href",ae),he.setAttribute("download",ge),he.click()};return Kr(()=>{t.loadFromStorage()}),(H,F)=>(G(),X("div",CD,[a("div",PD,[F[8]||(F[8]=a("div",null,[a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-red-400"},"Shot Records"),a("p",{class:"text-sm text-gray-600 dark:text-red-400 mt-1"},"Detailed analysis of individual shots")],-1)),a("div",LD,[De(a("select",{"onUpdate:modelValue":F[0]||(F[0]=ae=>d.value.rifle=ae),class:"px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm text-gray-700 dark:text-black bg-white dark:bg-red-600"},[F[6]||(F[6]=a("option",{value:""},"All Rifles",-1)),(G(!0),X(Ye,null,nt(f.value,ae=>(G(),X("option",{key:ae,value:ae},D(ae),9,ND))),128))],512),[[Et,d.value.rifle]]),De(a("select",{"onUpdate:modelValue":F[1]||(F[1]=ae=>d.value.result=ae),class:"px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm text-gray-700 dark:text-black bg-white dark:bg-red-600"},[...F[7]||(F[7]=[a("option",{value:""},"All Results",-1),a("option",{value:"hit"},"Hits Only",-1),a("option",{value:"miss"},"Misses Only",-1)])],512),[[Et,d.value.result]]),a("button",{onClick:E,class:"px-3 py-2 text-sm text-gray-600 dark:text-red-400 border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors"}," Clear Filters ")])]),a("div",$D,[a("div",ED,[a("div",MD,D(b.value.length),1),F[9]||(F[9]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Total Shots",-1))]),a("div",ID,[a("div",TD,D(h.value),1),F[10]||(F[10]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Hits",-1))]),a("div",DD,[a("div",RD,D(_.value),1),F[11]||(F[11]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Misses",-1))]),a("div",OD,[a("div",FD,D(O.value)+"%",1),F[12]||(F[12]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Hit Rate",-1))])]),b.value.length===0?(G(),X("div",jD,[Me(Ee(Rr),{class:"w-12 h-12 text-gray-400 dark:text-red-400 mx-auto mb-4"}),F[13]||(F[13]=a("p",{class:"text-gray-500 dark:text-red-400"},"No shots match your current filters",-1)),a("button",{onClick:E,class:"mt-2 text-sm text-blue-600 dark:text-red-400 hover:text-blue-800 dark:hover:text-red-300"}," Clear filters to see all shots ")])):(G(),X("div",UD,[a("div",BD,[a("div",qD,[F[15]||(F[15]=a("label",{class:"text-sm text-gray-700 dark:text-red-400"},"Sort by:",-1)),De(a("select",{"onUpdate:modelValue":F[2]||(F[2]=ae=>o.value=ae),class:"px-3 py-1 border border-gray-300 dark:border-red-500 rounded text-sm text-gray-700 dark:text-black bg-white dark:bg-red-600"},[...F[14]||(F[14]=[a("option",{value:"timestamp"},"Date",-1),a("option",{value:"distance"},"Distance",-1),a("option",{value:"accuracy"},"Accuracy",-1),a("option",{value:"rifle"},"Rifle",-1)])],512),[[Et,o.value]]),a("button",{onClick:F[3]||(F[3]=ae=>i.value=i.value==="asc"?"desc":"asc"),class:"p-1 text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300"},[Me(Ee(kx),{class:"w-4 h-4"})]),a("div",zD,[a("button",{onClick:F[4]||(F[4]=ae=>l.value="detailed"),class:Qe(["px-3 py-1 rounded text-sm font-medium transition-colors",l.value==="detailed"?"bg-white dark:bg-black text-gray-900 dark:text-red-400 shadow-sm":"text-gray-600 dark:text-black hover:text-gray-900 dark:hover:text-gray-800"])}," Detailed ",2),a("button",{onClick:F[5]||(F[5]=ae=>l.value="minimal"),class:Qe(["px-3 py-1 rounded text-sm font-medium transition-colors",l.value==="minimal"?"bg-white dark:bg-black text-gray-900 dark:text-red-400 shadow-sm":"text-gray-600 dark:text-black hover:text-gray-900 dark:hover:text-gray-800"])}," Minimal ",2)])]),a("div",HD," Showing "+D(b.value.length)+" of "+D(c.value.length)+" shots ",1)]),a("div",VD,[(G(!0),X(Ye,null,nt(w.value,ae=>(G(),X("div",{key:ae.id,class:"border border-gray-200 dark:border-red-500 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-900 cursor-pointer transition-colors",onClick:ge=>l.value==="detailed"?n.value=n.value?.id===ae.id?null:ae:null},[l.value==="minimal"?(G(),X("div",GD,[a("div",KD,[a("div",YD,[a("div",{class:Qe(["w-3 h-3 rounded-full",ae.actualResult.hit?"bg-green-500":"bg-red-500"])},null,2),a("span",{class:Qe(["px-2 py-1 rounded-full text-xs font-medium",ae.actualResult.hit?"bg-green-100 dark:bg-red-700 text-green-800 dark:text-black":"bg-red-100 dark:bg-red-700 text-red-800 dark:text-black"])},D(ae.actualResult.hit?"Hit":"Miss"),3)]),a("div",JD,D(j(ae.timestamp)),1),a("div",ZD,D(W(ae.distance,ae.rifleProfile)),1),a("div",XD,D(ae.rifleProfile.name),1)])])):(G(),X("div",QD,[a("div",eR,[a("div",tR,[a("div",rR,[a("div",{class:Qe(["w-3 h-3 rounded-full",ae.actualResult.hit?"bg-green-500":"bg-red-500"])},null,2),a("span",{class:Qe(["px-2 py-1 rounded-full text-xs font-medium",ae.actualResult.hit?"bg-green-100 dark:bg-red-700 text-green-800 dark:text-black":"bg-red-100 dark:bg-red-700 text-red-800 dark:text-black"])},D(ae.actualResult.hit?"Hit":"Miss"),3)]),a("div",sR,D(j(ae.timestamp)),1),a("div",aR,D(W(ae.distance,ae.rifleProfile)),1),a("div",nR,D(ae.rifleProfile.name),1)]),a("div",oR,[a("div",iR,[a("div",lR,D(B(ae)),1),F[16]||(F[16]=a("div",{class:"text-xs text-gray-500 dark:text-red-400"},"offset",-1))]),Me(Ee(Y1),{class:Qe(["w-4 h-4 text-gray-400 transition-transform",n.value?.id===ae.id?"transform rotate-180":""])},null,8,["class"])])]),l.value==="detailed"&&n.value?.id===ae.id?(G(),X("div",dR,[a("div",null,[F[23]||(F[23]=a("h4",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Environmental Conditions",-1)),a("div",cR,[a("div",uR,[a("div",fR,D(R(ae.environmentalConditions.temperature)),1),F[17]||(F[17]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Temperature",-1))]),a("div",hR,[a("div",gR,D(K(ae.environmentalConditions.windSpeed)),1),F[18]||(F[18]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Wind Speed",-1))]),a("div",pR,[a("div",mR,D(p(ae.environmentalConditions.windDirection)),1),F[19]||(F[19]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Wind Direction",-1))]),a("div",bR,[a("div",vR,D(x(ae.environmentalConditions.humidity)),1),F[20]||(F[20]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Humidity",-1))]),a("div",xR,[a("div",yR,D(U(ae.environmentalConditions.pressure)),1),F[21]||(F[21]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Pressure",-1))]),ae.environmentalConditions.shootingDirection!==void 0?(G(),X("div",kR,[a("div",wR,D(p(ae.environmentalConditions.shootingDirection)),1),F[22]||(F[22]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Shot Direction",-1))])):Ie("",!0)])]),a("div",null,[F[26]||(F[26]=a("h4",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Predicted vs Actual",-1)),a("div",_R,[a("div",SR,[F[24]||(F[24]=a("div",{class:"text-sm font-medium text-blue-900 dark:text-black mb-2"},"Predicted",-1)),a("div",AR,[a("div",CR,"Drop: "+D(ae.predictedSolution.drop?N(ae.predictedSolution.drop):"N/A"),1),a("div",PR,"Windage: "+D(ae.predictedSolution.windage?N(ae.predictedSolution.windage):"N/A"),1),a("div",LR,"Velocity: "+D(ae.predictedSolution.velocity?Math.round(ae.predictedSolution.velocity):"N/A")+D(s.value==="metric"?"m/s":"fps"),1)])]),a("div",NR,[F[25]||(F[25]=a("div",{class:"text-sm font-medium text-green-900 dark:text-black mb-2"},"Actual Result",-1)),a("div",$R,[a("div",ER,"H Offset: "+D(N(ae.actualResult.horizontalOffset)),1),a("div",MR,"V Offset: "+D(N(ae.actualResult.verticalOffset)),1),ae.actualResult.scoreValue?(G(),X("div",IR,"Score: "+D(ae.actualResult.scoreValue),1)):Ie("",!0)])])])]),ae.actualResult.notes?(G(),X("div",TR,[F[27]||(F[27]=a("h4",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Notes",-1)),a("p",DR,D(ae.actualResult.notes),1)])):Ie("",!0),a("div",RR,[a("button",{onClick:Gs(ge=>y(ae.id),["stop"]),class:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors"}," Delete ",8,OR),a("button",{onClick:Gs(ge=>A(ae),["stop"]),class:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"}," Export ",8,FR)])])):Ie("",!0)]))],8,WD))),128))])]))]))}}),UR={class:"space-y-6"},BR={key:0,class:"bg-blue-50 dark:bg-black border border-blue-200 dark:border-red-500 rounded-lg p-4"},qR={class:"flex items-center justify-between"},zR={class:"text-blue-700 dark:text-red-400 mt-1"},HR={class:"text-sm text-blue-600 dark:text-red-400"},VR={class:"flex space-x-3"},WR={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},GR={class:"mb-6 p-4 border border-red-300 dark:border-red-500 rounded-lg bg-red-50 dark:bg-red-600"},KR={class:"flex items-center justify-between"},YR={key:0,class:"mt-4 pt-4 border-t border-red-200 dark:border-red-500 bg-red-50 dark:bg-black p-4 rounded-lg"},JR={class:"flex items-start justify-between"},ZR={class:"flex-1"},XR={class:"mt-2 text-xs text-red-700 dark:text-red-400"},QR={class:"list-disc list-inside mt-1 space-y-1"},eO={key:0},tO=["disabled"],rO={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},sO={class:"text-center p-4 bg-gray-50 dark:bg-red-600 rounded-lg"},aO={class:"text-2xl font-bold text-gray-900 dark:text-black"},nO={class:"text-center p-4 bg-blue-50 dark:bg-red-600 rounded-lg"},oO={class:"text-2xl font-bold text-blue-600 dark:text-black"},iO={class:"text-center p-4 bg-green-50 dark:bg-red-600 rounded-lg"},lO={class:"text-2xl font-bold text-green-600 dark:text-black"},dO={class:"text-center p-4 bg-purple-50 dark:bg-red-600 rounded-lg"},cO={class:"text-2xl font-bold text-purple-600 dark:text-black"},uO={class:"flex items-center justify-between mb-4"},fO={class:"flex space-x-2"},hO={key:0,class:"text-center py-8"},gO={key:1,class:"space-y-4"},pO={class:"flex items-center justify-between"},mO={class:"flex items-center space-x-4"},bO={class:"font-semibold text-gray-900 dark:text-red-400"},vO={class:"text-sm text-gray-600 dark:text-red-400"},xO={class:"text-sm font-medium text-gray-900 dark:text-red-400"},yO={class:"text-sm font-medium text-green-600 dark:text-red-400"},kO=["onClick"],wO={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},_O={class:"bg-white dark:bg-black rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-red-500"},SO={class:"flex items-center justify-between mb-6"},AO={class:"text-xl font-semibold text-gray-900 dark:text-red-400"},CO={class:"text-gray-600 dark:text-red-400"},PO={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},LO={class:"text-center p-3 bg-blue-50 dark:bg-red-600 rounded-lg"},NO={class:"text-xl font-bold text-blue-600 dark:text-black"},$O={class:"text-center p-3 bg-green-50 dark:bg-red-600 rounded-lg"},EO={class:"text-xl font-bold text-green-600 dark:text-black"},MO={class:"text-center p-3 bg-purple-50 dark:bg-red-600 rounded-lg"},IO={class:"text-xl font-bold text-purple-600 dark:text-black"},TO={class:"text-center p-3 bg-orange-50 dark:bg-red-600 rounded-lg"},DO={class:"text-xl font-bold text-orange-600 dark:text-black"},RO={class:"mb-6"},OO={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},FO={class:"text-center p-2 bg-blue-50 dark:bg-red-600 rounded"},jO={class:"text-sm font-medium text-gray-900 dark:text-black"},UO={class:"text-center p-2 bg-green-50 dark:bg-red-600 rounded"},BO={class:"text-sm font-medium text-gray-900 dark:text-black"},qO={class:"text-center p-2 bg-yellow-50 dark:bg-red-600 rounded"},zO={class:"text-sm font-medium text-gray-900 dark:text-black"},HO={class:"text-center p-2 bg-purple-50 dark:bg-red-600 rounded"},VO={class:"text-sm font-medium text-gray-900 dark:text-black"},WO={class:"text-center p-2 bg-orange-50 dark:bg-red-600 rounded"},GO={class:"text-sm font-medium text-gray-900 dark:text-black"},KO={key:0,class:"text-center p-2 bg-red-50 dark:bg-red-600 rounded"},YO={class:"text-sm font-medium text-gray-900 dark:text-black"},JO={key:0,class:"mb-6"},ZO={class:"bg-gray-50 dark:bg-red-600 p-4 rounded-lg"},XO={class:"text-gray-700 dark:text-black"},QO={class:"space-y-2 max-h-60 overflow-y-auto"},eF={class:"flex items-center space-x-4"},tF={class:"text-sm font-medium text-gray-500 dark:text-black"},rF={class:"text-sm text-gray-900 dark:text-black"},sF={class:"text-sm text-gray-600 dark:text-black"},aF={class:"text-xs text-gray-500 dark:text-black"},nF={class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-red-500"},oF=Tt({__name:"SessionManager",setup(e){const t=Z=>{if(d.value==="metric"){const M=(Z-32)*5/9;return`${Math.round(M)}C`}else return`${Math.round(Z)}F`},r=Z=>{if(d.value==="metric"){const M=Z*1.60934;return`${Math.round(M)}km/h`}else return`${Math.round(Z)}mph`},s=Z=>{if(d.value==="metric"){const M=Z*33.8639;return`${Math.round(M)}hPa`}else return`${Math.round(Z*100)/100}inHg`},n=Z=>`${Math.round(Z)}%`,o=Z=>{const M=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],z=Math.round(Z/22.5)%16;return M[z]},i=vi(),l=Bn(),d=Pe(()=>l.unitPreset),c=ye(!1),f=ye(null),b=ye("all"),w=ye(!1),h=Pe(()=>i.currentSession),_=Pe(()=>i.shotSessions),O=Pe(()=>i.allShots),j=Pe(()=>_.value.reduce((Z,M)=>Z+M.shots.length,0)),N=Pe(()=>_.value.length===0?0:(_.value.reduce((M,z)=>M+parseFloat(p(z)),0)/_.value.length).toFixed(1)),W=Pe(()=>_.value.length===0?0:Math.round(j.value/_.value.length)),B=Pe(()=>{const Z=new Date;let M=[..._.value];if(b.value==="this-week"){const z=new Date(Z.getTime()-6048e5);M=M.filter(S=>new Date(S.date)>=z)}else if(b.value==="this-month"){const z=new Date(Z.getTime()-2592e6);M=M.filter(S=>new Date(S.date)>=z)}return M.sort((z,S)=>new Date(S.date).getTime()-new Date(z.date).getTime())}),I=Z=>new Date(Z).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),R=Z=>new Date(Z).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}),K=Z=>new Date(Z).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),U=Z=>{const M=Math.sqrt(Math.pow(Z.actualResult.horizontalOffset,2)+Math.pow(Z.actualResult.verticalOffset,2));return d.value==="metric"?`${(M*_o.INCHES_TO_CM).toFixed(1)} cm offset`:`${M.toFixed(1)}" offset`},x=Z=>d.value==="metric"?`${(Z*.9144).toFixed(0)}m`:`${Z}yd`,p=Z=>Z.shots.length===0?"0":(Z.shots.filter(z=>z.actualResult.hit).length/Z.shots.length*100).toFixed(1),E=Z=>Z.shots.length===0?"0.0":(Z.shots.reduce((z,S)=>{const m=Math.abs(S.actualResult.horizontalOffset),C=Math.abs(S.actualResult.verticalOffset);return z+Math.sqrt(m*m+C*C)},0)/Z.shots.length).toFixed(1),y=Z=>{if(Z.shots.length===0)return"0m";const M=Z.shots[0],z=Z.shots[Z.shots.length-1],S=new Date(z.timestamp).getTime()-new Date(M.timestamp).getTime();return`${Math.round(S/(1e3*60))}m`},A=()=>{confirm("Are you sure you want to end the current session?")&&i.endSession()},H=Z=>{f.value=Z,c.value=!0},F=Z=>{const M=JSON.stringify(Z,null,2),z="data:application/json;charset=utf-8,"+encodeURIComponent(M),S=`session-${Z.id}-${I(Z.date).replace(/\s/g,"-")}.json`,m=document.createElement("a");m.setAttribute("href",z),m.setAttribute("download",S),m.click()},ae=()=>{const Z=JSON.stringify(_.value,null,2),M="data:application/json;charset=utf-8,"+encodeURIComponent(Z),z=`all-sessions-${new Date().toISOString().split("T")[0]}.json`,S=document.createElement("a");S.setAttribute("href",M),S.setAttribute("download",z),S.click()},ge=Z=>{if(confirm("Are you sure you want to delete this session? This action cannot be undone.")){const M=_.value.findIndex(z=>z.id===Z);M!==-1&&(_.value[M].shots.forEach(S=>{i.deleteShotRecord(S.id)}),_.value.splice(M,1),localStorage.setItem("shot_sessions",JSON.stringify(_.value)))}},he=()=>{const Z=O.value.length,M=_.value.length;if(Z===0&&M===0){alert("No records to clear.");return}confirm(` DANGER - IRREVERSIBLE ACTION 

Are you sure you want to permanently delete ALL data?

This will delete:
 ${Z} shot records
 ${M} shooting sessions
`+(h.value?` Current active session
`:"")+` All performance history and statistics

THIS CANNOT BE UNDONE!

Type "DELETE ALL" and click OK to proceed, or Cancel to keep your data.`)&&(prompt('To confirm deletion, type "DELETE ALL" (case sensitive):')==="DELETE ALL"?(i.clearAllData(),w.value=!1,alert("All records have been permanently deleted.")):alert("Deletion cancelled - confirmation text did not match."))};return Kr(()=>{i.loadFromStorage()}),(Z,M)=>(G(),X("div",UR,[h.value?(G(),X("div",BR,[a("div",qR,[a("div",null,[M[6]||(M[6]=a("div",{class:"flex items-center space-x-2"},[a("div",{class:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),a("h3",{class:"text-lg font-semibold text-blue-900 dark:text-red-400"},"Active Session")],-1)),a("p",zR,D(h.value.name)+" at "+D(h.value.range),1),a("p",HR,D(h.value.shots.length)+" shots recorded",1)]),a("div",VR,[a("button",{onClick:M[0]||(M[0]=z=>c.value=!0),class:"px-4 py-2 bg-blue-600 dark:bg-red-600 text-white dark:text-black rounded-lg hover:bg-blue-700 dark:hover:bg-red-700 transition-colors"}," View Details "),a("button",{onClick:A,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," End Session ")])])])):Ie("",!0),a("div",WR,[M[20]||(M[20]=a("div",{class:"mb-6"},[a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-red-400"},"Session Management"),a("p",{class:"text-sm text-gray-600 dark:text-red-400 mt-1"},"Review your shooting session history and performance")],-1)),a("div",GR,[a("div",KR,[M[7]||(M[7]=a("div",null,[a("h3",{class:"text-md font-semibold text-red-900 dark:text-black"},"Danger Zone"),a("p",{class:"text-sm text-red-700 dark:text-black mt-1"},"Irreversible actions that affect all data")],-1)),a("button",{onClick:M[1]||(M[1]=z=>w.value=!w.value),class:"px-3 py-2 text-sm text-red-600 dark:text-red-400 bg-white dark:bg-black border border-red-300 dark:border-red-500 rounded-md hover:bg-red-100 dark:hover:bg-gray-800 transition-colors"},D(w.value?"Hide":"Show"),1)]),w.value?(G(),X("div",YR,[a("div",JR,[a("div",ZR,[M[10]||(M[10]=a("h4",{class:"text-sm font-semibold text-red-900 dark:text-red-400"},"Clear All Records",-1)),M[11]||(M[11]=a("p",{class:"text-sm text-red-700 dark:text-red-400 mt-1"}," Permanently delete all shot records, sessions, and current session data. This action cannot be undone. ",-1)),a("div",XR,[M[9]||(M[9]=a("strong",null,"This will delete:",-1)),a("ul",QR,[a("li",null,D(O.value.length)+" shot records",1),a("li",null,D(_.value.length)+" shooting sessions",1),h.value?(G(),X("li",eO,"Current active session")):Ie("",!0),M[8]||(M[8]=a("li",null,"All performance history and statistics",-1))])])]),a("button",{onClick:he,disabled:O.value.length===0,class:"ml-4 px-4 py-2 text-sm text-white dark:text-black bg-red-600 dark:bg-red-600 border border-red-600 dark:border-red-600 rounded-md hover:bg-red-700 dark:hover:bg-red-700 hover:text-white dark:hover:text-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," Clear All Records ",8,tO)])])):Ie("",!0)]),a("div",rO,[a("div",sO,[a("div",aO,D(_.value.length),1),M[12]||(M[12]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Total Sessions",-1))]),a("div",nO,[a("div",oO,D(j.value),1),M[13]||(M[13]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Total Shots",-1))]),a("div",iO,[a("div",lO,D(N.value)+"%",1),M[14]||(M[14]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Avg Hit Rate",-1))]),a("div",dO,[a("div",cO,D(W.value),1),M[15]||(M[15]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Avg Shots/Session",-1))])]),a("div",null,[a("div",uO,[M[17]||(M[17]=a("h3",{class:"text-md font-semibold text-gray-900 dark:text-red-400"},"Recent Sessions",-1)),a("div",fO,[De(a("select",{"onUpdate:modelValue":M[2]||(M[2]=z=>b.value=z),class:"px-3 py-1 border border-gray-300 dark:border-red-500 rounded text-sm text-gray-700 dark:text-black bg-white dark:bg-red-600"},[...M[16]||(M[16]=[a("option",{value:"all"},"All Sessions",-1),a("option",{value:"this-week"},"This Week",-1),a("option",{value:"this-month"},"This Month",-1)])],512),[[Et,b.value]]),a("button",{onClick:ae,class:"px-3 py-1 text-sm bg-green-600 dark:bg-red-600 text-white dark:text-black rounded hover:bg-green-700 dark:hover:bg-red-700 transition-colors"}," Export All ")])]),B.value.length===0?(G(),X("div",hO,[Me(Ee(t0),{class:"w-12 h-12 text-gray-400 dark:text-red-400 mx-auto mb-4"}),M[18]||(M[18]=a("p",{class:"text-gray-500 dark:text-red-400"},"No sessions found",-1)),M[19]||(M[19]=a("p",{class:"text-sm text-gray-400 dark:text-red-400 mt-2"},"Start your first session to begin tracking",-1))])):(G(),X("div",gO,[(G(!0),X(Ye,null,nt(B.value,z=>(G(),X("div",{key:z.id,class:"border border-gray-200 dark:border-red-500 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors"},[a("div",pO,[a("div",mO,[a("div",null,[a("h4",bO,D(z.name),1)]),a("div",vO,D(I(z.date)),1),a("div",xO,D(z.shots.length)+" shots ",1),a("div",yO,D(p(z))+"% hit rate ",1)]),a("div",null,[a("button",{onClick:S=>H(z),class:"px-3 py-1 text-sm bg-blue-600 dark:bg-red-600 text-white dark:text-black rounded hover:bg-blue-700 dark:hover:bg-red-700 transition-colors"}," Details ",8,kO)])])]))),128))]))])]),c.value&&f.value?(G(),X("div",wO,[a("div",_O,[a("div",SO,[a("div",null,[a("h3",AO,D(f.value.name),1),a("p",CO,D(R(f.value.date))+"  "+D(f.value.range),1)]),a("button",{onClick:M[3]||(M[3]=z=>c.value=!1),class:"text-gray-400 dark:text-red-400 hover:text-gray-600 dark:hover:text-red-300"},[Me(Ee(nn),{class:"w-6 h-6"})])]),a("div",PO,[a("div",LO,[a("div",NO,D(f.value.shots.length),1),M[21]||(M[21]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Total Shots",-1))]),a("div",$O,[a("div",EO,D(p(f.value))+"%",1),M[22]||(M[22]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Hit Rate",-1))]),a("div",MO,[a("div",IO,D(E(f.value))+'"',1),M[23]||(M[23]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Avg Accuracy",-1))]),a("div",TO,[a("div",DO,D(y(f.value)),1),M[24]||(M[24]=a("div",{class:"text-sm text-gray-600 dark:text-black"},"Duration",-1))])]),a("div",RO,[M[31]||(M[31]=a("h4",{class:"text-lg font-semibold text-gray-900 dark:text-red-400 mb-3"},"Environmental Conditions",-1)),a("div",OO,[a("div",FO,[a("div",jO,D(t(f.value.conditions.temperature)),1),M[25]||(M[25]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Temperature",-1))]),a("div",UO,[a("div",BO,D(r(f.value.conditions.windSpeed)),1),M[26]||(M[26]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Wind Speed",-1))]),a("div",qO,[a("div",zO,D(o(f.value.conditions.windDirection)),1),M[27]||(M[27]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Wind Direction",-1))]),a("div",HO,[a("div",VO,D(n(f.value.conditions.humidity)),1),M[28]||(M[28]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Humidity",-1))]),a("div",WO,[a("div",GO,D(s(f.value.conditions.pressure)),1),M[29]||(M[29]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Pressure",-1))]),f.value.conditions.shootingDirection!==void 0?(G(),X("div",KO,[a("div",YO,D(o(f.value.conditions.shootingDirection)),1),M[30]||(M[30]=a("div",{class:"text-xs text-gray-600 dark:text-black"},"Shot Direction",-1))])):Ie("",!0)])]),f.value.notes?(G(),X("div",JO,[M[32]||(M[32]=a("h4",{class:"text-lg font-semibold text-gray-900 dark:text-red-400 mb-3"},"Session Notes",-1)),a("div",ZO,[a("p",XO,D(f.value.notes),1)])])):Ie("",!0),a("div",null,[M[33]||(M[33]=a("h4",{class:"text-lg font-semibold text-gray-900 dark:text-red-400 mb-3"},"Shot Timeline",-1)),a("div",QO,[(G(!0),X(Ye,null,nt(f.value.shots,(z,S)=>(G(),X("div",{key:z.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-red-600 rounded-lg"},[a("div",eF,[a("div",tF,"#"+D(S+1),1),a("div",{class:Qe(["w-3 h-3 rounded-full",z.actualResult.hit?"bg-green-500":"bg-red-500"])},null,2),a("div",rF,D(x(z.distance)),1),a("div",sF,D(U(z)),1)]),a("div",aF,D(K(z.timestamp)),1)]))),128))])]),a("div",nF,[a("button",{onClick:M[4]||(M[4]=Gs(z=>ge(f.value.id),["stop"])),class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Delete Session "),a("button",{onClick:M[5]||(M[5]=Gs(z=>F(f.value),["stop"])),class:"px-4 py-2 bg-green-600 dark:bg-red-600 text-white dark:text-black rounded-lg hover:bg-green-700 dark:hover:bg-red-700 transition-colors"}," Export Session ")])])])):Ie("",!0)]))}}),iF={class:"space-y-6"},lF={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},dF={class:"flex items-center justify-between"},cF={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500"},uF={class:"border-b border-gray-200 dark:border-red-500"},fF={class:"-mb-px flex space-x-8 px-6","aria-label":"Tabs"},hF={key:0},gF={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},pF={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},mF={class:"flex items-center"},bF={class:"p-2 bg-blue-100 dark:bg-red-600 rounded-lg"},vF={class:"ml-4"},xF={class:"text-2xl font-bold text-black dark:text-red-400"},yF={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},kF={class:"flex items-center"},wF={class:"p-2 bg-green-100 dark:bg-red-600 rounded-lg"},_F={class:"ml-4"},SF={class:"text-2xl font-bold text-black dark:text-red-400"},AF={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},CF={class:"flex items-center"},PF={class:"p-2 bg-purple-100 dark:bg-red-600 rounded-lg"},LF={class:"ml-4"},NF={class:"text-2xl font-bold text-black dark:text-red-400"},$F={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},EF={class:"flex items-center"},MF={class:"p-2 bg-orange-100 dark:bg-red-600 rounded-lg"},IF={class:"ml-4"},TF={class:"text-2xl font-bold text-black dark:text-red-400"},DF={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},RF={class:"flex items-center justify-between mb-6"},OF={key:0,class:"text-center py-8"},FF={key:1,class:"space-y-4"},jF=["onClick"],UF={class:"flex justify-between items-start"},BF={class:"font-semibold text-black dark:text-red-400"},qF={class:"text-sm text-gray-500 dark:text-red-400"},zF={class:"text-sm text-gray-600 dark:text-red-400 mt-1"},HF={class:"text-right"},VF={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},WF={class:"flex items-center justify-between mb-6"},GF={class:"flex space-x-2"},KF={key:0,class:"text-center py-8"},YF={key:1,class:"table-container"},JF={class:"table-responsive"},ZF={class:"table-base"},XF={class:"table-body"},QF={class:"table-cell table-sticky-column",style:{"min-width":"120px"}},ej={class:"table-cell table-cell-numeric",style:{"min-width":"100px"}},tj={class:"table-cell",style:{"min-width":"80px"}},rj={class:"table-cell text-gray-600 dark:text-red-400",style:{"min-width":"100px"}},sj={class:"table-cell text-gray-600 dark:text-red-400",style:{"min-width":"120px"}},aj={key:1},nj={key:2},oj={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ij={class:"bg-white dark:bg-black rounded-lg p-6 w-full max-w-md mx-4 border border-gray-200 dark:border-red-500"},lj={class:"space-y-4"},dj=["placeholder"],cj={value:"",disabled:""},uj=["value"],fj={key:0,class:"mt-2 p-3 bg-yellow-50 dark:bg-red-600 border border-yellow-200 dark:border-red-500 rounded-md"},hj={class:"text-sm text-yellow-800 dark:text-black"},gj={class:"flex justify-end space-x-3 mt-6"},pj=["disabled"],AB=Tt({__name:"HistoryView",setup(e){const t=vi(),r=bi(),s=qn(),n=Bn(),o=Pe(()=>n.unitPreset),i=Pe(()=>t.statistics),l=Pe(()=>t.shotSessions),d=Pe(()=>t.recentShots),c=Pe(()=>t.currentSession),f=ye(!1),b=ye(!1),w=ye(null),h=ye("dashboard"),_=ye({name:"",range:"",rifleId:"",notes:""}),O=Pe(()=>[...l.value].sort((y,A)=>new Date(A.date).getTime()-new Date(y.date).getTime()).slice(0,5)),j=Pe(()=>f.value?t.allShots:d.value),N=Pe(()=>s.profiles),W=Pe(()=>o.value==="metric"?"e.g., Local Range 100-550m":"e.g., Local Range 100-600yd"),B=y=>new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),I=y=>new Date(y).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),R=y=>y.shots.length===0?"0":(y.shots.filter(H=>H.actualResult.hit).length/y.shots.length*100).toFixed(1),K=y=>{if(o.value==="metric"){const A=y.horizontalOffset*_o.INCHES_TO_CM,H=y.verticalOffset*_o.INCHES_TO_CM;return`H: ${A.toFixed(1)} cm V: ${H.toFixed(1)} cm`}else return`H: ${y.horizontalOffset.toFixed(1)}" V: ${y.verticalOffset.toFixed(1)}"`},U=y=>{if(o.value==="metric"){const A=(y.temperature-32)*5/9,H=y.windSpeed*1.60934;return`${A.toFixed(1)}C, ${H.toFixed(1)}km/h`}else return`${y.temperature}F, ${y.windSpeed}mph`},x=y=>o.value==="metric"?`${(y*.9144).toFixed(0)}m`:`${y}yd`,p=()=>{if(!_.value.name||!_.value.range||!_.value.rifleId)return;const y=N.value.find(H=>H.id===_.value.rifleId);let A=r.currentConditions;if(!y){alert("Please ensure a rifle is selected");return}A||(A={temperature:70,windSpeed:0,windDirection:0,humidity:50,pressure:29.92,elevation:0,timestamp:new Date,source:Ps.MANUAL}),t.startSession(_.value.name,_.value.range,A,y,_.value.notes||void 0),_.value={name:"",range:"",rifleId:"",notes:""},b.value=!1,b.value=!1},E=()=>{const y=t.exportTrainingData(),A=JSON.stringify(y,null,2),H="data:application/json;charset=utf-8,"+encodeURIComponent(A),F=`shot-data-${new Date().toISOString().split("T")[0]}.json`,ae=document.createElement("a");ae.setAttribute("href",H),ae.setAttribute("download",F),ae.click()};return Kr(()=>{t.loadFromStorage()}),(y,A)=>{const H=r1("router-link");return G(),X("div",iF,[a("div",lF,[a("div",dF,[A[10]||(A[10]=a("div",null,[a("h1",{class:"text-2xl font-bold text-black dark:text-red-400"},"Shooting Logs"),a("p",{class:"text-gray-600 dark:text-red-400 mt-1"},"Review your shooting records and performance data")],-1)),Me(Ee(tm),{class:"w-8 h-8 text-blue-600 dark:text-red-500"})])]),a("div",cF,[a("div",uF,[a("nav",fF,[a("button",{onClick:A[0]||(A[0]=F=>h.value="dashboard"),class:Qe(["py-4 px-1 border-b-2 font-medium text-sm",h.value==="dashboard"?"border-blue-500 dark:border-red-500 text-blue-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300 hover:border-gray-300 dark:hover:border-red-400"])}," Dashboard ",2),a("button",{onClick:A[1]||(A[1]=F=>h.value="records"),class:Qe(["py-4 px-1 border-b-2 font-medium text-sm",h.value==="records"?"border-blue-500 dark:border-red-500 text-blue-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300 hover:border-gray-300 dark:hover:border-red-400"])}," Shot Records ",2),a("button",{onClick:A[2]||(A[2]=F=>h.value="sessions"),class:Qe(["py-4 px-1 border-b-2 font-medium text-sm",h.value==="sessions"?"border-blue-500 dark:border-red-500 text-blue-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-red-400 hover:text-gray-700 dark:hover:text-red-300 hover:border-gray-300 dark:hover:border-red-400"])}," Sessions ",2)])])]),h.value==="dashboard"?(G(),X("div",hF,[a("div",gF,[a("div",pF,[a("div",mF,[a("div",bF,[Me(Ee(Rr),{class:"w-6 h-6 text-blue-600 dark:text-black"})]),a("div",vF,[A[11]||(A[11]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Total Shots",-1)),a("p",xF,D(i.value.totalShots),1)])])]),a("div",yF,[a("div",kF,[a("div",wF,[Me(Ee($l),{class:"w-6 h-6 text-green-600 dark:text-black"})]),a("div",_F,[A[12]||(A[12]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Hit Rate",-1)),a("p",SF,D(i.value.hitPercentage.toFixed(1))+"%",1)])])]),a("div",AF,[a("div",CF,[a("div",PF,[Me(Ee(t0),{class:"w-6 h-6 text-purple-600 dark:text-black"})]),a("div",LF,[A[13]||(A[13]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Sessions",-1)),a("p",NF,D(l.value.length),1)])])]),a("div",$F,[a("div",EF,[a("div",MF,[Me(Ee(ui),{class:"w-6 h-6 text-orange-600 dark:text-black"})]),a("div",IF,[A[14]||(A[14]=a("p",{class:"text-sm font-medium text-gray-500 dark:text-red-400"},"Avg Range",-1)),a("p",TF,D(x(i.value.averageRange)),1)])])])]),a("div",DF,[a("div",RF,[A[16]||(A[16]=a("h2",{class:"text-lg font-semibold text-black dark:text-red-400"},"Recent Sessions",-1)),a("button",{onClick:A[3]||(A[3]=F=>b.value=!0),class:"flex items-center px-4 py-2 bg-blue-600 dark:bg-red-600 text-white dark:text-black rounded-lg hover:bg-blue-700 dark:hover:bg-red-700 transition-colors"},[Me(Ee(ni),{class:"w-4 h-4 mr-2"}),A[15]||(A[15]=We(" New Session ",-1))])]),l.value.length===0?(G(),X("div",OF,[Me(Ee(t0),{class:"w-12 h-12 text-gray-400 dark:text-red-400 mx-auto mb-4"}),A[17]||(A[17]=a("p",{class:"text-gray-500 dark:text-red-400"},"No shooting sessions recorded yet",-1)),A[18]||(A[18]=a("p",{class:"text-sm text-gray-400 dark:text-red-400 mt-2"},"Start a new session to begin tracking your shots",-1))])):(G(),X("div",FF,[(G(!0),X(Ye,null,nt(O.value,F=>(G(),X("div",{key:F.id,class:"border border-gray-200 dark:border-red-500 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors cursor-pointer",onClick:ae=>w.value=F},[a("div",UF,[a("div",null,[a("h3",BF,D(F.name),1),a("p",qF,D(B(F.date))+"  "+D(F.range),1),a("p",zF,D(F.shots.length)+" shots  "+D(R(F))+"% hit rate",1)]),a("div",HF,[a("span",{class:Qe(["px-2 py-1 rounded-full text-xs font-medium",F.id===c.value?.id?"bg-green-100 dark:bg-red-600 text-green-800 dark:text-black":"bg-gray-100 dark:bg-red-600 text-gray-600 dark:text-black border border-gray-300 dark:border-red-500"])},D(F.id===c.value?.id?"Active":"Completed"),3)])])],8,jF))),128))]))]),a("div",VF,[a("div",WF,[A[19]||(A[19]=a("h2",{class:"text-lg font-semibold text-black dark:text-red-400"},"Recent Shots",-1)),a("div",GF,[a("button",{onClick:A[4]||(A[4]=F=>f.value=!f.value),class:"px-3 py-1 text-sm border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-900 text-gray-700 dark:text-red-400"},D(f.value?"Show Recent":"Show All"),1),a("button",{onClick:E,class:"px-3 py-1 text-sm bg-green-600 dark:bg-red-600 text-white dark:text-black rounded-md hover:bg-green-700 dark:hover:bg-red-700 transition-colors"}," Export ")])]),j.value.length===0?(G(),X("div",KF,[Me(Ee(Rr),{class:"w-12 h-12 text-gray-400 dark:text-red-400 mx-auto mb-4"}),A[20]||(A[20]=a("p",{class:"text-gray-500 dark:text-red-400"},"No shots recorded yet",-1)),A[21]||(A[21]=a("p",{class:"text-sm text-gray-400 dark:text-red-400 mt-2"},"Start shooting and recording results to see your data here",-1))])):(G(),X("div",YF,[a("div",JF,[a("table",ZF,[A[22]||(A[22]=a("thead",{class:"table-header"},[a("tr",null,[a("th",{class:"table-header-cell table-sticky-column",style:{"min-width":"120px"}},"Date"),a("th",{class:"table-header-cell",style:{"min-width":"100px"}},"Distance"),a("th",{class:"table-header-cell",style:{"min-width":"80px"}},"Result"),a("th",{class:"table-header-cell",style:{"min-width":"100px"}},"Offset"),a("th",{class:"table-header-cell",style:{"min-width":"120px"}},"Conditions")])],-1)),a("tbody",XF,[(G(!0),X(Ye,null,nt(j.value,F=>(G(),X("tr",{key:F.id,class:"table-row"},[a("td",QF,D(I(F.timestamp)),1),a("td",ej,D(x(F.distance)),1),a("td",tj,[a("span",{class:Qe(["px-2 py-1 rounded-full text-xs font-medium",F.actualResult.hit?"bg-green-100 dark:bg-red-500 text-green-800 dark:text-black":"bg-red-100 dark:bg-black text-red-800 dark:text-red-400 border border-red-300 dark:border-red-500"])},D(F.actualResult.hit?"Hit":"Miss"),3)]),a("td",rj,D(K(F.actualResult)),1),a("td",sj,D(U(F.environmentalConditions)),1)]))),128))])])])]))])])):h.value==="records"?(G(),X("div",aj,[Me(jR)])):h.value==="sessions"?(G(),X("div",nj,[Me(oF)])):Ie("",!0),b.value?(G(),X("div",oj,[a("div",ij,[A[29]||(A[29]=a("h3",{class:"text-lg font-semibold text-black dark:text-red-400 mb-4"},"Start New Session",-1)),a("div",lj,[a("div",null,[A[23]||(A[23]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Session Name",-1)),De(a("input",{"onUpdate:modelValue":A[5]||(A[5]=F=>_.value.name=F),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black",placeholder:"e.g., Morning Practice"},null,512),[[rt,_.value.name]])]),a("div",null,[A[24]||(A[24]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Range/Location",-1)),De(a("input",{"onUpdate:modelValue":A[6]||(A[6]=F=>_.value.range=F),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black",placeholder:W.value},null,8,dj),[[rt,_.value.range]])]),a("div",null,[A[27]||(A[27]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Current Rifle",-1)),De(a("select",{"onUpdate:modelValue":A[7]||(A[7]=F=>_.value.rifleId=F),class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[a("option",cj,D(N.value.length===0?"No rifles available - create one first":"Select a rifle"),1),(G(!0),X(Ye,null,nt(N.value,F=>(G(),X("option",{key:F.id,value:F.id},D(F.name)+" ("+D(F.caliber)+") ",9,uj))),128))],512),[[Et,_.value.rifleId]]),N.value.length===0?(G(),X("div",fj,[a("p",hj,[Me(H,{to:"/rifles",class:"font-medium underline hover:text-yellow-900 dark:hover:text-gray-800"},{default:Pr(()=>[...A[25]||(A[25]=[We(" Create a rifle profile first ",-1)])]),_:1}),A[26]||(A[26]=We(" to start a shooting session. ",-1))])])):Ie("",!0)]),a("div",null,[A[28]||(A[28]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Notes (Optional)",-1)),De(a("textarea",{"onUpdate:modelValue":A[8]||(A[8]=F=>_.value.notes=F),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-red-400 bg-white dark:bg-red-600 text-gray-900 dark:text-black",placeholder:"Session goals, conditions, etc."},null,512),[[rt,_.value.notes]])])]),a("div",gj,[a("button",{onClick:A[9]||(A[9]=F=>b.value=!1),class:"px-4 py-2 text-gray-700 dark:text-red-400 border border-gray-300 dark:border-red-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-900"}," Cancel "),a("button",{onClick:p,disabled:!_.value.name||!_.value.range||!_.value.rifleId||N.value.length===0,class:"px-4 py-2 bg-blue-600 dark:bg-red-600 text-white dark:text-black rounded-md hover:bg-blue-700 dark:hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Start Session ",8,pj)])])])):Ie("",!0)])}}}),mj={class:"bg-white dark:bg-dark-100 rounded-xl shadow-army p-6"},bj={class:"flex items-center space-x-3"},vj={class:"text-sm opacity-90"},xj={class:"mb-6 p-4 bg-gray-50 dark:bg-dark-200 rounded-lg"},yj={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},kj={class:"text-sm text-gray-600 dark:text-gray-400 mt-2"},wj={class:"mb-6"},_j={class:"flex flex-col sm:flex-row gap-3"},Sj=["disabled"],Aj=["disabled"],Cj={class:"mb-6"},Pj={class:"space-y-3"},Lj={class:"flex items-center space-x-3"},Nj={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},$j=["disabled"],Ej={key:0,class:"mb-6"},Mj={class:"space-y-2"},Ij={class:"flex justify-between items-start"},Tj={class:"font-medium text-red-700 dark:text-red-400"},Dj={class:"text-xs text-red-600 dark:text-red-500"},Rj={class:"text-red-600 dark:text-red-400 mt-1"},Oj={class:"flex items-center space-x-2"},Fj=Tt({__name:"DataBackupManager",setup(e){const t=La(),r=ye({}),s=ye(!1),n=ye(!1),o=ye(!1),i=ye(null),l=ye(""),d=ye("info"),c=Pe(()=>{const R=parseFloat(r.value.successRate||100);return R>=95?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":R>=80?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400"}),f=Pe(()=>{const R=parseFloat(r.value.successRate||100);return R>=95?$l:R>=80?fi:Bh}),b=Pe(()=>{const R=parseFloat(r.value.storageUsage?.usagePercent||0);return R<60?"bg-green-500":R<80?"bg-yellow-500":"bg-red-500"}),w=Pe(()=>{switch(d.value){case"success":return"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400";case"error":return"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400";default:return"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400"}}),h=Pe(()=>{switch(d.value){case"success":return $l;case"error":return Bh;default:return fi}}),_=()=>{r.value=fl.getHealthReport()},O=async()=>{if(!t.currentProfile){B("No user profile found to export","error");return}s.value=!0;try{const R=fl.exportUserData(t.currentProfile.id),K=new Blob([R],{type:"application/json"}),U=URL.createObjectURL(K),x=document.createElement("a");x.href=U,x.download=`dope-backup-${t.currentProfile.name}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(U),B("Data exported successfully!","success")}catch(R){B(`Export failed: ${R}`,"error")}finally{s.value=!1}},j=()=>{o.value=!0,setInterval(()=>{O()},1440*60*1e3),B("Auto-export enabled! Daily backups will be created automatically.","success")},N=R=>{const K=R.target;i.value=K.files?.[0]||null},W=async()=>{if(i.value){n.value=!0;try{const R=await i.value.text();fl.importUserData(R)?(B("Data imported successfully! Refreshing page...","success"),setTimeout(()=>{window.location.reload()},2e3)):B("Import failed. Please check the backup file format.","error")}catch(R){B(`Import failed: ${R}`,"error")}finally{n.value=!1}}},B=(R,K)=>{l.value=R,d.value=K,setTimeout(()=>{l.value=""},5e3)},I=R=>new Date(R).toLocaleString();return Kr(()=>{_(),setInterval(_,3e4);const R=localStorage.getItem("auto-export-enabled");o.value=R==="true"}),(R,K)=>(G(),X("div",mj,[K[9]||(K[9]=a("h3",{class:"text-xl font-semibold text-army-green-900 dark:text-desert-100 mb-4"}," Data Backup & Recovery ",-1)),a("div",{class:Qe(["mb-6 p-4 rounded-lg",c.value])},[a("div",bj,[(G(),Ut(ns(f.value),{class:"w-5 h-5"})),a("div",null,[K[1]||(K[1]=a("h4",{class:"font-medium"},"Storage Health",-1)),a("p",vj,D(r.value.successRate)+"% success rate | "+D(r.value.totalOperations)+" operations (24h) ",1)])])],2),a("div",xj,[K[2]||(K[2]=a("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-2"},"Storage Usage",-1)),a("div",yj,[a("div",{class:Qe(["h-2 rounded-full transition-all duration-300",b.value]),style:gi({width:`${Math.min(r.value.storageUsage?.usagePercent||0,100)}%`})},null,6)]),a("p",kj,D(r.value.storageUsage?.totalSizeKB||0)+"KB used of "+D(r.value.storageUsage?.maxSizeKB||0)+"KB ",1)]),a("div",wj,[K[3]||(K[3]=a("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-3"},"Export Your Data",-1)),a("div",_j,[a("button",{onClick:O,disabled:s.value,class:"flex-1 flex items-center justify-center px-4 py-2 bg-army-green-600 text-white rounded-lg hover:bg-army-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Me(Ee(X1),{class:"w-4 h-4 mr-2"}),We(" "+D(s.value?"Exporting...":"Export All Data"),1)],8,Sj),a("button",{onClick:j,disabled:o.value,class:"flex-1 flex items-center justify-center px-4 py-2 border border-army-green-600 text-army-green-600 rounded-lg hover:bg-army-green-50 dark:hover:bg-dark-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Me(Ee(jl),{class:"w-4 h-4 mr-2"}),We(" "+D(o.value?"Auto Export Active":"Enable Auto Export"),1)],8,Aj)]),K[4]||(K[4]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"}," Exports your profile, rifles, settings, and all data for safekeeping ",-1))]),a("div",Cj,[K[6]||(K[6]=a("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-3"},"Import Data",-1)),a("div",Pj,[a("div",Lj,[a("input",{ref:"fileInput",type:"file",accept:".json",onChange:N,class:"hidden"},null,544),a("button",{onClick:K[0]||(K[0]=U=>R.$refs.fileInput?.click()),class:"flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-200 transition-colors"},[Me(Ee(Bx),{class:"w-4 h-4 mr-2"}),K[5]||(K[5]=We(" Select Backup File ",-1))]),i.value?(G(),X("span",Nj,D(i.value.name),1)):Ie("",!0)]),i.value?(G(),X("button",{key:0,onClick:W,disabled:n.value,class:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[Me(Ee(Dx),{class:Qe(["w-4 h-4 mr-2",{"animate-spin":n.value}])},null,8,["class"]),We(" "+D(n.value?"Importing...":"Import Data"),1)],8,$j)):Ie("",!0)]),K[7]||(K[7]=a("p",{class:"text-xs text-yellow-600 dark:text-yellow-400 mt-2"},"  Warning: This will replace your current data. Export first as backup! ",-1))]),r.value.recentFailures?.length?(G(),X("div",Ej,[K[8]||(K[8]=a("h4",{class:"font-medium text-red-700 dark:text-red-400 mb-3"},"Recent Issues",-1)),a("div",Mj,[(G(!0),X(Ye,null,nt(r.value.recentFailures.slice(0,3),U=>(G(),X("div",{key:U.timestamp,class:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg text-sm"},[a("div",Ij,[a("span",Tj,D(U.operation)+" failed for "+D(U.key),1),a("span",Dj,D(I(U.timestamp)),1)]),a("p",Rj,D(U.error),1)]))),128))])])):Ie("",!0),l.value?(G(),X("div",{key:1,class:Qe(["p-4 rounded-lg",w.value])},[a("div",Oj,[(G(),Ut(ns(h.value),{class:"w-5 h-5"})),a("span",null,D(l.value),1)])],2)):Ie("",!0)]))}}),jj={class:"container mx-auto px-4 py-8"},Uj={class:"flex items-center justify-between mb-8"},Bj={class:"flex space-x-2"},qj={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},zj={class:"bg-white dark:bg-black rounded-lg shadow-md p-6"},Hj={class:"flex items-center mb-4"},Vj={class:"mb-6"},Wj={class:"flex space-x-4"},Gj={class:"flex items-center"},Kj={class:"flex items-center"},Yj={class:"space-y-4"},Jj={class:"bg-white dark:bg-black rounded-lg shadow-md p-6"},Zj={class:"flex items-center mb-4"},Xj={class:"space-y-4"},Qj={class:"space-y-3"},eU={class:"space-y-2"},tU={class:"flex items-center"},rU={class:"flex items-center"},sU={class:"flex items-center"},aU={class:"flex items-center"},nU={class:"space-y-2"},oU={class:"flex items-center"},iU={class:"flex items-center"},lU={class:"flex items-center"},dU={class:"mt-6"},cU={key:0,class:"fixed bottom-4 right-4"},uU={class:"bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center"},CB=Tt({__name:"SettingsView",setup(e){const t=Bn(),r=Dn({...t.units}),s=Dn({...t.preferences}),n=ye(t.unitPreset),o=ye(!1),i=ye(!1);Dr([r,s],()=>{o.value=!0},{deep:!0});const l=()=>{t.updateUnits(r),n.value=t.unitPreset,w()},d=()=>{const h=t.preferences;t.updatePreferences({theme:h.theme,language:h.language,useAIEnhancement:s.useAIEnhancement,showAdvancedOptions:s.showAdvancedOptions,showBallisticCoach:s.showBallisticCoach,showAtmosphericDensity:s.showAtmosphericDensity,autoSaveProfiles:s.autoSaveProfiles,confirmDeletions:s.confirmDeletions,useWeatherService:s.useWeatherService,useGPS:h.useGPS,weatherUpdateInterval:h.weatherUpdateInterval,showWindFlags:h.showWindFlags,decimalPlaces:s.decimalPlaces}),w()},c=()=>{t.setUnitPreset(n.value),Object.assign(r,t.units),w()},f=()=>{t.updateUnits(r),t.updatePreferences(s),o.value=!1,w()},b=()=>{confirm("Are you sure you want to reset all settings to defaults? This cannot be undone.")&&(t.resetToDefaults(),Object.assign(r,t.units),Object.assign(s,t.preferences),n.value=t.unitPreset,o.value=!1,w())},w=()=>{o.value=!1,i.value=!0,setTimeout(()=>{i.value=!1},2e3)};return Kr(()=>{Object.assign(r,t.units),Object.assign(s,t.preferences),n.value=t.unitPreset,o.value=!1}),pi(()=>{}),(h,_)=>(G(),X("div",jj,[a("div",Uj,[_[19]||(_[19]=a("h1",{class:"text-3xl font-bold text-gray-900 dark:text-red-400"},"Settings",-1)),a("div",Bj,[a("button",{onClick:b,class:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm font-medium text-gray-700 dark:text-red-400 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-red-500"},[Me(Ee(F0),{class:"w-4 h-4 mr-2"}),_[17]||(_[17]=We(" Reset to Defaults ",-1))]),o.value?(G(),X("button",{key:0,onClick:f,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-blue-600 dark:bg-red-600 hover:bg-blue-700 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-red-500"},[Me(Ee(Fd),{class:"w-4 h-4 mr-2"}),_[18]||(_[18]=We(" Save Changes ",-1))])):Ie("",!0)])]),a("div",qj,[a("div",zj,[a("div",Hj,[Me(Ee(Fl),{class:"w-5 h-5 text-blue-600 dark:text-red-400 mr-2"}),_[20]||(_[20]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-red-400"},"Units & Measurements",-1))]),a("div",Vj,[_[23]||(_[23]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-2"},"Unit System",-1)),a("div",Wj,[a("label",Gj,[De(a("input",{type:"radio",value:"imperial","onUpdate:modelValue":_[0]||(_[0]=O=>n.value=O),onChange:c,class:"w-4 h-4 text-blue-600 border-gray-300 dark:border-red-500 focus:ring-blue-500 dark:focus:ring-red-500"},null,544),[[rn,n.value]]),_[21]||(_[21]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Imperial (US)",-1))]),a("label",Kj,[De(a("input",{type:"radio",value:"metric","onUpdate:modelValue":_[1]||(_[1]=O=>n.value=O),onChange:c,class:"w-4 h-4 text-blue-600 border-gray-300 dark:border-red-500 focus:ring-blue-500 dark:focus:ring-red-500"},null,544),[[rn,n.value]]),_[22]||(_[22]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Metric (International)",-1))])])]),a("div",Yj,[a("div",null,[_[25]||(_[25]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Distance",-1)),De(a("select",{"onUpdate:modelValue":_[2]||(_[2]=O=>r.distance=O),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[..._[24]||(_[24]=[a("option",{value:"yards"},"Yards",-1),a("option",{value:"meters"},"Meters",-1)])],544),[[Et,r.distance]])]),a("div",null,[_[27]||(_[27]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Temperature",-1)),De(a("select",{"onUpdate:modelValue":_[3]||(_[3]=O=>r.temperature=O),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[..._[26]||(_[26]=[a("option",{value:"fahrenheit"},"Fahrenheit (F)",-1),a("option",{value:"celsius"},"Celsius (C)",-1)])],544),[[Et,r.temperature]])]),a("div",null,[_[29]||(_[29]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Pressure",-1)),De(a("select",{"onUpdate:modelValue":_[4]||(_[4]=O=>r.pressure=O),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[..._[28]||(_[28]=[a("option",{value:"inHg"},"Inches of Mercury (inHg)",-1),a("option",{value:"hPa"},"Hectopascals (hPa)",-1),a("option",{value:"mmHg"},"Millimeters of Mercury (mmHg)",-1)])],544),[[Et,r.pressure]])]),a("div",null,[_[31]||(_[31]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Velocity",-1)),De(a("select",{"onUpdate:modelValue":_[5]||(_[5]=O=>r.velocity=O),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[..._[30]||(_[30]=[a("option",{value:"fps"},"Feet per Second (ft/s)",-1),a("option",{value:"mps"},"Meters per Second (m/s)",-1)])],544),[[Et,r.velocity]])]),a("div",null,[_[33]||(_[33]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Wind Speed",-1)),De(a("select",{"onUpdate:modelValue":_[6]||(_[6]=O=>r.windSpeed=O),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[..._[32]||(_[32]=[a("option",{value:"mph"},"Miles per Hour (mph)",-1),a("option",{value:"kph"},"Kilometers per Hour (km/h)",-1),a("option",{value:"mps"},"Meters per Second (m/s)",-1)])],544),[[Et,r.windSpeed]])]),a("div",null,[_[35]||(_[35]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-red-400 mb-1"},"Scope Adjustments",-1)),De(a("select",{"onUpdate:modelValue":_[7]||(_[7]=O=>r.scopeAdjustments=O),onChange:l,class:"block w-full px-3 py-2 border border-gray-300 dark:border-red-500 rounded-md text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[..._[34]||(_[34]=[a("option",{value:"MOA"},"Minutes of Angle (MOA)",-1),a("option",{value:"MIL"},"Milliradians (MIL)",-1)])],544),[[Et,r.scopeAdjustments]])])])]),a("div",Jj,[a("div",Zj,[Me(Ee(bo),{class:"w-5 h-5 text-purple-600 dark:text-red-400 mr-2"}),_[36]||(_[36]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-red-400"},"Application Preferences",-1))]),a("div",Xj,[a("div",null,[_[41]||(_[41]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Display",-1)),a("div",Qj,[a("div",null,[_[38]||(_[38]=a("label",{class:"block text-xs font-medium text-gray-700 dark:text-red-400 mb-1"},"Theme",-1)),De(a("select",{"onUpdate:modelValue":_[8]||(_[8]=O=>s.theme=O),onChange:d,class:"block w-full px-2 py-1 border border-gray-300 dark:border-red-500 rounded text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[..._[37]||(_[37]=[a("option",{value:"light"},"Light",-1),a("option",{value:"dark"},"Dark",-1),a("option",{value:"auto-time"},"Auto (Time)",-1),a("option",{value:"system"},"System Default",-1)])],544),[[Et,s.theme]])]),a("div",null,[_[40]||(_[40]=a("label",{class:"block text-xs font-medium text-gray-700 dark:text-red-400 mb-1"},"Decimal Places",-1)),De(a("select",{"onUpdate:modelValue":_[9]||(_[9]=O=>s.decimalPlaces=O),onChange:d,class:"block w-full px-2 py-1 border border-gray-300 dark:border-red-500 rounded text-sm focus:outline-none focus:ring-blue-500 dark:focus:ring-red-500 focus:border-blue-500 dark:focus:border-red-500 bg-white dark:bg-red-600 text-gray-900 dark:text-black"},[..._[39]||(_[39]=[a("option",{value:"0"},"0",-1),a("option",{value:"1"},"1",-1),a("option",{value:"2"},"2",-1),a("option",{value:"3"},"3",-1)])],544),[[Et,s.decimalPlaces]])])])]),a("div",null,[_[46]||(_[46]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Calculation Features",-1)),a("div",eU,[a("label",tU,[De(a("input",{type:"checkbox","onUpdate:modelValue":_[10]||(_[10]=O=>s.useAIEnhancement=O),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Bs,s.useAIEnhancement]]),_[42]||(_[42]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"AI-Enhanced Calculations",-1))]),a("label",rU,[De(a("input",{type:"checkbox","onUpdate:modelValue":_[11]||(_[11]=O=>s.showAdvancedOptions=O),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Bs,s.showAdvancedOptions]]),_[43]||(_[43]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Show Advanced Options",-1))]),a("label",sU,[De(a("input",{type:"checkbox","onUpdate:modelValue":_[12]||(_[12]=O=>s.showBallisticCoach=O),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Bs,s.showBallisticCoach]]),_[44]||(_[44]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Ballistic Coach Tips",-1))]),a("label",aU,[De(a("input",{type:"checkbox","onUpdate:modelValue":_[13]||(_[13]=O=>s.showAtmosphericDensity=O),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Bs,s.showAtmosphericDensity]]),_[45]||(_[45]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Atmospheric Density Display",-1))])])]),a("div",null,[_[50]||(_[50]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-red-400 mb-2"},"Data & Storage",-1)),a("div",nU,[a("label",oU,[De(a("input",{type:"checkbox","onUpdate:modelValue":_[14]||(_[14]=O=>s.autoSaveProfiles=O),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Bs,s.autoSaveProfiles]]),_[47]||(_[47]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Auto-save Rifle Profiles",-1))]),a("label",iU,[De(a("input",{type:"checkbox","onUpdate:modelValue":_[15]||(_[15]=O=>s.confirmDeletions=O),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Bs,s.confirmDeletions]]),_[48]||(_[48]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Confirm Deletions",-1))]),a("label",lU,[De(a("input",{type:"checkbox","onUpdate:modelValue":_[16]||(_[16]=O=>s.useWeatherService=O),onChange:d,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[Bs,s.useWeatherService]]),_[49]||(_[49]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-red-400"},"Auto Weather Updates",-1))])])])])])]),a("div",dU,[Me(Fj)]),i.value?(G(),X("div",cU,[a("div",uU,[Me(Ee(_x),{class:"w-4 h-4 mr-2"}),_[51]||(_[51]=We(" Settings saved successfully ",-1))])])):Ie("",!0)]))}}),fU={class:"space-y-6"},hU={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},gU={class:"flex items-center justify-between"},pU={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},mU={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},bU=["onClick"],vU={class:"text-left"},xU={class:"font-medium"},yU={class:"text-sm opacity-75"},kU={class:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-red-500 p-6"},wU={key:0,class:"space-y-6"},_U={class:"flex items-center mb-6"},SU={key:1,class:"space-y-6"},AU={class:"flex items-center mb-6"},CU={key:2,class:"space-y-6"},PU={class:"flex items-center mb-6"},LU={key:3,class:"space-y-6"},NU={class:"flex items-center mb-6"},$U={key:4,class:"space-y-6"},EU={class:"flex items-center mb-6"},MU={key:5,class:"space-y-6"},IU={class:"flex items-center mb-6"},TU={key:6,class:"space-y-6"},DU={class:"flex items-center mb-6"},RU=Tt({__name:"HelpView",setup(e){const t=ye("getting-started"),r=[{id:"getting-started",title:"Getting Started",description:"Initial setup and overview",icon:"Rocket"},{id:"rifle-config",title:"Rifle Configuration",description:"Setting up rifle profiles",icon:"Target"},{id:"calculator",title:"Calculator Usage",description:"Using the ballistics calculator",icon:"Calculator"},{id:"environment",title:"Environmental Data",description:"Weather and conditions",icon:"Cloud"},{id:"troubleshooting",title:"Troubleshooting",description:"Common issues and solutions",icon:"AlertCircle"},{id:"tips",title:"Tips & Best Practices",description:"Expert advice and techniques",icon:"Lightbulb"},{id:"safety",title:"Safety & Legal",description:"Safety guidelines and compliance",icon:"ShieldCheck"}];return(s,n)=>(G(),X("div",fU,[a("div",hU,[a("div",gU,[n[0]||(n[0]=a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-red-400"},"Help & Support"),a("p",{class:"text-gray-600 dark:text-red-400 mt-1"},"Documentation, guides, and support resources")],-1)),Me(Ee(O0),{class:"w-8 h-8 text-blue-600"})])]),a("div",pU,[n[1]||(n[1]=a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-red-400 mb-4"},"Quick Navigation",-1)),a("div",mU,[(G(),X(Ye,null,nt(r,o=>a("button",{key:o.id,onClick:i=>t.value=o.id,class:Qe(["flex items-center p-4 rounded-lg border-2 transition-all duration-200",t.value===o.id?"border-blue-500 dark:border-red-500 bg-blue-50 dark:bg-red-600 text-blue-700 dark:text-black":"border-gray-200 dark:border-red-500 hover:border-gray-300 dark:hover:border-red-400 text-gray-700 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-red-700"])},[(G(),Ut(ns(o.icon),{class:"w-6 h-6 mr-3"})),a("div",vU,[a("div",xU,D(o.title),1),a("div",yU,D(o.description),1)])],10,bU)),64))])]),a("div",kU,[t.value==="getting-started"?(G(),X("div",wU,[a("div",_U,[Me(Ee(Rx),{class:"w-6 h-6 text-blue-600 mr-3"}),n[2]||(n[2]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Getting Started",-1))]),n[3]||(n[3]=Xt('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Welcome to DOPE Tool</h3><p data-v-778a260d>Your comprehensive ballistics calculator for competitive long-range shooting. This guide will help you get started quickly and effectively.</p><h4 data-v-778a260d>First Launch Setup</h4><ol data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Allow Location Access:</strong> When prompted, allow location access for automatic environmental data collection</li><li data-v-778a260d><strong data-v-778a260d>Create Your Profile:</strong> Set up your user profile and select an icon</li><li data-v-778a260d><strong data-v-778a260d>Configure Your Rifle:</strong> Add your rifle profile with accurate specifications</li><li data-v-778a260d><strong data-v-778a260d>Verify Environmental Data:</strong> Ensure weather conditions are current and accurate</li><li data-v-778a260d><strong data-v-778a260d>Perform Test Calculation:</strong> Run a calculation at a known distance to verify accuracy</li></ol><h4 data-v-778a260d>Interface Overview</h4><p data-v-778a260d>The application features six main sections accessible from the navigation menu:</p><ul data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Calculator:</strong> Main ballistics calculation interface</li><li data-v-778a260d><strong data-v-778a260d>Rifles:</strong> Rifle profile management</li><li data-v-778a260d><strong data-v-778a260d>Environment:</strong> Weather and environmental controls</li><li data-v-778a260d><strong data-v-778a260d>History:</strong> Shot recording and analysis</li><li data-v-778a260d><strong data-v-778a260d>Zero:</strong> Zero verification and adjustment</li><li data-v-778a260d><strong data-v-778a260d>Settings:</strong> Application preferences and configuration</li></ul><h4 data-v-778a260d>Essential First Steps</h4><div class="bg-blue-50 dark:bg-black border-l-4 border-blue-500 dark:border-red-500 p-4 my-4" data-v-778a260d><div class="font-medium text-blue-800 dark:text-white" data-v-778a260d>Pro Tip:</div><p class="text-blue-700 dark:text-white mt-1" data-v-778a260d>Start with accurate rifle data - chronograph your loads and verify your ballistic coefficient values for best results.</p></div></div>',1))])):Ie("",!0),t.value==="rifle-config"?(G(),X("div",SU,[a("div",AU,[Me(Ee(Rr),{class:"w-6 h-6 text-blue-600 mr-3"}),n[4]||(n[4]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Rifle Configuration",-1))]),n[5]||(n[5]=Xt('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Essential Parameters</h3><p data-v-778a260d>Accurate rifle data is crucial for precise ballistic calculations. Here&#39;s what you need to know:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-lg font-semibold mb-3 dark:text-white" data-v-778a260d>Required Data</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Rifle Name:</strong> Descriptive name for your setup</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Caliber:</strong> Cartridge specification (e.g., .308 Win)</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Bullet Weight:</strong> In grains (e.g., 175gr)</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Muzzle Velocity:</strong> Chronographed velocity in ft/s or m/s</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Ballistic Coefficient:</strong> G7 BC from manufacturer (more accurate for modern boat-tail bullets)</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Zero Range:</strong> Distance where scope is zeroed</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Sight Height:</strong> Scope centerline above bore</li></ul></div><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-lg font-semibold mb-3 dark:text-white" data-v-778a260d>Best Practices</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Chronograph Your Load:</strong> Use actual measured velocities</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Verify BC:</strong> Use manufacturer&#39;s G1 BC values</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Accurate Measurements:</strong> Measure sight height precisely</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Document Zero:</strong> Record exact zero distance and conditions</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Multiple Readings:</strong> Average several chronograph readings</li></ul></div></div><h4 data-v-778a260d>Common Calibers &amp; Data</h4><div class="table-container" data-v-778a260d><div class="table-responsive" data-v-778a260d><table class="table-base" data-v-778a260d><thead class="table-header" data-v-778a260d><tr data-v-778a260d><th class="table-header-cell" data-v-778a260d>Caliber</th><th class="table-header-cell" data-v-778a260d>Bullet Weight</th><th class="table-header-cell" data-v-778a260d>Typical Velocity</th><th class="table-header-cell" data-v-778a260d>BC (G7)</th></tr></thead><tbody class="table-body" data-v-778a260d><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>.308 Win / 7.6251mm</td><td class="table-cell table-cell-numeric" data-v-778a260d>175gr / 11.3g</td><td class="table-cell table-cell-numeric" data-v-778a260d>2650 fps / 808 m/s</td><td class="table-cell table-cell-numeric" data-v-778a260d>0.232</td></tr><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>6.5 Creedmoor</td><td class="table-cell table-cell-numeric" data-v-778a260d>140gr / 9.1g</td><td class="table-cell table-cell-numeric" data-v-778a260d>2700 fps / 823 m/s</td><td class="table-cell table-cell-numeric" data-v-778a260d>0.310</td></tr><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>.300 Win Mag</td><td class="table-cell table-cell-numeric" data-v-778a260d>190gr / 12.3g</td><td class="table-cell table-cell-numeric" data-v-778a260d>2900 fps / 884 m/s</td><td class="table-cell table-cell-numeric" data-v-778a260d>0.271</td></tr></tbody></table></div></div><div class="bg-yellow-50 dark:bg-black border-l-4 border-yellow-500 dark:border-red-500 p-4 my-4" data-v-778a260d><div class="font-medium text-yellow-800 dark:text-white" data-v-778a260d>Important:</div><p class="text-yellow-700 dark:text-white mt-1" data-v-778a260d>These are example values only. Always use your actual chronographed velocities and manufacturer BC values for accurate calculations.</p></div><div class="bg-blue-50 dark:bg-black border-l-4 border-blue-500 dark:border-red-500 p-4 my-4" data-v-778a260d><div class="font-medium text-blue-800 dark:text-white" data-v-778a260d>G7 Ballistic Coefficients:</div><p class="text-blue-700 dark:text-white mt-1" data-v-778a260d>This system uses G7 ballistic coefficients, which are more accurate for modern boat-tail bullets compared to the older G1 standard. G7 provides better trajectory predictions, especially for long-range shooting beyond 600 yards/meters.</p></div></div>',1))])):Ie("",!0),t.value==="calculator"?(G(),X("div",CU,[a("div",PU,[Me(Ee(Fl),{class:"w-6 h-6 text-blue-600 mr-3"}),n[6]||(n[6]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Using the Calculator",-1))]),n[7]||(n[7]=Xt('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Basic Operation</h3><p data-v-778a260d>The ballistics calculator provides comprehensive trajectory data for your rifle and ammunition combination.</p><h4 data-v-778a260d>Input Parameters</h4><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold mb-2 dark:text-white" data-v-778a260d>Target Distance</h5><ul class="text-sm space-y-1" data-v-778a260d><li class="dark:text-white" data-v-778a260d> Enter target distance in yards or meters</li><li class="dark:text-white" data-v-778a260d> Use the slider for quick adjustments</li><li class="dark:text-white" data-v-778a260d> Imperial: 25 to 1200 yards</li><li class="dark:text-white" data-v-778a260d> Metric: 23 to 1097 meters</li><li class="dark:text-white" data-v-778a260d> Supports decimal values (e.g., 387.5 yards / 354.2 meters)</li></ul></div><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold mb-2 dark:text-white" data-v-778a260d>Environmental Override</h5><ul class="text-sm space-y-1" data-v-778a260d><li class="dark:text-white" data-v-778a260d> Automatic weather data from GPS</li><li class="dark:text-white" data-v-778a260d> Manual override capability</li><li class="dark:text-white" data-v-778a260d> Real-time condition updates</li><li class="dark:text-white" data-v-778a260d> Historical weather tracking</li></ul></div></div><h4 data-v-778a260d>Reading Results</h4><p data-v-778a260d>The calculator provides comprehensive ballistic data:</p><div class="grid grid-cols-1 md:grid-cols-3 gap-4 my-6" data-v-778a260d><div class="bg-blue-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold text-blue-800 dark:text-white" data-v-778a260d>Trajectory Data</h5><ul class="text-sm text-blue-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Drop:</strong> Bullet drop in inches/cm (negative = below)</li><li data-v-778a260d><strong data-v-778a260d>Windage:</strong> Wind deflection (positive = right)</li><li data-v-778a260d><strong data-v-778a260d>Spin Drift:</strong> Gyroscopic drift in inches/cm</li></ul></div><div class="bg-green-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold text-green-800 dark:text-white" data-v-778a260d>Ballistic Performance</h5><ul class="text-sm text-green-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Velocity:</strong> Remaining velocity at target</li><li data-v-778a260d><strong data-v-778a260d>Energy:</strong> Remaining energy in ft-lbs/Joules</li><li data-v-778a260d><strong data-v-778a260d>Time of Flight:</strong> Bullet flight time</li></ul></div><div class="bg-purple-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h5 class="font-semibold text-purple-800 dark:text-white" data-v-778a260d>Scope Adjustments</h5><ul class="text-sm text-purple-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>MOA:</strong> Minutes of Angle adjustments</li><li data-v-778a260d><strong data-v-778a260d>MIL:</strong> Milliradian adjustments</li><li data-v-778a260d><strong data-v-778a260d>Clicks:</strong> Scope click values</li></ul></div></div><h4 data-v-778a260d>Advanced Features</h4><ul data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Trajectory Tables:</strong> Generate complete tables for multiple distances</li><li data-v-778a260d><strong data-v-778a260d>Environmental Corrections:</strong> Automatic air density and temperature adjustments</li><li data-v-778a260d><strong data-v-778a260d>Wind Rose:</strong> Full 360 wind direction support</li><li data-v-778a260d><strong data-v-778a260d>Incline Shooting:</strong> Uphill/downhill angle corrections</li></ul></div>',1))])):Ie("",!0),t.value==="environment"?(G(),X("div",LU,[a("div",NU,[Me(Ee(Cx),{class:"w-6 h-6 text-blue-600 mr-3"}),n[8]||(n[8]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Environmental Conditions",-1))]),n[9]||(n[9]=Xt('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Automatic Data Collection</h3><p data-v-778a260d>The app automatically retrieves current environmental conditions using your location and weather services:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-lg font-semibold mb-3 dark:text-white" data-v-778a260d>Auto-Retrieved Data</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Temperature:</strong> Current air temperature</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Barometric Pressure:</strong> Current pressure</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Humidity:</strong> Relative humidity percentage</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Wind Speed:</strong> Current wind velocity</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Wind Direction:</strong> Wind direction in degrees</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Altitude:</strong> Elevation from GPS</li></ul></div><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-lg font-semibold mb-3 dark:text-white" data-v-778a260d>Environmental Effects</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Temperature:</strong> Affects powder burn rate and air density</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Pressure:</strong> Higher pressure = denser air = more drag</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Humidity:</strong> Higher humidity = less dense air</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Altitude:</strong> Higher altitude = thinner air = less drag</li><li class="dark:text-white" data-v-778a260d><strong data-v-778a260d>Wind:</strong> Speed and direction for deflection</li></ul></div></div><h4 data-v-778a260d>Manual Override</h4><p data-v-778a260d>You can manually adjust any environmental parameter when needed:</p><div class="bg-blue-50 dark:bg-black border-l-4 border-blue-500 dark:border-red-500 p-4 my-4" data-v-778a260d><h5 class="font-medium text-blue-800 dark:text-white" data-v-778a260d>When to Use Manual Override</h5><ul class="text-blue-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Weather service data is outdated or inaccurate</li><li data-v-778a260d> Shooting in a different microclimate</li><li data-v-778a260d> Competition with specific environmental requirements</li><li data-v-778a260d> No internet connection for weather data</li></ul></div><h4 data-v-778a260d>Environmental Impact Examples</h4><div class="table-container" data-v-778a260d><div class="table-responsive" data-v-778a260d><table class="table-base" data-v-778a260d><thead class="table-header" data-v-778a260d><tr data-v-778a260d><th class="table-header-cell" data-v-778a260d>Factor</th><th class="table-header-cell" data-v-778a260d>Change</th><th class="table-header-cell" data-v-778a260d>Effect at 1000 yards / 914 meters</th></tr></thead><tbody class="table-body" data-v-778a260d><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>Temperature</td><td class="table-cell" data-v-778a260d>20F / 11C increase</td><td class="table-cell" data-v-778a260d>~1 MOA less drop</td></tr><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>Altitude</td><td class="table-cell" data-v-778a260d>3000ft / 914m increase</td><td class="table-cell" data-v-778a260d>~0.5 MOA less drop</td></tr><tr class="table-row" data-v-778a260d><td class="table-cell" data-v-778a260d>Wind</td><td class="table-cell" data-v-778a260d>10 mph / 16 kph crosswind</td><td class="table-cell" data-v-778a260d>~3-4 MOA deflection</td></tr></tbody></table></div></div></div>',1))])):Ie("",!0),t.value==="troubleshooting"?(G(),X("div",$U,[a("div",EU,[Me(Ee(Sx),{class:"w-6 h-6 text-blue-600 mr-3"}),n[10]||(n[10]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Troubleshooting",-1))]),n[11]||(n[11]=Xt('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Common Issues &amp; Solutions</h3><div class="space-y-6" data-v-778a260d><div class="bg-red-50 dark:bg-black border border-red-200 dark:border-red-500 p-4 rounded-lg" data-v-778a260d><h4 class="text-red-800 dark:text-white font-semibold" data-v-778a260d>Large Prediction Errors</h4><div class="text-red-700 dark:text-white mt-2" data-v-778a260d><p data-v-778a260d><strong data-v-778a260d>Symptoms:</strong> Calculated drop/windage significantly different from actual impacts</p><p data-v-778a260d><strong data-v-778a260d>Solutions:</strong></p><ul class="mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Verify muzzle velocity with chronograph</li><li data-v-778a260d> Check zero range accuracy</li><li data-v-778a260d> Confirm sight height measurement</li><li data-v-778a260d> Validate BC value with manufacturer data</li><li data-v-778a260d> Ensure environmental data is current</li></ul></div></div><div class="bg-yellow-50 dark:bg-black border border-yellow-200 dark:border-red-500 p-4 rounded-lg" data-v-778a260d><h4 class="text-yellow-800 dark:text-white font-semibold" data-v-778a260d>Location/GPS Issues</h4><div class="text-yellow-700 dark:text-white mt-2" data-v-778a260d><p data-v-778a260d><strong data-v-778a260d>Symptoms:</strong> Location not detected, altitude incorrect</p><p data-v-778a260d><strong data-v-778a260d>Solutions:</strong></p><ul class="mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Enable location permissions in browser/device settings</li><li data-v-778a260d> Check GPS signal strength (move outdoors if needed)</li><li data-v-778a260d> Use manual coordinate entry as backup</li><li data-v-778a260d> Refresh page to re-request location</li></ul></div></div><div class="bg-blue-50 dark:bg-black border border-blue-200 dark:border-red-500 p-4 rounded-lg" data-v-778a260d><h4 class="text-blue-800 dark:text-white font-semibold" data-v-778a260d>Weather Data Problems</h4><div class="text-blue-700 dark:text-white mt-2" data-v-778a260d><p data-v-778a260d><strong data-v-778a260d>Symptoms:</strong> Outdated weather, no data available</p><p data-v-778a260d><strong data-v-778a260d>Solutions:</strong></p><ul class="mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Check internet connection</li><li data-v-778a260d> Use manual environmental entry</li><li data-v-778a260d> Verify API key configuration (if self-hosted)</li><li data-v-778a260d> Check for weather service outages</li></ul></div></div><div class="bg-gray-50 dark:bg-black border border-gray-200 dark:border-red-500 p-4 rounded-lg" data-v-778a260d><h4 class="text-gray-800 dark:text-white font-semibold" data-v-778a260d>Performance Issues</h4><div class="text-gray-700 dark:text-white mt-2" data-v-778a260d><p data-v-778a260d><strong data-v-778a260d>Symptoms:</strong> Slow calculations, app freezing</p><p data-v-778a260d><strong data-v-778a260d>Solutions:</strong></p><ul class="mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Close other browser tabs/applications</li><li data-v-778a260d> Clear browser cache and cookies</li><li data-v-778a260d> Update to latest browser version</li><li data-v-778a260d> Check available device memory</li></ul></div></div></div><h4 data-v-778a260d>Getting Help</h4><p data-v-778a260d>If you continue to experience issues:</p><ul data-v-778a260d><li data-v-778a260d>Check the specific error message in the application</li><li data-v-778a260d>Try the basic troubleshooting steps above</li><li data-v-778a260d>Document the steps that led to the problem</li><li data-v-778a260d>Note your device type, browser, and operating system</li><li data-v-778a260d>Contact support through the application</li></ul></div>',1))])):Ie("",!0),t.value==="tips"?(G(),X("div",MU,[a("div",IU,[Me(Ee($x),{class:"w-6 h-6 text-blue-600 mr-3"}),n[12]||(n[12]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Tips & Best Practices",-1))]),n[13]||(n[13]=Xt('<div class="prose max-w-none" data-v-778a260d><h3 data-v-778a260d>Data Quality</h3><p data-v-778a260d>Accurate data is the foundation of precise ballistic calculations:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-green-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-green-800 dark:text-white font-semibold mb-3" data-v-778a260d>Essential Practices</h4><ul class="text-green-700 dark:text-white space-y-2" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Chronograph Your Loads:</strong> Use actual measured velocities, not book values</li><li data-v-778a260d><strong data-v-778a260d>Verify Your Zero:</strong> Confirm zero before important shoots</li><li data-v-778a260d><strong data-v-778a260d>Measure Precisely:</strong> Accurate sight height and distance measurement</li><li data-v-778a260d><strong data-v-778a260d>Use Quality BC Data:</strong> Manufacturer-verified ballistic coefficients</li></ul></div><div class="bg-blue-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="text-blue-800 dark:text-white font-semibold mb-3" data-v-778a260d>Environmental Awareness</h4><ul class="text-blue-700 dark:text-white space-y-2" data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Monitor Conditions:</strong> Track condition changes during shooting</li><li data-v-778a260d><strong data-v-778a260d>Use Real-time Data:</strong> Current weather conditions for best accuracy</li><li data-v-778a260d><strong data-v-778a260d>Account for Microclimates:</strong> Local conditions may vary</li><li data-v-778a260d><strong data-v-778a260d>Document Everything:</strong> Record conditions with each shooting session</li></ul></div></div><h4 data-v-778a260d>Shooting Techniques</h4><div class="bg-yellow-50 dark:bg-black border-l-4 border-yellow-500 dark:border-red-500 p-4 my-4" data-v-778a260d><h5 class="font-medium text-yellow-800 dark:text-white" data-v-778a260d>Wind Reading</h5><p class="text-yellow-700 dark:text-white mt-1" data-v-778a260d>Wind is the most variable factor in long-range shooting. Practice reading wind conditions and use visual indicators like flags, grass movement, and mirage.</p></div><h4 data-v-778a260d>Validation Process</h4><ol data-v-778a260d><li data-v-778a260d><strong data-v-778a260d>Start Close:</strong> Verify predictions at shorter distances first</li><li data-v-778a260d><strong data-v-778a260d>Extend Gradually:</strong> Move to longer distances as confidence builds</li><li data-v-778a260d><strong data-v-778a260d>Record Results:</strong> Document actual vs. predicted results</li><li data-v-778a260d><strong data-v-778a260d>Adjust as Needed:</strong> Fine-tune input parameters based on results</li><li data-v-778a260d><strong data-v-778a260d>Practice Regularly:</strong> Regular validation maintains confidence</li></ol><h4 data-v-778a260d>Competition Preparation</h4><div class="bg-purple-50 dark:bg-black p-4 rounded-lg my-4" data-v-778a260d><h5 class="font-medium text-purple-800 dark:text-white" data-v-778a260d>Pre-Competition Checklist</h5><ul class="text-purple-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Verify zero at competition zero distance</li><li data-v-778a260d> Chronograph loads with competition ammunition</li><li data-v-778a260d> Generate dope charts for expected conditions</li><li data-v-778a260d> Practice with similar environmental conditions</li><li data-v-778a260d> Have backup manual calculations ready</li></ul></div></div>',1))])):Ie("",!0),t.value==="safety"?(G(),X("div",TU,[a("div",DU,[Me(Ee(Ox),{class:"w-6 h-6 text-blue-600 mr-3"}),n[14]||(n[14]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Safety & Legal",-1))]),n[15]||(n[15]=Xt('<div class="prose max-w-none" data-v-778a260d><div class="bg-red-50 dark:bg-black border-l-4 border-red-500 dark:border-red-500 p-6 mb-6" data-v-778a260d><h3 class="text-red-800 dark:text-white font-bold text-xl mb-4" data-v-778a260d> CRITICAL SAFETY REMINDER</h3><p class="text-red-700 dark:text-white text-lg" data-v-778a260d><strong data-v-778a260d>This tool provides calculations based on theoretical models and your input data. Always verify predictions with actual shooting before relying on them for critical applications.</strong></p></div><h3 data-v-778a260d>Fundamental Safety Rules</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6" data-v-778a260d><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="font-semibold mb-3 dark:text-white" data-v-778a260d>Range Safety</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d> Always follow safe shooting practices</li><li class="dark:text-white" data-v-778a260d> Verify backstop and range safety</li><li class="dark:text-white" data-v-778a260d> Use proper eye and ear protection</li><li class="dark:text-white" data-v-778a260d> Confirm target identification</li><li class="dark:text-white" data-v-778a260d> Follow range commands immediately</li></ul></div><div class="bg-gray-50 dark:bg-black p-4 rounded-lg" data-v-778a260d><h4 class="font-semibold mb-3 dark:text-white" data-v-778a260d>Legal Compliance</h4><ul class="space-y-2" data-v-778a260d><li class="dark:text-white" data-v-778a260d> Follow all local laws and regulations</li><li class="dark:text-white" data-v-778a260d> Obtain proper licenses and permits</li><li class="dark:text-white" data-v-778a260d> Respect private property rights</li><li class="dark:text-white" data-v-778a260d> Comply with hunting regulations</li><li class="dark:text-white" data-v-778a260d> Follow competition rules</li></ul></div></div><h4 data-v-778a260d>Calculation Verification</h4><p data-v-778a260d>Before using calculated data for important applications:</p><ul data-v-778a260d><li data-v-778a260d>Verify predictions with known-distance shooting</li><li data-v-778a260d>Start with shorter distances and work outward</li><li data-v-778a260d>Use multiple data sources to cross-check results</li><li data-v-778a260d>Account for equipment limitations and tolerances</li><li data-v-778a260d>Consider shooter skill and consistency factors</li></ul><h4 data-v-778a260d>Environmental Hazards</h4><div class="bg-yellow-50 dark:bg-black border-l-4 border-yellow-500 dark:border-red-500 p-4 my-4" data-v-778a260d><h5 class="font-medium text-yellow-800 dark:text-white" data-v-778a260d>Weather Considerations</h5><ul class="text-yellow-700 dark:text-white mt-2 space-y-1" data-v-778a260d><li data-v-778a260d> Extreme weather can affect equipment and ammunition</li><li data-v-778a260d> Temperature extremes may change powder performance</li><li data-v-778a260d> High humidity can affect powder and ballistics</li><li data-v-778a260d> Wind changes can significantly impact trajectories</li></ul></div><h4 data-v-778a260d>Equipment Limitations</h4><p data-v-778a260d>Remember that this tool cannot account for:</p><ul data-v-778a260d><li data-v-778a260d>Equipment wear and mechanical issues</li><li data-v-778a260d>Ammunition lot-to-lot variations</li><li data-v-778a260d>Shooter technique and consistency</li><li data-v-778a260d>Scope tracking accuracy</li><li data-v-778a260d>Rifle bedding and stock issues</li></ul><div class="bg-blue-50 dark:bg-black border-l-4 border-blue-500 dark:border-red-500 p-4 my-6" data-v-778a260d><h4 class="font-medium text-blue-800 dark:text-white" data-v-778a260d>Professional Use</h4><p class="text-blue-700 dark:text-white mt-1" data-v-778a260d>For military, law enforcement, or other professional applications, always validate calculations through official channels and follow departmental protocols.</p></div></div>',1))])):Ie("",!0)])]))}}),PB=$s(RU,[["__scopeId","data-v-778a260d"]]),OU={class:"min-h-screen flex items-center justify-center bg-gray-50"},FU={class:"text-center"},jU={class:"mb-8"},UU={class:"space-y-4"},BU={class:"text-sm text-gray-500"},LB=Tt({__name:"NotFoundView",setup(e){return(t,r)=>(G(),X("div",OU,[a("div",FU,[a("div",jU,[Me(Ee(fi),{class:"w-24 h-24 text-amber-500 mx-auto mb-4"}),r[0]||(r[0]=a("h1",{class:"text-6xl font-bold text-gray-900 mb-2"},"404",-1)),r[1]||(r[1]=a("h2",{class:"text-2xl font-semibold text-gray-700 mb-4"},"Page Not Found",-1)),r[2]||(r[2]=a("p",{class:"text-gray-600 max-w-md mx-auto"}," The page you're looking for doesn't exist or has been moved. ",-1))]),a("div",UU,[Me(Ee(qs),{to:"/",class:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors"},{default:Pr(()=>[Me(Ee(Lx),{class:"w-5 h-5 mr-2"}),r[3]||(r[3]=We(" Go Home ",-1))]),_:1}),a("div",BU,[Me(Ee(qs),{to:"/calculator",class:"text-blue-600 hover:text-blue-800"},{default:Pr(()=>[...r[4]||(r[4]=[We("Calculator",-1)])]),_:1}),r[7]||(r[7]=a("span",{class:"mx-2"},"",-1)),Me(Ee(qs),{to:"/rifles",class:"text-blue-600 hover:text-blue-800"},{default:Pr(()=>[...r[5]||(r[5]=[We("Rifles",-1)])]),_:1}),r[8]||(r[8]=a("span",{class:"mx-2"},"",-1)),Me(Ee(qs),{to:"/help",class:"text-blue-600 hover:text-blue-800"},{default:Pr(()=>[...r[6]||(r[6]=[We("Help",-1)])]),_:1})])])])]))}}),qU={class:"min-h-screen bg-gray-100 dark:bg-gray-900 py-8"},zU={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},HU={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6"},VU={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},WU={class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4"},GU={class:"font-medium text-gray-900 dark:text-white mb-2"},KU={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},YU={class:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700"},JU={class:"flex flex-wrap gap-1"},ZU={class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4"},XU={class:"font-medium text-gray-900 dark:text-white mb-2"},QU={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},eB={class:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700"},tB={class:"flex flex-wrap gap-1"},rB={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6"},sB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},aB={class:"space-y-3"},nB=["max"],oB={class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700"},iB={class:"text-sm space-y-2"},lB={class:"mt-3 pt-3 border-t border-gray-300 dark:border-gray-600"},dB={class:"space-y-1"},cB=Tt({__name:"IDPAShotsPerTargetDemo",setup(e){const t={name:"Home Defense",scenario:"Low light home invasion response",targetCount:6,stringCount:2,limitedTargets:3,unlimitedTargets:3},r={name:"Parking Lot",scenario:"Carjacking defense from behind cover",targetCount:4,stringCount:3,limitedTargets:2,unlimitedTargets:2},s=ye({targetCount:6,stringCount:2,limitedTargets:3});return Pe(()=>Math.max(0,s.value.targetCount-s.value.limitedTargets)),(n,o)=>(G(),X("div",qU,[a("div",zU,[o[27]||(o[27]=a("div",{class:"mb-8"},[a("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," IDPA Dynamic Shots Per Target Demo "),a("p",{class:"mt-2 text-gray-600 dark:text-gray-400"}," Demonstrates how limited vs unlimited targets work with different shot counts per target ")],-1)),a("div",HU,[o[15]||(o[15]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," Stage Configuration Examples ",-1)),a("div",VU,[a("div",WU,[a("h3",GU,D(t.name),1),a("div",KU,[a("div",null,[o[3]||(o[3]=a("strong",null,"Scenario:",-1)),We(" "+D(t.scenario),1)]),a("div",null,[o[4]||(o[4]=a("strong",null,"Total Targets:",-1)),We(" "+D(t.targetCount),1)]),a("div",null,[o[5]||(o[5]=a("strong",null,"String Count:",-1)),We(" "+D(t.stringCount)+" shots per target",1)]),a("div",null,[o[6]||(o[6]=a("strong",null,"Limited Targets:",-1)),We(" "+D(t.limitedTargets)+" (exactly "+D(t.stringCount)+" shots each)",1)]),a("div",null,[o[7]||(o[7]=a("strong",null,"Unlimited Targets:",-1)),We(" "+D(t.unlimitedTargets)+" ("+D(t.stringCount)+"+ shots each)",1)])]),a("div",YU,[o[8]||(o[8]=a("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Target Breakdown:",-1)),a("div",JU,[(G(!0),X(Ye,null,nt(t.targetCount,i=>(G(),X("span",{key:i,class:Qe(["px-2 py-1 text-xs rounded",i<=t.limitedTargets?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"])}," T"+D(i)+" ("+D(i<=t.limitedTargets?"Limited":"Unlimited")+") ",3))),128))])])]),a("div",ZU,[a("h3",XU,D(r.name),1),a("div",QU,[a("div",null,[o[9]||(o[9]=a("strong",null,"Scenario:",-1)),We(" "+D(r.scenario),1)]),a("div",null,[o[10]||(o[10]=a("strong",null,"Total Targets:",-1)),We(" "+D(r.targetCount),1)]),a("div",null,[o[11]||(o[11]=a("strong",null,"String Count:",-1)),We(" "+D(r.stringCount)+" shots per target",1)]),a("div",null,[o[12]||(o[12]=a("strong",null,"Limited Targets:",-1)),We(" "+D(r.limitedTargets)+" (exactly "+D(r.stringCount)+" shots each)",1)]),a("div",null,[o[13]||(o[13]=a("strong",null,"Unlimited Targets:",-1)),We(" "+D(r.unlimitedTargets)+" ("+D(r.stringCount)+"+ shots each)",1)])]),a("div",eB,[o[14]||(o[14]=a("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Target Breakdown:",-1)),a("div",tB,[(G(!0),X(Ye,null,nt(r.targetCount,i=>(G(),X("span",{key:i,class:Qe(["px-2 py-1 text-xs rounded",i<=r.limitedTargets?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"])}," T"+D(i)+" ("+D(i<=r.limitedTargets?"Limited":"Unlimited")+") ",3))),128))])])])])]),o[28]||(o[28]=Xt('<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4"> How Dynamic Shots Per Target Works </h2><div class="space-y-4 text-gray-600 dark:text-gray-400"><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center"><span class="text-xs font-medium text-red-800 dark:text-red-200">L</span></div><div><div class="font-medium text-gray-900 dark:text-white">Limited Targets</div><div class="text-sm">Show exactly <code>stringCount</code> shots. No &quot;Add Extra Shot&quot; option available. This enforces precision shooting within the required string count.</div></div></div><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"><span class="text-xs font-medium text-blue-800 dark:text-blue-200">U</span></div><div><div class="font-medium text-gray-900 dark:text-white">Unlimited Targets</div><div class="text-sm">Show <code>stringCount</code> shots initially + an &quot;Add Extra Shot&quot; button. Allows makeup shots if needed, but with time penalty.</div></div></div><div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200"> IDPA Strategy Note </h3><div class="mt-2 text-sm text-yellow-700 dark:text-yellow-300"> In real IDPA competition, limited targets encourage precision shooting (hit your shots the first time), while unlimited targets allow makeup shots but cost time. Choose your strategy wisely! </div></div></div></div></div></div>',1)),a("div",rB,[o[26]||(o[26]=a("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," Interactive Configuration ",-1)),a("div",sB,[a("div",null,[o[19]||(o[19]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Stage Configuration ",-1)),a("div",aB,[a("div",null,[o[16]||(o[16]=a("label",{class:"text-xs text-gray-500 dark:text-gray-400"},"Total Targets",-1)),De(a("input",{"onUpdate:modelValue":o[0]||(o[0]=i=>s.value.targetCount=i),type:"number",min:"1",max:"10",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[rt,s.value.targetCount,void 0,{number:!0}]])]),a("div",null,[o[17]||(o[17]=a("label",{class:"text-xs text-gray-500 dark:text-gray-400"},"Shots per Target (String Count)",-1)),De(a("input",{"onUpdate:modelValue":o[1]||(o[1]=i=>s.value.stringCount=i),type:"number",min:"1",max:"6",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[rt,s.value.stringCount,void 0,{number:!0}]])]),a("div",null,[o[18]||(o[18]=a("label",{class:"text-xs text-gray-500 dark:text-gray-400"},"Limited Targets",-1)),De(a("input",{"onUpdate:modelValue":o[2]||(o[2]=i=>s.value.limitedTargets=i),type:"number",min:"0",max:s.value.targetCount,class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,nB),[[rt,s.value.limitedTargets,void 0,{number:!0}]])])])]),a("div",null,[o[25]||(o[25]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Live Preview ",-1)),a("div",oB,[a("div",iB,[a("div",null,[o[20]||(o[20]=a("strong",null,"Total Targets:",-1)),We(" "+D(s.value.targetCount),1)]),a("div",null,[o[21]||(o[21]=a("strong",null,"String Count:",-1)),We(" "+D(s.value.stringCount)+" shots per target",1)]),a("div",null,[o[22]||(o[22]=a("strong",null,"Limited:",-1)),We(" Targets 1-"+D(s.value.limitedTargets)+" (exactly "+D(s.value.stringCount)+" shots)",1)]),a("div",null,[o[23]||(o[23]=a("strong",null,"Unlimited:",-1)),We(" Targets "+D(s.value.limitedTargets+1)+"-"+D(s.value.targetCount)+" ("+D(s.value.stringCount)+"+ shots)",1)])]),a("div",lB,[o[24]||(o[24]=a("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Shot Display Preview:",-1)),a("div",dB,[(G(!0),X(Ye,null,nt(s.value.targetCount,i=>(G(),X("div",{key:i,class:"text-xs"},[a("span",{class:Qe(i<=s.value.limitedTargets?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400")}," Target "+D(i)+": "+D(s.value.stringCount)+" shots "+D(i>s.value.limitedTargets?" + [Add Extra Shot]":""),3)]))),128))])])])])])])])]))}}),NB=Object.freeze(Object.defineProperty({__proto__:null,default:cB},Symbol.toStringTag,{value:"Module"}));export{mB as H,NB as I,wB as R,_B as S,kB as Z,bB as _,hB as a,vB as b,gB as c,yB as d,hl as e,SB as f,AB as g,CB as h,PB as i,LB as j,uB as k,fB as l,pB as m,xB as n,Wt as o,Nw as p,La as u};
